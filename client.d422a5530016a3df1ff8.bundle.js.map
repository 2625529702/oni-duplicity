{"version":3,"sources":["webpack:///./src/style/style.css","webpack:///./src/services/save-serializer/save-serializer.worker.ts","webpack:///./src/App/App.tsx","webpack:///./src/App/components/AppContainer.tsx","webpack:///./src/App/components/AppContent.tsx","webpack:///./src/App/components/NavBar/NavBar.tsx","webpack:///./src/App/components/NavBar/components/NavBarContainer.tsx","webpack:///./src/App/components/NavBar/components/NavBarGroup.tsx","webpack:///./src/App/components/NavBar/components/NavBarTitleText.ts","webpack:///./src/App/components/NavBar/events.ts","webpack:///./src/App/components/NavBar/index.ts","webpack:///./src/App/derived-state.ts","webpack:///./src/App/events.ts","webpack:///./src/App/index.ts","webpack:///./src/actions/behaviors/modify-currentobject-behavior-array.ts","webpack:///./src/actions/behaviors/set-accessory.ts","webpack:///./src/actions/behaviors/set-currentobject-behavior-value.ts","webpack:///./src/actions/behaviors/set-element-disease.ts","webpack:///./src/actions/behaviors/set-health-state.ts","webpack:///./src/actions/behaviors/set-identity-gender.ts","webpack:///./src/actions/behaviors/set-modifier-amount.ts","webpack:///./src/actions/behaviors/set-traits-trait.ts","webpack:///./src/actions/dismiss-error.ts","webpack:///./src/actions/game-object/set-scale.ts","webpack:///./src/actions/load-onisave.ts","webpack:///./src/actions/modify-onisave.ts","webpack:///./src/actions/onisave-parse-progress.ts","webpack:///./src/actions/receive-onisave.ts","webpack:///./src/actions/save-onisave.ts","webpack:///./src/actions/select-path.ts","webpack:///./src/actions/set-editmode.ts","webpack:///./src/components/Autocomplete.tsx","webpack:///./src/components/Box.ts","webpack:///./src/components/Button.ts","webpack:///./src/components/CheckInput.tsx","webpack:///./src/components/Code.ts","webpack:///./src/components/DataTable/DataTable.tsx","webpack:///./src/components/DataTable/index.ts","webpack:///./src/components/EditModeCondition/EditModeCondition.tsx","webpack:///./src/components/EditModeCondition/derived-state.ts","webpack:///./src/components/EditModeCondition/index.ts","webpack:///./src/components/EditableText/EditableText.tsx","webpack:///./src/components/EditableText/components/EditableTextInput.tsx","webpack:///./src/components/EditableText/index.ts","webpack:///./src/components/Flex.tsx","webpack:///./src/components/FormGroup/FormGroup.tsx","webpack:///./src/components/FormGroup/index.ts","webpack:///./src/components/InfoText.tsx","webpack:///./src/components/Input.tsx","webpack:///./src/components/NonIdealState.tsx","webpack:///./src/components/NullableInput.tsx","webpack:///./src/components/NumericInput.tsx","webpack:///./src/components/Panel.ts","webpack:///./src/components/Portrait/Portrait.ts","webpack:///./src/components/Portrait/PortraitFooter.ts","webpack:///./src/components/Portrait/PortraitHeader.ts","webpack:///./src/components/Portrait/index.ts","webpack:///./src/components/ResizePanel/ResizePanel.tsx","webpack:///./src/components/ResizePanel/components/ResizeHandle.tsx","webpack:///./src/components/ResizePanel/components/ResizeHandleVisual.tsx","webpack:///./src/components/ResizePanel/index.ts","webpack:///./src/components/SaveStructureLink/SaveStructureLink.tsx","webpack:///./src/components/SaveStructureLink/events.ts","webpack:///./src/components/SaveStructureLink/index.ts","webpack:///./src/components/Select.tsx","webpack:///./src/components/SelectInput.tsx","webpack:///./src/components/SelectedPathBreadcrumb/SelectedPathBreadcrumb.tsx","webpack:///./src/components/SelectedPathBreadcrumb/components/BreadcrumbContainer.ts","webpack:///./src/components/SelectedPathBreadcrumb/derived-state.ts","webpack:///./src/components/SelectedPathBreadcrumb/index.ts","webpack:///./src/components/Separator.tsx","webpack:///./src/components/Table/Table.ts","webpack:///./src/components/Table/index.ts","webpack:///./src/components/Text.tsx","webpack:///./src/components/TextAutocompleteInput.tsx","webpack:///./src/components/TextInput.tsx","webpack:///./src/components/Toolbar.ts","webpack:///./src/components/VerticalTabs/VerticalTabs.tsx","webpack:///./src/components/VerticalTabs/components/Tab.tsx","webpack:///./src/components/VerticalTabs/components/TabContent.tsx","webpack:///./src/components/VerticalTabs/components/VerticalTabItem.ts","webpack:///./src/components/VerticalTabs/index.ts","webpack:///./src/format.ts","webpack:///./src/index.tsx","webpack:///./src/keys.ts","webpack:///./src/math.ts","webpack:///./src/pages/Error/Error.tsx","webpack:///./src/pages/Error/index.ts","webpack:///./src/pages/Loading/Loading.tsx","webpack:///./src/pages/Loading/derived-state.ts","webpack:///./src/pages/Loading/index.ts","webpack:///./src/pages/NoSave/NoSave.tsx","webpack:///./src/pages/NoSave/index.ts","webpack:///./src/pages/SaveEditor/SaveEditor.tsx","webpack:///./src/pages/SaveEditor/components/ContentContainer.tsx","webpack:///./src/pages/SaveEditor/components/EditorContainer.ts","webpack:///./src/pages/SaveEditor/components/SaveEditorContainer.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/Sidebar.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/EditorModeSelector/EditorModeSelector.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/EditorModeSelector/events.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/EditorModeSelector/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/SaveStructureTree.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/SaveStructureItem.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemContainer.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemContent.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemHeader/SaveStructureItemHeader.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemHeader/components/Expander.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemHeader/components/ItemText.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemHeader/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/derived-state.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/events.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureTreeContainer.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SidebarContainer.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/index.ts","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/DefaultObjectEditor.tsx","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/components/Container.tsx","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/components/EditorField.tsx","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/events.ts","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/GameObjectGroupList/GameObjectGroupList.tsx","webpack:///./src/pages/SaveEditor/components/editors/GameObjectGroupList/derived-state.tsx","webpack:///./src/pages/SaveEditor/components/editors/GameObjectGroupList/index.ts","webpack:///./src/pages/SaveEditor/components/editors/GameObjectList/GameObjectList.tsx","webpack:///./src/pages/SaveEditor/components/editors/GameObjectList/components/GameObjectListContent.tsx","webpack:///./src/pages/SaveEditor/components/editors/GameObjectList/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/GameObjectList/index.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/SaveRootEditor.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/DuplicantsList.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantPortrait/DuplicantPortrait.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantPortrait/derived-state.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantPortrait/index.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantsListContainer.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantsListContent.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/index.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/SaveGameTitle.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/SaveRootEditorContainer.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/TemplateObjectEditor/TemplateObjectEditor.tsx","webpack:///./src/pages/SaveEditor/components/editors/TemplateObjectEditor/components/TemplateObjectEditorContainer.ts","webpack:///./src/pages/SaveEditor/components/editors/TemplateObjectEditor/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/TemplateObjectEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/components/EditorContainer.tsx","webpack:///./src/pages/SaveEditor/components/editors/components/EditorHeader.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/DefaultGameObjectEditor/DefaultGameObjectEditor.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/DefaultGameObjectEditor/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/DefaultGameObjectEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/MinionEditor.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAppearanceTab/MinionAppearanceTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAppearanceTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAppearanceTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAppearanceTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAptitudesTab/MinionAptitudesTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAptitudesTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAptitudesTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAptitudesTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEditableName.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEffectsTab/MinionEffectsTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEffectsTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEffectsTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEffectsTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionHealthTab/MinionHealthTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionHealthTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionHealthTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionHealthTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionJobsTab/MinionJobsTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionJobsTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionJobsTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionJobsTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionPositionTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionSkillsTab/MinionSkillsTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionSkillsTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionSkillsTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionSkillsTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionTraitsTab/MinionTraitsTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionTraitsTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionTraitsTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionTraitsTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/components/GameObjectHeader/GameObjectHeader.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/components/GameObjectHeader/components/GameObjectHeaderContainer.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/components/GameObjectHeader/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/components/GameObjectHeader/index.ts","webpack:///./src/pages/SaveEditor/components/editors/index.ts","webpack:///./src/pages/SaveEditor/components/fields/ArrayLikeField.tsx","webpack:///./src/pages/SaveEditor/components/fields/CheckField.tsx","webpack:///./src/pages/SaveEditor/components/fields/ColorField.tsx","webpack:///./src/pages/SaveEditor/components/fields/DictionaryField.tsx","webpack:///./src/pages/SaveEditor/components/fields/EditableTextField.tsx","webpack:///./src/pages/SaveEditor/components/fields/EnumerationField.tsx","webpack:///./src/pages/SaveEditor/components/fields/NumericField.tsx","webpack:///./src/pages/SaveEditor/components/fields/TextField.tsx","webpack:///./src/pages/SaveEditor/components/fields/Vector2Field.tsx","webpack:///./src/pages/SaveEditor/components/fields/Vector2IField.tsx","webpack:///./src/pages/SaveEditor/components/fields/Vector3Field.tsx","webpack:///./src/pages/SaveEditor/components/fields/connect-field/derived-state.tsx","webpack:///./src/pages/SaveEditor/components/fields/connect-field/events.ts","webpack:///./src/pages/SaveEditor/components/fields/connect-field/index.ts","webpack:///./src/pages/SaveEditor/components/fields/from-typeinfo.tsx","webpack:///./src/pages/SaveEditor/derived-state.ts","webpack:///./src/pages/SaveEditor/index.ts","webpack:///./src/reducer/behaviors/index.ts","webpack:///./src/reducer/behaviors/modify-currentobject-behavior-array.ts","webpack:///./src/reducer/behaviors/set-accessory.ts","webpack:///./src/reducer/behaviors/set-currentobject-behavior-value.ts","webpack:///./src/reducer/behaviors/set-element-disease.ts","webpack:///./src/reducer/behaviors/set-health-state.ts","webpack:///./src/reducer/behaviors/set-identity-gender.ts","webpack:///./src/reducer/behaviors/set-modifier-amount.ts","webpack:///./src/reducer/behaviors/set-traits-trait.ts","webpack:///./src/reducer/behaviors/utils.ts","webpack:///./src/reducer/dismiss-error.ts","webpack:///./src/reducer/game-object/index.ts","webpack:///./src/reducer/game-object/set-scale.ts","webpack:///./src/reducer/game-object/utils.ts","webpack:///./src/reducer/index.ts","webpack:///./src/reducer/modify-onisave.ts","webpack:///./src/reducer/onisave-parse-progress.ts","webpack:///./src/reducer/receive-onisave.ts","webpack:///./src/reducer/select-path.ts","webpack:///./src/reducer/set-editmode.ts","webpack:///./src/root.tsx","webpack:///./src/runtime-env.ts","webpack:///./src/saga/index.ts","webpack:///./src/saga/load-onisave.ts","webpack:///./src/saga/save-onisave.ts","webpack:///./src/selectors/behaviors/ai-traits.ts","webpack:///./src/selectors/behaviors/health.ts","webpack:///./src/selectors/behaviors/minion-identity.ts","webpack:///./src/selectors/behaviors/minion-modifiers.ts","webpack:///./src/selectors/behaviors/primary-element.ts","webpack:///./src/selectors/behaviors/utils.ts","webpack:///./src/selectors/edit-mode.ts","webpack:///./src/selectors/error.ts","webpack:///./src/selectors/game-object.ts","webpack:///./src/selectors/loading-message.ts","webpack:///./src/selectors/loading-state.ts","webpack:///./src/selectors/oni-save.ts","webpack:///./src/selectors/selected-path-breadcrumb.ts","webpack:///./src/selectors/selected-path.ts","webpack:///./src/selectors/selected-value.ts","webpack:///./src/services/save-serializer/index.ts","webpack:///./src/services/save-serializer/worker-instance.ts","webpack:///./src/services/save-serializer/worker-messages.ts","webpack:///./src/services/save-structure/index.ts","webpack:///./src/services/save-structure/structure/gameObjects/behaviors/default.ts","webpack:///./src/services/save-structure/structure/gameObjects/behaviors/index.ts","webpack:///./src/services/save-structure/structure/gameObjects/behaviors/primary-element.ts","webpack:///./src/services/save-structure/structure/gameObjects/behaviors/storage.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/default.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/index.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/minion.ts","webpack:///./src/services/save-structure/structure/gameObjects/index.ts","webpack:///./src/services/save-structure/structure/index.ts","webpack:///./src/services/save-structure/structure/matchers.ts","webpack:///./src/services/save-structure/structure/root.ts","webpack:///./src/services/save-structure/structure/utils.ts","webpack:///./src/services/save-structure/utils.ts","webpack:///./src/state/index.ts","webpack:///./src/store/devtool-sanitizer.ts","webpack:///./src/store/index.ts","webpack:///./src/store/store.ts","webpack:///./src/style/index.ts","webpack:///./src/style/intent.ts","webpack:///./src/style/style.css?c716","webpack:///./src/style/styled.ts","webpack:///./src/style/styles/border.ts","webpack:///./src/style/styles/index.ts","webpack:///./src/style/styles/intent-border.ts","webpack:///./src/style/styles/intent-color.ts","webpack:///./src/style/styles/intent-fill.ts","webpack:///./src/style/styles/intent.ts","webpack:///./src/style/styles/link.ts","webpack:///./src/style/styles/text.ts","webpack:///./src/style/theme/borders.ts","webpack:///./src/style/theme/colors.ts","webpack:///./src/style/theme/font-sizes.ts","webpack:///./src/style/theme/index.ts","webpack:///./src/style/theme/radii.ts","webpack:///./src/style/theme/space.ts","webpack:///./src/style/theme/theme.ts","webpack:///./src/utils.ts"],"names":[],"mappings":"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","file":"client.d422a5530016a3df1ff8.bundle.js","sourcesContent":["exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"* {\\r\\n  font-family: \\\"Titillium Web\\\", sans-serif;\\r\\n}\\r\\n\\r\\nhtml,\\r\\nbody,\\r\\n#root {\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  margin: 0;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"a7fdaf6ceb77087d4cdf.worker.js\");\n};","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NoSave from \"@/pages/NoSave\";\r\nimport ErrorPage from \"@/pages/Error\";\r\nimport Loading from \"@/pages/Loading\";\r\nimport SaveEditor from \"@/pages/SaveEditor\";\r\n\r\nimport AppContainer from \"./components/AppContainer\";\r\nimport AppContent from \"./components/AppContent\";\r\nimport NavBarContainer from \"./components/NavBar\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass App extends React.Component<Props> {\r\n  render() {\r\n    const { error, loadingState, onDismissError } = this.props;\r\n\r\n    let element: JSX.Element;\r\n\r\n    if (error) {\r\n      element = <ErrorPage error={error} onDismiss={onDismissError} />;\r\n    } else {\r\n      switch (loadingState) {\r\n        case \"idle\":\r\n          element = <NoSave />;\r\n          break;\r\n        case \"loading\":\r\n        case \"saving\":\r\n          element = <Loading />;\r\n          break;\r\n        case \"ready\":\r\n          element = <SaveEditor />;\r\n          break;\r\n        default:\r\n          element = <div>???</div>;\r\n          break;\r\n      }\r\n    }\r\n\r\n    return (\r\n      <AppContainer>\r\n        <NavBarContainer />\r\n        <AppContent>{element}</AppContent>\r\n      </AppContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(App);\r\n","import styled from \"@/style\";\r\n\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst AppContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n  background-color: ${props => getTheme(props).colors.bg.default};\r\n`;\r\nAppContainer.displayName = \"AppContainer\";\r\nexport default AppContainer;\r\n","import styled from \"@/style\";\r\n\r\nconst AppContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  flex: 1 1 auto;\r\n  overflow: auto;\r\n`;\r\nAppContainer.displayName = \"AppContainer\";\r\nexport default AppContainer;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Button from \"@/components/Button\";\r\n\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NavBarContainer from \"./components/NavBarContainer\";\r\n\r\nimport NavBarGroup from \"./components/NavBarGroup\";\r\nimport NavBarTitleText from \"./components/NavBarTitleText\";\r\n\r\ntype Props = DispatchProps;\r\nclass NavBar extends React.Component<Props> {\r\n  private _input: HTMLElement | null = null;\r\n\r\n  render() {\r\n    const { onLoadTestData } = this.props;\r\n    return (\r\n      <NavBarContainer>\r\n        <NavBarTitleText>Duplicity</NavBarTitleText>\r\n        <NavBarGroup>\r\n          <input\r\n            ref={el => (this._input = el)}\r\n            style={{ display: \"none\" }}\r\n            type=\"file\"\r\n            accept=\".sav\"\r\n            onChange={this._onLoadFileInput}\r\n          />\r\n          <Button onClick={this._onLoadFileClick}>Load</Button>\r\n          <Button onClick={onLoadTestData}>Test</Button>\r\n          <Button intent={Intent.Primary} onClick={this._onSaveFileClick}>\r\n            Save\r\n          </Button>\r\n        </NavBarGroup>\r\n      </NavBarContainer>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onLoadFileClick() {\r\n    if (!this._input) {\r\n      return;\r\n    }\r\n    this._input.click();\r\n  }\r\n\r\n  @autobind()\r\n  private _onLoadFileInput(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const files = e.target.files;\r\n    if (!files || files.length === 0) {\r\n      return;\r\n    }\r\n    const file = files[0];\r\n\r\n    const { onLoad } = this.props;\r\n    onLoad(file);\r\n  }\r\n\r\n  @autobind()\r\n  private _onSaveFileClick() {\r\n    const { onSave } = this.props;\r\n    const fileName = withExtension(\"my-file\", \".sav\");\r\n    onSave(fileName);\r\n  }\r\n}\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(NavBar);\r\n\r\nfunction withExtension(name: string, ext: string): string {\r\n  if (name.endsWith(ext)) return name;\r\n  return name + ext;\r\n}\r\n","import styled from \"@/style\";\r\n\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst NavBarContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: \"row\";\r\n  width: 100%;\r\n  padding-top: 5px;\r\n  padding-bottom: 5px;\r\n  box-sizing: border-box;\r\n  background-color: ${props => getTheme(props).colors.bg.navbar};\r\n`;\r\nNavBarContainer.displayName = \"NavBarContainer\";\r\nexport default NavBarContainer;\r\n","import styled from \"@/style\";\r\n\r\nconst NavBarGroup = styled.div`\r\n  margin-left: auto;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  align-self: center;\r\n`;\r\nNavBarGroup.displayName = \"NavBarGroup\";\r\nexport default NavBarGroup;\r\n","import styled from \"@/style\";\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst NavBarTitleText = styled.span`\r\n  font-size: 2em;\r\n  margin-left: 5px;\r\n  color: ${props => getTheme(props).colors.intent.primary};\r\n`;\r\nNavBarTitleText.displayName = \"NavBarTitleText\";\r\nexport default NavBarTitleText;\r\n","import testData from \"@/__mocks__/save-game.json\";\r\n\r\nimport { loadOniSave } from \"@/actions/load-onisave\";\r\nimport { saveOniSave } from \"@/actions/save-onisave\";\r\n\r\nimport { receiveOniSaveSuccess } from \"@/actions/receive-onisave\";\r\n\r\nconst mapDispatchToProps = {\r\n  onLoad: loadOniSave,\r\n  onLoadTestData: () => receiveOniSaveSuccess(testData as any),\r\n  onSave: saveOniSave\r\n};\r\nexport default mapDispatchToProps;\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\n","import NavBarContainer from \"./NavBar\";\r\nexport default NavBarContainer;\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport error from \"@/selectors/error\";\r\nimport loadingState from \"@/selectors/loading-state\";\r\n\r\nconst stateSelectors = {\r\n  loadingState,\r\n  error\r\n};\r\nexport type StateProps = StructuredStateProps<typeof stateSelectors>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  stateSelectors\r\n);\r\nexport default mapStateToProps;\r\n","import { dismissError } from \"@/actions/dismiss-error\";\r\n\r\nconst mapDispatchToProps = {\r\n  onDismissError: dismissError\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import App from \"./App\";\r\nexport default App;\r\n","import { Action } from \"redux\";\r\nimport { GameObjectBehavior, BehaviorName } from \"oni-save-parser\";\r\n\r\nexport const ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM =\r\n  \"oni-save/current-object/behaviors/modify-array/insert-item\";\r\nexport function insertCurrentObjectBehaviorArrayValue<\r\n  T extends GameObjectBehavior\r\n>(behaviorName: BehaviorName<T>, path: string[], value: any, index?: number) {\r\n  return {\r\n    type: ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM as typeof ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM,\r\n    payload: { behaviorName, path, value, index }\r\n  };\r\n}\r\nexport type InsertCurrentObjectBehaviorArrayValueAction = ReturnType<\r\n  typeof insertCurrentObjectBehaviorArrayValue\r\n>;\r\n\r\nexport const ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM =\r\n  \"oni-save/current-object/behaviors/modify-array/remove-item\";\r\nexport function removeCurrentObjectBehaviorArrayValue<\r\n  T extends GameObjectBehavior\r\n>(behaviorName: BehaviorName<T>, path: string[], value: any) {\r\n  return {\r\n    type: ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM as typeof ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM,\r\n    payload: { behaviorName, path, value }\r\n  };\r\n}\r\nexport type RemoveCurrentObjectBehaviorArrayValueAction<\r\n  T extends GameObjectBehavior = GameObjectBehavior\r\n> = ReturnType<typeof removeCurrentObjectBehaviorArrayValue>;\r\n\r\nexport const ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX =\r\n  \"oni-save/current-object/behaviors/modify-array/remove-index\";\r\nexport function removeCurrentObjectBehaviorArrayIndex<\r\n  T extends GameObjectBehavior\r\n>(behaviorName: BehaviorName<T>, path: string[], index: number) {\r\n  return {\r\n    type: ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX as typeof ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX,\r\n    payload: { behaviorName, path, index }\r\n  };\r\n}\r\nexport type RemoveCurrentObjectBehaviorArrayValueIndex<\r\n  T extends GameObjectBehavior = GameObjectBehavior\r\n> = ReturnType<typeof removeCurrentObjectBehaviorArrayIndex>;\r\n\r\nexport type CurrentObjectBehaviorArrayAction =\r\n  | InsertCurrentObjectBehaviorArrayValueAction\r\n  | RemoveCurrentObjectBehaviorArrayValueAction\r\n  | RemoveCurrentObjectBehaviorArrayValueIndex;\r\n\r\nexport function isCurrentObjectBehaviorArrayAction(\r\n  action: Action\r\n): action is CurrentObjectBehaviorArrayAction {\r\n  switch (action.type) {\r\n    case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM:\r\n    case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM:\r\n    case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX:\r\n      return true;\r\n    default:\r\n      return false;\r\n  }\r\n}\r\n","import { AccessoryType } from \"oni-save-parser\";\r\n\r\nexport const ACTION_SET_ACCESSORY = \"behaviors/accessorizer/set-accessory\";\r\nexport const setAccessory = (\r\n  accessoryType: AccessoryType,\r\n  accessoryName: string | null\r\n) => ({\r\n  type: ACTION_SET_ACCESSORY as typeof ACTION_SET_ACCESSORY,\r\n  payload: { accessoryType, accessoryName }\r\n});\r\nexport type SetAccessoryAction = ReturnType<typeof setAccessory>;\r\n","import { GameObjectBehavior, BehaviorName } from \"oni-save-parser\";\r\n\r\nexport const ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE =\r\n  \"oni-save/current-object/behaviors/set-value\";\r\nexport function setCurrentObjectBehaviorValue<T extends GameObjectBehavior>(\r\n  behaviorName: BehaviorName<T>,\r\n  path: string[],\r\n  value: any\r\n) {\r\n  return {\r\n    type: ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE as typeof ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE,\r\n    payload: { behaviorName, path, value }\r\n  };\r\n}\r\nexport type SetCurrentObjectBehaviorValueAction<\r\n  T extends GameObjectBehavior = GameObjectBehavior\r\n> = {\r\n  type: typeof ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE;\r\n  payload: {\r\n    behaviorName: BehaviorName<T>;\r\n    path: string[];\r\n    value: any;\r\n  };\r\n};\r\n","import { HashedString } from \"oni-save-parser\";\r\n\r\nexport const ACTION_PRIMARY_ELEMENT_SET_DISEASE =\r\n  \"oni-save/behaviors/primary-element/set-disease\";\r\nexport const setPrimaryElementDisease = (\r\n  diseaseId: HashedString,\r\n  diseaseCount: number\r\n) => ({\r\n  type: ACTION_PRIMARY_ELEMENT_SET_DISEASE as typeof ACTION_PRIMARY_ELEMENT_SET_DISEASE,\r\n  payload: { diseaseId, diseaseCount }\r\n});\r\nexport type SetPrimaryElementDiseaseAction = ReturnType<\r\n  typeof setPrimaryElementDisease\r\n>;\r\n","import { HealthState } from \"oni-save-parser\";\r\n\r\nexport const ACTION_HEALTH_SET_STATE = \"oni-save/behaviors/health/set-state\";\r\nexport const setHealthStatus = (state: HealthState) => ({\r\n  type: ACTION_HEALTH_SET_STATE as typeof ACTION_HEALTH_SET_STATE,\r\n  payload: state\r\n});\r\nexport type SetHealthStateAction = ReturnType<typeof setHealthStatus>;\r\n","import { MinionGender } from \"oni-save-parser\";\r\n\r\nexport const ACTION_MINION_IDENTITY_SET_GENDER =\r\n  \"oni-save/behaviors/minion-identity/set-gender\";\r\nexport const setIdentityGender = (gender: MinionGender) => ({\r\n  type: ACTION_MINION_IDENTITY_SET_GENDER as typeof ACTION_MINION_IDENTITY_SET_GENDER,\r\n  payload: gender\r\n});\r\nexport type SetMinionIdentityGenderAction = ReturnType<\r\n  typeof setIdentityGender\r\n>;\r\n","export const ACTION_MINION_MODIFIER_SET_VALUE =\r\n  \"oni-save/behaviors/minion-modifier/set-value\";\r\nexport const setModifierValue = (amountType: string, value: number) => ({\r\n  type: ACTION_MINION_MODIFIER_SET_VALUE as typeof ACTION_MINION_MODIFIER_SET_VALUE,\r\n  payload: { amountType, value }\r\n});\r\nexport type SetMinionModifierValueAction = ReturnType<typeof setModifierValue>;\r\n","export const ACTION_TRAITS_SET = \"oni-save/behaviors/ai-traits/set-trait\";\r\nexport const setTrait = (traitId: string, isSet: boolean) => ({\r\n  type: ACTION_TRAITS_SET as typeof ACTION_TRAITS_SET,\r\n  payload: { traitId, isSet }\r\n});\r\nexport type SetTraitAction = ReturnType<typeof setTrait>;\r\n","export const ACTION_DISMISS_ERROR = \"dismiss-error\";\r\nexport const dismissError = () => ({\r\n  type: ACTION_DISMISS_ERROR as typeof ACTION_DISMISS_ERROR\r\n});\r\nexport type DismissErrorAction = ReturnType<typeof dismissError>;\r\n","import { Vector3 } from \"oni-save-parser\";\r\n\r\nexport const ACTION_GAME_OBJECT_SET_SCALE = \"game-object/set-scale\";\r\nexport const setGameObjectScale = (scale: Vector3) => ({\r\n  type: ACTION_GAME_OBJECT_SET_SCALE as typeof ACTION_GAME_OBJECT_SET_SCALE,\r\n  payload: scale\r\n});\r\nexport type SetGameObjectScaleAction = ReturnType<typeof setGameObjectScale>;\r\n","export const ACTION_ONISAVE_LOAD = \"oni-save/load\";\r\nexport const loadOniSave = (file: File) => ({\r\n  type: ACTION_ONISAVE_LOAD as typeof ACTION_ONISAVE_LOAD,\r\n  payload: file\r\n});\r\nexport type LoadOniSaveAction = ReturnType<typeof loadOniSave>;\r\n","export const ACTION_ONISAVE_MODIFY = \"oni-save/modify\";\r\nexport const modifyOniSave = (path: string[], value: any) => ({\r\n  type: ACTION_ONISAVE_MODIFY as typeof ACTION_ONISAVE_MODIFY,\r\n  payload: { path, value }\r\n});\r\nexport type ModifyOniSaveAction = ReturnType<typeof modifyOniSave>;\r\n","export const ACTION_ONISAVE_PARSE_PROGRESS = \"onisave/parse-progress\";\r\nexport const parseProgress = (message: string) => ({\r\n  type: ACTION_ONISAVE_PARSE_PROGRESS as typeof ACTION_ONISAVE_PARSE_PROGRESS,\r\n  payload: { message }\r\n});\r\nexport type ParseProgressAction = ReturnType<typeof parseProgress>;\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nexport const ACTION_RECEIVE_ONISAVE_BEGIN = \"oni-save/receive:begin\";\r\nexport const receiveOniSaveBegin = (\r\n  operation: \"loading\" | \"saving\",\r\n  clearExisting?: boolean\r\n) => ({\r\n  type: ACTION_RECEIVE_ONISAVE_BEGIN as typeof ACTION_RECEIVE_ONISAVE_BEGIN,\r\n  payload: { operation, clearExisting }\r\n});\r\nexport type ReceiveOniSaveBeginAction = ReturnType<typeof receiveOniSaveBegin>;\r\n\r\nexport const ACTION_RECEIVE_ONISAVE_ERROR = \"oni-save/receive:error\";\r\nexport const receiveOniSaveError = (error: Error) => ({\r\n  type: ACTION_RECEIVE_ONISAVE_ERROR as typeof ACTION_RECEIVE_ONISAVE_ERROR,\r\n  payload: error\r\n});\r\nexport type ReceiveOniSaveErrorAction = ReturnType<typeof receiveOniSaveError>;\r\n\r\nexport const ACTION_RECEIVE_ONISAVE_SUCCESS = \"oni-save/receive:success\";\r\nexport const receiveOniSaveSuccess = (oniSave: SaveGame) => ({\r\n  type: ACTION_RECEIVE_ONISAVE_SUCCESS as typeof ACTION_RECEIVE_ONISAVE_SUCCESS,\r\n  payload: oniSave\r\n});\r\nexport type ReceiveOniSaveSuccessAction = ReturnType<\r\n  typeof receiveOniSaveSuccess\r\n>;\r\n\r\nexport type ReceiveOniSaveAction =\r\n  | ReceiveOniSaveBeginAction\r\n  | ReceiveOniSaveErrorAction\r\n  | ReceiveOniSaveSuccessAction;\r\n","export const ACTION_ONISAVE_SAVE = \"oni-save/save\";\r\nexport const saveOniSave = (fileName: string) => ({\r\n  type: ACTION_ONISAVE_SAVE as typeof ACTION_ONISAVE_SAVE,\r\n  payload: fileName\r\n});\r\nexport type SaveOniSaveAction = ReturnType<typeof saveOniSave>;\r\n","export const ACTION_SELECT_PATH = \"editor/select-path\";\r\nexport const selectPath = (path: string[]) => ({\r\n  type: ACTION_SELECT_PATH as typeof ACTION_SELECT_PATH,\r\n  payload: path\r\n});\r\nexport type SelectPathAction = ReturnType<typeof selectPath>;\r\n","import { EditMode } from \"@/services/save-structure\";\r\n\r\nexport const ACTION_SET_EDITMODE = \"editor/set-editmode\";\r\nexport const setEditMode = (editMode: EditMode) => ({\r\n  type: ACTION_SET_EDITMODE as typeof ACTION_SET_EDITMODE,\r\n  payload: editMode\r\n});\r\nexport type SetEditModeAction = ReturnType<typeof setEditMode>;\r\n","import * as React from \"react\";\r\n\r\nimport ReactAutocomplete from \"react-autocomplete\";\r\n\r\nimport { Intent, getTheme, Space } from \"@/style\";\r\n\r\nimport Input, { InputProps } from \"@/components/Input\";\r\nimport Box from \"@/components/Box\";\r\nimport Text from \"@/components/Text\";\r\n\r\nexport type AutocompleteProps = Omit<ReactAutocomplete.Props, \"renderItem\"> & {\r\n  intent?: Intent;\r\n  renderItem?: ReactAutocomplete.Props[\"renderItem\"];\r\n  minLength?: number;\r\n  maxLength?: number;\r\n};\r\n\r\nconst AutocompleteItem = Text.withComponent(\"div\").extend`\r\n  width: 100%;\r\n  margin: 0 ${props => getTheme(props).space[Space.Small]}px;\r\n`;\r\n\r\nconst Autocomplete: React.SFC<AutocompleteProps> = props => (\r\n  <ReactAutocomplete\r\n    {...props}\r\n    renderInput={inputProps => <Input {...convertProps(inputProps)} />}\r\n    renderItem={(item, isHighlighted, style) => (\r\n      <AutocompleteItem\r\n        intent={isHighlighted ? Intent.Primary : Intent.Secondary}\r\n      >\r\n        {(props.renderItem || defaultRenderItem)(item, isHighlighted, style)}\r\n      </AutocompleteItem>\r\n    )}\r\n    renderMenu={props.renderMenu || renderMenu.bind(null, props)}\r\n  />\r\n);\r\nAutocomplete.displayName = \"Autocomplete\";\r\nexport default Autocomplete;\r\n\r\nfunction convertProps(\r\n  props: React.HTMLProps<HTMLInputElement>\r\n): Omit<InputProps, \"ref\"> {\r\n  const { ref, ...rest } = props;\r\n  return {\r\n    ...(rest as any),\r\n    innerRef: props.ref\r\n  };\r\n}\r\n\r\nfunction defaultRenderItem(\r\n  item: any,\r\n  isHighlighted: boolean,\r\n  style?: React.CSSProperties\r\n) {\r\n  style = style || {};\r\n  style.width = \"100%\";\r\n  return <div style={style}>{item}</div>;\r\n}\r\n\r\nconst AutocompleteMenu = Box.extend`\r\n  background: ${props => getTheme(props).colors.bg.panel};\r\n  border: ${props => {\r\n    const theme = getTheme(props);\r\n    return `${theme.borders[1]} ${\r\n      theme.colors.intent[props.intent || Intent.Secondary]\r\n    }`;\r\n  }};\r\n  border-top: none;\r\n`;\r\n\r\nfunction renderMenu(\r\n  props: AutocompleteProps,\r\n  items: any[],\r\n  value: string,\r\n  styles: React.CSSProperties\r\n): React.ReactNode {\r\n  // TODO: Portal.\r\n  const elements = items.map((x, i) => <div key={i}>{x}</div>);\r\n  return (\r\n    <AutocompleteMenu intent={props.intent} style={styles}>\r\n      {elements}\r\n    </AutocompleteMenu>\r\n  );\r\n}\r\n","import {\r\n  AlignSelfProps,\r\n  JustifySelfProps,\r\n  WidthProps,\r\n  HeightProps,\r\n  SpaceProps,\r\n  alignSelf,\r\n  justifySelf,\r\n  width,\r\n  height,\r\n  space\r\n} from \"styled-system\";\r\n\r\nimport styled, { BorderProps, IntentProps, border, intent } from \"@/style\";\r\n\r\nexport type BoxProps = AlignSelfProps &\r\n  JustifySelfProps &\r\n  WidthProps &\r\n  HeightProps &\r\n  SpaceProps &\r\n  BorderProps &\r\n  IntentProps;\r\n\r\nconst Box = styled<BoxProps, \"div\">(\"div\")`\r\n  ${alignSelf};\r\n  ${justifySelf};\r\n  ${width};\r\n  ${height};\r\n  ${space};\r\n  ${border};\r\n  ${intent};\r\n  box-sizing: border-box;\r\n`;\r\nBox.displayName = \"Box\";\r\nBox.defaultProps = {\r\n  intentIsBg: false\r\n};\r\nexport default Box;\r\n","import * as React from \"react\";\r\n\r\nimport styled, { Space, FontSize, Radius } from \"@/style\";\r\n\r\nimport { Intent, getTheme, intentFill } from \"@/style\";\r\n\r\nexport interface ButtonProps {\r\n  intent?: Intent;\r\n  onClick?(e: React.MouseEvent<HTMLDivElement>): void;\r\n}\r\n\r\nconst Button = styled<ButtonProps, \"button\">(\"button\")`\r\n  ${intentFill};\r\n  border: none;\r\n  border-radius: ${props => getTheme(props).radii[Radius.Button]}px;\r\n  margin: ${props => getTheme(props).space[Space.Small]}px;\r\n  font-size: ${props => getTheme(props).fontSizes[FontSize.Button]}px;\r\n`;\r\nButton.displayName = \"Button\";\r\nexport default Button;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Input from \"@/components/Input\";\r\n\r\nexport interface CheckInputProps {\r\n  value: boolean;\r\n  onCommit(value: boolean): void;\r\n}\r\n\r\ntype Props = CheckInputProps;\r\nexport default class CheckInput extends React.Component<Props> {\r\n  render() {\r\n    const { value } = this.props;\r\n    return (\r\n      <Input type=\"checkbox\" checked={value} onChange={this._onValueChange} />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const { onCommit } = this.props;\r\n    const value = e.target.checked;\r\n    onCommit(value);\r\n  }\r\n}\r\n","import styled, {\r\n  BorderProps,\r\n  IntentBorderProps,\r\n  border,\r\n  intentBorder,\r\n  Intent,\r\n  Radius\r\n} from \"@/style\";\r\n\r\nexport interface CodeStyleProps extends BorderProps, IntentBorderProps {}\r\n\r\nconst Code = styled<CodeStyleProps, \"code\">(\"code\")`\r\n  ${intentBorder};\r\n  ${border};\r\n\r\n  margin: 0 4px;\r\n  padding: 1px 2px;\r\n  box-sizing: border-box;\r\n  font-family: monospace;\r\n`;\r\nCode.displayName = \"Code\";\r\n\r\nCode.defaultProps = {\r\n  intent: Intent.Hint,\r\n  borderRadius: Radius.Small\r\n};\r\n\r\nexport default Code;\r\n","import ReactTable, { TableProps, Column, RowRenderProps } from \"react-table\";\r\nimport { WidthProps, HeightProps, width, height } from \"styled-system\";\r\n\r\nimport styled, { Color, Intent, intent, getThemeColor } from \"@/style\";\r\n\r\nimport { inputStyle } from \"@/components/Input\";\r\n\r\n// TODO Use https://reactabular.js.org/#/.\r\n\r\nimport \"react-table/react-table.css\";\r\n\r\nexport interface DataTableStyleProps extends WidthProps, HeightProps {}\r\n\r\nconst DataTable = styled<Partial<TableProps> & DataTableStyleProps>(ReactTable)`\r\n  &.ReactTable {\r\n    ${width};\r\n    ${height};\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  &.ReactTable .rt-thead.-filters input,\r\n  &.ReactTable .rt-thead.-filters select {\r\n    border-radius: 0;\r\n    ${inputStyle};\r\n  }\r\n\r\n  &.ReactTable .rt-thead {\r\n    ${intent.of(Intent.Secondary)};\r\n    background-color: ${Color.PanelBackground};\r\n    font-weight: bold;\r\n  }\r\n\r\n  &.ReactTable .rt-thead .rt-th.-sort-asc,\r\n  &.ReactTable .rt-thead .rt-th.-sort-desc {\r\n    ${intent.of(Intent.Primary)};\r\n  }\r\n\r\n  &.ReactTable .rt-thead .rt-th.-sort-asc {\r\n    box-shadow: none;\r\n    background: url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' fill='${props =>\r\n      encodeURIComponent(\r\n        getThemeColor(Color.fromIntent(Intent.Primary))(props)\r\n      )}'><polygon points='0,50 100,50 50,0'/></svg>\")\r\n      no-repeat;\r\n    background-size: 12px;\r\n    background-position: calc(100% - 20px) center;\r\n  }\r\n\r\n  &.ReactTable .rt-thead .rt-th.-sort-desc {\r\n    box-shadow: none;\r\n    background: url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' fill='${props =>\r\n      encodeURIComponent(\r\n        getThemeColor(Color.fromIntent(Intent.Primary))(props)\r\n      )}'><polygon points='0,0 100,0 50,50'/></svg>\")\r\n      no-repeat;\r\n    background-size: 12px;\r\n    background-position: calc(100% - 20px) center;\r\n  }\r\n\r\n  &.ReactTable .rt-td {\r\n    ${intent.of(Intent.Default)};\r\n  }\r\n`;\r\n\r\nDataTable.displayName = \"DataTable\";\r\nDataTable.defaultProps = {};\r\n\r\nexport type DataTableProps = TableProps & DataTableStyleProps;\r\nexport type DataTableColumn = Column;\r\nexport type DataTableRow<T = any> = Omit<RowRenderProps, \"value\"> & {\r\n  value: T;\r\n};\r\n\r\nexport default DataTable;\r\n","import DataTable from \"./DataTable\";\r\nexport default DataTable;\r\nexport * from \"./DataTable\";\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { EditMode } from \"@/services/save-structure\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nexport interface EditModeConditionProps {\r\n  editMode?: EditMode;\r\n}\r\ntype Props = EditModeConditionProps & StateProps;\r\nclass EditModeCondition extends React.Component<Props> {\r\n  render() {\r\n    const { currentEditMode, editMode, children } = this.props;\r\n    if (currentEditMode !== editMode) {\r\n      return null;\r\n    }\r\n\r\n    return children;\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(EditModeCondition);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport editMode from \"@/selectors/edit-mode\";\r\n\r\nconst structuredSelector = {\r\n  currentEditMode: editMode\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import EditModeCondition from \"./EditModeCondition\";\r\nexport default EditModeCondition;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Keys from \"@/keys\";\r\n\r\nimport Text, { TextProps } from \"../Text\";\r\n\r\nimport EditableTextInput from \"./components/EditableTextInput\";\r\n\r\nexport interface EditableTextProps extends TextProps {\r\n  className?: string;\r\n  value: string;\r\n  minLength?: number;\r\n  maxLength?: number;\r\n  onCommit(value: string): void;\r\n}\r\ntype Props = EditableTextProps;\r\ninterface State {\r\n  editValue: string | null;\r\n}\r\nexport default class EditableText extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      editValue: null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { className, value, intent } = this.props;\r\n    const { editValue } = this.state;\r\n\r\n    if (editValue !== null) {\r\n      return (\r\n        <EditableTextInput\r\n          className={className}\r\n          autoFocus\r\n          intent={intent}\r\n          value={editValue}\r\n          onChange={this._onEditableChange}\r\n          onKeyUp={this._onEditableKeyUp}\r\n          onFocus={this._onEditableFocus}\r\n          onBlur={this._onEditableBlur}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <Text className={className} intent={intent} onClick={this._onTextClick}>\r\n          {value}\r\n        </Text>\r\n      );\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onTextClick() {\r\n    const { value } = this.props;\r\n    this.setState({\r\n      editValue: value\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _onEditableChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    this.setState({\r\n      editValue: e.target.value\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _onEditableKeyUp(e: React.KeyboardEvent) {\r\n    switch (e.key) {\r\n      case Keys.Enter:\r\n        this._commit();\r\n        break;\r\n      case Keys.Esc:\r\n        this._reset();\r\n        break;\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onEditableFocus(e: React.FocusEvent<HTMLInputElement>) {\r\n    e.target.select();\r\n  }\r\n\r\n  @autobind()\r\n  private _onEditableBlur() {\r\n    this._commit();\r\n  }\r\n\r\n  private _commit() {\r\n    const { editValue } = this.state;\r\n    const { onCommit } = this.props;\r\n\r\n    if (!editValue) {\r\n      return;\r\n    }\r\n\r\n    onCommit(editValue);\r\n\r\n    this._reset();\r\n  }\r\n\r\n  private _reset() {\r\n    this.setState({\r\n      editValue: null\r\n    });\r\n  }\r\n}\r\n","import styled from \"@/style\";\r\n\r\nimport { TextProps, text } from \"@/style\";\r\n\r\nexport type EditableTextProps = TextProps;\r\nconst EditableTextInput = styled<EditableTextProps, \"input\">(\"input\")`\r\n  ${text};\r\n  font-size: inherit;\r\n  background: none;\r\n  border: none;\r\n`;\r\nEditableTextInput.displayName = \"EditableTextInput\";\r\nexport default EditableTextInput;\r\n","import EditableText from \"./EditableText\";\r\nexport default EditableText;\r\n","import { attachProps } from \"@/utils\";\r\n\r\nimport Box, { BoxProps } from \"@/components/Box\";\r\n\r\nimport {\r\n  AlignContentProps,\r\n  JustifyContentProps,\r\n  alignContent,\r\n  justifyContent\r\n} from \"styled-system\";\r\n\r\nexport interface FlexItemProps extends BoxProps {\r\n  grow?: boolean;\r\n  shrink?: boolean;\r\n  fillParent?: boolean;\r\n  constrain?: \"row\" | \"column\";\r\n}\r\n\r\nconst FlexItem = Box.extend<FlexItemProps>`\r\n  ${props => props.grow && \"flex-grow: 1\"};\r\n  ${props => props.shrink && \"flex-shrink: 1\"};\r\n  ${props =>\r\n    props.fillParent &&\r\n    (props.constrain ? \"flex: 0 1 auto\" : \"flex: 1 1 auto\")};\r\n  ${props =>\r\n    props.constrain &&\r\n    (props.constrain === \"row\"\r\n      ? [\"min-width: 0;\", \"width: 100%;\"]\r\n      : [\"min-height: 0;\", \"height: 100%;\"])};\r\n  ${props => props.shrink && \"min-height: 0;\"};\r\n  flex-basis: auto;\r\n  box-sizing: border-box;\r\n`;\r\nFlexItem.displayName = \"FlexItem\";\r\n\r\nexport interface FlexProps\r\n  extends BoxProps,\r\n    AlignContentProps,\r\n    JustifyContentProps {\r\n  direction: \"row\" | \"column\";\r\n}\r\n\r\nconst Flex = Box.extend<FlexProps>`\r\n  display: flex;\r\n  ${alignContent};\r\n  ${justifyContent};\r\n  flex-direction: ${props => props.direction};\r\n  align-items: stretch;\r\n`;\r\nFlex.displayName = \"Flex\";\r\n\r\nexport default attachProps(Flex, {\r\n  Item: FlexItem\r\n});\r\n","import * as React from \"react\";\r\nimport { FontSizeProps } from \"styled-system\";\r\n\r\nimport { Intent, Space } from \"@/style\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\nimport Box from \"@/components/Box\";\r\nimport Text from \"@/components/Text\";\r\n\r\nexport interface FormGroupProps extends FontSizeProps {\r\n  label: string;\r\n  inline?: boolean;\r\n  intent?: Intent;\r\n}\r\ntype Props = FormGroupProps;\r\nexport default class FormGroup extends React.Component<Props> {\r\n  render() {\r\n    const { label, intent, inline, fontSize } = this.props;\r\n\r\n    let children = this.props.children;\r\n\r\n    return (\r\n      <Flex direction={inline ? \"row\" : \"column\"} mb={Space.Small}>\r\n        <Text.Label\r\n          alignSelf=\"baseline\"\r\n          fontSize={fontSize}\r\n          mr={inline ? Space.Small : Space.None}\r\n          intent={intent}\r\n        >\r\n          {label}\r\n        </Text.Label>\r\n        <Box\r\n          width=\"100%\"\r\n          alignSelf=\"baseline\"\r\n          px={inline ? Space.None : Space.Medium}\r\n        >\r\n          {children}\r\n        </Box>\r\n      </Flex>\r\n    );\r\n  }\r\n}\r\n","import FormGroup from \"./FormGroup\";\r\nexport default FormGroup;\r\n","import * as React from \"react\";\r\n\r\nimport Text from \"./Text\";\r\nimport { Intent } from \"@/style\";\r\n\r\nexport interface InfoTextProps {\r\n  value: any;\r\n  pluralize?: boolean;\r\n}\r\n\r\nconst InfoText: React.SFC<InfoTextProps> = ({ value, children }) => (\r\n  <div>\r\n    <Text intent={Intent.Secondary}>{value}</Text> <Text>{children}</Text>\r\n  </div>\r\n);\r\nexport default InfoText;\r\n","import { WidthProps, width } from \"styled-system\";\r\n\r\nimport styled, { TextProps, getTheme, text, css } from \"@/style\";\r\n\r\n// Note: Should extend TextCssProps, but doing so causes some odd typing issues\r\n//  Props will somehow demand but refuse 'ref'\r\nexport interface InputStyleProps extends TextProps, WidthProps {}\r\n\r\nexport const inputStyle = css<InputStyleProps>`\r\n  ${text};\r\n  ${width};\r\n  padding: 2px;\r\n  background-color: ${props => getTheme(props).colors.bg.panel};\r\n  border: ${props => getTheme(props).borders[1]};\r\n  border-color: ${props => getTheme(props).colors.intent.secondary};\r\n  &:focus {\r\n    border-color: ${props => getTheme(props).colors.intent.primary};\r\n    outline: none;\r\n  }\r\n  &:invalid {\r\n    border-color: ${props => getTheme(props).colors.intent.dangerous};\r\n  }\r\n`;\r\n\r\nconst Input = styled<InputStyleProps, \"input\">(\"input\")`\r\n  ${inputStyle};\r\n`;\r\nInput.displayName = \"Input\";\r\n\r\nexport type InputProps = StyledComponentProps<typeof Input>;\r\nexport default Input;\r\n","import * as React from \"react\";\r\nimport { IntentProps, Border, Radius, Intent, Space } from \"@/style\";\r\n\r\nimport Box from \"@/components/Box\";\r\nimport Text from \"@/components/Text\";\r\n\r\nexport interface NonIdealStatProps extends IntentProps {\r\n  header?: React.ReactNode;\r\n}\r\n\r\nconst Header = Text.H4.extend`\r\n  margin-top: 0;\r\n  width: auto;\r\n`;\r\nHeader.displayName = \"Header\";\r\nconst NonIdealState: React.SFC<NonIdealStatProps> = ({\r\n  intent,\r\n  header,\r\n  children\r\n}) => (\r\n  <Box width=\"100%\" height=\"100%\">\r\n    <Box\r\n      width=\"75%\"\r\n      intent={intent}\r\n      border={Border.Thick}\r\n      borderRadius={Radius.Medium}\r\n      p={Space.Medium}\r\n      mx=\"auto\"\r\n      mt={Space.Large}\r\n    >\r\n      {header && (\r\n        <Header\r\n          intent={\r\n            intent === Intent.Default || intent === Intent.Hint\r\n              ? Intent.Primary\r\n              : intent\r\n          }\r\n        >\r\n          {header}\r\n        </Header>\r\n      )}\r\n      {children}\r\n    </Box>\r\n  </Box>\r\n);\r\nNonIdealState.displayName = \"NonIdealState\";\r\nexport default NonIdealState;\r\n","import * as React from \"react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\nimport CheckInput from \"@/components/CheckInput\";\r\n\r\nexport interface InputCompatibleProps<T = any> {\r\n  value: T;\r\n  onCommit(value: any): void;\r\n}\r\nexport interface NullableInputProps<T = any> {\r\n  className?: string;\r\n  renderInput(props: InputCompatibleProps<T>): React.ReactNode;\r\n  renderNull?: React.ReactNode | (() => React.ReactNode);\r\n  value: T | null;\r\n  defaultValue: T | (() => T);\r\n  onCommit(value: T | null): void;\r\n}\r\ntype Props = NullableInputProps;\r\ninterface State {\r\n  isNotNull: boolean;\r\n}\r\nexport default class NullableInput extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = {\r\n      isNotNull: this.props.value !== null\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(props: Props) {\r\n    let isNotNull = props.value !== null;\r\n    if (isNotNull !== this.state.isNotNull) {\r\n      this.setState({\r\n        isNotNull\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isNotNull } = this.state;\r\n    const { className, renderNull } = this.props;\r\n\r\n    let element: React.ReactNode | null = null;\r\n    if (isNotNull) {\r\n      const { renderInput, onCommit, defaultValue } = this.props;\r\n      const value = this.props.value || resolve(defaultValue);\r\n      element = renderInput({ value, onCommit });\r\n    } else if (renderNull) {\r\n      element = resolve(renderNull);\r\n    }\r\n\r\n    return (\r\n      <Flex className={className} direction=\"row\">\r\n        <CheckInput value={isNotNull} onCommit={this._onNotNullChecked} />\r\n        {element && (\r\n          <Flex.Item grow shrink>\r\n            {element}\r\n          </Flex.Item>\r\n        )}\r\n      </Flex>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onNotNullChecked(value: boolean) {\r\n    const { defaultValue, onCommit } = this.props;\r\n    this.setState({\r\n      isNotNull: value\r\n    });\r\n    if (value) {\r\n      onCommit(defaultValue);\r\n    } else {\r\n      onCommit(null);\r\n    }\r\n  }\r\n}\r\n\r\nfunction resolve<T>(value: T | (() => T)): T {\r\n  if (typeof value === \"function\") {\r\n    return value();\r\n  }\r\n  return value;\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Keys from \"@/keys\";\r\n\r\nimport { NumberPrecision, clamp, isFloatingPoint } from \"@/math\";\r\n\r\nimport Input from \"@/components/Input\";\r\n\r\nexport interface NumericInputProps {\r\n  value: number;\r\n  minValue?: number;\r\n  maxValue?: number;\r\n  precision?: NumberPrecision;\r\n  onCommit(value: number): void;\r\n}\r\n\r\ntype Props = NumericInputProps;\r\ninterface State {\r\n  editValue: number | null;\r\n  validationMessage: string | null;\r\n}\r\nexport default class NumericInput extends React.Component<Props, State> {\r\n  private _input = React.createRef<HTMLInputElement>();\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      editValue: null,\r\n      validationMessage: null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { value, minValue, maxValue, precision } = this.props;\r\n    const { editValue } = this.state;\r\n\r\n    const currentValue = editValue != null ? editValue : value;\r\n\r\n    const step = isFloatingPoint(precision || \"int32\") ? Math.pow(10, -16) : 1;\r\n\r\n    return (\r\n      <Input\r\n        innerRef={this._input}\r\n        type=\"number\"\r\n        min={minValue}\r\n        max={maxValue}\r\n        value={currentValue}\r\n        onChange={this._onValueChange}\r\n        onKeyPress={this._onInputKeyPress}\r\n        onBlur={this._onInputBlur}\r\n        step={step}\r\n      />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const { minValue, maxValue } = this.props;\r\n\r\n    const value = e.target.valueAsNumber;\r\n    let validationMessage: string | null = null;\r\n\r\n    if (maxValue != null && value >= maxValue) {\r\n      validationMessage = `Value must be less than ${maxValue}`;\r\n    } else if (minValue != null && value <= minValue) {\r\n      validationMessage = `Value must be greater than ${minValue}`;\r\n    }\r\n\r\n    e.target.setCustomValidity(validationMessage || \"\");\r\n\r\n    this.setState({\r\n      editValue: value,\r\n      validationMessage\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _onInputKeyPress(e: React.KeyboardEvent<HTMLInputElement>) {\r\n    if (e.key === Keys.Enter) {\r\n      this._commitEdit();\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onInputBlur() {\r\n    this._commitEdit();\r\n  }\r\n\r\n  private _commitEdit() {\r\n    const { editValue, validationMessage } = this.state;\r\n    const { precision = \"int32\", onCommit } = this.props;\r\n\r\n    // Reset validation\r\n    if (validationMessage && this._input.current) {\r\n      this._input.current.setCustomValidity(\"\");\r\n    }\r\n\r\n    this.setState({\r\n      editValue: null,\r\n      validationMessage: null\r\n    });\r\n\r\n    if (!editValue || validationMessage) {\r\n      return;\r\n    }\r\n\r\n    const newValue = clamp(precision, editValue);\r\n    if (isNaN(newValue)) {\r\n      return;\r\n    }\r\n\r\n    onCommit(newValue);\r\n  }\r\n}\r\n","import styled from \"@/style\";\r\nimport { WidthProps, HeightProps, width, height } from \"styled-system\";\r\nimport { getTheme } from \"@/style\";\r\n\r\nexport type BoxProps = WidthProps & HeightProps;\r\n\r\nconst Panel = styled<BoxProps, \"div\">(\"div\")`\r\n  ${width};\r\n  ${height};\r\n  background-color: ${props => getTheme(props).colors.bg.panel};\r\n`;\r\nPanel.displayName = \"Panel\";\r\nexport default Panel;\r\n","import styled, { Radius } from \"@/style\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { getTheme } from \"@/style\";\r\n\r\nimport Header from \"./PortraitHeader\";\r\nimport Footer from \"./PortraitFooter\";\r\n\r\nconst Portrait = styled.div`\r\n  border-radius: ${props => getTheme(props).radii[Radius.Small]}px;\r\n  background-color: ${props => getTheme(props).colors.bg.panel};\r\n  width: 150px;\r\n  height: 150px;\r\n  position: relative;\r\n  padding: 5px;\r\n  margin: 5px;\r\n  box-sizing: border-box;\r\n`;\r\nPortrait.displayName = \"Portrait\";\r\n\r\nexport default attachProps(Portrait, {\r\n  Header,\r\n  Footer\r\n});\r\n","import styled from \"@/style\";\r\n\r\nimport { TextProps, text } from \"@/style\";\r\n\r\nconst PortraitFooter = styled.div`\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  margin-top: 2px;\r\n  text-align: center;\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n`;\r\nPortraitFooter.displayName = \"PortraitFooter\";\r\nexport default PortraitFooter;\r\n","import styled from \"@/style\";\r\n\r\nimport { TextProps, text } from \"@/style\";\r\n\r\nexport interface PortraitHeaderProps extends TextProps {}\r\nconst PortraitHeader = styled<TextProps, \"h4\">(\"h4\")`\r\n  ${text};\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  margin-top: 0;\r\n  margin-bottom: 2px;\r\n  text-align: center;\r\n`;\r\nPortraitHeader.displayName = \"PortraitHeader\";\r\nexport default PortraitHeader;\r\n","import Portrait from \"./Portrait\";\r\nexport default Portrait;\r\n","import * as React from \"react\";\r\n\r\nimport { HeightProps, height } from \"styled-system\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport ResizeHandle from \"./components/ResizeHandle\";\r\nimport styled from \"@/style\";\r\n\r\nexport interface ResizePanelProps extends HeightProps {\r\n  className?: string;\r\n  defaultWidth?: number;\r\n}\r\ninterface State {\r\n  width: number;\r\n}\r\ntype Props = ResizePanelProps;\r\nclass ResizePanel extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      width: props.defaultWidth || 300\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { className, children } = this.props;\r\n    const { width } = this.state;\r\n    // TODO: too many wrapping divs.\r\n    //  Provide a way to apply flex to an existing item.\r\n    return (\r\n      <Flex className={className} direction=\"row\">\r\n        <Flex.Item style={{ width }}>{children}</Flex.Item>\r\n        <Flex.Item>\r\n          <ResizeHandle onResize={this._onResize} />\r\n        </Flex.Item>\r\n      </Flex>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onResize(delta: number) {\r\n    this.setState(s => ({\r\n      width: s.width + delta\r\n    }));\r\n  }\r\n}\r\n\r\nexport default styled(ResizePanel)`\r\n  ${height};\r\n`;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { DraggableCore, DraggableData } from \"react-draggable\";\r\n\r\nimport ResizeHandleVisual from \"./ResizeHandleVisual\";\r\n\r\nexport interface ResizeHandleProps {\r\n  onResize(delta: number): void;\r\n}\r\n\r\ntype Props = ResizeHandleProps;\r\ninterface State {\r\n  isResizing: boolean;\r\n}\r\nclass ResizeHandle extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isResizing: false\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <DraggableCore\r\n        onStart={this._onStart}\r\n        onStop={this._onStop}\r\n        onDrag={this._onDrag}\r\n      >\r\n        <ResizeHandleVisual isResizing={this.state.isResizing} />\r\n      </DraggableCore>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onDrag(e: MouseEvent, d: DraggableData) {\r\n    const { onResize } = this.props;\r\n    onResize(d.deltaX);\r\n  }\r\n\r\n  @autobind()\r\n  private _onStart() {\r\n    this.setState({\r\n      isResizing: true\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _onStop() {\r\n    this.setState({\r\n      isResizing: false\r\n    });\r\n  }\r\n}\r\nexport default ResizeHandle;\r\n","import styled, { Intent, intentFill, getThemeColor, Color } from \"@/style\";\r\n\r\nexport interface ResizeHandleVisualProps {\r\n  isResizing: boolean;\r\n}\r\nconst ResizeHandleVisual = styled<ResizeHandleVisualProps, \"div\">(\"div\")`\r\n  width: 4px;\r\n  height: 100%;\r\n  ${props =>\r\n    props.isResizing\r\n      ? intentFill.of(Intent.Primary)\r\n      : getThemeColor(Color.DefaultSeparator)};\r\n  flex: none;\r\n  cursor: ew-resize;\r\n\r\n  :hover {\r\n    ${intentFill.of(Intent.Primary)};\r\n  }\r\n`;\r\nexport default ResizeHandleVisual;\r\n","import ResizePanel from \"./ResizePanel\";\r\nexport default ResizePanel;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport styled from \"@/style\";\r\n\r\nimport { LinkProps, link } from \"@/style\";\r\n\r\nimport { SaveStructureLinkProps } from \"./props\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\ntype Props = SaveStructureLinkProps & DispatchProps;\r\nclass SaveStructureLink extends React.Component<Props> {\r\n  render() {\r\n    const { intent, children } = this.props;\r\n    return (\r\n      <Link intent={intent} onClick={this._onClick}>\r\n        {children}\r\n      </Link>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onClick() {\r\n    const { path, onClick } = this.props;\r\n    onClick(path);\r\n  }\r\n}\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(SaveStructureLink);\r\n\r\nconst Link = styled<LinkProps, \"span\">(\"span\")`\r\n  ${link};\r\n`;\r\n","import { selectPath } from \"@/actions/select-path\";\r\n\r\nconst mapDispatchToProps = {\r\n  onClick: selectPath\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","export * from \"./props\";\r\nimport SaveStructureLink from \"./SaveStructureLink\";\r\nexport default SaveStructureLink;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport styled from \"@/style\";\r\n\r\nimport { InputStyleProps, inputStyle } from \"@/components/Input\";\r\n\r\nconst SelectElement = styled<InputStyleProps, \"select\">(\"select\")`\r\n  ${inputStyle};\r\n`;\r\n\r\nexport interface Option<T extends string | number = string | number> {\r\n  label?: string;\r\n  value: T;\r\n}\r\nexport interface SelectProps<T extends string | number = string | number>\r\n  extends InputStyleProps {\r\n  options: Option<T>[];\r\n  value: T;\r\n  onChange(value: T): void;\r\n}\r\n\r\nexport default class Select extends React.Component<SelectProps> {\r\n  render() {\r\n    const { options, value, children, onChange, ...rest } = this.props;\r\n    return (\r\n      <SelectElement {...rest} value={value} onChange={this._onChange}>\r\n        {options.map(x => (\r\n          <option key={x.value} value={x.value}>\r\n            {x.label}\r\n          </option>\r\n        ))}\r\n      </SelectElement>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onChange(e: React.ChangeEvent<HTMLSelectElement>) {\r\n    const { onChange } = this.props;\r\n    const value = e.target.value;\r\n    onChange(value);\r\n  }\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport Select, { SelectProps, Option } from \"@/components/Select\";\r\n\r\nexport type SelectInputProps = Omit<\r\n  SelectProps,\r\n  \"value\" | \"options\" | \"onChange\"\r\n> & {\r\n  value: any;\r\n  options: Option<any>[];\r\n  onCommit(value: any): void;\r\n};\r\n\r\ntype Props = SelectInputProps;\r\nexport default class SelectInput extends React.Component<Props> {\r\n  static defaultProps = {\r\n    clearable: false\r\n  };\r\n\r\n  render() {\r\n    const { value, options, onCommit, ...props } = this.props;\r\n\r\n    return (\r\n      <Select {...props} value={value} options={options} onChange={onCommit} />\r\n    );\r\n  }\r\n}\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\n\r\nimport BreadcrumbContainer from \"./components/BreadcrumbContainer\";\r\n\r\ntype Props = StateProps;\r\nclass SelectedPathBreadcrumb extends React.Component<Props> {\r\n  render() {\r\n    const { breadcrumb } = this.props;\r\n    let links: React.ReactNode[] = [];\r\n    for (let i = 0; i < breadcrumb.length; i++) {\r\n      let isFinal = i + 1 === breadcrumb.length;\r\n      const x = breadcrumb[i];\r\n      const key = x.path.join(\".\");\r\n      links.push(\r\n        <SaveStructureLink\r\n          intent={isFinal ? Intent.Primary : Intent.Secondary}\r\n          key={key}\r\n          path={x.path}\r\n        >\r\n          {x.title}\r\n        </SaveStructureLink>\r\n      );\r\n      if (!isFinal) {\r\n        links.push(<Text key={`${key}:sep`}>{\" > \"}</Text>);\r\n      }\r\n    }\r\n    return <BreadcrumbContainer>{links}</BreadcrumbContainer>;\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(SelectedPathBreadcrumb);\r\n","import styled, { Space } from \"@/style\";\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst BreadcrumbContainer = styled.div`\r\n  margin-bottom: ${props => getTheme(props).space[Space.Small]}px;\r\n`;\r\nBreadcrumbContainer.displayName = \"BreadcrumbContainer\";\r\nexport default BreadcrumbContainer;\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport breadcrumb from \"@/selectors/selected-path-breadcrumb\";\r\n\r\nconst structuredSelector = {\r\n  breadcrumb\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import SelectedPathBreadcrumb from \"./SelectedPathBreadcrumb\";\r\nexport default SelectedPathBreadcrumb;\r\n","import styled from \"@/style\";\r\n\r\nimport { WidthProps, SpaceProps, width, space } from \"styled-system\";\r\n\r\nimport { Color, getThemeColor } from \"@/style\";\r\n\r\nexport interface SeparatorProps extends WidthProps, SpaceProps {\r\n  color?: Color;\r\n}\r\nconst Separator = styled<SeparatorProps, \"div\">(\"div\")`\r\n  border-bottom: 2px solid;\r\n  border-color: ${props =>\r\n    getThemeColor(props.color || Color.DefaultSeparator)(props)};\r\n  ${width};\r\n  ${space};\r\n  height: 2px;\r\n`;\r\nSeparator.displayName = \"Separator\";\r\nexport default Separator;\r\n","import styled, {\r\n  intent,\r\n  text,\r\n  Intent,\r\n  Border,\r\n  getThemeColor,\r\n  Color,\r\n  getThemeBorder,\r\n  intentColor\r\n} from \"@/style\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nconst Table = styled.table`\r\n  border: none;\r\n  border-spacing: 0;\r\n  border-collapse: collapse;\r\n`;\r\n\r\nexport default attachProps(Table, {\r\n  THead: styled.thead`\r\n    background-color: ${getThemeColor(Color.PanelBackground)};\r\n  `,\r\n  TH: styled.th`\r\n    ${intent.of(Intent.Secondary)};\r\n  `,\r\n  TBody: styled.tbody``,\r\n  TR: styled.tr`\r\n    ${text};\r\n  `,\r\n  TD: styled.td`\r\n    ${text};\r\n\r\n    padding: 2px;\r\n\r\n    position: relative;\r\n\r\n    tr:not(:first-child):not(:last-child) > & {\r\n      :before {\r\n        position: absolute;\r\n        content: \"\";\r\n        top: 0;\r\n        left: 0;\r\n        width: 4px;\r\n        height: 3px;\r\n        border-top: ${getThemeBorder(Border.Normal)};\r\n        border-color: ${getThemeColor(Color.fromIntent(Intent.Secondary))};\r\n      }\r\n\r\n      :first-child:before {\r\n        width: 7px;\r\n      }\r\n\r\n      :after {\r\n        position: absolute;\r\n        content: \"\";\r\n        top: 0;\r\n        right: 0;\r\n        width: 4px;\r\n        height: 3px;\r\n        border-top: ${getThemeBorder(Border.Normal)};\r\n        border-color: ${getThemeColor(Color.fromIntent(Intent.Secondary))};\r\n      }\r\n\r\n      :last-child:after {\r\n        width: 7px;\r\n      }\r\n    }\r\n  `\r\n});\r\n","import Table from \"./Table\";\r\nexport default Table;\r\n","import {\r\n  AlignSelfProps,\r\n  JustifySelfProps,\r\n  SpaceProps,\r\n  alignSelf,\r\n  justifySelf,\r\n  space\r\n} from \"styled-system\";\r\n\r\nimport styled from \"@/style\";\r\n\r\nimport { TextProps as TextStyleProps, text } from \"@/style\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nexport type TextProps = TextStyleProps &\r\n  AlignSelfProps &\r\n  JustifySelfProps &\r\n  SpaceProps;\r\nconst Text = styled<TextProps, \"span\">(\"span\")`\r\n  ${text};\r\n  ${alignSelf};\r\n  ${justifySelf};\r\n  ${space};\r\n`;\r\nText.displayName = \"Text\";\r\nexport default attachProps(Text, {\r\n  H4: Text.withComponent(\"h4\") as StyledWithComponentTag<\"h4\", TextProps>,\r\n  Label: Text.withComponent(\"label\") as StyledWithComponentTag<\r\n    \"label\",\r\n    TextProps\r\n  >,\r\n  Div: Text.withComponent(\"div\") as StyledWithComponentTag<\"div\", TextProps>\r\n});\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Autocomplete from \"@/components/Autocomplete\";\r\n\r\nexport interface TextAutocompleteInputProps {\r\n  value: string;\r\n  minLength?: number;\r\n  maxLength?: number;\r\n  items: string[];\r\n  onCommit(value: string): void;\r\n}\r\n\r\ntype Props = TextAutocompleteInputProps;\r\ninterface State {\r\n  editValue: string | null;\r\n  isValid: boolean;\r\n}\r\nexport default class TextAutocompleteInput extends React.Component<\r\n  Props,\r\n  State\r\n> {\r\n  private _inputRef = React.createRef<HTMLInputElement>();\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      editValue: null,\r\n      isValid: true\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { value, minLength, maxLength, items } = this.props;\r\n    const { editValue } = this.state;\r\n\r\n    const currentValue = editValue != null ? editValue : value;\r\n\r\n    return (\r\n      <Autocomplete\r\n        value={currentValue}\r\n        items={items}\r\n        minLength={minLength}\r\n        maxLength={maxLength}\r\n        getItemValue={x => x}\r\n        onChange={this._onValueChange}\r\n        onSelect={this._onValueSelect}\r\n        selectOnBlur\r\n      />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const value = e.target.value;\r\n    this._setEditValue(value);\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueSelect(value: string) {\r\n    this._setEditValue(value);\r\n    this._commitEdit();\r\n  }\r\n\r\n  // @autobind()\r\n  // private _onInputKeyPress(e: React.KeyboardEvent<HTMLInputElement>) {\r\n  //   if (e.key === Keys.Enter) {\r\n  //     this._commitEdit();\r\n  //   }\r\n  // }\r\n\r\n  private _setEditValue(value: string) {\r\n    const validation = this._validate(value);\r\n    const isValid = !validation;\r\n\r\n    if (this._inputRef.current) {\r\n      this._inputRef.current.setCustomValidity(validation || \"\");\r\n    }\r\n\r\n    this.setState({\r\n      editValue: value,\r\n      isValid\r\n    });\r\n  }\r\n\r\n  private _commitEdit() {\r\n    const { editValue, isValid } = this.state;\r\n    const { onCommit } = this.props;\r\n\r\n    this.setState({\r\n      editValue: null\r\n    });\r\n\r\n    if (!editValue || !isValid) {\r\n      return;\r\n    }\r\n\r\n    onCommit(editValue);\r\n  }\r\n\r\n  private _validate(value: string): string | null {\r\n    const { minLength, maxLength } = this.props;\r\n    if (minLength != null && (!value || value.length < minLength)) {\r\n      return `Value must be at least ${minLength} characters.`;\r\n    }\r\n\r\n    if (maxLength != null && value.length > maxLength) {\r\n      return `Value must be less than ${maxLength} characters.`;\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Keys from \"@/keys\";\r\n\r\nimport Input from \"@/components/Input\";\r\n\r\nexport interface TextInputProps {\r\n  value: string;\r\n  minLength?: number;\r\n  maxLength?: number;\r\n  onCommit(value: string): void;\r\n}\r\n\r\ntype Props = TextInputProps;\r\ninterface State {\r\n  editValue: string | null;\r\n  isValid: boolean;\r\n}\r\nexport default class TextInput extends React.Component<Props, State> {\r\n  private _inputRef = React.createRef<HTMLInputElement>();\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      editValue: null,\r\n      isValid: true\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { value, minLength, maxLength } = this.props;\r\n    const { editValue } = this.state;\r\n\r\n    const currentValue = editValue != null ? editValue : value;\r\n\r\n    return (\r\n      <Input\r\n        innerRef={this._inputRef}\r\n        type=\"text\"\r\n        minLength={minLength}\r\n        maxLength={maxLength}\r\n        value={currentValue}\r\n        onChange={this._onValueChange}\r\n        onKeyPress={this._onInputKeyPress}\r\n        onBlur={this._onInputBlur}\r\n      />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const value = e.target.value;\r\n    this._setEditValue(value);\r\n  }\r\n\r\n  @autobind()\r\n  private _onInputKeyPress(e: React.KeyboardEvent<HTMLInputElement>) {\r\n    if (e.key === Keys.Enter) {\r\n      this._commitEdit();\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onInputBlur() {\r\n    this._commitEdit();\r\n  }\r\n\r\n  private _setEditValue(value: string) {\r\n    const validation = this._validate(value);\r\n    const isValid = !validation;\r\n\r\n    if (this._inputRef.current) {\r\n      this._inputRef.current.setCustomValidity(validation || \"\");\r\n    }\r\n\r\n    this.setState({\r\n      editValue: value,\r\n      isValid\r\n    });\r\n  }\r\n\r\n  private _commitEdit() {\r\n    const { editValue, isValid } = this.state;\r\n    const { onCommit } = this.props;\r\n\r\n    this.setState({\r\n      editValue: null\r\n    });\r\n\r\n    if (!editValue || !isValid) {\r\n      return;\r\n    }\r\n\r\n    onCommit(editValue);\r\n  }\r\n\r\n  private _validate(value: string): string | null {\r\n    const { minLength, maxLength } = this.props;\r\n    if (minLength != null && (!value || value.length < minLength)) {\r\n      return `Value must be at least ${minLength} characters.`;\r\n    }\r\n\r\n    if (maxLength != null && value.length > maxLength) {\r\n      return `Value must be less than ${maxLength} characters.`;\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n","import * as CSS from \"csstype\";\r\n\r\nimport { BackgroundProps, background } from \"styled-system\";\r\n\r\nimport styled, { TextProps, css, text, getTheme, Space, Color } from \"@/style\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nexport interface ToolbarItemProps {\r\n  align?: \"left\" | \"center\" | \"right\";\r\n  alignContent?: CSS.AlignContentProperty;\r\n}\r\nconst toolbarItem = css<ToolbarItemProps>`\r\n  grid-area: ${props => props.align};\r\n  justify-self: ${props => props.align};\r\n  align-self: ${props => props.alignContent || \"baseline\"};\r\n`;\r\n\r\nexport type ToolbarLabelProps = ToolbarItemProps & TextProps;\r\nconst ToolbarLabel = styled<ToolbarLabelProps, \"label\">(\"label\")`\r\n  ${text};\r\n  ${toolbarItem};\r\n`;\r\nToolbarLabel.defaultProps = {\r\n  align: \"left\"\r\n};\r\nToolbarLabel.displayName = \"ToolbarLabel\";\r\n\r\nexport type ToolbarGroupProps = ToolbarItemProps;\r\nconst ToolbarGroup = styled<ToolbarGroupProps, \"div\">(\"div\")`\r\n  display: inline-block;\r\n  ${toolbarItem};\r\n`;\r\nToolbarGroup.defaultProps = {\r\n  align: \"right\"\r\n};\r\nToolbarGroup.displayName = \"ToolbarButtonGroup\";\r\n\r\nexport type ToolbarProps = BackgroundProps;\r\nconst Toolbar = styled<ToolbarProps, \"div\">(\"div\")`\r\n  width: 100%;\r\n  height: auto;\r\n  display: grid;\r\n  padding: 0px ${props => getTheme(props).space[Space.Small]}px;\r\n  box-sizing: border-box;\r\n  grid-template-columns: [left] 1fr [center] 1fr [right] 1fr;\r\n  ${background};\r\n`;\r\nToolbar.defaultProps = {\r\n  background: Color.PanelBackground\r\n};\r\nToolbar.displayName = \"Toolbar\";\r\n\r\nexport default attachProps(Toolbar, {\r\n  Label: ToolbarLabel,\r\n  Group: ToolbarGroup\r\n});\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { BoxProps } from \"@/components/Box\";\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport TabContent from \"./components/TabContent\";\r\nimport VerticalTabItem from \"./components/VerticalTabItem\";\r\n\r\nimport Tab, { TabProps } from \"./components/Tab\";\r\n\r\nexport interface VerticalTabsProps extends BoxProps {}\r\n\r\ntype Props = VerticalTabsProps;\r\ninterface State {\r\n  selectedKey: string | number | null;\r\n}\r\nclass VerticalTabs extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selectedKey: null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    let { children } = this.props;\r\n    let { selectedKey } = this.state;\r\n\r\n    const tabs = React.Children.map(\r\n      children,\r\n      x =>\r\n        React.isValidElement<TabProps>(x) && x.props.tabKey && x.props.header\r\n          ? x\r\n          : null\r\n    ).filter(x => x !== null) as React.ReactElement<TabProps>[];\r\n\r\n    if (selectedKey == null && tabs.length > 0) {\r\n      selectedKey = tabs[0].props.tabKey;\r\n    }\r\n\r\n    const tabItems = tabs.map((tab, i) => (\r\n      <VerticalTabItem\r\n        key={tab.props.tabKey}\r\n        isSelected={tab.props.tabKey === selectedKey}\r\n        onClick={this._onTabItemClick.bind(this, tab.props.tabKey)}\r\n      >\r\n        {tab.props.header}\r\n      </VerticalTabItem>\r\n    ));\r\n\r\n    const content = selectedKey\r\n      ? tabs.find(x => x.props.tabKey === selectedKey)\r\n      : undefined;\r\n\r\n    return (\r\n      <Flex {...this.props} direction=\"row\">\r\n        <Flex.Item shrink>{tabItems}</Flex.Item>\r\n        <TabContent>{content}</TabContent>\r\n      </Flex>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onTabItemClick(key: string | number) {\r\n    this.setState({\r\n      selectedKey: key\r\n    });\r\n  }\r\n}\r\n\r\nexport { TabProps } from \"./components/Tab\";\r\nexport default attachProps(VerticalTabs, {\r\n  Tab\r\n});\r\n","import * as React from \"react\";\r\n\r\nexport interface TabProps {\r\n  tabKey: string | number;\r\n  header: React.ReactChild;\r\n}\r\n\r\nconst Tab: React.SFC<TabProps> = ({ children }) => (\r\n  <React.Fragment>{children}</React.Fragment>\r\n);\r\nTab.displayName = \"Tab\";\r\nexport default Tab;\r\n","import * as React from \"react\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nconst TabContent: React.SFC = ({ children }) => (\r\n  <Flex.Item grow shrink pl={1}>\r\n    {children}\r\n  </Flex.Item>\r\n);\r\nTabContent.displayName = \"TabContent\";\r\nexport default TabContent;\r\n","import styled, { getTheme, intent, Intent, Space } from \"@/style\";\r\n\r\nexport interface TabProps {\r\n  isSelected?: boolean;\r\n}\r\n\r\nconst VerticalTabItem = styled<TabProps, \"div\">(\"div\")`\r\n  cursor: pointer;\r\n\r\n  padding: ${props => getTheme(props).space[Space.Small]}px;\r\n\r\n  ${props =>\r\n    props.isSelected\r\n      ? intent.of(Intent.Primary)\r\n      : intent.of(Intent.Secondary)} :not(:last-child) {\r\n    border-bottom: ${props => {\r\n      const theme = getTheme(props);\r\n      return `${theme.borders[1]} ${theme.colors.intent.secondary}`;\r\n    }};\r\n  }\r\n\r\n  ${props => {\r\n    const theme = getTheme(props);\r\n    return `border-right: ${theme.borders[1]} ${\r\n      props.isSelected ? \"transparent\" : theme.colors.intent.secondary\r\n    }`;\r\n  }};\r\n`;\r\nVerticalTabItem.displayName = \"VerticalTabItem\";\r\nexport default VerticalTabItem;\r\n","import VerticalTabs from \"./VerticalTabs\";\r\nexport default VerticalTabs;\r\n","import { Vector3, SimHashes, HashedString } from \"oni-save-parser\";\r\n\r\nconst POSITION_PRECISION = 4;\r\n\r\nexport function formatPositionValue(v: number): string {\r\n  return v.toPrecision(POSITION_PRECISION);\r\n}\r\n\r\nexport function formatPosition(p: Vector3) {\r\n  return `(${formatPositionValue(p.x)}, ${formatPositionValue(p.y)})`;\r\n}\r\n\r\nexport function formatSimHash(hash: SimHashes): string {\r\n  return SimHashes[hash];\r\n}\r\n\r\nexport function formatDisease(diseaseId: HashedString): string {\r\n  // TODO: Look up from oni-save-parser\r\n  return `Disease(${diseaseId.hash})`;\r\n}\r\n","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\n\r\nimport Modal from \"react-modal\";\r\n\r\nimport \"./style\";\r\n\r\nimport Root from \"./root\";\r\n\r\nconst rootEl = document.getElementById(\"root\");\r\nif (rootEl) {\r\n  Modal.setAppElement(rootEl);\r\n  ReactDOM.render(<Root />, rootEl);\r\n}\r\n","const Keys = {\r\n  Enter: \"Enter\",\r\n  Esc: \"Escape\"\r\n};\r\n\r\nexport default Keys;\r\n","interface ConstrainedArrayConstructor {\r\n  new (length: number): {\r\n    [value: number]: number;\r\n  };\r\n}\r\n\r\nfunction createClamp(\r\n  type: ConstrainedArrayConstructor\r\n): (value: number) => number {\r\n  const clampArray = new type(1);\r\n  return (value: number) => {\r\n    clampArray[0] = value;\r\n    return clampArray[0];\r\n  };\r\n}\r\n\r\nexport type NumberPrecision =\r\n  | \"int8\"\r\n  | \"uint8\"\r\n  | \"int16\"\r\n  | \"uint16\"\r\n  | \"int32\"\r\n  | \"uint32\"\r\n  | \"single\"\r\n  | \"double\";\r\n\r\nexport const clampInt8 = createClamp(Int8Array);\r\nexport const clampUInt8 = createClamp(Uint8Array);\r\n\r\nexport const clampInt16 = createClamp(Int16Array);\r\nexport const clampUInt16 = createClamp(Uint16Array);\r\n\r\nexport const clampInt32 = createClamp(Int32Array);\r\nexport const clampUInt32 = createClamp(Uint32Array);\r\n\r\nexport const clampSingle = createClamp(Float32Array);\r\nexport const clampDouble = createClamp(Float64Array);\r\n\r\nconst CLAMPS_BY_PRECISION: Record<\r\n  NumberPrecision,\r\n  (value: number) => number\r\n> = {\r\n  int8: clampInt8,\r\n  uint8: clampUInt8,\r\n  int16: clampInt16,\r\n  uint16: clampUInt16,\r\n  int32: clampInt32,\r\n  uint32: clampUInt32,\r\n  single: clampSingle,\r\n  double: clampDouble\r\n};\r\n\r\nexport function clamp(precision: NumberPrecision, value: number): number {\r\n  const clamper = CLAMPS_BY_PRECISION[precision];\r\n  if (!clamper) {\r\n    throw new Error(`Unknown precision \"${precision}\".`);\r\n  }\r\n\r\n  return clamper(value);\r\n}\r\n\r\nexport function isFloatingPoint(\r\n  precision: NumberPrecision\r\n): precision is \"single\" | \"double\" {\r\n  return precision === \"single\" || precision === \"double\";\r\n}\r\n\r\nexport function compare(a: number, b: number) {\r\n  if (a > b) return -1;\r\n  if (a < b) return 1;\r\n  return 0;\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\nimport Button from \"@/components/Button\";\r\nimport Text from \"@/components/Text\";\r\nimport { Intent } from \"@/style\";\r\n\r\nexport interface ErrorProps {\r\n  error: Error;\r\n  onDismiss(): void;\r\n}\r\n\r\nconst ErrorPage: React.SFC<ErrorProps> = ({ error, onDismiss }) => (\r\n  <Flex direction=\"column\" width=\"100%\" height=\"100%\">\r\n    <Flex.Item grow>\r\n      <Text intent={Intent.Dangerous}>\r\n        <h2>Error</h2>\r\n        <code>{error.stack || error.message || String(error)}</code>\r\n      </Text>\r\n    </Flex.Item>\r\n    <Flex.Item>\r\n      <Button intent={Intent.Primary} onClick={onDismiss}>\r\n        Close\r\n      </Button>\r\n    </Flex.Item>\r\n  </Flex>\r\n);\r\nErrorPage.displayName = \"Error\";\r\nexport default ErrorPage;\r\n","import ErrorPage from \"./Error\";\r\nexport default ErrorPage;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent, Space } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport Box from \"@/components/Box\";\r\n\r\ntype Props = StateProps;\r\nconst Loading: React.SFC<Props> = ({\r\n  loadingState,\r\n  loadingProgressMessageSelector\r\n}) => (\r\n  <Box p={Space.Large}>\r\n    <Text intent={Intent.Primary}>\r\n      {loadingState === \"loading\" ? \"Loading\" : \"Saving\"}\r\n    </Text>\r\n    <br />\r\n    <Text intent={Intent.Secondary}>{loadingProgressMessageSelector}</Text>\r\n  </Box>\r\n);\r\nLoading.displayName = \"Loading\";\r\nexport default connect(mapStateToProps)(Loading);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport loadingState from \"@/selectors/loading-state\";\r\nimport loadingProgressMessageSelector from \"@/selectors/loading-message\";\r\n\r\nconst structuredSelector = {\r\n  loadingState,\r\n  loadingProgressMessageSelector\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import Loading from \"./Loading\";\r\nexport default Loading;\r\n","import * as React from \"react\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport { OSType } from \"@/runtime-env\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport Text from \"@/components/Text\";\r\nimport Code from \"@/components/Code\";\r\n\r\nconst SaveFilePaths: Record<OSType, string | null> = {\r\n  windows: \"Documents/Klei/OxygenNotIncluded/save_files\",\r\n  mac: null,\r\n  linux: \"~/.config/unity3d/Klei/Oxygen Not Included/save_files\",\r\n  unknown: null\r\n};\r\n\r\nconst NoSave: React.SFC = () => (\r\n  <NonIdealState intent={Intent.Hint} header={\"No File Loaded\"}>\r\n    <Text intent={Intent.Hint}>\r\n      <div>Load a save using the controls on the upper left.</div>\r\n      {SaveFilePaths[OSType] && (\r\n        <div>\r\n          Save files can be found at\r\n          <Code>{SaveFilePaths[OSType]}</Code>\r\n        </div>\r\n      )}\r\n    </Text>\r\n  </NonIdealState>\r\n);\r\nNoSave.displayName = \"NoSave\";\r\nexport default NoSave;\r\n","import NoSave from \"./NoSave\";\r\nexport default NoSave;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport SelectedPathBreadcrumb from \"@/components/SelectedPathBreadcrumb\";\r\nimport ResizePanel from \"@/components/ResizePanel\";\r\n\r\nimport { getEditor } from \"./components/editors\";\r\n\r\nimport SaveEditorContainer from \"./components/SaveEditorContainer\";\r\nimport ContentContainer from \"./components/ContentContainer\";\r\nimport EditorContainer from \"./components/EditorContainer\";\r\n\r\nimport Sidebar from \"./components/Sidebar\";\r\nimport Separator from \"@/components/Separator\";\r\n\r\ntype Props = StateProps;\r\nclass SaveEditor extends React.Component<Props> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selectedPath: null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { editorType, editorProps } = this.props;\r\n\r\n    const ObjectEditor = getEditor(editorType);\r\n\r\n    return (\r\n      <SaveEditorContainer>\r\n        <ResizePanel>\r\n          <Sidebar />\r\n        </ResizePanel>\r\n        <ContentContainer>\r\n          <SelectedPathBreadcrumb />\r\n          <Separator width=\"100%\" />\r\n          <EditorContainer>\r\n            <ObjectEditor {...editorProps} />\r\n          </EditorContainer>\r\n        </ContentContainer>\r\n      </SaveEditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(SaveEditor);\r\n","import styled, { Space } from \"@/style\";\r\n\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst ContentContainer = styled.div`\r\n  box-sizing: border-box;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: auto;\r\n  flex: 1 1 auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nexport default ContentContainer;\r\n","import styled from \"@/style\";\r\n\r\nconst EditorContainer = styled.div`\r\n  flex: 1 1 auto;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: auto;\r\n`;\r\nEditorContainer.displayName = \"EditorContainer\";\r\nexport default EditorContainer;\r\n","import styled from \"@/style\";\r\n\r\nconst SaveEditorContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n`;\r\nexport default SaveEditorContainer;\r\n","import * as React from \"react\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport SidebarContainer from \"./components/SidebarContainer\";\r\n\r\nimport EditorModeSelector from \"./components/EditorModeSelector\";\r\nimport SaveStructureTree from \"./components/SaveStructureTree\";\r\n\r\nconst Sidebar: React.SFC = () => (\r\n  <SidebarContainer>\r\n    <Flex direction=\"column\" height=\"100%\">\r\n      <EditorModeSelector />\r\n      <Flex.Item fillParent constrain=\"column\">\r\n        <SaveStructureTree />\r\n      </Flex.Item>\r\n    </Flex>\r\n  </SidebarContainer>\r\n);\r\nSidebar.displayName = \"Sidebar\";\r\nexport default Sidebar;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport Input from \"@/components/Input\";\r\n\r\ntype Props = DispatchProps;\r\nclass EditorModeSelector extends React.Component<Props> {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Text.Label htmlFor=\"advanced_mode\" intent={Intent.Secondary}>\r\n          Advanced Mode\r\n        </Text.Label>\r\n        <Input\r\n          id=\"advanced_mode\"\r\n          type=\"checkbox\"\r\n          onChange={this._onAdvancedModeChange}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onAdvancedModeChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const { setEditMode } = this.props;\r\n    setEditMode(e.target.checked ? \"advanced\" : \"normal\");\r\n  }\r\n}\r\nexport default connect(\r\n  undefined,\r\n  mapDispatchToProps\r\n)(EditorModeSelector);\r\n","import { setEditMode } from \"@/actions/set-editmode\";\r\n\r\nconst mapDispatchToProps = {\r\n  setEditMode\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import EditorModeSelector from \"./EditorModeSelector\";\r\nexport default EditorModeSelector;\r\n","import * as React from \"react\";\r\n\r\nimport SaveStructureTreeContainer from \"./components/SaveStructureTreeContainer\";\r\nimport SaveStructureItem from \"./components/SaveStructureItem\";\r\n\r\ntype Props = {};\r\nexport default class SaveStructureTree extends React.Component<Props> {\r\n  private _containerRef = React.createRef<HTMLElement>();\r\n\r\n  render() {\r\n    return (\r\n      <SaveStructureTreeContainer innerRef={this._containerRef}>\r\n        <SaveStructureItem\r\n          saveItemPath={[]}\r\n          scrollContainer={this._containerRef}\r\n        />\r\n      </SaveStructureTreeContainer>\r\n    );\r\n  }\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport scrollIntoView from \"dom-scroll-into-view\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport { SaveStructureItemProps } from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport SaveStructureItemContainer from \"./components/SaveStructureItemContainer\";\r\nimport SaveStructureItemHeader from \"./components/SaveStructureItemHeader\";\r\nimport SaveStructureItemContent from \"./components/SaveStructureItemContent\";\r\n\r\ninterface State {\r\n  isExpanded: boolean;\r\n}\r\n\r\ntype Props = SaveStructureItemProps & StateProps & DispatchProps;\r\nclass SaveStructureItemComponent extends React.Component<Props, State> {\r\n  private _ref: React.RefObject<HTMLDivElement>;\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this._ref = React.createRef();\r\n\r\n    this.state = {\r\n      isExpanded: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.selectionStatus === \"selected\") {\r\n      this._scrollIntoView();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(oldProps: Props) {\r\n    if (\r\n      oldProps.selectionStatus !== \"selected\" &&\r\n      this.props.selectionStatus === \"selected\"\r\n    ) {\r\n      this._scrollIntoView();\r\n    }\r\n  }\r\n\r\n  render(): JSX.Element {\r\n    const { title, selectionStatus, childPaths, scrollContainer } = this.props;\r\n    let { isExpanded } = this.state;\r\n\r\n    const isExpandable = childPaths.length > 0;\r\n\r\n    let titleIntent: Intent;\r\n    switch (selectionStatus) {\r\n      default:\r\n        titleIntent = Intent.Default;\r\n        break;\r\n      case \"in-path\":\r\n        titleIntent = Intent.Secondary;\r\n        isExpanded = isExpandable;\r\n        break;\r\n      case \"selected\":\r\n        titleIntent = Intent.Primary;\r\n        break;\r\n    }\r\n\r\n    let valueElement: React.ReactNode | null = null;\r\n    if (isExpandable && isExpanded) {\r\n      valueElement = childPaths.map(childPath => {\r\n        const key = childPath[childPath.length - 1];\r\n        return (\r\n          <SaveStructureItem\r\n            key={key}\r\n            saveItemPath={childPath}\r\n            scrollContainer={scrollContainer}\r\n          />\r\n        );\r\n      });\r\n    }\r\n\r\n    return (\r\n      <SaveStructureItemContainer>\r\n        <SaveStructureItemHeader\r\n          innerRef={this._ref}\r\n          expandable={isExpandable}\r\n          expanded={isExpanded}\r\n          header={title}\r\n          intent={titleIntent}\r\n          onClick={this._onClick}\r\n          onExpandToggle={this._onExpandToggle}\r\n        />\r\n        <SaveStructureItemContent>{valueElement}</SaveStructureItemContent>\r\n      </SaveStructureItemContainer>\r\n    );\r\n  }\r\n\r\n  private _scrollIntoView() {\r\n    const htmlElement = this._ref.current;\r\n    const { childPaths, scrollContainer } = this.props;\r\n\r\n    if (childPaths.length > 0) {\r\n      this.setState({\r\n        isExpanded: true\r\n      });\r\n    }\r\n\r\n    if (htmlElement && scrollContainer.current) {\r\n      scrollIntoView(htmlElement, scrollContainer.current, {\r\n        allowHorizontalScroll: true,\r\n        onlyScrollIfNeeded: true,\r\n        offsetBottom: 125,\r\n        offsetTop: 125\r\n      });\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onClick() {\r\n    const { saveItemPath, onClick } = this.props;\r\n    this.setState({\r\n      isExpanded: true\r\n    });\r\n    onClick(saveItemPath);\r\n  }\r\n\r\n  @autobind()\r\n  private _onExpandToggle() {\r\n    this.setState({\r\n      isExpanded: !this.state.isExpanded\r\n    });\r\n  }\r\n}\r\nconst SaveStructureItem = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SaveStructureItemComponent);\r\nexport default SaveStructureItem;\r\n","import styled from \"@/style\";\r\n\r\nconst SaveStructureItemContainer = styled.div``;\r\nSaveStructureItemContainer.displayName = \"SaveStructureItemContainer\";\r\nexport default SaveStructureItemContainer;\r\n","import styled from \"@/style\";\r\n\r\nconst SaveStructureItemContent = styled.div`\r\n  padding-left: 15px;\r\n`;\r\nexport default SaveStructureItemContent;\r\n","import * as React from \"react\";\r\n\r\nimport styled from \"@/style\";\r\n\r\nimport Expander from \"./components/Expander\";\r\nimport ItemText from \"./components/ItemText\";\r\nimport { Intent } from \"@/style\";\r\n\r\nexport interface SaveStructureItemHeaderProps {\r\n  expandable: boolean;\r\n  expanded: boolean;\r\n  header: string;\r\n  intent: Intent;\r\n  innerRef?: React.RefObject<HTMLDivElement>;\r\n  onClick(): void;\r\n  onExpandToggle(): void;\r\n}\r\n\r\nconst SaveStructureItemHeaderContainer = styled.span`\r\n  white-space: nowrap;\r\n  cursor: pointer;\r\n`;\r\nSaveStructureItemHeaderContainer.displayName = \"SaveStructureItemContainer\";\r\n\r\nconst SaveStructureItemHeader: React.SFC<\r\n  SaveStructureItemHeaderProps & { className?: string }\r\n> = ({\r\n  className,\r\n  expandable,\r\n  expanded,\r\n  header,\r\n  intent,\r\n  onClick,\r\n  onExpandToggle,\r\n  innerRef\r\n}) => (\r\n  <SaveStructureItemHeaderContainer innerRef={innerRef} className={className}>\r\n    {expandable && (\r\n      <Expander\r\n        expanded={expanded}\r\n        onClick={expandable ? onExpandToggle : undefined}\r\n      />\r\n    )}\r\n    <ItemText intent={intent} onClick={onClick}>\r\n      {header}\r\n    </ItemText>\r\n  </SaveStructureItemHeaderContainer>\r\n);\r\nSaveStructureItemHeader.displayName = \"SaveStructureItemHeader\";\r\nexport default SaveStructureItemHeader;\r\n","import * as React from \"react\";\r\n\r\nconst ICON_SIZE = 10;\r\nconst ICON_EXPANDED = \"M 0 .25 L .5 .75 L 1 .25 z\";\r\nconst ICON_COLLAPSED = \"M .5 0 L 1 .5 L .5 1 z\";\r\n\r\nexport interface ExpanderProps {\r\n  expanded: boolean;\r\n  onClick?(): void;\r\n}\r\nconst Expander: React.SFC<ExpanderProps & { className?: string }> = ({\r\n  className,\r\n  expanded,\r\n  onClick\r\n}) => (\r\n  <svg\r\n    className={className}\r\n    width={ICON_SIZE}\r\n    height={ICON_SIZE}\r\n    viewBox={`0 0 1 1`}\r\n    onClick={onClick}\r\n  >\r\n    <path d={expanded ? ICON_EXPANDED : ICON_COLLAPSED} fill=\"black\" />\r\n  </svg>\r\n);\r\nexport default Expander;\r\n","import { getTheme, Space } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\n\r\nconst ItemText = Text.extend`\r\n  margin-left: ${props => getTheme(props).space[Space.Small]}px;\r\n`;\r\nexport default ItemText;\r\n","import SaveStructureItemHeader from \"./SaveStructureItemHeader\";\r\nexport default SaveStructureItemHeader;\r\n","import { SaveGame } from \"oni-save-parser\";\r\nimport createCachedSelector from \"re-reselect\";\r\n\r\nimport naturalCompare from \"string-natural-compare\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport {\r\n  EditMode,\r\n  getSaveItemTitle,\r\n  getSaveItemChildPaths\r\n} from \"@/services/save-structure\";\r\n\r\nimport oniSaveSelector from \"@/selectors/oni-save\";\r\nimport selectedPathSelector from \"@/selectors/selected-path\";\r\nimport editModeSelector from \"@/selectors/edit-mode\";\r\n\r\nimport { SaveStructureItemProps } from \"./props\";\r\n\r\nconst cacheKeyGenerator = (_: AppState, props: SaveStructureItemProps) =>\r\n  props.saveItemPath.join(\".\");\r\n\r\nconst itemPathSelector = (_: AppState, props: SaveStructureItemProps) =>\r\n  props.saveItemPath;\r\n\r\nconst title = createCachedSelector<\r\n  AppState,\r\n  SaveStructureItemProps,\r\n  string[],\r\n  SaveGame | null,\r\n  string\r\n>(\r\n  itemPathSelector,\r\n  oniSaveSelector,\r\n  (path, saveGame) =>\r\n    saveGame ? getSaveItemTitle(path, saveGame) : \"[undefined]\"\r\n)(cacheKeyGenerator);\r\n\r\nconst selectionStatus = createCachedSelector<\r\n  AppState,\r\n  SaveStructureItemProps,\r\n  string[],\r\n  string[],\r\n  \"unselected\" | \"in-path\" | \"selected\"\r\n>(itemPathSelector, selectedPathSelector, (itemPath, selectedPath) => {\r\n  const isSelected = itemPath.every((x, i) => selectedPath[i] == x);\r\n  if (!isSelected) {\r\n    return \"unselected\";\r\n  }\r\n\r\n  if (itemPath.length === selectedPath.length) {\r\n    return \"selected\";\r\n  }\r\n\r\n  return \"in-path\";\r\n})(cacheKeyGenerator);\r\n\r\nconst childPaths = createCachedSelector<\r\n  AppState,\r\n  SaveStructureItemProps,\r\n  string[],\r\n  SaveGame | null,\r\n  EditMode,\r\n  string[][]\r\n>(\r\n  itemPathSelector,\r\n  oniSaveSelector,\r\n  editModeSelector,\r\n  (path, saveGame, editMode) => {\r\n    if (saveGame == null) {\r\n      return [];\r\n    }\r\n\r\n    // Note: This is a pretty heavy operation.  We recurse the save\r\n    //  to find the child items, then scan every path for both\r\n    //  items during sort.\r\n    const childItems = getSaveItemChildPaths(path, saveGame, editMode);\r\n    return childItems.sort((a, b) => {\r\n      const aTitle = getSaveItemTitle(a, saveGame);\r\n      const bTitle = getSaveItemTitle(b, saveGame);\r\n      return naturalCompare(aTitle, bTitle);\r\n    });\r\n  }\r\n)(cacheKeyGenerator);\r\n\r\nconst mapStateToProps = function(\r\n  state: AppState,\r\n  props: SaveStructureItemProps\r\n) {\r\n  // Do not use createStructuredSelector here, as that itself\r\n  //  creates a selector that will go nuts over our multi instance props.\r\n  const stateProps = {\r\n    title: title(state, props),\r\n    selectionStatus: selectionStatus(state, props),\r\n    childPaths: childPaths(state, props)\r\n  };\r\n\r\n  return stateProps;\r\n};\r\nexport type StateProps = ReturnType<typeof mapStateToProps>;\r\nexport default mapStateToProps;\r\n","import { selectPath } from \"@/actions/select-path\";\r\n\r\nconst mapDispatchToProps = {\r\n  onClick: selectPath\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import SaveStructureItem from \"./SaveStructureItem\";\r\nexport default SaveStructureItem;\r\nexport * from \"./props\";\r\n","import styled from \"@/style\";\r\n\r\nconst SaveStructureTreeContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: auto;\r\n`;\r\nexport default SaveStructureTreeContainer;\r\n","import SaveStructureTree from \"./SaveStructureTree\";\r\nexport default SaveStructureTree;\r\n","import Panel from \"@/components/Panel\";\r\n\r\nconst SidebarContainer = Panel.extend`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n`;\r\nSidebarContainer.displayName = \"SidebarContainer\";\r\nexport default SidebarContainer;\r\n","import Sidebar from \"./Sidebar\";\r\nexport default Sidebar;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Text from \"@/components/Text\";\r\n\r\nimport SelectedObjectEditorContainer from \"./components/Container\";\r\n\r\nimport EditorField from \"./components/EditorField\";\r\n\r\nimport mapStateToProps, { StateProps, FieldRow } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nconst TH = Text.withComponent(\"th\");\r\nconst TD = Text.withComponent(\"td\");\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass DefaultObjectEditor extends React.Component<Props> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { fields } = this.props;\r\n\r\n    const fieldElements = fields.map(field => this._renderFieldRow(field));\r\n\r\n    return (\r\n      <SelectedObjectEditorContainer>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <TH>Name</TH>\r\n              <TH>Value</TH>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{fieldElements}</tbody>\r\n        </table>\r\n      </SelectedObjectEditorContainer>\r\n    );\r\n  }\r\n\r\n  private _renderFieldRow(field: FieldRow) {\r\n    const { title, key, value } = field;\r\n    return (\r\n      <tr key={key}>\r\n        <TD>{title}</TD>\r\n        <TD>\r\n          <EditorField\r\n            propKey={key}\r\n            value={value}\r\n            onChange={this._onFieldChange}\r\n          />\r\n        </TD>\r\n      </tr>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onFieldChange(key: string, value: any) {\r\n    const { selectedPath, onModify } = this.props;\r\n    onModify([...selectedPath, key], value);\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(DefaultObjectEditor);\r\n","import styled from \"@/style\";\r\n\r\nconst Container = styled.div``;\r\nexport default Container;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nexport interface EditorFieldProps {\r\n  propKey: string;\r\n  value: any;\r\n  onChange(propKey: string, value: any): void;\r\n}\r\nexport default class EditorField extends React.Component<EditorFieldProps> {\r\n  render() {\r\n    const { value } = this.props;\r\n    return (\r\n      <input\r\n        type=\"text\"\r\n        onChange={this._onChange}\r\n        value={JSON.stringify(value)}\r\n      />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const { propKey, onChange } = this.props;\r\n    const value = e.target.value;\r\n    try {\r\n      const parsedValue = JSON.parse(value);\r\n      onChange(propKey, parsedValue);\r\n    } catch {}\r\n  }\r\n}\r\n","import { createSelector, createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport selectedPath from \"@/selectors/selected-path\";\r\nimport selectedValue from \"@/selectors/selected-value\";\r\n\r\nexport interface FieldEditable {\r\n  title: string;\r\n  key: string;\r\n  value: any;\r\n}\r\nexport type FieldRow = FieldEditable;\r\n\r\nconst fields = createSelector(\r\n  selectedValue,\r\n  (selectedValue): FieldRow[] => {\r\n    if (!selectedValue) {\r\n      return [];\r\n    }\r\n\r\n    if (isPrimitive(selectedValue)) {\r\n      // Cannot edit things in a primitive.\r\n      return [];\r\n    }\r\n\r\n    return Object.keys(selectedValue)\r\n      .filter(key => isPrimitive(selectedValue[key]))\r\n      .map(key => {\r\n        const value = selectedValue[key];\r\n        const editable: FieldEditable = {\r\n          title: key,\r\n          key,\r\n          value\r\n        };\r\n        return editable;\r\n      });\r\n  }\r\n);\r\n\r\nconst structuredSelectors = {\r\n  selectedPath,\r\n  fields\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelectors>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelectors\r\n);\r\nexport default mapStateToProps;\r\n\r\nconst primitiveTypes = [\"string\", \"number\", \"boolean\"];\r\nfunction isPrimitive(val: any) {\r\n  const valType = typeof val;\r\n  return primitiveTypes.indexOf(valType) !== -1;\r\n}\r\n","import { modifyOniSave } from \"@/actions/modify-onisave\";\r\n\r\nconst mapDispatchToProps = {\r\n  onModify: modifyOniSave\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import DefaultObjectEditor from \"./DefaultObjectEditor\";\r\nexport default DefaultObjectEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Filter } from \"react-table\";\r\n\r\nimport mapStateToProps, { StateProps, GroupItem } from \"./derived-state\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\nimport DataTable, {\r\n  DataTableColumn,\r\n  DataTableRow\r\n} from \"@/components/DataTable\";\r\n\r\nimport EditorContainer from \"@/pages/SaveEditor/components/editors/components/EditorContainer\";\r\n\r\ntype Props = StateProps;\r\nclass GameObjectGroupList extends React.Component<Props> {\r\n  render() {\r\n    const { gameObjectGroups } = this.props;\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        Header: \"Game Object Type\",\r\n        id: \"type\",\r\n        accessor: x => x,\r\n        Cell: (row: DataTableRow<GroupItem>) => (\r\n          <SaveStructureLink intent={Intent.Primary} path={row.value.path}>\r\n            {row.value.name}\r\n          </SaveStructureLink>\r\n        ),\r\n        sortable: true,\r\n        sortMethod: (a: GroupItem, b: GroupItem) =>\r\n          a.name.localeCompare(b.name) as any,\r\n        filterable: true,\r\n        // This api is atrocious.\r\n        filterMethod: (filter: Filter, row: any) =>\r\n          (row.type.name as string)\r\n            .toLowerCase()\r\n            .includes((filter.value || \"\").toLowerCase())\r\n      },\r\n      {\r\n        Header: \"Count\",\r\n        accessor: \"count\",\r\n        sortable: true\r\n      }\r\n    ];\r\n    return (\r\n      <EditorContainer header=\"GameObject Types\">\r\n        <DataTable columns={columns} data={gameObjectGroups} />\r\n      </EditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(GameObjectGroupList);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nexport interface GroupItem {\r\n  name: string;\r\n  count: number;\r\n  path: string[];\r\n}\r\n\r\nconst gameObjectGroups = createSelector(oniSave, oniSave => {\r\n  if (!oniSave) {\r\n    return [];\r\n  }\r\n\r\n  return oniSave.gameObjects.map((x, i) => {\r\n    const item: GroupItem = {\r\n      name: x.name,\r\n      count: x.gameObjects.length,\r\n      path: [\"gameObjects\", `${i}`]\r\n    };\r\n    return item;\r\n  });\r\n});\r\n\r\nconst structuredSelector = {\r\n  gameObjectGroups\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import GameObjectGroupList from \"./GameObjectGroupList\";\r\nexport default GameObjectGroupList;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport Portrait from \"@/components/Portrait\";\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\n\r\nimport EditorContainer from \"@/pages/SaveEditor/components/editors/components/EditorContainer\";\r\nimport EditorHeader from \"@/pages/SaveEditor/components/editors/components/EditorHeader\";\r\n\r\nimport GameObjectListContent from \"./components/GameObjectListContent\";\r\n\r\ntype Props = StateProps;\r\nclass GameObjectList extends React.Component<Props> {\r\n  render() {\r\n    const { gameObjectItems } = this.props;\r\n    const portraits = gameObjectItems.map(x => (\r\n      <Portrait key={x.name}>\r\n        <Portrait.Header wordBreak=\"break-all\">\r\n          <SaveStructureLink intent={Intent.Primary} path={x.path}>\r\n            {x.name}\r\n          </SaveStructureLink>\r\n        </Portrait.Header>\r\n      </Portrait>\r\n    ));\r\n    return (\r\n      <EditorContainer header=\"GameObjects\">\r\n        <GameObjectListContent>{portraits}</GameObjectListContent>\r\n      </EditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(GameObjectList);\r\n","import styled from \"@/style\";\r\n\r\nconst GroupListContent = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  justify-content: flex-start;\r\n  align-items: baseline;\r\n`;\r\nGroupListContent.displayName = \"GroupListContent\";\r\nexport default GroupListContent;\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { GameObjectGroup } from \"oni-save-parser\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\n\r\nimport { getSaveItemTitle } from \"@/services/save-structure\";\r\n\r\nexport interface GameObjectItem {\r\n  name: string;\r\n  path: string[];\r\n}\r\n\r\nconst gameObjectItems = createSelector(\r\n  oniSave,\r\n  selectedPath,\r\n  (oniSave, selectedPath) => {\r\n    if (!oniSave) {\r\n      return [];\r\n    }\r\n\r\n    const group: GameObjectGroup = get(oniSave, selectedPath);\r\n    if (!group) {\r\n      return [];\r\n    }\r\n\r\n    return group.gameObjects.map((x, i) => {\r\n      const path = [...selectedPath, \"gameObjects\", `${i}`];\r\n      const name = getSaveItemTitle(path, oniSave);\r\n      const item: GameObjectItem = {\r\n        name,\r\n        path\r\n      };\r\n      return item;\r\n    });\r\n  }\r\n);\r\n\r\nconst structuredSelector = {\r\n  gameObjectItems\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import GameObjectList from \"./GameObjectList\";\r\nexport default GameObjectList;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport InfoText from \"@/components/InfoText\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport SaveRootEditorContainer from \"./components/SaveRootEditorContainer\";\r\n\r\nimport SaveGameTitle from \"./components/SaveGameTitle\";\r\nimport DuplicantsList from \"./components/DuplicantsList\";\r\n\r\ntype Props = StateProps;\r\nclass SaveRootEditor extends React.Component<Props> {\r\n  render() {\r\n    const { oniSave } = this.props;\r\n    return (\r\n      <SaveRootEditorContainer>\r\n        {oniSave ? (\r\n          this._renderContent()\r\n        ) : (\r\n          <Text intent={Intent.Hint}>No Save Loaded</Text>\r\n        )}\r\n      </SaveRootEditorContainer>\r\n    );\r\n  }\r\n\r\n  private _renderContent() {\r\n    const oniSave = this.props.oniSave!;\r\n    const numGameObjects = oniSave.gameObjects.reduce(\r\n      (count, set) => count + set.gameObjects.length,\r\n      0\r\n    );\r\n    return (\r\n      <React.Fragment>\r\n        <SaveGameTitle intent={Intent.Primary}>\r\n          {oniSave.header.gameInfo.baseName}\r\n        </SaveGameTitle>\r\n        <InfoText value={oniSave.header.gameInfo.numberOfCycles}>\r\n          cycles\r\n        </InfoText>\r\n        <InfoText value={oniSave.header.gameInfo.numberOfDuplicants}>\r\n          duplicants\r\n        </InfoText>\r\n        <InfoText value={numGameObjects}>game objects</InfoText>\r\n        <DuplicantsList />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(SaveRootEditor);\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\n\r\nimport DuplicantPortrait from \"./components/DuplicantPortrait\";\r\nimport DuplicantsListContainer from \"./components/DuplicantsListContainer\";\r\nimport DuplicantsListContent from \"./components/DuplicantsListContent\";\r\n\r\ntype Props = StateProps;\r\nclass DuplicantsList extends React.Component<Props> {\r\n  render() {\r\n    const { duplicantsSetPath, duplicantIndexes } = this.props;\r\n    if (!duplicantsSetPath || !duplicantIndexes) {\r\n      return \"Malformed Data\";\r\n    }\r\n\r\n    const duplicantPortraits = duplicantIndexes.map(x => (\r\n      <DuplicantPortrait key={x} gameObjectIndex={x} />\r\n    ));\r\n\r\n    return (\r\n      <DuplicantsListContainer>\r\n        <SaveStructureLink intent={Intent.Primary} path={duplicantsSetPath}>\r\n          Duplicants\r\n        </SaveStructureLink>\r\n        <DuplicantsListContent>{duplicantPortraits}</DuplicantsListContent>\r\n      </DuplicantsListContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(DuplicantsList);\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport { DuplicantPortraitProps } from \"./props\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\nimport Portrait from \"@/components/Portrait\";\r\n\r\ntype Props = DuplicantPortraitProps & StateProps;\r\nclass DuplicantPortrait extends React.Component<Props> {\r\n  render() {\r\n    const { path, name, gender, arrivalCycle } = this.props;\r\n    return (\r\n      <Portrait>\r\n        <Portrait.Header>\r\n          {path ? (\r\n            <SaveStructureLink intent={Intent.Primary} path={path}>\r\n              {name}\r\n            </SaveStructureLink>\r\n          ) : (\r\n            \"Invalid Object\"\r\n          )}\r\n        </Portrait.Header>\r\n        <Portrait.Footer>\r\n          <div>\r\n            <Text intent={Intent.Secondary}>{gender}</Text>\r\n          </div>\r\n          <div>\r\n            <Text intent={Intent.Secondary}>{arrivalCycle} cycles old</Text>\r\n          </div>\r\n        </Portrait.Footer>\r\n      </Portrait>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(DuplicantPortrait);\r\n","import createCachedSelector from \"re-reselect\";\r\nimport { MinionIdentityBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nimport { DuplicantPortraitProps } from \"./props\";\r\n\r\nconst gameObjectIndex = (_: AppState, props: DuplicantPortraitProps) =>\r\n  props.gameObjectIndex;\r\n\r\nconst generateCacheKey = gameObjectIndex;\r\n\r\nconst gameObject = createCachedSelector(\r\n  oniSave,\r\n  gameObjectIndex,\r\n  (oniSave, gameObjectIndex) => {\r\n    if (!oniSave) {\r\n      return null;\r\n    }\r\n    const duplicants = oniSave.gameObjects.find(x => x.name === \"Minion\");\r\n    if (!duplicants) {\r\n      return null;\r\n    }\r\n\r\n    return duplicants.gameObjects[gameObjectIndex] || null;\r\n  }\r\n)(generateCacheKey);\r\n\r\nconst duplicantIdentity = createCachedSelector(gameObject, gameObject => {\r\n  if (!gameObject) {\r\n    return null;\r\n  }\r\n  const identBehavior = getBehavior(gameObject, MinionIdentityBehavior);\r\n  if (!identBehavior || !identBehavior.templateData) {\r\n    return null;\r\n  }\r\n  return identBehavior.templateData;\r\n})(generateCacheKey);\r\n\r\nconst path = (state: AppState, props: DuplicantPortraitProps) => {\r\n  const gameSave = oniSave(state);\r\n  if (!gameSave) {\r\n    return null;\r\n  }\r\n  const groupIndex = gameSave.gameObjects.findIndex(x => x.name === \"Minion\");\r\n  if (groupIndex === -1) {\r\n    return null;\r\n  }\r\n  const index = gameObjectIndex(state, props);\r\n  return [\"gameObjects\", `${groupIndex}`, \"gameObjects\", `${index}`];\r\n};\r\n\r\nconst name = (state: AppState, props: DuplicantPortraitProps) => {\r\n  const ident = duplicantIdentity(state, props);\r\n  return (ident && ident.name) || null;\r\n};\r\n\r\nconst gender = (state: AppState, props: DuplicantPortraitProps) => {\r\n  const ident = duplicantIdentity(state, props);\r\n  return (ident && ident.genderStringKey) || null;\r\n};\r\n\r\nconst arrivalCycle = (state: AppState, props: DuplicantPortraitProps) => {\r\n  const ident = duplicantIdentity(state, props);\r\n  return (ident && (ident.arrivalTime / 200).toFixed(1)) || null;\r\n};\r\n\r\nfunction mapStateToProps(state: AppState, props: DuplicantPortraitProps) {\r\n  return {\r\n    path: path(state, props),\r\n    name: name(state, props),\r\n    gender: gender(state, props),\r\n    arrivalCycle: arrivalCycle(state, props)\r\n  };\r\n}\r\nexport type StateProps = ReturnType<typeof mapStateToProps>;\r\nexport default mapStateToProps;\r\n","import DuplicantPortrait from \"./DuplicantPortrait\";\r\nexport default DuplicantPortrait;\r\n","import { SpaceProps, space } from \"styled-system\";\r\n\r\nimport styled, { Space, Border, Color, border } from \"@/style\";\r\n\r\nconst DuplicantsListContainer = styled<SpaceProps, \"div\">(\"div\")`\r\n  width: 100%;\r\n  margin-top: 5px;\r\n  box-sizing: border-box;\r\n  ${space};\r\n  ${border.of(Border.Normal, Color.DefaultSeparator)};\r\n`;\r\nDuplicantsListContainer.defaultProps = {\r\n  p: Space.Small\r\n};\r\nDuplicantsListContainer.displayName = \"DuplicantsListContainer\";\r\nexport default DuplicantsListContainer;\r\n","import styled from \"@/style\";\r\n\r\nconst DuplicantsListContent = styled.div`\r\n  padding: 5px;\r\n  overflow-x: auto;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`;\r\nDuplicantsListContent.displayName = \"DuplicantsListContent\";\r\nexport default DuplicantsListContent;\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { range } from \"lodash-es\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nconst duplicantsSetPath = createSelector(oniSave, oniSave => {\r\n  if (!oniSave) {\r\n    return null;\r\n  }\r\n  const index = oniSave.gameObjects.findIndex(x => x.name === \"Minion\");\r\n  if (index === -1) {\r\n    return null;\r\n  }\r\n  return [\"gameObjects\", `${index}`];\r\n});\r\n\r\nconst duplicantIndexes = createSelector(oniSave, oniSave => {\r\n  if (!oniSave) {\r\n    return [];\r\n  }\r\n  const minionSet = oniSave.gameObjects.find(x => x.name === \"Minion\");\r\n  if (!minionSet) {\r\n    return [];\r\n  }\r\n  return range(minionSet.gameObjects.length);\r\n});\r\n\r\nconst structuredSelector = {\r\n  duplicantsSetPath,\r\n  duplicantIndexes\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import DuplicantsList from \"./DuplicantsList\";\r\nexport default DuplicantsList;\r\n","import Text from \"@/components/Text\";\r\n\r\nconst SaveGameTitle = Text.withComponent(\"h3\").extend`\r\n  margin-top: 0;\r\n`;\r\nSaveGameTitle.displayName = \"SaveGameTitle\";\r\nexport default SaveGameTitle;\r\n","import styled from \"@/style\";\r\n\r\nconst SaveRootEditorContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\nSaveRootEditorContainer.displayName = \"SaveRootEditorContainer\";\r\nexport default SaveRootEditorContainer;\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nconst structuredSelector = {\r\n  oniSave\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import SaveRootEditor from \"./SaveRootEditor\";\r\nexport default SaveRootEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport { TemplateObjectEditorProps } from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Text from \"@/components/Text\";\r\nconst TD = Text.withComponent(\"td\");\r\n\r\nimport TemplateObjectEditorContainer from \"./components/TemplateObjectEditorContainer\";\r\n\r\nimport getTypeInfoFieldComponent from \"../../fields/from-typeinfo\";\r\n\r\ntype Props = TemplateObjectEditorProps & StateProps;\r\nclass TemplateObjectEditor extends React.Component<Props> {\r\n  render() {\r\n    const { templateName, template, selectedPath } = this.props;\r\n\r\n    const fieldRows =\r\n      template &&\r\n      [...(template.fields || []), ...(template.properties || [])].map(x => {\r\n        const FieldEditor = getTypeInfoFieldComponent(x.type);\r\n        return (\r\n          <tr key={x.name}>\r\n            <TD>{x.name}</TD>\r\n            <td>\r\n              <FieldEditor path={[...selectedPath, x.name]} />\r\n            </td>\r\n          </tr>\r\n        );\r\n      });\r\n    return (\r\n      <TemplateObjectEditorContainer>\r\n        <Text.H4 intent={Intent.Primary}>{templateName}</Text.H4>\r\n        <table>\r\n          <tbody>{fieldRows}</tbody>\r\n        </table>\r\n      </TemplateObjectEditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(TemplateObjectEditor);\r\n","import styled from \"@/style\";\r\n\r\nconst TemplateObjectEditorContainer = styled.div``;\r\nTemplateObjectEditorContainer.displayName = \"TemplateObjectEditorContainer\";\r\nexport default TemplateObjectEditorContainer;\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\n\r\nimport { TemplateObjectEditorProps } from \"./props\";\r\nimport { getTypeCode, SerializationTypeCode } from \"oni-save-parser\";\r\n\r\nconst templateName = (_: AppState, props: TemplateObjectEditorProps) =>\r\n  props.templateName;\r\n\r\nconst templatePath = (_: AppState, props: TemplateObjectEditorProps) =>\r\n  props.templatePath;\r\n\r\nconst valuePath = (state: AppState, props: TemplateObjectEditorProps) =>\r\n  props.valuePathHack || selectedPath(state);\r\n\r\nconst template = createSelector(\r\n  oniSave,\r\n  templateName,\r\n  templatePath,\r\n  (oniSave, templateName, templatePath) => {\r\n    if (!oniSave) {\r\n      return null;\r\n    }\r\n\r\n    let template = oniSave.templates.find(x => x.name === templateName);\r\n\r\n    for (let i = 0; i < templatePath.length; i++) {\r\n      const part = templatePath[i];\r\n\r\n      if (template == null) {\r\n        return null;\r\n      }\r\n\r\n      const member =\r\n        template.fields.find(x => x.name === part) ||\r\n        template.properties.find(x => x.name === part);\r\n      if (!member) {\r\n        return null;\r\n      }\r\n\r\n      const typeCode = getTypeCode(member.type.info);\r\n\r\n      if (typeCode === SerializationTypeCode.UserDefined) {\r\n        template = oniSave.templates.find(\r\n          x => x.name === member.type.templateName!\r\n        );\r\n      } else if (\r\n        LIST_TYPES.indexOf(typeCode) !== -1 &&\r\n        getTypeCode(member.type.subTypes![0].info) ===\r\n          SerializationTypeCode.UserDefined\r\n      ) {\r\n        i++;\r\n        if (i === templatePath.length) {\r\n          // Targeting an array but no index yet.\r\n          return null;\r\n        }\r\n\r\n        template = oniSave.templates.find(\r\n          x => x.name === member.type.subTypes![0].templateName\r\n        );\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n\r\n    return template;\r\n  }\r\n);\r\n\r\n// TODO: replace with oni-save-parser LIST_TYPES when released.\r\nconst LIST_TYPES = [\r\n  SerializationTypeCode.Array,\r\n  SerializationTypeCode.List,\r\n  SerializationTypeCode.HashSet\r\n];\r\n\r\nconst structuredSelector = {\r\n  template,\r\n  selectedPath: valuePath\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<\r\n  AppState,\r\n  TemplateObjectEditorProps,\r\n  StateProps\r\n>(structuredSelector);\r\nexport default mapStateToProps;\r\n","import TemplateObjectEditor from \"./TemplateObjectEditor\";\r\nexport default TemplateObjectEditor;\r\n","import * as React from \"react\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport EditorHeader from \"./EditorHeader\";\r\n\r\nexport interface EditorContainerProps {\r\n  header: React.ReactNode;\r\n}\r\nconst EditorContainer: React.SFC<EditorContainerProps> = ({\r\n  header,\r\n  children\r\n}) => (\r\n  <Flex direction=\"column\" width=\"100%\" height=\"100%\">\r\n    <EditorHeader>{header}</EditorHeader>\r\n    <Flex.Item fillParent constrain=\"column\">\r\n      {children}\r\n    </Flex.Item>\r\n  </Flex>\r\n);\r\nEditorContainer.displayName = \"EditorContainer\";\r\nexport default EditorContainer;\r\n","import * as React from \"react\";\r\n\r\nimport { FontSize, Space } from \"@/style\";\r\n\r\nimport Box from \"@/components/Box\";\r\nimport Text from \"@/components/Text\";\r\n\r\nconst EditorHeader: React.SFC = ({ children }) => (\r\n  <Box width=\"100%\" alignSelf=\"baseline\" pb={Space.Small}>\r\n    <Text fontSize={FontSize.Heading} fontWeight=\"bold\">\r\n      {children}\r\n    </Text>\r\n  </Box>\r\n);\r\nEditorHeader.displayName = \"EditorHeader\";\r\nexport default EditorHeader;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport FormGroup from \"@/components/FormGroup\";\r\nimport EditModeCondition from \"@/components/EditModeCondition\";\r\n\r\nimport NumericField from \"@/pages/SaveEditor/components/fields/NumericField\";\r\n\r\nimport EditorContainer from \"../../components/EditorContainer\";\r\nimport GameObjectHeader from \"../components/GameObjectHeader\";\r\n\r\ntype Props = StateProps;\r\nclass DefaultGameObjectEditor extends React.Component<Props> {\r\n  render() {\r\n    const { gameObjectPath, gameObjectName } = this.props;\r\n    if (!gameObjectPath) {\r\n      <NonIdealState intent={Intent.Dangerous} header=\"No GameObject Selected\">\r\n        No object is selected, or the selected object is not a GameObject.\r\n      </NonIdealState>;\r\n    }\r\n\r\n    return (\r\n      <EditorContainer\r\n        header={<GameObjectHeader>{gameObjectName}</GameObjectHeader>}\r\n      >\r\n        <FormGroup label=\"Position\">\r\n          <FormGroup label=\"X\" inline>\r\n            <NumericField\r\n              precision=\"single\"\r\n              path={[...gameObjectPath, \"position\", \"x\"]}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Y\" inline>\r\n            <NumericField\r\n              precision=\"single\"\r\n              path={[...gameObjectPath, \"position\", \"y\"]}\r\n            />\r\n          </FormGroup>\r\n          <EditModeCondition editMode=\"advanced\">\r\n            <FormGroup label=\"Z\" inline>\r\n              <NumericField\r\n                precision=\"single\"\r\n                path={[...gameObjectPath, \"position\", \"z\"]}\r\n              />\r\n            </FormGroup>\r\n          </EditModeCondition>\r\n        </FormGroup>\r\n        <FormGroup label=\"Scale\">\r\n          <FormGroup label=\"X\" inline>\r\n            <NumericField\r\n              precision=\"single\"\r\n              path={[...gameObjectPath, \"scale\", \"x\"]}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Y\" inline>\r\n            <NumericField\r\n              precision=\"single\"\r\n              path={[...gameObjectPath, \"scale\", \"y\"]}\r\n            />\r\n          </FormGroup>\r\n        </FormGroup>\r\n      </EditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(DefaultGameObjectEditor);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { KPrefabIDBehavior, getBehavior, GameObject } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getPathGameObjectGroup } from \"@/services/save-structure\";\r\n\r\nimport selectedValue from \"@/selectors/selected-value\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nconst structuredSelector = {\r\n  gameObjectPath: selectedPath,\r\n  gameObjectName: createSelector(\r\n    selectedValue,\r\n    selectedPath,\r\n    oniSave,\r\n    (selectedValue, selectedPath, oniSave) => {\r\n      if (!oniSave) {\r\n        return \"[no save loaded]\";\r\n      }\r\n\r\n      if (!selectedValue) {\r\n        return \"[no value selected]\";\r\n      }\r\n\r\n      const prefabIdBehavior = getBehavior(selectedValue, KPrefabIDBehavior);\r\n      let prefabId =\r\n        (prefabIdBehavior &&\r\n          prefabIdBehavior.templateData &&\r\n          prefabIdBehavior.templateData.InstanceID) ||\r\n        \"[no instance id]\";\r\n\r\n      const group = getPathGameObjectGroup(selectedPath, oniSave);\r\n\r\n      return `${group ? group.name : \"[unknown]\"} #${prefabId}`;\r\n    }\r\n  )\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import DefaultGameObjectEditor from \"./DefaultGameObjectEditor\";\r\nexport default DefaultGameObjectEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport VerticalTabs from \"@/components/VerticalTabs\";\r\n\r\nimport EditorContainer from \"../../components/EditorContainer\";\r\n\r\nimport GameObjectHeader from \"../components/GameObjectHeader\";\r\n\r\nimport MinionHeader from \"./components/MinionEditableName\";\r\nimport MinionAppearanceTab from \"./components/MinionAppearanceTab\";\r\nimport MinionAptitudesTab from \"./components/MinionAptitudesTab\";\r\nimport MinionEffectsTab from \"./components/MinionEffectsTab\";\r\nimport MinionHealthTab from \"./components/MinionHealthTab\";\r\nimport MinionJobsTab from \"./components/MinionJobsTab\";\r\nimport MinionSkillsTab from \"./components/MinionSkillsTab\";\r\nimport MinionTraitsTab from \"./components/MinionTraitsTab\";\r\nimport MinionPositionTab from \"./components/MinionPositionTab\";\r\nimport { Intent } from \"@/style\";\r\n\r\ntype Props = StateProps;\r\nclass DuplicantEditor extends React.Component<Props> {\r\n  render() {\r\n    const { minionNamePath, gameObjectPath } = this.props;\r\n    if (!minionNamePath) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"Malformed Data\">\r\n          Duplicant is missing the MinionIdentity behavior.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <EditorContainer\r\n        header={\r\n          <GameObjectHeader>\r\n            <MinionHeader minionNamePath={minionNamePath} />\r\n          </GameObjectHeader>\r\n        }\r\n      >\r\n        <VerticalTabs width=\"100%\" height=\"100%\">\r\n          <VerticalTabs.Tab tabKey=\"appearance\" header=\"Appearance\">\r\n            <MinionAppearanceTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"health\" header=\"Health\">\r\n            <MinionHealthTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"traits\" header=\"Traits\">\r\n            <MinionTraitsTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"skills\" header=\"Skills\">\r\n            <MinionSkillsTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"jobs\" header=\"Jobs\">\r\n            <MinionJobsTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"aptitude\" header=\"Aptitudes\">\r\n            <MinionAptitudesTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"effects\" header=\"Effects\">\r\n            <MinionEffectsTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"position\" header=\"Position\">\r\n            <MinionPositionTab gameObjectPath={gameObjectPath} />\r\n          </VerticalTabs.Tab>\r\n        </VerticalTabs>\r\n      </EditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(DuplicantEditor);\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport {\r\n  AccessoriesByType,\r\n  AccessoryTypes,\r\n  MINION_IDENTITY_GENDERS,\r\n  AccessoryType\r\n} from \"oni-save-parser\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\nimport NullableInput, {\r\n  InputCompatibleProps\r\n} from \"@/components/NullableInput\";\r\nimport TextInput from \"@/components/TextInput\";\r\nimport EditModeCondition from \"@/components/EditModeCondition\";\r\nimport Text from \"@/components/Text\";\r\nimport TextAutocompleteInput from \"@/components/TextAutocompleteInput\";\r\nimport { Option } from \"@/components/Select\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\nimport SelectInput from \"@/components/SelectInput\";\r\n\r\nconst TDText = Text.withComponent(\"td\");\r\n\r\nconst NoAccessory = <Text intent={Intent.Secondary}>None</Text>;\r\nconst NoAccessoryMouth = <Text intent={Intent.Dangerous}>I Must Scream</Text>;\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionAppearanceTab extends React.Component<Props> {\r\n  render() {\r\n    const { gender, onSetGender, scale } = this.props;\r\n\r\n    const fields = AccessoryTypes.map(type => this._renderAccessoryField(type));\r\n\r\n    const genderOpts: Option[] = MINION_IDENTITY_GENDERS.map(ident => ({\r\n      label: ident,\r\n      value: ident\r\n    }));\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <FormGroup label=\"Gender\">\r\n          <SelectInput\r\n            value={gender || MINION_IDENTITY_GENDERS[0]}\r\n            options={genderOpts}\r\n            onCommit={onSetGender}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup label=\"Appearance\">\r\n          <table>\r\n            <tbody>{fields}</tbody>\r\n          </table>\r\n        </FormGroup>\r\n        <FormGroup label=\"Scale\">\r\n          <FormGroup label=\"X\" inline>\r\n            <NumericInput\r\n              value={scale ? scale.x : 1}\r\n              precision=\"single\"\r\n              onCommit={this._setScaleX}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Y\" inline>\r\n            <NumericInput\r\n              value={scale ? scale.y : 1}\r\n              precision=\"single\"\r\n              onCommit={this._setScaleY}\r\n            />\r\n          </FormGroup>\r\n        </FormGroup>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _setScaleX(value: number) {\r\n    const { scale, onSetScale } = this.props;\r\n    onSetScale({\r\n      x: value,\r\n      y: scale ? scale.y : 1,\r\n      z: scale ? scale.z : 1\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _setScaleY(value: number) {\r\n    const { scale, onSetScale } = this.props;\r\n    onSetScale({\r\n      x: scale ? scale.x : 1,\r\n      y: value,\r\n      z: scale ? scale.z : 1\r\n    });\r\n  }\r\n\r\n  private _renderAccessoryField(type: AccessoryType) {\r\n    const { onSetAccessory } = this.props;\r\n    let editGroup = (\r\n      <tr key={type}>\r\n        <TDText>{type}</TDText>\r\n        <td>\r\n          <NullableInput\r\n            renderInput={props => this._renderAccessorySelector(type, props)}\r\n            renderNull={type !== \"mouth\" ? NoAccessory : NoAccessoryMouth}\r\n            value={this.props[type]}\r\n            defaultValue={(AccessoriesByType[type] || [])[0] || \"\"}\r\n            onCommit={onSetAccessory.bind(this, type)}\r\n          />\r\n        </td>\r\n      </tr>\r\n    );\r\n\r\n    if (type === \"hat_hair\" || type === \"hair_always\") {\r\n      editGroup = (\r\n        <EditModeCondition key={type} editMode=\"advanced\">\r\n          {editGroup}\r\n        </EditModeCondition>\r\n      );\r\n    }\r\n\r\n    return editGroup;\r\n  }\r\n\r\n  private _renderAccessorySelector(\r\n    type: AccessoryType,\r\n    props: InputCompatibleProps<string>\r\n  ) {\r\n    const accessoryNames = AccessoriesByType[type];\r\n    if (!accessoryNames || accessoryNames.length === 0) {\r\n      return <TextInput {...props} minLength={1} />;\r\n    } else {\r\n      return (\r\n        <TextAutocompleteInput\r\n          value={props.value}\r\n          items={accessoryNames}\r\n          onCommit={props.onCommit}\r\n        />\r\n      );\r\n    }\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionAppearanceTab);\r\n","import { Selector, createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport {\r\n  AccessoryTypes,\r\n  AccessorizerBehavior,\r\n  GameObject,\r\n  AccessoryType,\r\n  getAccessoryName,\r\n  getAccessoryOfType,\r\n  getBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObjectGender } from \"@/selectors/behaviors/minion-identity\";\r\nimport { getSelectedGameObjectScale } from \"@/selectors/game-object\";\r\n\r\nimport selectedValue from \"@/selectors/selected-value\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\n\r\nconst accessorizerBehavior = createSelector(\r\n  selectedValue,\r\n  (gameObject: GameObject) => {\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n    return getBehavior(gameObject, AccessorizerBehavior);\r\n  }\r\n);\r\n\r\nfunction createAccessorySelector(\r\n  accessoryType: AccessoryType\r\n): Selector<AppState, string | null> {\r\n  return createSelector(accessorizerBehavior, behavior => {\r\n    if (!behavior) {\r\n      return null;\r\n    }\r\n\r\n    const { accessories } = behavior.templateData;\r\n\r\n    const accessory = getAccessoryOfType(accessories, accessoryType);\r\n    if (!accessory) {\r\n      return null;\r\n    }\r\n\r\n    return getAccessoryName(accessory);\r\n  });\r\n}\r\n\r\nconst structuredSelector = {\r\n  selectedPath,\r\n  gender: getSelectedGameObjectGender,\r\n  scale: getSelectedGameObjectScale\r\n};\r\nAccessoryTypes.forEach(x => {\r\n  (structuredSelector as any)[x] = createAccessorySelector(x);\r\n});\r\nexport type StateProps = StructuredStateProps<\r\n  typeof structuredSelector & Record<AccessoryType, string | null>\r\n>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector as any\r\n);\r\nexport default mapStateToProps;\r\n","import { setIdentityGender } from \"@/actions/behaviors/set-identity-gender\";\r\nimport { setAccessory } from \"@/actions/behaviors/set-accessory\";\r\nimport { setGameObjectScale } from \"@/actions/game-object/set-scale\";\r\n\r\nconst mapDispatchToProps = {\r\n  onSetScale: setGameObjectScale,\r\n  onSetGender: setIdentityGender,\r\n  onSetAccessory: setAccessory\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionAppearanceTab from \"./MinionAppearanceTab\";\r\nexport default MinionAppearanceTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { compare } from \"@/math\";\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps, AptitudeData } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport DataTable, {\r\n  DataTableColumn,\r\n  DataTableRow\r\n} from \"@/components/DataTable\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionAptitudesTab extends React.Component<Props> {\r\n  render() {\r\n    const { aptitudes, setAptitude } = this.props;\r\n\r\n    if (!aptitudes || aptitudes.length === 0) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No aptitude data could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        Header: \"Role\",\r\n        sortable: true,\r\n        filterable: true,\r\n        accessor: \"roleId\"\r\n      },\r\n      {\r\n        Header: \"Aptitude\",\r\n        sortable: true,\r\n        filterable: false,\r\n        id: \"aptitude\",\r\n        accessor: x => x,\r\n        Cell: (row: DataTableRow<AptitudeData>) => (\r\n          <NumericInput\r\n            precision=\"single\"\r\n            minValue={0}\r\n            value={row.value.aptitude}\r\n            onCommit={setAptitude.bind(null, row.value.index)}\r\n          />\r\n        ),\r\n        sortMethod: (a: AptitudeData, b: AptitudeData) =>\r\n          compare(a.aptitude, b.aptitude)\r\n      }\r\n    ];\r\n\r\n    return (\r\n      <DataTable\r\n        height=\"100%\"\r\n        columns={columns}\r\n        showPagination={false}\r\n        data={aptitudes}\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionAptitudesTab);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { MinionResumeBehavior, MinionRoleGroup } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorPropertySelector } from \"@/selectors/behaviors/utils\";\r\n\r\nconst aptitudesSelector = getCurrentGameObjectBehaviorPropertySelector<\r\n  MinionResumeBehavior,\r\n  MinionResumeBehavior[\"templateData\"][\"AptitudeByRoleGroup\"]\r\n>(MinionResumeBehavior, [\"templateData\", \"AptitudeByRoleGroup\"]);\r\n\r\nexport interface AptitudeData {\r\n  roleId: string;\r\n  roleHash: number;\r\n  aptitude: number;\r\n  index: number;\r\n}\r\nconst aptitudeDataSelector = createSelector(aptitudesSelector, aptitudes => {\r\n  if (!aptitudes) {\r\n    return null;\r\n  }\r\n\r\n  const data: AptitudeData[] = [];\r\n\r\n  for (let i = 0; i < aptitudes.length; i++) {\r\n    const [hstr, aptitude] = aptitudes[i];\r\n    const roleId = MinionRoleGroup[hstr.hash];\r\n    if (!roleId) {\r\n      continue;\r\n    }\r\n    data.push({\r\n      roleId,\r\n      roleHash: hstr.hash,\r\n      aptitude,\r\n      index: i\r\n    });\r\n  }\r\n\r\n  return data;\r\n});\r\n\r\nconst structuredSelector = {\r\n  aptitudes: aptitudeDataSelector\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { MinionResumeBehavior } from \"oni-save-parser\";\r\nimport { setCurrentObjectBehaviorValue } from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nconst mapDispatchToProps = {\r\n  setAptitude(index: number, aptitude: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      MinionResumeBehavior,\r\n      [\"templateData\", \"AptitudeByRoleGroup\", `${index}`, \"1\"],\r\n      aptitude\r\n    );\r\n  }\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionAptitudesTab from \"./MinionAptitudesTab\";\r\nexport default MinionAptitudesTab;\r\n","import * as React from \"react\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport EditableTextField from \"@/pages/SaveEditor/components/fields/EditableTextField\";\r\n\r\nimport EditorHeader from \"../../../components/EditorHeader\";\r\n\r\nexport interface MinionHeaderProps {\r\n  minionNamePath: string[];\r\n}\r\nconst MinionHeader: React.SFC<MinionHeaderProps> = ({ minionNamePath }) => (\r\n  <React.Fragment>\r\n    <EditorHeader>\r\n      <Flex direction=\"row\">\r\n        <Flex.Item mr={1}>Name:</Flex.Item>\r\n        <Flex.Item grow shrink>\r\n          <EditableTextField intent={Intent.Primary} path={minionNamePath} />\r\n        </Flex.Item>\r\n      </Flex>\r\n    </EditorHeader>\r\n  </React.Fragment>\r\n);\r\nMinionHeader.displayName = \"MinionHeader\";\r\nexport default MinionHeader;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { AI_EFFECT_IDS } from \"oni-save-parser\";\r\n\r\nimport { compare } from \"@/math\";\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport DataTable, {\r\n  DataTableColumn,\r\n  DataTableRow\r\n} from \"@/components/DataTable\";\r\nimport NullableInput from \"@/components/NullableInput\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionEffectsTab extends React.Component<Props> {\r\n  render() {\r\n    const { effects, onSetEffectData } = this.props;\r\n\r\n    if (!effects) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No effects data could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const data = AI_EFFECT_IDS.map(effectId => {\r\n      const effectIndex = effects.findIndex(x => x.id === effectId);\r\n      const effect = effectIndex > -1 ? effects[effectIndex] : null;\r\n      return {\r\n        effectId,\r\n        effectIndex,\r\n        timeRemaining: effect ? effect.timeRemaining : null\r\n      };\r\n    });\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        Header: \"Effect\",\r\n        sortable: true,\r\n        filterable: true,\r\n        accessor: \"effectId\"\r\n      },\r\n      {\r\n        Header: \"Time Remaining\",\r\n        sortable: true,\r\n        filterable: false,\r\n        id: \"level\",\r\n        accessor: x => x,\r\n        Cell: (row: DataTableRow<typeof data[0]>) => (\r\n          <NullableInput\r\n            value={row.value.timeRemaining}\r\n            onCommit={onSetEffectData.bind(\r\n              null,\r\n              row.value.effectId,\r\n              row.value.effectIndex\r\n            )}\r\n            defaultValue={15000}\r\n            renderInput={props => (\r\n              <NumericInput precision=\"single\" minValue={0} {...props} />\r\n            )}\r\n          />\r\n        ),\r\n        sortMethod: (a: typeof data[0], b: typeof data[0]) =>\r\n          compare(a.timeRemaining || 0, b.timeRemaining || 0)\r\n      }\r\n    ];\r\n\r\n    return <DataTable height=\"100%\" columns={columns} data={data} />;\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionEffectsTab);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AIEffectsBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorPropertySelector } from \"@/selectors/behaviors/utils\";\r\n\r\nconst effects = getCurrentGameObjectBehaviorPropertySelector<\r\n  AIEffectsBehavior,\r\n  AIEffectsBehavior[\"templateData\"][\"saveLoadEffects\"]\r\n>(AIEffectsBehavior, [\"templateData\", \"saveLoadEffects\"]);\r\n\r\nconst structuredSelector = {\r\n  effects\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { AIEffectsBehavior, EffectInstance } from \"oni-save-parser\";\r\n\r\nimport {\r\n  insertCurrentObjectBehaviorArrayValue,\r\n  removeCurrentObjectBehaviorArrayIndex\r\n} from \"@/actions/behaviors/modify-currentobject-behavior-array\";\r\n\r\nimport { setCurrentObjectBehaviorValue } from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nconst EffectsPath = [\"templateData\", \"saveLoadEffects\"];\r\n\r\nconst mapDispatchToProps = {\r\n  onSetEffectData(\r\n    effectId: string,\r\n    effectIndex: number,\r\n    timeRemaining: number | null\r\n  ) {\r\n    if (timeRemaining != null && timeRemaining > 0) {\r\n      if (effectIndex === -1) {\r\n        // New Effect\r\n        const effect: EffectInstance = {\r\n          id: effectId,\r\n          timeRemaining\r\n        };\r\n        return insertCurrentObjectBehaviorArrayValue(\r\n          AIEffectsBehavior,\r\n          EffectsPath,\r\n          effect\r\n        );\r\n      } else {\r\n        // Changing effect time remaining\r\n        return setCurrentObjectBehaviorValue(\r\n          AIEffectsBehavior,\r\n          [...EffectsPath, `${effectIndex}`, \"timeRemaining\"],\r\n          timeRemaining\r\n        );\r\n      }\r\n    } else if (effectIndex > -1) {\r\n      // Removing effect.\r\n      return removeCurrentObjectBehaviorArrayIndex(\r\n        AIEffectsBehavior,\r\n        EffectsPath,\r\n        effectIndex\r\n      );\r\n    }\r\n  },\r\n  onRemoveEffect(effectIndex: number) {}\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionEffectsTab from \"./MinionEffectsTab\";\r\nexport default MinionEffectsTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { HealthState } from \"oni-save-parser\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport VerticalTabs from \"@/components/VerticalTabs\";\r\nimport FormGroup from \"@/components/FormGroup\";\r\nimport SelectInput from \"@/components/SelectInput\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\n\r\nconst TD = Text.withComponent(\"td\");\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionHealthTab extends React.Component<Props> {\r\n  render() {\r\n    const {\r\n      healthState,\r\n      onHealthStatusChanged,\r\n      hitpoints,\r\n      onHitpointsChanged,\r\n      stamina,\r\n      onStaminaChanged,\r\n      calories,\r\n      onCaloriesChanged,\r\n      breath,\r\n      onBreathChanged,\r\n      stress,\r\n      onStressChanged,\r\n      bladder,\r\n      onBladderChanged,\r\n      surfaceDiseaseId,\r\n      surfaceDiseaseCount,\r\n      immuneLevel,\r\n      onImmuneLevelChanged,\r\n      foodPoisoning,\r\n      onFoodPoisoningChanged,\r\n      coldBrain,\r\n      onColdBrainChanged,\r\n      heatRash,\r\n      onHeatRashChanged,\r\n      slimeLung,\r\n      onSlimeLungChanged,\r\n      spores,\r\n      onSporesChanged,\r\n      sunburn,\r\n      onSunburnChanged\r\n    } = this.props;\r\n\r\n    const options = Object.keys(HealthState)\r\n      .filter(x => isNaN(parseInt(x)))\r\n      .map(x => ({\r\n        label: x,\r\n        value: HealthState[x as any]\r\n      }));\r\n\r\n    // TODO: selector for disease type hashes with advanced mode custom\r\n    // string.\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div>\r\n          <Text.H4>Wellness</Text.H4>\r\n          <FormGroup label=\"Status\" inline>\r\n            <SelectInput\r\n              value={healthState || HealthState.Perfect}\r\n              options={options}\r\n              onCommit={onHealthStatusChanged}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"HitPoints\" inline>\r\n            <NumericInput\r\n              value={hitpoints || 0}\r\n              onCommit={onHitpointsChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Stanima\" inline>\r\n            <NumericInput\r\n              value={stamina || 0}\r\n              precision=\"single\"\r\n              onCommit={onStaminaChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Calories\" inline>\r\n            <NumericInput\r\n              value={calories || 0}\r\n              precision=\"single\"\r\n              onCommit={onCaloriesChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Oxygen\" inline>\r\n            <NumericInput\r\n              value={breath || 0}\r\n              precision=\"single\"\r\n              onCommit={onBreathChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Stress\" inline>\r\n            <NumericInput\r\n              value={stress || 0}\r\n              precision=\"single\"\r\n              onCommit={onStressChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Bladder\" inline>\r\n            <NumericInput\r\n              value={bladder || 0}\r\n              precision=\"single\"\r\n              onCommit={onBladderChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n        </div>\r\n        <div>\r\n          <Text.H4>Diseases</Text.H4>\r\n          <FormGroup label=\"Immune&nbsp;Level\" inline>\r\n            <NumericInput\r\n              minValue={0}\r\n              precision=\"single\"\r\n              value={immuneLevel || 0}\r\n              onCommit={onImmuneLevelChanged}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Surface Germs\">\r\n            <FormGroup label=\"DiseaseID\" inline>\r\n              <NumericInput\r\n                value={surfaceDiseaseId ? surfaceDiseaseId.hash : 0}\r\n                onCommit={this._onSurfaceDiseaseIdCommit}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup label=\"Count\" inline>\r\n              <NumericInput\r\n                minValue={0}\r\n                precision=\"single\"\r\n                value={surfaceDiseaseCount || 0}\r\n                onCommit={this._onSurfaceDiseaseCountCommit}\r\n              />\r\n            </FormGroup>\r\n          </FormGroup>\r\n          <FormGroup label=\"Conditions\">\r\n            <table>\r\n              <tbody>\r\n                <tr>\r\n                  <TD>Food Poisoning</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={foodPoisoning || 0}\r\n                      onCommit={onFoodPoisoningChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Slime Lung</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={slimeLung || 0}\r\n                      onCommit={onSlimeLungChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Spores</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={spores || 0}\r\n                      onCommit={onSporesChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Hypothermia</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={coldBrain || 0}\r\n                      onCommit={onColdBrainChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Hyperthermia</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={heatRash || 0}\r\n                      onCommit={onHeatRashChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Sunburn</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={sunburn || 0}\r\n                      onCommit={onSunburnChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </FormGroup>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onSurfaceDiseaseIdCommit(value: number) {\r\n    const { onSurfaceDiseaseChanged } = this.props;\r\n    onSurfaceDiseaseChanged({ hash: value }, 0);\r\n  }\r\n\r\n  @autobind()\r\n  private _onSurfaceDiseaseCountCommit(value: number) {\r\n    const { surfaceDiseaseId, onSurfaceDiseaseChanged } = this.props;\r\n    onSurfaceDiseaseChanged(surfaceDiseaseId || { hash: 0 }, value);\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionHealthTab);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport {\r\n  GameObject,\r\n  HealthBehavior,\r\n  PrimaryElementBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObjectHealthState } from \"@/selectors/behaviors/health\";\r\n\r\nimport {\r\n  getSelectedGameObjectElementDiseaseId,\r\n  getSelectedGameObjectElementDiseaseCount\r\n} from \"@/selectors/behaviors/primary-element\";\r\n\r\nimport { getSelectedGameObjectModifierValueSelector } from \"@/selectors/behaviors/minion-modifiers\";\r\n\r\nconst structuredSelector = {\r\n  healthState: getSelectedGameObjectHealthState,\r\n  surfaceDiseaseId: getSelectedGameObjectElementDiseaseId,\r\n  surfaceDiseaseCount: getSelectedGameObjectElementDiseaseCount,\r\n  hitpoints: getSelectedGameObjectModifierValueSelector(\"HitPoints\"),\r\n  stamina: getSelectedGameObjectModifierValueSelector(\"Stamina\"),\r\n  calories: getSelectedGameObjectModifierValueSelector(\"Calories\"),\r\n  immuneLevel: getSelectedGameObjectModifierValueSelector(\"ImmuneLevel\"),\r\n  breath: getSelectedGameObjectModifierValueSelector(\"Breath\"),\r\n  stress: getSelectedGameObjectModifierValueSelector(\"Stress\"),\r\n  bladder: getSelectedGameObjectModifierValueSelector(\"Bladder\"),\r\n  foodPoisoning: getSelectedGameObjectModifierValueSelector(\"FoodPoisoning\"),\r\n  coldBrain: getSelectedGameObjectModifierValueSelector(\"ColdBrain\"),\r\n  heatRash: getSelectedGameObjectModifierValueSelector(\"HeatRash\"),\r\n  slimeLung: getSelectedGameObjectModifierValueSelector(\"SlimeLung\"),\r\n  sunburn: getSelectedGameObjectModifierValueSelector(\"Sunburn\"),\r\n  spores: getSelectedGameObjectModifierValueSelector(\"Spores\")\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { setHealthStatus } from \"@/actions/behaviors/set-health-state\";\r\nimport { setModifierValue } from \"@/actions/behaviors/set-modifier-amount\";\r\nimport { setPrimaryElementDisease } from \"@/actions/behaviors/set-element-disease\";\r\n\r\nconst mapDispatchToProps = {\r\n  onHealthStatusChanged: setHealthStatus,\r\n  onHitpointsChanged(hitpoints: number) {\r\n    return setModifierValue(\"HitPoints\", hitpoints);\r\n  },\r\n  onStaminaChanged(stamina: number) {\r\n    return setModifierValue(\"Stamina\", stamina);\r\n  },\r\n  onCaloriesChanged(calories: number) {\r\n    return setModifierValue(\"Calories\", calories);\r\n  },\r\n  onImmuneLevelChanged(level: number) {\r\n    return setModifierValue(\"ImmuneLevel\", level);\r\n  },\r\n  onBreathChanged(level: number) {\r\n    return setModifierValue(\"Breath\", level);\r\n  },\r\n  onStressChanged(level: number) {\r\n    return setModifierValue(\"Stress\", level);\r\n  },\r\n  onBladderChanged(level: number) {\r\n    return setModifierValue(\"Bladder\", level);\r\n  },\r\n  onFoodPoisoningChanged(level: number) {\r\n    return setModifierValue(\"FoodPoisoning\", level);\r\n  },\r\n  onColdBrainChanged(level: number) {\r\n    return setModifierValue(\"ColdBrain\", level);\r\n  },\r\n  onHeatRashChanged(level: number) {\r\n    return setModifierValue(\"HeatRash\", level);\r\n  },\r\n  onSlimeLungChanged(level: number) {\r\n    return setModifierValue(\"SlimeLung\", level);\r\n  },\r\n  onSunburnChanged(level: number) {\r\n    return setModifierValue(\"Sunburn\", level);\r\n  },\r\n  onSporesChanged(level: number) {\r\n    return setModifierValue(\"Spores\", level);\r\n  },\r\n\r\n  onSurfaceDiseaseChanged: setPrimaryElementDisease\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionHealthTab from \"./MinionHealthTab\";\r\nexport default MinionHealthTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport DataTable, {\r\n  DataTableColumn,\r\n  DataTableRow\r\n} from \"@/components/DataTable\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\nimport CheckInput from \"@/components/CheckInput\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionJobsTab extends React.Component<Props> {\r\n  render() {\r\n    const { jobs, setExperience, setMastery } = this.props;\r\n\r\n    if (!jobs || jobs.length === 0) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No jobs could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        Header: \"Job\",\r\n        sortable: true,\r\n        filterable: true,\r\n        accessor: \"id\"\r\n      },\r\n      {\r\n        Header: \"Experience\",\r\n        sortable: true,\r\n        filterable: false,\r\n        id: \"experience\",\r\n        accessor: x => x,\r\n        Cell: (row: DataTableRow<typeof jobs[0]>) => (\r\n          <NumericInput\r\n            precision=\"single\"\r\n            minValue={0}\r\n            value={row.value.experience}\r\n            onCommit={setExperience.bind(null, row.value.experienceIndex)}\r\n          />\r\n        )\r\n      },\r\n      {\r\n        Header: \"Mastery\",\r\n        sortable: true,\r\n        filterable: false,\r\n        id: \"mastery\",\r\n        accessor: x => x,\r\n        Cell: (row: DataTableRow<typeof jobs[0]>) => (\r\n          <CheckInput\r\n            value={row.value.mastery}\r\n            onCommit={setMastery.bind(null, row.value.masteryIndex)}\r\n          />\r\n        )\r\n      }\r\n    ];\r\n\r\n    return (\r\n      <DataTable\r\n        height=\"100%\"\r\n        columns={columns}\r\n        showPagination={false}\r\n        data={jobs}\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionJobsTab);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { MinionResumeBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorPropertySelector } from \"@/selectors/behaviors/utils\";\r\n\r\nconst masteriesSelector = getCurrentGameObjectBehaviorPropertySelector<\r\n  MinionResumeBehavior,\r\n  MinionResumeBehavior[\"templateData\"][\"MasteryByRoleID\"]\r\n>(MinionResumeBehavior, [\"templateData\", \"MasteryByRoleID\"]);\r\n\r\nconst experienceSelector = getCurrentGameObjectBehaviorPropertySelector<\r\n  MinionResumeBehavior,\r\n  MinionResumeBehavior[\"templateData\"][\"ExperienceByRoleID\"]\r\n>(MinionResumeBehavior, [\"templateData\", \"ExperienceByRoleID\"]);\r\n\r\nexport interface Job {\r\n  id: string;\r\n  mastery: boolean;\r\n  masteryIndex: number;\r\n  experience: number;\r\n  experienceIndex: number;\r\n}\r\nexport type Jobs = Job[];\r\nconst jobsSelector = createSelector(\r\n  masteriesSelector,\r\n  experienceSelector,\r\n  (masteries, experience) => {\r\n    if (!masteries || !experience) {\r\n      return null;\r\n    }\r\n\r\n    const jobs: Record<string, Job> = {};\r\n\r\n    masteries.forEach((x, i) => {\r\n      const [key, value] = x;\r\n      if (key === \"NoRole\") {\r\n        return;\r\n      }\r\n      jobs[key] = {\r\n        id: key,\r\n        mastery: value,\r\n        masteryIndex: i,\r\n        experience: 0,\r\n        experienceIndex: -1\r\n      };\r\n    });\r\n\r\n    experience.forEach((x, i) => {\r\n      const [key, value] = x;\r\n      if (key === \"NoRole\") {\r\n        return;\r\n      }\r\n      jobs[key].experience = value;\r\n      jobs[key].experienceIndex = i;\r\n    });\r\n\r\n    return Object.keys(jobs).map(x => jobs[x]);\r\n  }\r\n);\r\n\r\nconst structuredSelector = {\r\n  jobs: jobsSelector\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { MinionResumeBehavior } from \"oni-save-parser\";\r\n\r\nimport { setCurrentObjectBehaviorValue } from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nconst mapDispatchToProps = {\r\n  setExperience(index: number, experience: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      MinionResumeBehavior,\r\n      [\"templateData\", \"ExperienceByRoleID\", `${index}`, \"1\"],\r\n      experience\r\n    );\r\n  },\r\n\r\n  setMastery(index: number, mastery: boolean) {\r\n    return setCurrentObjectBehaviorValue(\r\n      MinionResumeBehavior,\r\n      [\"templateData\", \"MasteryByRoleID\", `${index}`, \"1\"],\r\n      mastery\r\n    );\r\n  }\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionJobsTab from \"./MinionJobsTab\";\r\nexport default MinionJobsTab;\r\n","import * as React from \"react\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\nimport NumericField from \"@/pages/SaveEditor/components/fields/NumericField\";\r\nimport EditModeCondition from \"@/components/EditModeCondition\";\r\n\r\nexport interface PositionTabContentProps {\r\n  gameObjectPath: string[];\r\n}\r\nconst MinionPositionTab: React.SFC<PositionTabContentProps> = ({\r\n  gameObjectPath\r\n}) => (\r\n  <React.Fragment>\r\n    <FormGroup label=\"X\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        path={[...gameObjectPath, \"position\", \"x\"]}\r\n      />\r\n    </FormGroup>\r\n    <FormGroup label=\"Y\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        path={[...gameObjectPath, \"position\", \"y\"]}\r\n      />\r\n    </FormGroup>\r\n    <EditModeCondition editMode=\"advanced\">\r\n      <FormGroup label=\"Z\">\r\n        <NumericField\r\n          precision=\"single\"\r\n          path={[...gameObjectPath, \"position\", \"z\"]}\r\n        />\r\n      </FormGroup>\r\n    </EditModeCondition>\r\n  </React.Fragment>\r\n);\r\nMinionPositionTab.displayName = \"MinionPositionTab\";\r\nexport default MinionPositionTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { compare } from \"@/math\";\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport DataTable, {\r\n  DataTableColumn,\r\n  DataTableRow\r\n} from \"@/components/DataTable\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionSkillsTab extends React.Component<Props> {\r\n  render() {\r\n    const { skills, setSkillLevel, setSkillExperience } = this.props;\r\n\r\n    if (!skills || skills.length === 0) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No skills could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const data = skills.map((x, i) => ({\r\n      ...x,\r\n      index: i\r\n    }));\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        Header: \"Skill\",\r\n        sortable: true,\r\n        filterable: true,\r\n        accessor: \"attributeId\"\r\n      },\r\n      {\r\n        Header: \"Level\",\r\n        id: \"level\",\r\n        accessor: x => x,\r\n        Cell: (row: DataTableRow<typeof data[0]>) => (\r\n          <NumericInput\r\n            precision=\"int32\"\r\n            minValue={0}\r\n            value={row.value.level}\r\n            onCommit={setSkillLevel.bind(null, row.value.index)}\r\n          />\r\n        ),\r\n        sortable: true,\r\n        sortMethod: (a: typeof data[0], b: typeof data[0]) =>\r\n          compare(a.level, b.level)\r\n      },\r\n      {\r\n        Header: \"Experience\",\r\n        id: \"experience\",\r\n        accessor: x => x,\r\n        Cell: (row: DataTableRow<typeof data[0]>) => (\r\n          <NumericInput\r\n            precision=\"single\"\r\n            value={row.value.experience}\r\n            onCommit={setSkillExperience.bind(null, row.value.index)}\r\n          />\r\n        ),\r\n        sortable: true,\r\n        sortMethod: (a: typeof data[0], b: typeof data[0]) =>\r\n          compare(a.experience, b.experience)\r\n      }\r\n    ];\r\n\r\n    return <DataTable height=\"100%\" columns={columns} data={data} />;\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionSkillsTab);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AIAttributeLevelsBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorPropertySelector } from \"@/selectors/behaviors/utils\";\r\n\r\nconst structuredSelector = {\r\n  skills: getCurrentGameObjectBehaviorPropertySelector<\r\n    AIAttributeLevelsBehavior,\r\n    AIAttributeLevelsBehavior[\"templateData\"][\"saveLoadLevels\"]\r\n  >(AIAttributeLevelsBehavior, [\"templateData\", \"saveLoadLevels\"])\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { AIAttributeLevelsBehavior } from \"oni-save-parser\";\r\n\r\nimport { setCurrentObjectBehaviorValue } from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nconst mapDispatchToProps = {\r\n  setSkillLevel(index: number, level: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      AIAttributeLevelsBehavior,\r\n      [\"templateData\", \"saveLoadLevels\", `${index}`, \"level\"],\r\n      level\r\n    );\r\n  },\r\n  setSkillExperience(index: number, experience: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      AIAttributeLevelsBehavior,\r\n      [\"templateData\", \"saveLoadLevels\", `${index}`, \"experience\"],\r\n      experience\r\n    );\r\n  }\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionSkillsTab from \"./MinionSkillsTab\";\r\nexport default MinionSkillsTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { AI_TRAIT_IDS } from \"oni-save-parser\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport Table from \"@/components/Table\";\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport DataTable, {\r\n  DataTableColumn,\r\n  DataTableRow\r\n} from \"@/components/DataTable\";\r\nimport CheckInput from \"@/components/CheckInput\";\r\nimport Text from \"@/components/Text\";\r\nimport Flex from \"@/components/Flex\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionTraitsTab extends React.Component<Props> {\r\n  render() {\r\n    const { traits, onSetTrait } = this.props;\r\n\r\n    if (traits == null || traits.length === 0) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No traits could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const rows = AI_TRAIT_IDS.filter(x => x !== \"None\").map(trait => (\r\n      <Table.TR key={trait}>\r\n        <Table.TD>\r\n          <CheckInput\r\n            value={traits.some(x => x === trait)}\r\n            onCommit={onSetTrait.bind(null, trait)}\r\n          />\r\n        </Table.TD>\r\n        <Table.TD>{trait}</Table.TD>\r\n      </Table.TR>\r\n    ));\r\n\r\n    return (\r\n      <Table>\r\n        <Table.THead>\r\n          <Table.TR>\r\n            <Table.TH />\r\n            <Table.TH>Trait</Table.TH>\r\n          </Table.TR>\r\n        </Table.THead>\r\n        <Table.TBody>{rows}</Table.TBody>\r\n      </Table>\r\n    );\r\n\r\n    // const data = AI_TRAIT_IDS.map(trait => ({\r\n    //   trait: trait,\r\n    //   selected: traits.some(x => x === trait)\r\n    // }));\r\n\r\n    // const columns: DataTableColumn[] = [\r\n    //   {\r\n    //     Header: \"Has Trait\",\r\n    //     id: \"selected\",\r\n    //     Cell: (row: DataTableRow<typeof data[0]>) => (\r\n    //       <Flex\r\n    //         direction=\"row\"\r\n    //         width=\"100%\"\r\n    //         height=\"100%\"\r\n    //         justifyContent=\"center\"\r\n    //       >\r\n    //         <CheckInput\r\n    //           value={row.value.selected}\r\n    //           onCommit={onSetTrait.bind(null, row.value.trait)}\r\n    //         />\r\n    //       </Flex>\r\n    //     ),\r\n    //     accessor: x => x,\r\n    //     resizable: false,\r\n    //     width: 70,\r\n    //     sortable: true,\r\n    //     sortMethod: (a: typeof data[0], b: typeof data[0]) =>\r\n    //       a.selected != b.selected ? (a.selected ? -1 : 1) : 0\r\n    //   },\r\n    //   {\r\n    //     Header: \"Trait\",\r\n    //     id: \"trait_name\",\r\n    //     Cell: (row: DataTableRow) => <Text>{row.value}</Text>,\r\n    //     accessor: \"trait\",\r\n    //     filterable: true,\r\n    //     sortable: true\r\n    //   }\r\n    // ];\r\n\r\n    // return (\r\n    //   <DataTable\r\n    //     height=\"100%\"\r\n    //     data={data}\r\n    //     columns={columns}\r\n    //     showFilters\r\n    //     showPagination={false}\r\n    //   />\r\n    // );\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionTraitsTab);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObjectTraits } from \"@/selectors/behaviors/ai-traits\";\r\n\r\nconst structuredSelector = {\r\n  traits: getSelectedGameObjectTraits\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { setTrait } from \"@/actions/behaviors/set-traits-trait\";\r\n\r\nconst mapDispatchToProps = {\r\n  onSetTrait: setTrait\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionTraitsTab from \"./MinionTraitsTab\";\r\nexport default MinionTraitsTab;\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\nimport { MinionIdentityBehavior, GameObject } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport selectedPath from \"@/selectors/selected-path\";\r\nimport oniSave from \"@/selectors/oni-save\";\r\nimport { get } from \"lodash-es\";\r\n\r\nconst structuredSelector = {\r\n  gameObjectPath: selectedPath,\r\n  minionNamePath: createSelector(selectedPath, oniSave, (path, oniSave) => {\r\n    const gameObject: GameObject = get(oniSave, path);\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n    const behaviorIndex = gameObject.behaviors.findIndex(\r\n      x => x.name === MinionIdentityBehavior\r\n    );\r\n    if (behaviorIndex === -1) {\r\n      return null;\r\n    }\r\n    return [...path, \"behaviors\", `${behaviorIndex}`, \"templateData\", \"name\"];\r\n  })\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import MinionEditor from \"./MinionEditor\";\r\nexport default MinionEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent, FontSize } from \"@/style\";\r\n\r\nimport { formatPosition, formatSimHash, formatDisease } from \"@/format\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Toolbar from \"@/components/Toolbar\";\r\nimport Text from \"@/components/Text\";\r\n\r\nimport GameObjectHeaderContainer from \"./components/GameObjectHeaderContainer\";\r\n\r\ntype Props = StateProps;\r\nclass GameObjectHeader extends React.Component<Props> {\r\n  render() {\r\n    const { position, primaryElement } = this.props;\r\n    return (\r\n      <GameObjectHeaderContainer>\r\n        <Toolbar>\r\n          <Toolbar.Label>{this.props.children}</Toolbar.Label>\r\n\r\n          <Toolbar.Group align=\"center\" alignContent=\"center\">\r\n            <Text\r\n              intent={Intent.Secondary}\r\n              mr={1}\r\n              whiteSpace=\"nowrap\"\r\n              fontSize={FontSize.Default}\r\n            >\r\n              {position ? formatPosition(position) : \"(no object selected)\"}\r\n            </Text>\r\n          </Toolbar.Group>\r\n\r\n          <Toolbar.Group align=\"right\" alignContent=\"center\">\r\n            {primaryElement && (\r\n              <Text\r\n                intent={Intent.Secondary}\r\n                mr={1}\r\n                fontSize={FontSize.Default}\r\n              >\r\n                {formatSimHash(primaryElement)}\r\n              </Text>\r\n            )}\r\n          </Toolbar.Group>\r\n        </Toolbar>\r\n      </GameObjectHeaderContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(GameObjectHeader);\r\n","import Box from \"@/components/Box\";\r\n\r\nconst GameObjectHeaderContainer = Box;\r\nGameObjectHeaderContainer.displayName = \"GameObjectHeaderContainer\";\r\nexport default GameObjectHeaderContainer;\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport {\r\n  GameObject,\r\n  PrimaryElementBehavior,\r\n  getBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport selectedValue from \"@/selectors/selected-value\";\r\n\r\nconst position = createSelector(\r\n  selectedValue,\r\n  (value: GameObject) => value && value.position\r\n);\r\n\r\nconst primaryElementBehavior = createSelector(selectedValue, value => {\r\n  if (!value) {\r\n    return null;\r\n  }\r\n\r\n  return getBehavior(value, PrimaryElementBehavior);\r\n});\r\n\r\nconst primaryElement = createSelector(primaryElementBehavior, behavior => {\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n\r\n  return behavior.templateData.ElementID;\r\n});\r\n\r\nconst structuredSelector = {\r\n  position,\r\n  primaryElement\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import GameObjectHeader from \"./GameObjectHeader\";\r\nexport default GameObjectHeader;\r\n","import DefaultObjectEditor from \"./DefaultObjectEditor\";\r\n\r\nimport SaveRootEditor from \"./SaveRootEditor\";\r\nimport TemplateObjectEditor from \"./TemplateObjectEditor\";\r\nimport GameObjectGroupList from \"./GameObjectGroupList\";\r\nimport GameObjectList from \"./GameObjectList\";\r\n\r\nimport DefaultGameObjectEditor from \"./game-objects/DefaultGameObjectEditor\";\r\nimport MinionEditor from \"./game-objects/MinionEditor\";\r\n\r\nconst editors: Record<string, React.ComponentClass<any>> = {\r\n  \"save-root\": SaveRootEditor,\r\n  \"game-object-group-list\": GameObjectGroupList,\r\n  \"game-object-list\": GameObjectList,\r\n  \"template-object\": TemplateObjectEditor,\r\n  \"game-object-default\": DefaultGameObjectEditor,\r\n  \"game-object-minion\": MinionEditor\r\n};\r\n\r\nexport function getEditor(\r\n  editorType: string | null\r\n): React.ComponentClass<any> {\r\n  if (!editorType) {\r\n    return DefaultObjectEditor;\r\n  }\r\n\r\n  return editors[editorType] || DefaultObjectEditor;\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport { TypeInfo } from \"oni-save-parser\";\r\n\r\nimport Text from \"@/components/Text\";\r\n\r\nimport connectEditorField, {\r\n  EditorFieldProps,\r\n  InjectedProps\r\n} from \"./connect-field\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport getFieldElementClass from \"./from-typeinfo\";\r\n\r\nconst TD = Text.withComponent(\"td\");\r\n\r\nexport interface ArrayLikeFieldProps extends EditorFieldProps {\r\n  subType: TypeInfo;\r\n}\r\nconst ArrayLikeField: React.SFC<ArrayLikeFieldProps & InjectedProps> = ({\r\n  path,\r\n  subType,\r\n  value\r\n}) => {\r\n  if (value == null) {\r\n    return <Text intent={Intent.Hint}>Null Value</Text>;\r\n  }\r\n  const ValueElement = getFieldElementClass(subType);\r\n  const elements = (value as any[]).map((_, i) => {\r\n    return (\r\n      <tr key={i}>\r\n        <TD>{i}</TD>\r\n        <td>\r\n          <ValueElement path={[...path, `${i}`]} />\r\n        </td>\r\n      </tr>\r\n    );\r\n  });\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>\r\n            <Text intent={Intent.Primary}>Key</Text>\r\n          </th>\r\n          <th>\r\n            <Text intent={Intent.Primary}>Value</Text>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>{elements}</tbody>\r\n    </table>\r\n  );\r\n};\r\nArrayLikeField.displayName = \"ArrayLikeField\";\r\nexport default connectEditorField()(ArrayLikeField);\r\n","import CheckInput from \"@/components/CheckInput\";\r\n\r\nimport connectEditorField from \"./connect-field\";\r\n\r\nexport default connectEditorField()(CheckInput);\r\n","import * as React from \"react\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport NumericField from \"./NumericField\";\r\n\r\nconst ColorField: React.SFC<EditorFieldProps> = ({ path }) => (\r\n  <div>\r\n    <FormGroup label=\"R\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        minValue={0}\r\n        maxValue={1}\r\n        path={[...path, \"r\"]}\r\n      />\r\n    </FormGroup>\r\n    <FormGroup label=\"G\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        minValue={0}\r\n        maxValue={1}\r\n        path={[...path, \"g\"]}\r\n      />\r\n    </FormGroup>\r\n    <FormGroup label=\"B\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        minValue={0}\r\n        maxValue={1}\r\n        path={[...path, \"b\"]}\r\n      />\r\n    </FormGroup>\r\n    <FormGroup label=\"A\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        minValue={0}\r\n        maxValue={1}\r\n        path={[...path, \"a\"]}\r\n      />\r\n    </FormGroup>\r\n  </div>\r\n);\r\nColorField.displayName = \"ColorField\";\r\nexport default ColorField;\r\n","import * as React from \"react\";\r\n\r\nimport { TypeInfo } from \"oni-save-parser\";\r\n\r\nimport Text from \"@/components/Text\";\r\n\r\nimport connectEditorField, {\r\n  EditorFieldProps,\r\n  InjectedProps\r\n} from \"./connect-field\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport getFieldElementClass from \"./from-typeinfo\";\r\n\r\nconst TD = Text.withComponent(\"td\");\r\n\r\nexport interface DictionaryFieldProps extends EditorFieldProps {\r\n  subType: TypeInfo;\r\n}\r\nconst DictionaryField: React.SFC<DictionaryFieldProps & InjectedProps> = ({\r\n  path,\r\n  subType,\r\n  value\r\n}) => {\r\n  const ValueElement = getFieldElementClass(subType);\r\n  const elements = (value as any[]).map(([key, value], i) => {\r\n    return (\r\n      <tr key={i}>\r\n        <TD>{JSON.stringify(key)}</TD>\r\n        <td>\r\n          <ValueElement path={[...path, `${i}`, \"1\"]} />\r\n        </td>\r\n      </tr>\r\n    );\r\n  });\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>\r\n            <Text intent={Intent.Primary}>Key</Text>\r\n          </th>\r\n          <th>\r\n            <Text intent={Intent.Primary}>Value</Text>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>{elements}</tbody>\r\n    </table>\r\n  );\r\n};\r\nDictionaryField.displayName = \"DictionaryField\";\r\nexport default connectEditorField()(DictionaryField);\r\n","import connectEditorField from \"./connect-field\";\r\n\r\nimport EditableText from \"@/components/EditableText\";\r\n\r\nexport default connectEditorField()(EditableText);\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\nimport { EnumerationsByName } from \"oni-save-parser\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\nimport Select, { Option } from \"@/components/Select\";\r\n\r\nimport connectEditorField, {\r\n  EditorFieldProps,\r\n  InjectedProps\r\n} from \"./connect-field\";\r\n\r\nexport interface EnumerationFieldProps extends EditorFieldProps {\r\n  enumerationName: string;\r\n}\r\n\r\ntype Props = EnumerationFieldProps & InjectedProps;\r\nclass EnumerationField extends React.Component<Props> {\r\n  render() {\r\n    const { enumerationName, value, onCommit } = this.props;\r\n    const enumeration = getEnumeration(enumerationName);\r\n    if (!enumeration) {\r\n      return (\r\n        <span>\r\n          <NumericInput value={value} onCommit={onCommit} />\r\n          <Text intent={Intent.Hint}>{enumerationName} (unknown)</Text>\r\n        </span>\r\n      );\r\n    } else {\r\n      // Enumeration has keys for names and numbers.\r\n      const nameKeys = Object.keys(enumeration).filter(\r\n        // TODO: This is silly.  Expose a way to match the [enum]Names constants\r\n        //  to the names of enum types.\r\n        x => isNaN(parseInt(x))\r\n      );\r\n      const options: Option<number>[] = nameKeys.map(x => ({\r\n        label: x,\r\n        value: enumeration[x]\r\n      }));\r\n      return (\r\n        <Select\r\n          value={value as number}\r\n          options={options}\r\n          onChange={this._onSelectInputChange}\r\n          width=\"200px\"\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onSelectInputChange(value: number) {\r\n    if (!value) {\r\n      return;\r\n    }\r\n    const { onCommit } = this.props;\r\n    onCommit(value);\r\n  }\r\n}\r\n\r\nexport default connectEditorField()(EnumerationField);\r\n\r\nfunction getEnumeration(\r\n  enumerationName: string\r\n): (Record<string, number> & Record<number, string>) | null {\r\n  if (\r\n    !Object.prototype.hasOwnProperty.call(EnumerationsByName, enumerationName)\r\n  ) {\r\n    return null;\r\n  }\r\n\r\n  return (EnumerationsByName as any)[enumerationName];\r\n}\r\n","import NumericInput from \"@/components/NumericInput\";\r\n\r\nimport connectEditorField from \"./connect-field\";\r\n\r\nexport default connectEditorField()(NumericInput);\r\n","import TextInput from \"@/components/TextInput\";\r\n\r\nimport connectEditorField from \"./connect-field\";\r\n\r\nexport default connectEditorField()(TextInput);\r\n","import * as React from \"react\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport NumericField from \"./NumericField\";\r\n\r\nconst Vector2Field: React.SFC<EditorFieldProps> = ({ path }) => (\r\n  <div>\r\n    <FormGroup label=\"X\">\r\n      <NumericField precision=\"single\" path={[...path, \"x\"]} />\r\n    </FormGroup>\r\n    <FormGroup label=\"Y\">\r\n      <NumericField precision=\"single\" path={[...path, \"y\"]} />\r\n    </FormGroup>\r\n  </div>\r\n);\r\nVector2Field.displayName = \"Vector2Field\";\r\nexport default Vector2Field;\r\n","import * as React from \"react\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport NumericField from \"./NumericField\";\r\n\r\nconst Vector2IField: React.SFC<EditorFieldProps> = ({ path }) => (\r\n  <div>\r\n    <FormGroup label=\"X\">\r\n      <NumericField precision=\"int32\" path={[...path, \"x\"]} />\r\n    </FormGroup>\r\n    <FormGroup label=\"Y\">\r\n      <NumericField precision=\"int32\" path={[...path, \"y\"]} />\r\n    </FormGroup>\r\n  </div>\r\n);\r\nVector2IField.displayName = \"Vector2IField\";\r\nexport default Vector2IField;\r\n","import * as React from \"react\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport NumericField from \"./NumericField\";\r\n\r\nconst Vector3Field: React.SFC<EditorFieldProps> = ({ path }) => (\r\n  <div>\r\n    <FormGroup label=\"X\">\r\n      <NumericField precision=\"single\" path={[...path, \"x\"]} />\r\n    </FormGroup>\r\n    <FormGroup label=\"Y\">\r\n      <NumericField precision=\"single\" path={[...path, \"y\"]} />\r\n    </FormGroup>\r\n    <FormGroup label=\"Z\">\r\n      <NumericField precision=\"single\" path={[...path, \"z\"]} />\r\n    </FormGroup>\r\n  </div>\r\n);\r\nVector3Field.displayName = \"Vector3Field\";\r\nexport default Vector3Field;\r\n","import createCachedSelector from \"re-reselect\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nimport { EditorFieldProps } from \"./props\";\r\n\r\nconst itemPathSelector = (_: AppState, props: EditorFieldProps) => props.path;\r\n\r\nconst cacheKeyGenerator = (_: AppState, props: EditorFieldProps) =>\r\n  props.path.join(\".\");\r\n\r\nconst itemValue = createCachedSelector(\r\n  itemPathSelector,\r\n  oniSave,\r\n  (path, oniSave) => {\r\n    if (path.length === 0) {\r\n      return oniSave;\r\n    }\r\n    return get(oniSave, path);\r\n  }\r\n)(cacheKeyGenerator);\r\n\r\nfunction mapStateToProps(state: AppState, props: EditorFieldProps) {\r\n  return {\r\n    value: itemValue(state, props)\r\n  };\r\n}\r\nexport type StateProps = ReturnType<typeof mapStateToProps>;\r\nexport default mapStateToProps;\r\n","import { modifyOniSave } from \"@/actions/modify-onisave\";\r\n\r\nimport { EditorFieldProps } from \"./props\";\r\nimport { Dispatch } from \"redux\";\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch, props: EditorFieldProps) {\r\n  return {\r\n    onCommit(value: any) {\r\n      if (props.writeTo) {\r\n        props.writeTo.forEach(path => {\r\n          dispatch(modifyOniSave(props.path, value));\r\n        });\r\n      } else {\r\n        dispatch(modifyOniSave(props.path, value));\r\n      }\r\n    }\r\n  };\r\n}\r\nexport type DispatchProps = ReturnType<typeof mapDispatchToProps>;\r\nexport default mapDispatchToProps;\r\n","import { connect } from \"react-redux\";\r\n\r\nexport * from \"./props\";\r\n\r\nimport { EditorFieldProps } from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\nimport { AppState } from \"@/state\";\r\n\r\nexport type InjectedProps = StateProps & DispatchProps;\r\n\r\nexport default function connectEditorField() {\r\n  return connect<StateProps, DispatchProps, EditorFieldProps, AppState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  );\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport { TypeInfo, SerializationTypeCode, getTypeCode } from \"oni-save-parser\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport ArrayLikeField from \"./ArrayLikeField\";\r\nimport CheckField from \"./CheckField\";\r\nimport ColorField from \"./ColorField\";\r\nimport DictionaryField from \"./DictionaryField\";\r\nimport EnumerationField from \"./EnumerationField\";\r\nimport NumericField from \"./NumericField\";\r\nimport TextField from \"./TextField\";\r\nimport Vector2Field from \"./Vector2Field\";\r\nimport Vector2IField from \"./Vector2IField\";\r\nimport Vector3Field from \"./Vector3Field\";\r\n\r\nexport default function getFieldElementClass(\r\n  typeInfo: TypeInfo\r\n): React.ComponentType<EditorFieldProps> {\r\n  const code = getTypeCode(typeInfo.info);\r\n  switch (code) {\r\n    case SerializationTypeCode.Array:\r\n      return (props: EditorFieldProps) => (\r\n        <ArrayLikeField {...props} subType={typeInfo.subTypes![0]} />\r\n      );\r\n    case SerializationTypeCode.Boolean:\r\n      return (props: EditorFieldProps) => <CheckField {...props} />;\r\n    case SerializationTypeCode.Byte:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} minValue={0} maxValue={0xff} />\r\n      );\r\n    case SerializationTypeCode.Colour:\r\n      return (props: EditorFieldProps) => <ColorField {...props} />;\r\n    case SerializationTypeCode.Dictionary:\r\n      return (props: EditorFieldProps) => (\r\n        <DictionaryField subType={typeInfo.subTypes![1]} {...props} />\r\n      );\r\n    case SerializationTypeCode.Double:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"double\" />\r\n      );\r\n    case SerializationTypeCode.Enumeration:\r\n      return (props: EditorFieldProps) => (\r\n        <EnumerationField {...props} enumerationName={typeInfo.templateName!} />\r\n      );\r\n    case SerializationTypeCode.HashSet:\r\n      return (props: EditorFieldProps) => (\r\n        <ArrayLikeField {...props} subType={typeInfo.subTypes![0]} />\r\n      );\r\n    case SerializationTypeCode.Int16:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"int16\" />\r\n      );\r\n    case SerializationTypeCode.Int32:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"int32\" />\r\n      );\r\n    case SerializationTypeCode.Int64:\r\n      return () => <Text intent={Intent.Dangerous}>TODO Int64</Text>;\r\n    case SerializationTypeCode.List:\r\n      return (props: EditorFieldProps) => (\r\n        <ArrayLikeField {...props} subType={typeInfo.subTypes![0]} />\r\n      );\r\n    case SerializationTypeCode.Pair:\r\n      return () => <Text intent={Intent.Dangerous}>TODO Pair</Text>;\r\n    case SerializationTypeCode.SByte:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} minValue={-128} maxValue={127} />\r\n      );\r\n    case SerializationTypeCode.Single:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"single\" />\r\n      );\r\n    case SerializationTypeCode.String:\r\n      return (props: EditorFieldProps) => <TextField {...props} />;\r\n    case SerializationTypeCode.UInt16:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"uint16\" />\r\n      );\r\n    case SerializationTypeCode.UInt32:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"uint32\" />\r\n      );\r\n    case SerializationTypeCode.UInt64:\r\n      return () => <Text intent={Intent.Dangerous}>TODO UInt64</Text>;\r\n    case SerializationTypeCode.UserDefined:\r\n      return (props: EditorFieldProps) => (\r\n        <SaveStructureLink intent={Intent.Primary} path={props.path}>\r\n          [{typeInfo.templateName || \"Edit\"}]\r\n        </SaveStructureLink>\r\n      );\r\n    case SerializationTypeCode.Vector2:\r\n      return Vector2Field;\r\n    case SerializationTypeCode.Vector2I:\r\n      return Vector2IField;\r\n    case SerializationTypeCode.Vector3:\r\n      return Vector3Field;\r\n    default:\r\n      return handleUnknownType(code);\r\n  }\r\n}\r\n\r\nfunction handleUnknownType(type: never): never {\r\n  throw new Error(`Type code \"${type}\" is unknown.`);\r\n}\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport {\r\n  getSaveItemEditor,\r\n  getSaveItemEditorProps\r\n} from \"@/services/save-structure\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\n\r\nconst stateSelectors = {\r\n  editorType: createSelector(\r\n    oniSave,\r\n    selectedPath,\r\n    (oniSave, selectedPath) =>\r\n      (oniSave && getSaveItemEditor(selectedPath, oniSave)) || null\r\n  ),\r\n  editorProps: createSelector(\r\n    oniSave,\r\n    selectedPath,\r\n    (oniSave, selectedPath) =>\r\n      oniSave && getSaveItemEditorProps(selectedPath, oniSave)\r\n  )\r\n};\r\nexport type StateProps = StructuredStateProps<typeof stateSelectors>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  stateSelectors\r\n);\r\nexport default mapStateToProps;\r\n","import SaveEditor from \"./SaveEditor\";\r\nexport default SaveEditor;\r\n","import reduceReducers from \"reduce-reducers\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport modifyCurrentObjectBehaviorArray from \"./modify-currentobject-behavior-array\";\r\nimport setAccessoryReducer from \"./set-accessory\";\r\nimport setCurrentObjectBehaviorValueReducer from \"./set-currentobject-behavior-value\";\r\nimport setElementDiseaseReducer from \"./set-element-disease\";\r\nimport setHealthStateReducer from \"./set-health-state\";\r\nimport setIdentityGenderReducer from \"./set-identity-gender\";\r\nimport setModifierAmountReducer from \"./set-modifier-amount\";\r\nimport setTraitReducer from \"./set-traits-trait\";\r\n\r\nconst reducers = [\r\n  modifyCurrentObjectBehaviorArray,\r\n  setAccessoryReducer,\r\n  setCurrentObjectBehaviorValueReducer,\r\n  setElementDiseaseReducer,\r\n  setHealthStateReducer,\r\n  setIdentityGenderReducer,\r\n  setModifierAmountReducer,\r\n  setTraitReducer\r\n];\r\n\r\nexport default reduceReducers<AppState, any>(...reducers);\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  isCurrentObjectBehaviorArrayAction,\r\n  ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM,\r\n  ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM,\r\n  ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX\r\n} from \"@/actions/behaviors/modify-currentobject-behavior-array\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function modifyCurrentObjectBehaviorArray(\r\n  state: AppState = defaultAppState,\r\n  action: AnyAction\r\n): AppState {\r\n  if (!isCurrentObjectBehaviorArrayAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  const { behaviorName, path } = action.payload;\r\n\r\n  return produceFromBehavior(state, behaviorName, behavior => {\r\n    const array = get(behavior, path) as any[];\r\n    switch (action.type) {\r\n      case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM: {\r\n        const { value, index } = action.payload;\r\n        if (index != null) {\r\n          array.splice(index, 0, value);\r\n        } else {\r\n          array.push(value);\r\n        }\r\n        return;\r\n      }\r\n      case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM: {\r\n        const { value } = action.payload;\r\n        const index = array.indexOf(value);\r\n        if (index >= 0) {\r\n          array.splice(index, 1);\r\n        }\r\n        return;\r\n      }\r\n      case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX: {\r\n        const { index } = action.payload;\r\n        if (index < 0 || index >= array.length) {\r\n          return;\r\n        }\r\n        array.splice(index, 1);\r\n        return;\r\n      }\r\n    }\r\n  });\r\n}\r\n","import {\r\n  AccessorizerBehavior,\r\n  Accessory,\r\n  getIndexOfAccessoryType\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_SET_ACCESSORY,\r\n  SetAccessoryAction\r\n} from \"@/actions/behaviors/set-accessory\";\r\nimport { produceFromBehavior } from \"@/reducer/behaviors/utils\";\r\n\r\nexport default function setAccessoryReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetAccessoryAction\r\n): AppState {\r\n  if (action.type !== ACTION_SET_ACCESSORY) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, AccessorizerBehavior, behavior => {\r\n    const { accessoryName, accessoryType } = action.payload;\r\n    const { accessories } = behavior.templateData;\r\n\r\n    const accessoryIndex = getIndexOfAccessoryType(accessories, accessoryType);\r\n\r\n    if (accessoryName === null) {\r\n      // Remove\r\n      accessories.splice(accessoryIndex, 1);\r\n      return;\r\n    }\r\n\r\n    const newAccessory = Accessory(accessoryName);\r\n\r\n    if (accessoryIndex === -1) {\r\n      // Add\r\n      accessories.push(newAccessory);\r\n    } else {\r\n      // Replace\r\n      accessories[accessoryIndex] = newAccessory;\r\n    }\r\n  });\r\n}\r\n","import { set } from \"lodash-es\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE,\r\n  SetCurrentObjectBehaviorValueAction\r\n} from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setCurrentObjectBehaviorValueReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetCurrentObjectBehaviorValueAction\r\n): AppState {\r\n  if (action.type !== ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE) {\r\n    return state;\r\n  }\r\n\r\n  const { behaviorName, path, value } = action.payload;\r\n\r\n  return produceFromBehavior(state, behaviorName, behavior => {\r\n    set(behavior, path, value);\r\n  });\r\n}\r\n","import { PrimaryElementBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_PRIMARY_ELEMENT_SET_DISEASE,\r\n  SetPrimaryElementDiseaseAction\r\n} from \"@/actions/behaviors/set-element-disease\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setElementDiseaseReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetPrimaryElementDiseaseAction\r\n): AppState {\r\n  if (action.type !== ACTION_PRIMARY_ELEMENT_SET_DISEASE) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, PrimaryElementBehavior, behavior => {\r\n    const { diseaseId, diseaseCount } = action.payload;\r\n    behavior.templateData.diseaseID = diseaseId;\r\n    behavior.templateData.diseaseCount = diseaseCount;\r\n  });\r\n}\r\n","import { HealthBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_HEALTH_SET_STATE,\r\n  SetHealthStateAction\r\n} from \"@/actions/behaviors/set-health-state\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setHealthStateReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetHealthStateAction\r\n): AppState {\r\n  if (action.type !== ACTION_HEALTH_SET_STATE) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, HealthBehavior, behavior => {\r\n    behavior.templateData.State = action.payload;\r\n  });\r\n}\r\n","import { MinionIdentityBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_MINION_IDENTITY_SET_GENDER,\r\n  SetMinionIdentityGenderAction\r\n} from \"@/actions/behaviors/set-identity-gender\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setIdentityGenderReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetMinionIdentityGenderAction\r\n): AppState {\r\n  if (action.type !== ACTION_MINION_IDENTITY_SET_GENDER) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, MinionIdentityBehavior, behavior => {\r\n    behavior.templateData.gender = action.payload;\r\n    behavior.templateData.genderStringKey = action.payload;\r\n  });\r\n}\r\n","import { MinionModifiersBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_MINION_MODIFIER_SET_VALUE,\r\n  SetMinionModifierValueAction\r\n} from \"@/actions/behaviors/set-modifier-amount\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setModifierAmountReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetMinionModifierValueAction\r\n): AppState {\r\n  if (action.type !== ACTION_MINION_MODIFIER_SET_VALUE) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, MinionModifiersBehavior, behavior => {\r\n    const { amountType, value } = action.payload;\r\n    if (!behavior.extraData) {\r\n      return;\r\n    }\r\n    const amount = behavior.extraData.amounts.find(x => x.name === amountType);\r\n    if (!amount) {\r\n      return;\r\n    }\r\n    amount.value.value = value;\r\n  });\r\n}\r\n","import { AITraitsBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_TRAITS_SET,\r\n  SetTraitAction\r\n} from \"@/actions/behaviors/set-traits-trait\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setTraitReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetTraitAction\r\n): AppState {\r\n  if (action.type !== ACTION_TRAITS_SET) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, AITraitsBehavior, behavior => {\r\n    const { traitId, isSet } = action.payload;\r\n    const { TraitIds } = behavior.templateData;\r\n    const index = TraitIds.findIndex(x => x === traitId);\r\n    if (index !== -1) {\r\n      if (!isSet) {\r\n        TraitIds.splice(index, 1);\r\n      }\r\n    } else {\r\n      if (isSet) {\r\n        TraitIds.push(traitId);\r\n      }\r\n    }\r\n  });\r\n}\r\n","import { BehaviorName, GameObjectBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { produceFromGameObject } from \"@/reducer/game-object/utils\";\r\n\r\nexport function produceFromBehavior<TBehav extends GameObjectBehavior>(\r\n  state: AppState,\r\n  behaviorName: BehaviorName<TBehav>,\r\n  producer: (behavior: TBehav) => void\r\n): AppState {\r\n  return produceFromGameObject(state, gameObject => {\r\n    const behavior = getBehavior(gameObject, behaviorName);\r\n    if (!behavior) {\r\n      return;\r\n    }\r\n\r\n    return producer(behavior);\r\n  });\r\n}\r\n","import { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_DISMISS_ERROR,\r\n  DismissErrorAction\r\n} from \"@/actions/dismiss-error\";\r\n\r\nexport default function dismissErrorReducer(\r\n  state: AppState = defaultAppState,\r\n  action: DismissErrorAction\r\n): AppState {\r\n  if (action.type !== ACTION_DISMISS_ERROR) {\r\n    return state;\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    error: null\r\n  };\r\n}\r\n","import reduceReducers from \"reduce-reducers\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport setGameObjectScaleReducer from \"./set-scale\";\r\n\r\nconst reducers = [setGameObjectScaleReducer];\r\n\r\nexport default reduceReducers<AppState, any>(...reducers);\r\n","import { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_GAME_OBJECT_SET_SCALE,\r\n  SetGameObjectScaleAction\r\n} from \"@/actions/game-object/set-scale\";\r\n\r\nimport { produceFromGameObject } from \"./utils\";\r\n\r\nexport default function setGameObjectScaleReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetGameObjectScaleAction\r\n): AppState {\r\n  if (action.type !== ACTION_GAME_OBJECT_SET_SCALE) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromGameObject(state, gameObject => {\r\n    const { x, y, z } = action.payload;\r\n    gameObject.scale.x = x;\r\n    gameObject.scale.y = y;\r\n    gameObject.scale.z = z;\r\n  });\r\n}\r\n","import produce from \"immer\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { GameObject } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObjectPath } from \"@/selectors/game-object\";\r\n\r\nexport function produceFromGameObject(\r\n  state: AppState,\r\n  producer: (gameObject: GameObject) => void\r\n): AppState {\r\n  if (state.loadingState !== \"ready\") {\r\n    return state;\r\n  }\r\n\r\n  const path = getSelectedGameObjectPath(state);\r\n  if (!path) {\r\n    return state;\r\n  }\r\n\r\n  return produce(state, state => {\r\n    const gameObject: GameObject = get(state.oniSave, path);\r\n    if (!gameObject) {\r\n      return;\r\n    }\r\n\r\n    return producer(gameObject);\r\n  });\r\n}\r\n","import { Reducer } from \"redux\";\r\nimport reduceReducers from \"reduce-reducers\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport behaviorsReducer from \"./behaviors\";\r\nimport gameObjectReducer from \"./game-object\";\r\n\r\nimport dismissErrorReducer from \"./dismiss-error\";\r\nimport modifyOniSave from \"./modify-onisave\";\r\nimport parseProgressReducer from \"./onisave-parse-progress\";\r\nimport receiveOniSaveReducer from \"./receive-onisave\";\r\nimport selectPathReducer from \"./select-path\";\r\nimport setEditModeReducer from \"./set-editmode\";\r\n\r\nconst reducers: Reducer<AppState, any>[] = [\r\n  behaviorsReducer,\r\n  gameObjectReducer,\r\n  dismissErrorReducer,\r\n  modifyOniSave,\r\n  parseProgressReducer,\r\n  receiveOniSaveReducer,\r\n  selectPathReducer,\r\n  setEditModeReducer\r\n];\r\n\r\nexport default reduceReducers<AppState, any>(...reducers);\r\n","import produce from \"immer\";\r\n\r\nimport { set } from \"lodash-es\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_ONISAVE_MODIFY,\r\n  ModifyOniSaveAction\r\n} from \"../actions/modify-onisave\";\r\n\r\nexport default function modifyOniSaveReducer(\r\n  state: AppState = defaultAppState,\r\n  action: ModifyOniSaveAction\r\n): AppState {\r\n  if (action.type !== ACTION_ONISAVE_MODIFY) {\r\n    return state;\r\n  }\r\n\r\n  const { loadingState, oniSave } = state;\r\n  if (loadingState !== \"ready\" || !oniSave) {\r\n    return state;\r\n  }\r\n\r\n  const { path, value } = action.payload;\r\n\r\n  return produce(state, draft => {\r\n    set(draft.oniSave!, path, value);\r\n  });\r\n}\r\n","import { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_ONISAVE_PARSE_PROGRESS,\r\n  ParseProgressAction\r\n} from \"@/actions/onisave-parse-progress\";\r\n\r\nexport default function parseProgressReducer(\r\n  state: AppState = defaultAppState,\r\n  action: ParseProgressAction\r\n): AppState {\r\n  if (action.type !== ACTION_ONISAVE_PARSE_PROGRESS) {\r\n    return state;\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    loadingProgressMessage: action.payload.message\r\n  };\r\n}\r\n","import {\r\n  ReceiveOniSaveAction,\r\n  ACTION_RECEIVE_ONISAVE_BEGIN,\r\n  ACTION_RECEIVE_ONISAVE_ERROR,\r\n  ACTION_RECEIVE_ONISAVE_SUCCESS\r\n} from \"../actions/receive-onisave\";\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nexport default function receiveOniSaveReducer(\r\n  state: AppState = defaultAppState,\r\n  action: ReceiveOniSaveAction\r\n): AppState {\r\n  switch (action.type) {\r\n    case ACTION_RECEIVE_ONISAVE_BEGIN:\r\n      return {\r\n        ...state,\r\n        error: null,\r\n        loadingState: action.payload.operation,\r\n        loadingProgressMessage: null,\r\n        selectedPath: [],\r\n        oniSave: action.payload.clearExisting ? null : state.oniSave\r\n      };\r\n    case ACTION_RECEIVE_ONISAVE_ERROR:\r\n      state = {\r\n        ...state,\r\n        loadingState: \"idle\",\r\n        selectedPath: [],\r\n        error: action.payload\r\n      };\r\n      break;\r\n    case ACTION_RECEIVE_ONISAVE_SUCCESS:\r\n      state = {\r\n        ...state,\r\n        loadingState: \"ready\",\r\n        loadingProgressMessage: null,\r\n        error: null,\r\n        selectedPath: [],\r\n        oniSave: action.payload\r\n      };\r\n  }\r\n\r\n  return state;\r\n}\r\n","import { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport { ACTION_SELECT_PATH, SelectPathAction } from \"@/actions/select-path\";\r\n\r\nexport default function selectPathReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SelectPathAction\r\n): AppState {\r\n  if (action.type !== ACTION_SELECT_PATH) {\r\n    return state;\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    selectedPath: action.payload\r\n  };\r\n}\r\n","import { ACTION_SET_EDITMODE, SetEditModeAction } from \"@/actions/set-editmode\";\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nexport default function setEditMode(\r\n  state: AppState = defaultAppState,\r\n  action: SetEditModeAction\r\n): AppState {\r\n  if (action.type !== ACTION_SET_EDITMODE) {\r\n    return state;\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    editMode: action.payload\r\n  };\r\n}\r\n","import * as React from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport { ThemeProvider, theme } from \"@/style\";\r\n\r\nimport store from \"./store\";\r\n\r\nimport App from \"./App\";\r\n\r\nconst Root: React.SFC = () => (\r\n  <Provider store={store}>\r\n    <ThemeProvider theme={theme}>\r\n      <App />\r\n    </ThemeProvider>\r\n  </Provider>\r\n);\r\n\r\nexport default hot(module)(Root);\r\n","import platform from \"platform\";\r\n\r\nconst OS_WINDOWS = /windows/i;\r\nconst OS_MAC = /Mac|iOS|(OS\\ X)/;\r\nconst OS_LINUX = /linux/i;\r\n\r\nexport type OSType = \"windows\" | \"mac\" | \"linux\" | \"unknown\";\r\n\r\nconst osPlatform = (platform.os && platform.os.family) || \"unknown\";\r\nexport const OSType: OSType = OS_WINDOWS.test(osPlatform)\r\n  ? \"windows\"\r\n  : OS_MAC.test(osPlatform)\r\n    ? \"mac\"\r\n    : OS_LINUX.test(osPlatform)\r\n      ? \"linux\"\r\n      : \"unknown\";\r\n","import { fork } from \"redux-saga/effects\";\r\n\r\nimport loadOniSaveSaga from \"./load-onisave\";\r\nimport saveOniSaveSaga from \"./save-onisave\";\r\n\r\nexport default function* saga() {\r\n  yield fork(loadOniSaveSaga);\r\n  yield fork(saveOniSaveSaga);\r\n}\r\n","import { eventChannel, END } from \"redux-saga\";\r\nimport { call, put, takeEvery, take } from \"redux-saga/effects\";\r\n\r\nimport { ACTION_ONISAVE_LOAD, LoadOniSaveAction } from \"@/actions/load-onisave\";\r\n\r\nimport {\r\n  receiveOniSaveBegin,\r\n  receiveOniSaveError,\r\n  receiveOniSaveSuccess\r\n} from \"@/actions/receive-onisave\";\r\nimport { parseProgress } from \"@/actions/onisave-parse-progress\";\r\n\r\nimport { parseSave } from \"@/services/save-serializer\";\r\n\r\nexport default function* saveEditorSaga() {\r\n  yield takeEvery(ACTION_ONISAVE_LOAD, handleOniSaveLoad);\r\n}\r\n\r\nfunction* handleOniSaveLoad(action: LoadOniSaveAction) {\r\n  const file = action.payload;\r\n\r\n  yield put(receiveOniSaveBegin(\"loading\", true));\r\n\r\n  const data: ArrayBuffer = yield call(readFile, file);\r\n\r\n  const loadChannel = createLoadChannel(data);\r\n\r\n  while (true) {\r\n    const msg = yield take(loadChannel);\r\n    if (msg.type === \"progress\") {\r\n      yield put(parseProgress(msg.message));\r\n      continue;\r\n    } else if (msg.type === \"success\") {\r\n      yield put(receiveOniSaveSuccess(msg.saveGame));\r\n      return;\r\n    } else if (msg.type === \"error\") {\r\n      yield put(receiveOniSaveError(msg.error));\r\n      return;\r\n    }\r\n  }\r\n}\r\n\r\nfunction createLoadChannel(data: ArrayBuffer) {\r\n  return eventChannel(emitter => {\r\n    function onProgress(message: string) {\r\n      emitter({\r\n        type: \"progress\",\r\n        message\r\n      });\r\n    }\r\n\r\n    parseSave(data, onProgress)\r\n      .then(saveGame => {\r\n        emitter({\r\n          type: \"success\",\r\n          saveGame\r\n        });\r\n        emitter(END);\r\n      })\r\n      .catch(error => {\r\n        emitter({\r\n          type: \"error\",\r\n          error\r\n        });\r\n        emitter(END);\r\n      });\r\n\r\n    //This is the cancellation func.\r\n    // TODO: We can support cancellation in oni-save-parser rather easily.\r\n    return () => {};\r\n  });\r\n}\r\n\r\nfunction readFile(file: File): Promise<ArrayBuffer> {\r\n  const reader = new FileReader();\r\n  return new Promise<ArrayBuffer>((accept, reject) => {\r\n    reader.onload = () => {\r\n      accept(reader.result as ArrayBuffer);\r\n    };\r\n    reader.onerror = () => {\r\n      reject(reader.error);\r\n    };\r\n    reader.readAsArrayBuffer(file);\r\n  });\r\n}\r\n","import { eventChannel, END } from \"redux-saga\";\r\nimport { put, select, takeEvery, take } from \"redux-saga/effects\";\r\n\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { saveAs } from \"file-saver\";\r\n\r\nimport { ACTION_ONISAVE_SAVE, SaveOniSaveAction } from \"@/actions/save-onisave\";\r\n\r\nimport {\r\n  receiveOniSaveBegin,\r\n  receiveOniSaveError,\r\n  receiveOniSaveSuccess\r\n} from \"@/actions/receive-onisave\";\r\n\r\nimport { parseProgress } from \"@/actions/onisave-parse-progress\";\r\n\r\nimport { writeSave } from \"@/services/save-serializer\";\r\n\r\nimport oniSaveSelector from \"@/selectors/oni-save\";\r\n\r\nexport default function* saveEditorSaga() {\r\n  yield takeEvery(ACTION_ONISAVE_SAVE, handleOniSaveWrite);\r\n}\r\n\r\nfunction* handleOniSaveWrite(action: SaveOniSaveAction) {\r\n  const saveName = action.payload;\r\n\r\n  const saveGame: SaveGame | null = yield select(oniSaveSelector);\r\n  if (!saveGame) {\r\n    return;\r\n  }\r\n\r\n  yield put(receiveOniSaveBegin(\"saving\"));\r\n\r\n  const saveChannel = createSaveChannel(saveGame);\r\n\r\n  while (true) {\r\n    const msg = yield take(saveChannel);\r\n    if (msg.type === \"progress\") {\r\n      yield put(parseProgress(msg.message));\r\n      continue;\r\n    } else if (msg.type === \"success\") {\r\n      saveAs(msg.blob, saveName);\r\n      yield put(receiveOniSaveSuccess(saveGame));\r\n      return;\r\n    } else if (msg.type === \"error\") {\r\n      yield put(receiveOniSaveError(msg.error));\r\n      return;\r\n    }\r\n  }\r\n}\r\n\r\nfunction createSaveChannel(saveGame: SaveGame) {\r\n  return eventChannel(emitter => {\r\n    function onProgress(message: string) {\r\n      emitter({\r\n        type: \"progress\",\r\n        message\r\n      });\r\n    }\r\n\r\n    writeSave(saveGame, onProgress)\r\n      .then(data => {\r\n        const blob = new Blob([data]);\r\n        emitter({\r\n          type: \"success\",\r\n          blob\r\n        });\r\n        emitter(END);\r\n      })\r\n      .catch(error => {\r\n        emitter({\r\n          type: \"error\",\r\n          error\r\n        });\r\n        emitter(END);\r\n      });\r\n\r\n    //This is the cancellation func.\r\n    // TODO: We can support cancellation in oni-save-parser rather easily.\r\n    return () => {};\r\n  });\r\n}\r\n","import { AITraitsBehavior } from \"oni-save-parser\";\r\n\r\nimport { getCurrentGameObjectBehaviorSelector } from \"@/selectors/behaviors/utils\";\r\nimport { createSelector } from \"reselect\";\r\n\r\nexport const getSelectedGameObjectIdentityBehavior = getCurrentGameObjectBehaviorSelector(\r\n  AITraitsBehavior\r\n);\r\n\r\nexport const getSelectedGameObjectTraits = createSelector(\r\n  getSelectedGameObjectIdentityBehavior,\r\n  behavior => {\r\n    if (behavior == null) {\r\n      return null;\r\n    }\r\n\r\n    return behavior.templateData.TraitIds;\r\n  }\r\n);\r\n","import { createSelector } from \"reselect\";\r\n\r\nimport { HealthBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObject } from \"../game-object\";\r\n\r\nexport const getSelectedGameObjectHealthBehavior = createSelector(\r\n  getSelectedGameObject,\r\n  gameObject => {\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n\r\n    return getBehavior(gameObject, HealthBehavior);\r\n  }\r\n);\r\n\r\nexport const getSelectedGameObjectHealthState = (state: AppState) => {\r\n  const behavior = getSelectedGameObjectHealthBehavior(state);\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n  return behavior.templateData.State;\r\n};\r\n","import { MinionIdentityBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorSelector } from \"@/selectors/behaviors/utils\";\r\n\r\nexport const getSelectedGameObjectIdentityBehavior = getCurrentGameObjectBehaviorSelector(\r\n  MinionIdentityBehavior\r\n);\r\n\r\nexport const getSelectedGameObjectGender = (state: AppState) => {\r\n  const behavior = getSelectedGameObjectIdentityBehavior(state);\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n  return behavior.templateData.genderStringKey;\r\n};\r\n","import { createSelector, Selector } from \"reselect\";\r\n\r\nimport { memoize } from \"lodash-es\";\r\n\r\nimport { MinionModifiersBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorSelector } from \"@/selectors/behaviors/utils\";\r\n\r\nexport const getSelectedGameObjectModifiersBehavior = getCurrentGameObjectBehaviorSelector(\r\n  MinionModifiersBehavior\r\n);\r\n\r\nfunction createSelectedGameObjectModifierValueSelector(\r\n  amountId: string\r\n): Selector<AppState, number | null> {\r\n  return createSelector(getSelectedGameObjectModifiersBehavior, behavior => {\r\n    if (!behavior) {\r\n      return null;\r\n    }\r\n\r\n    const extraData = behavior.extraData;\r\n    if (!extraData) {\r\n      return null;\r\n    }\r\n\r\n    const amount = extraData.amounts.find(x => x.name === amountId);\r\n    if (!amount) {\r\n      return null;\r\n    }\r\n    return amount.value.value;\r\n  });\r\n}\r\n\r\nexport const getSelectedGameObjectModifierValueSelector = memoize(\r\n  createSelectedGameObjectModifierValueSelector\r\n);\r\n","import { PrimaryElementBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorSelector } from \"@/selectors/behaviors/utils\";\r\n\r\nexport const getSelectedGameObjectElementBehavior = getCurrentGameObjectBehaviorSelector(\r\n  PrimaryElementBehavior\r\n);\r\n\r\nexport const getSelectedGameObjectElementDiseaseId = (state: AppState) => {\r\n  const behavior = getSelectedGameObjectElementBehavior(state);\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n  return behavior.templateData.diseaseID;\r\n};\r\n\r\nexport const getSelectedGameObjectElementDiseaseCount = (state: AppState) => {\r\n  const behavior = getSelectedGameObjectElementBehavior(state);\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n  return behavior.templateData.diseaseCount;\r\n};\r\n","import { createSelector, Selector } from \"reselect\";\r\n\r\nimport { memoize, get } from \"lodash-es\";\r\n\r\nimport { BehaviorName, GameObjectBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport getSelectedGameObject from \"@/selectors/game-object\";\r\n\r\nfunction createCurrentGameObjectBehaviorSelector<T extends GameObjectBehavior>(\r\n  behaviorName: BehaviorName<T>\r\n): Selector<AppState, T | null> {\r\n  return createSelector(getSelectedGameObject, gameObject => {\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n\r\n    return getBehavior(gameObject, behaviorName) || null;\r\n  });\r\n}\r\n\r\n// Using an inline function breaks the inference of the behavior.\r\nexport const getCurrentGameObjectBehaviorSelector = memoize(\r\n  createCurrentGameObjectBehaviorSelector\r\n) as typeof createCurrentGameObjectBehaviorSelector;\r\n\r\nexport function createCurrentGameObjectBehaviorPropertySelector<\r\n  T extends GameObjectBehavior,\r\n  TResult\r\n>(\r\n  behaviorName: BehaviorName<T>,\r\n  valueSelector: string[] | Selector<T, TResult>\r\n): Selector<AppState, TResult | null> {\r\n  let valueSelectFunc: Selector<T, TResult>;\r\n  if (Array.isArray(valueSelector)) {\r\n    valueSelectFunc = behavior => get(behavior, valueSelector);\r\n  } else {\r\n    valueSelectFunc = valueSelector;\r\n  }\r\n\r\n  const behaviorSelector = getCurrentGameObjectBehaviorSelector(behaviorName);\r\n  return createSelector(behaviorSelector, behavior => {\r\n    if (!behavior) {\r\n      return null;\r\n    }\r\n    return valueSelectFunc(behavior);\r\n  });\r\n}\r\n\r\ntype getCGOBByPath = <T extends GameObjectBehavior, TResult>(\r\n  behaviorName: BehaviorName<T>,\r\n  valuePath: string[]\r\n) => Selector<AppState, TResult>;\r\n\r\nexport const getCurrentGameObjectBehaviorPropertySelector = memoize(\r\n  createCurrentGameObjectBehaviorPropertySelector,\r\n  (behaviorName: string, behaviorPath: string[]) =>\r\n    [behaviorName, behaviorPath.join(\".\")].join(\"::\")\r\n) as getCGOBByPath;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst editModeSelector = (state: AppState) => state.editMode;\r\nexport default editModeSelector;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst errorSelector = (state: AppState) => state.error;\r\nexport default errorSelector;\r\n","import { createSelector } from \"reselect\";\r\n\r\nimport { GameObject } from \"oni-save-parser\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport selectedPath from \"./selected-path\";\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nconst GAME_OBJECT_PATH = [/gameObjects/, /.+/, /gameObjects/, /\\d+/];\r\n\r\nexport const getIsGameObjectSelected = createSelector(selectedPath, path => {\r\n  if (!path) {\r\n    return null;\r\n  }\r\n\r\n  if (path.length < GAME_OBJECT_PATH.length) {\r\n    return false;\r\n  }\r\n\r\n  return GAME_OBJECT_PATH.every((x, i) => x.test(path[i]));\r\n});\r\n\r\nexport const getSelectedGameObjectPath = createSelector(\r\n  selectedPath,\r\n  getIsGameObjectSelected,\r\n  (path, valid) => {\r\n    if (!valid) {\r\n      return null;\r\n    }\r\n\r\n    return path.slice(0, GAME_OBJECT_PATH.length);\r\n  }\r\n);\r\n\r\nexport const getSelectedGameObject = createSelector(\r\n  oniSave,\r\n  getSelectedGameObjectPath,\r\n  (oniSave, path) => {\r\n    if (!oniSave || !path) {\r\n      return null;\r\n    }\r\n\r\n    return get(oniSave, path) as GameObject;\r\n  }\r\n);\r\n\r\nexport const getSelectedGameObjectScale = createSelector(\r\n  getSelectedGameObject,\r\n  gameObject => {\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n    return gameObject.scale;\r\n  }\r\n);\r\n\r\nexport default getSelectedGameObject;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst loadingProgressMessageSelector = (state: AppState) =>\r\n  state.loadingProgressMessage;\r\nexport default loadingProgressMessageSelector;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst loadingStateSelector = (state: AppState) => state.loadingState;\r\nexport default loadingStateSelector;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst oniSaveSelector = (state: AppState) => state.oniSave;\r\nexport default oniSaveSelector;\r\n","import { createSelector } from \"reselect\";\r\n\r\nimport { getSaveItemBreadcrumb } from \"@/services/save-structure\";\r\n\r\nimport selectedPath from \"./selected-path\";\r\nimport oniSave from \"./oni-save\";\r\n\r\nconst selectedPathBreadcrumbSelector = createSelector(\r\n  selectedPath,\r\n  oniSave,\r\n  (selectedPath, oniSave) =>\r\n    oniSave ? getSaveItemBreadcrumb(selectedPath, oniSave) : []\r\n);\r\nexport default selectedPathBreadcrumbSelector;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst selectedPathSelector = (state: AppState) => state.selectedPath;\r\nexport default selectedPathSelector;\r\n","import { createSelector } from \"reselect\";\r\n\r\nimport { getSaveItemEditValue } from \"@/services/save-structure\";\r\n\r\nimport selectedPath from \"./selected-path\";\r\nimport oniSave from \"./oni-save\";\r\n\r\nconst selectedValueSelector = createSelector(\r\n  oniSave,\r\n  selectedPath,\r\n  (saveGame, selectedPath) => {\r\n    if (!saveGame) {\r\n      return null;\r\n    }\r\n\r\n    if (selectedPath.length === 0) {\r\n      return saveGame;\r\n    }\r\n\r\n    return getSaveItemEditValue(selectedPath, saveGame);\r\n  }\r\n);\r\nexport default selectedValueSelector;\r\n","export * from \"./worker-instance\";\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nimport {\r\n  RESPONSE_PROGRESS,\r\n  RESPONSE_PARSE_ERROR,\r\n  RESPONSE_PARSE_SUCCESS,\r\n  RESPONSE_WRITE_ERROR,\r\n  RESPONSE_WRITE_SUCCESS,\r\n  SaveParserResultEvent,\r\n  parseSave as parseSaveCommand,\r\n  writeSave as writeSaveCommand,\r\n  jsonToError\r\n} from \"./worker-messages\";\r\n\r\nimport SaveLoadWorker from \"worker-loader!./save-serializer.worker\";\r\n\r\nconst worker = new SaveLoadWorker();\r\n\r\nexport function parseSave(\r\n  data: ArrayBuffer,\r\n  onProgress?: (message: string) => void\r\n): Promise<SaveGame> {\r\n  const promise = new Promise<SaveGame>((accept, reject) => {\r\n    const unhook = () => {\r\n      worker.onerror = null;\r\n      worker.onmessage = null;\r\n    };\r\n\r\n    worker.onerror = error => reject(error);\r\n    worker.onmessage = (message: SaveParserResultEvent) => {\r\n      const { data } = message;\r\n      switch (data.type) {\r\n        case RESPONSE_PROGRESS:\r\n          onProgress && onProgress(data.message);\r\n          break;\r\n        case RESPONSE_PARSE_SUCCESS:\r\n          unhook();\r\n          accept(data.saveGame);\r\n          break;\r\n        case RESPONSE_PARSE_ERROR:\r\n          unhook();\r\n          reject(jsonToError(data.error));\r\n          break;\r\n      }\r\n    };\r\n  });\r\n\r\n  worker.postMessage(parseSaveCommand(data));\r\n\r\n  return promise;\r\n}\r\n\r\nexport function writeSave(\r\n  saveGame: SaveGame,\r\n  onProgress?: (message: string) => void\r\n): Promise<ArrayBuffer> {\r\n  const promise = new Promise<ArrayBuffer>((accept, reject) => {\r\n    const unhook = () => {\r\n      worker.onerror = null;\r\n      worker.onmessage = null;\r\n    };\r\n\r\n    worker.onerror = error => reject(error);\r\n    worker.onmessage = (message: SaveParserResultEvent) => {\r\n      const { data } = message;\r\n      switch (data.type) {\r\n        case RESPONSE_PROGRESS:\r\n          onProgress && onProgress(data.message);\r\n          break;\r\n        case RESPONSE_WRITE_SUCCESS:\r\n          unhook();\r\n          accept(data.data);\r\n          break;\r\n        case RESPONSE_WRITE_ERROR:\r\n          unhook();\r\n          reject(jsonToError(data.error));\r\n          break;\r\n      }\r\n    };\r\n  });\r\n\r\n  worker.postMessage(writeSaveCommand(saveGame));\r\n\r\n  return promise;\r\n}\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nexport const RESPONSE_PROGRESS = \"progress\";\r\nexport const sendProgress = (message: string) => ({\r\n  type: RESPONSE_PROGRESS as typeof RESPONSE_PROGRESS,\r\n  message\r\n});\r\nexport type ProgressResponse = ReturnType<typeof sendProgress>;\r\n\r\nconst COMMAND_PARSE = \"parse-save\";\r\nexport const parseSave = (data: ArrayBuffer) => ({\r\n  type: COMMAND_PARSE as typeof COMMAND_PARSE,\r\n  data\r\n});\r\nexport type ParseSaveCommand = ReturnType<typeof parseSave>;\r\n\r\nexport const RESPONSE_PARSE_SUCCESS = \"parse-save:success\";\r\nexport const parseSaveSuccess = (saveGame: SaveGame) => ({\r\n  type: RESPONSE_PARSE_SUCCESS as typeof RESPONSE_PARSE_SUCCESS,\r\n  saveGame\r\n});\r\nexport type ParseSaveSuccessResponse = ReturnType<typeof parseSaveSuccess>;\r\n\r\nexport const RESPONSE_PARSE_ERROR = \"parse-save:error\";\r\nexport const parseSaveError = (error: Error) => ({\r\n  type: RESPONSE_PARSE_ERROR as typeof RESPONSE_PARSE_ERROR,\r\n  error: errorToJson(error)\r\n});\r\nexport type ParseSaveErrorResponse = ReturnType<typeof parseSaveError>;\r\n\r\nexport type ParseSaveResponse =\r\n  | ParseSaveSuccessResponse\r\n  | ParseSaveErrorResponse\r\n  | ProgressResponse;\r\n\r\nconst COMMAND_WRITE = \"write-save\";\r\nexport const writeSave = (saveGame: SaveGame) => ({\r\n  type: COMMAND_WRITE as typeof COMMAND_WRITE,\r\n  saveGame\r\n});\r\nexport type WriteSaveCommand = ReturnType<typeof writeSave>;\r\n\r\nexport const RESPONSE_WRITE_SUCCESS = \"write-save:success\";\r\nexport const writeSaveSuccess = (data: ArrayBuffer) => ({\r\n  type: RESPONSE_WRITE_SUCCESS as typeof RESPONSE_WRITE_SUCCESS,\r\n  data\r\n});\r\nexport type WriteSaveSuccessResponse = ReturnType<typeof writeSaveSuccess>;\r\n\r\nexport const RESPONSE_WRITE_ERROR = \"write-save:error\";\r\nexport const writeSaveError = (error: Error) => ({\r\n  type: RESPONSE_WRITE_ERROR as typeof RESPONSE_WRITE_ERROR,\r\n  error: errorToJson(error)\r\n});\r\nexport type WriteSaveErrorResponse = ReturnType<typeof writeSaveError>;\r\n\r\nexport type WriteSaveResult =\r\n  | WriteSaveSuccessResponse\r\n  | WriteSaveErrorResponse\r\n  | ProgressResponse;\r\n\r\nexport type SaveParserCommand = ParseSaveCommand | WriteSaveCommand;\r\nexport type SaveParserResponse = ParseSaveResponse | WriteSaveResult;\r\n\r\nexport interface SaveParserCommandEvent extends MessageEvent {\r\n  data: SaveParserCommand;\r\n}\r\n\r\nexport interface SaveParserResultEvent extends MessageEvent {\r\n  data: SaveParserResponse;\r\n}\r\n\r\nexport interface ErrorJson {\r\n  name: string;\r\n  message: string;\r\n  stack?: string;\r\n}\r\nexport function errorToJson(e: Error): ErrorJson {\r\n  return {\r\n    name: e.name,\r\n    message: e.message,\r\n    stack: e.stack\r\n  };\r\n}\r\nexport function jsonToError(obj: ErrorJson): Error {\r\n  const e = new Error(obj.message);\r\n  e.name = obj.name;\r\n  e.stack = obj.stack;\r\n  return e;\r\n}\r\n","export * from \"./utils\";\r\nexport * from \"./types\";\r\n","import { GameObjectBehavior, SaveGame } from \"oni-save-parser\";\r\n\r\nimport { get, forEach, isObject } from \"lodash-es\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\n\r\nconst defaultTemplateDataObj: SaveStructureDef<{}> = {\r\n  $editor: \"template-object\",\r\n  $uiPathName: false,\r\n\r\n  $uiChildren(value: any) {\r\n    let keys = (isObject(value) && Object.keys(value)) || [];\r\n    keys = keys.filter(x => isObject(value[x]));\r\n    if (keys.length === 0) {\r\n      return false;\r\n    }\r\n    return keys.map(x => [x]);\r\n  },\r\n\r\n  $editorProps(_: any, path: string[], saveGame: SaveGame) {\r\n    // 'gameObjects', '1', 'gameObjects', '6', 'behaviors', '4'\r\n    // 6 items deep\r\n    const behavior = get(saveGame, path.slice(0, 6));\r\n    const templatePath = path.slice(7);\r\n    if (!behavior) {\r\n      return {};\r\n    }\r\n    return {\r\n      templateName: behavior.name,\r\n      templatePath,\r\n      valuePathHack: path\r\n    };\r\n  }\r\n};\r\ndefaultTemplateDataObj[\"*\"] = defaultTemplateDataObj;\r\n\r\nexport const defaultBehavior: SaveStructureDef<GameObjectBehavior> = {\r\n  $uiPathName(behavior: GameObjectBehavior) {\r\n    return behavior.name;\r\n  },\r\n\r\n  $uiChildren(behavior: GameObjectBehavior) {\r\n    const children: string[][] = [];\r\n    if (\r\n      behavior.templateData &&\r\n      Object.keys(behavior.templateData).length > 0\r\n    ) {\r\n      forEach(behavior.templateData, (_, key) => {\r\n        if (isObject(behavior.templateData[key])) {\r\n          children.push([\"templateData\", key]);\r\n        }\r\n      });\r\n    }\r\n    if (behavior.extraData) {\r\n      children.push([\"extraData\"]);\r\n    }\r\n    return children.length > 0 ? children : false;\r\n  },\r\n\r\n  $advanced(behavior: GameObjectBehavior) {\r\n    return true;\r\n  },\r\n\r\n  $editor: \"template-object\",\r\n  $editorProps(_: any, path: string[], saveGame: SaveGame) {\r\n    // 'gameObjects', '1', 'gameObjects', '6', 'behaviors', '4'\r\n    // 6 items deep\r\n    const behavior = get(saveGame, path);\r\n    if (!behavior) {\r\n      return {};\r\n    }\r\n    return {\r\n      templateName: behavior.name,\r\n      templatePath: [],\r\n      valuePathHack: [...path, \"templateData\"]\r\n    };\r\n  },\r\n\r\n  templateData: {\r\n    $uiPathName: false,\r\n\r\n    \"*\": defaultTemplateDataObj\r\n\r\n    // TODO: Handle '*' with an object that gets the template editor\r\n    //  set up with the correct template path, and references itself\r\n    //  for its own '*' recursively.\r\n  } as SaveStructureDef<{}>\r\n};\r\n","import { GameObjectBehavior } from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../../../structure\";\r\n\r\nimport { defaultBehavior } from \"./default\";\r\nimport { primaryElementBehavior } from \"./primary-element\";\r\nimport { storageBehavior } from \"./storage\";\r\n\r\nconst behavior: SaveStructureDef<GameObjectBehavior> = {\r\n  $variants: [storageBehavior, primaryElementBehavior, defaultBehavior]\r\n};\r\nexport default behavior;\r\n","import { PrimaryElementBehavior } from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\nimport { behaviorIs } from \"../../matchers\";\r\n\r\nimport { defaultBehavior } from \"./default\";\r\n\r\nexport const primaryElementBehavior: SaveStructureDef<\r\n  PrimaryElementBehavior\r\n> = {\r\n  ...defaultBehavior,\r\n  $match: behaviorIs(PrimaryElementBehavior)\r\n};\r\n","import { StorageBehavior, StoredGameObject } from \"oni-save-parser\";\r\n\r\nimport { forEach, isObject } from \"lodash-es\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\nimport { behaviorIs } from \"../../matchers\";\r\n\r\nimport { defaultBehavior } from \"./default\";\r\n\r\nconst storageBehaviorExtraData: SaveStructureDef<\r\n  StorageBehavior[\"extraData\"]\r\n> = {\r\n  $uiPathName: false,\r\n\r\n  $editor: \"game-object-list\",\r\n\r\n  \"*\": {\r\n    $editor: \"game-object-default\",\r\n    $uiPathName(obj: StoredGameObject, path: string[]) {\r\n      const index = path[path.length - 1];\r\n      return `${index}: ${obj.name}`;\r\n    },\r\n    $variants: []\r\n  }\r\n};\r\n// TODO: Recurse into behavior editors.\r\n//  Cannot do this currently because we are executing this file to build behaviors for initializing the createGameObjectVariants file.\r\n// storageBehaviorExtraData[\"*\"]!.$variants = createGameObjectVariants(null);\r\n\r\nexport const storageBehavior: SaveStructureDef<StorageBehavior> = {\r\n  ...(defaultBehavior as any),\r\n\r\n  $match: behaviorIs(StorageBehavior),\r\n\r\n  $uiChildren(behavior: StorageBehavior) {\r\n    const children: string[][] = [];\r\n    if (\r\n      behavior.templateData &&\r\n      Object.keys(behavior.templateData).length > 0\r\n    ) {\r\n      forEach(behavior.templateData, (_, key) => {\r\n        // Have to wipe the type here because lodash is being obstinate.\r\n        //  It explicitly calls out that key must be string because 'the type may have properties not defined in the type'.\r\n        //  Not sure why we have a type system if we aren't going to bother using it.\r\n        if (isObject((behavior.templateData as any)[key])) {\r\n          // As of the CU, all of these fields are value fields,\r\n          //  so this does not execute.\r\n          // Leaving it in for future-proofing.\r\n          children.push([\"templateData\", key]);\r\n        }\r\n      });\r\n    }\r\n\r\n    if (behavior.extraData) {\r\n      // extraData is aray of gameObjects stored in this storage.\r\n      forEach(behavior.extraData, (_, key) => {\r\n        children.push([\"extraData\", `${key}`]);\r\n      });\r\n    }\r\n    return children.length > 0 ? children : false;\r\n  },\r\n\r\n  extraData: storageBehaviorExtraData\r\n};\r\n","import { GameObject, KPrefabIDBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\n\r\nimport behavior from \"../behaviors\";\r\n\r\nexport const defaultGameObject: SaveStructureDef<GameObject> = {\r\n  $uiPathName(obj: GameObject) {\r\n    const idBehavior = getBehavior(obj, KPrefabIDBehavior);\r\n    const id =\r\n      (idBehavior &&\r\n        idBehavior.templateData &&\r\n        idBehavior.templateData.InstanceID) ||\r\n      \"[malformed]\";\r\n    const pos = `(${obj.position.x.toFixed(0)}, ${obj.position.y.toFixed(0)})`;\r\n    return `#${id} ${pos}`;\r\n  },\r\n\r\n  $uiChildren(gameObject: GameObject) {\r\n    const { behaviors } = gameObject;\r\n    if (!behaviors) {\r\n      return [];\r\n    }\r\n\r\n    return behaviors.map((_, i) => [\"behaviors\", `${i}`]);\r\n  },\r\n\r\n  $editor: \"game-object-default\",\r\n\r\n  behaviors: {\r\n    $uiPathName: false,\r\n    \"*\": behavior\r\n  }\r\n};\r\n","import { set } from \"lodash-es\";\r\n\r\nimport { gameObjectIs } from \"../../matchers\";\r\nimport { SaveStructureDef } from \"../../types\";\r\n\r\nimport * as minion from \"./minion\";\r\n\r\nimport { defaultGameObject } from \"./default\";\r\n\r\nconst gameObjectVariantInfo = [minion];\r\n\r\nexport function createGameObjectVariants(\r\n  gameObjectPath: string[] | null\r\n): SaveStructureDef<{}>[] {\r\n  const defaultVariant: SaveStructureDef<{}> = {\r\n    $advanced: true\r\n  };\r\n  setStructure(defaultVariant, gameObjectPath, defaultGameObject);\r\n\r\n  const variants = gameObjectVariantInfo.map(info => {\r\n    const rootVariant: SaveStructureDef<{}> = {\r\n      $match: gameObjectIs(info.gameObjectName)\r\n    };\r\n    setStructure(rootVariant, gameObjectPath, info.gameObjectStructure);\r\n    return rootVariant;\r\n  });\r\n\r\n  // Add default as last item\r\n  variants.push(defaultVariant);\r\n  return variants;\r\n}\r\n\r\nfunction setStructure(\r\n  obj: any,\r\n  path: string[] | null,\r\n  structure: SaveStructureDef\r\n) {\r\n  if (path && path.length > 0) {\r\n    // Collapse the intermediate paths.\r\n    for (let i = 1; i < path.length; i++) {\r\n      set(obj, [...path.slice(0, i), \"$uiPathName\"], false);\r\n    }\r\n    set(obj, path, structure);\r\n  } else {\r\n    // Use a one-value rootVariant to ensure we get a reference,\r\n    //  to mantain recursive support.\r\n    obj.$variants = [structure];\r\n  }\r\n}\r\n","import {\r\n  GameObject,\r\n  MinionIdentityBehavior,\r\n  getBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\n\r\nimport { defaultGameObject } from \"./default\";\r\n\r\nconst minionGameObject: SaveStructureDef<GameObject> = {\r\n  ...defaultGameObject,\r\n\r\n  $editor: \"game-object-minion\",\r\n\r\n  $uiPathName: (obj: GameObject) => {\r\n    const identityBehavior = getBehavior(obj, MinionIdentityBehavior);\r\n    const name =\r\n      (identityBehavior &&\r\n        identityBehavior.templateData &&\r\n        identityBehavior.templateData.name) ||\r\n      \"[malformed]\";\r\n    return name;\r\n  }\r\n};\r\n\r\nexport const gameObjectName = \"Minion\";\r\nexport const gameObjectStructure = minionGameObject;\r\n\r\nexport default minionGameObject;\r\n","import { GameObjectGroup, SaveGame } from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../types\";\r\n\r\nimport { createGameObjectVariants } from \"./gameObjectTypes\";\r\n\r\nconst gameObjectGroupsStructure: SaveStructureDef<GameObjectGroup> = {\r\n  $uiPathName(group: GameObjectGroup) {\r\n    return group.name;\r\n  },\r\n\r\n  $uiChildren(group: GameObjectGroup) {\r\n    return group.gameObjects.map((_, i) => [\"gameObjects\", `${i}`]);\r\n  },\r\n\r\n  $editor: \"game-object-list\",\r\n\r\n  // We want to handle each game object type uniquely,\r\n  //  but their uniqueness is keyed off the name of this group.\r\n  // To handle this, we provide variants that match off the group's name.\r\n  $variants: createGameObjectVariants([\"gameObjects\", \"*\"])\r\n};\r\n\r\nconst gameObjectsStructure: SaveStructureDef<SaveGame[\"gameObjects\"]> = {\r\n  $editor: \"game-object-group-list\",\r\n\r\n  // gameObjects is an array, so we use the fallback key to\r\n  //  handle all items.\r\n  \"*\": gameObjectGroupsStructure\r\n};\r\nexport default gameObjectsStructure;\r\n","export * from \"./root\";\r\nexport * from \"./types\";\r\nexport * from \"./utils\";\r\n\r\nimport saveStructure from \"./root\";\r\nexport default saveStructure;\r\n","import { isObject } from \"lodash-es\";\r\nimport { GameObjectBehavior, GameObjectGroup } from \"oni-save-parser\";\r\n\r\nexport function gameObjectIs(type: string): (obj: GameObjectGroup) => boolean {\r\n  return obj => isObject(obj) && obj.name === type;\r\n}\r\n\r\nexport function behaviorIs(type: string): (obj: GameObjectBehavior) => boolean {\r\n  return obj => isObject(obj) && obj.name === type;\r\n}\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nimport gameObjectsStructure from \"./gameObjects\";\r\nimport { SaveStructureDef } from \"./types\";\r\n\r\n// The default 'any' makes this useful for variables, but useless for asignment.\r\n//  This is because type 'any' includes all fields, and overrides our selective\r\n//  exclusion of $-prefix fields\r\nconst defaultAdvancedField: SaveStructureDef<{}> = { $advanced: true };\r\n\r\nconst saveStructure: SaveStructureDef<SaveGame> = {\r\n  $editor: \"save-root\",\r\n  $uiPathName: (obj: SaveGame) => obj.header.gameInfo.baseName || \"Save Game\",\r\n\r\n  /**\r\n   * Version info and precalculated values.\r\n   * Changing this stuff can confuse the game or display bad data\r\n   * for the loading screen.\r\n   */\r\n  header: defaultAdvancedField,\r\n\r\n  /**\r\n   * Data templates for the rest of the save.  Changing anything in here\r\n   * is guarenteed to result in a corrupt save.\r\n   */\r\n  templates: defaultAdvancedField,\r\n\r\n  /**\r\n   * World width and height, and opaque engine data we do not understand.\r\n   * Contents of the worldmap and state of the fluid/gas/electrical networks\r\n   * live in here.\r\n   */\r\n  world: defaultAdvancedField,\r\n\r\n  /**\r\n   * Settings for the master game object handler.\r\n   * None of these are related to user-settings, and changing them\r\n   * will most likely result in an immediately or eventually corrupt save.\r\n   */\r\n  settings: defaultAdvancedField,\r\n\r\n  /**\r\n   * Game version info.  Should mirror the same data\r\n   * stored in header.\r\n   * Should never be touched, as ONI makes decisions on how to load the file\r\n   * based on this.\r\n   */\r\n  version: defaultAdvancedField,\r\n\r\n  /**\r\n   * Game objects.  These are the interesting bits\r\n   */\r\n  gameObjects: gameObjectsStructure,\r\n\r\n  /**\r\n   * Another blob of generalized non-object-specific game data\r\n   */\r\n  gameData: {\r\n    $editor: \"template-object\",\r\n    $editorProps() {\r\n      return {\r\n        templateName: \"Game+GameSaveData\"\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Presumably tracks the flow of material through the gas conduits.\r\n     * I am reasonably sure this also ties into native game data,\r\n     * and changing this will probably get the engine into an\r\n     * inconsistant state.\r\n     */\r\n    gasConduitFlow: defaultAdvancedField,\r\n\r\n    /**\r\n     * Presumably tracks the flow of material through the loquid conduits.\r\n     * I am reasonably sure this also ties into native game data,\r\n     * and changing this will probably get the engine into an\r\n     * inconsistant state.\r\n     */\r\n    liquidConduitFlow: defaultAdvancedField,\r\n\r\n    /**\r\n     * Probably deals with limiting the area of the map that the game is running logic for.\r\n     */\r\n    simActiveRegionMin: defaultAdvancedField,\r\n\r\n    /**\r\n     * Probably deals with limiting the area of the map that the game is running logic for.\r\n     */\r\n    simActiveRegionMax: defaultAdvancedField,\r\n\r\n    fallingWater: defaultAdvancedField,\r\n\r\n    unstableGround: defaultAdvancedField,\r\n\r\n    /**\r\n     * While this does contain (multiple) worldgen seeds,\r\n     *  all seeds are the same and reflect the definitivie chosen seed in customGameSettings.\r\n     * It also has a bunch of polygons indicating regions of the overworld.  Not sure what it represents,\r\n     *  might be biome regions.\r\n     */\r\n    worldDetail: defaultAdvancedField,\r\n\r\n    customGameSettings: defaultAdvancedField\r\n  }\r\n};\r\nexport default saveStructure;\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { isObject } from \"lodash-es\";\r\n\r\nimport saveStructure from \"./root\";\r\nimport { SaveStructureDef } from \"./types\";\r\n\r\nexport function getSaveStructureDef(\r\n  saveGamePath: string[],\r\n  save: SaveGame\r\n): SaveStructureDef | null {\r\n  // TODO: Seems like there would be a builtin utility for this\r\n  const iter = walkSaveStructurePath(saveGamePath, save);\r\n  let result: IteratorResult<any>;\r\n  do {\r\n    result = iter.next();\r\n  } while (!result.done);\r\n  return result.value;\r\n}\r\n\r\n/**\r\n * Walks through a path of a save game, returning the save structure objects in order.\r\n * @param saveGamePath The path to walk the save structure tree to\r\n * @param saveGame The save game to walk.\r\n */\r\nexport function* walkSaveStructurePath(\r\n  saveGamePath: string[],\r\n  saveGame: SaveGame\r\n): IterableIterator<{ def: SaveStructureDef; path: string[] }> {\r\n  let structure: SaveStructureDef = saveStructure;\r\n  let value: any = saveGame;\r\n\r\n  yield {\r\n    def: saveStructure,\r\n    path: []\r\n  };\r\n\r\n  for (let i = 0; i < saveGamePath.length; i++) {\r\n    const key = saveGamePath[i];\r\n\r\n    let subStructure: SaveStructureDef | undefined;\r\n    if (isObject(structure)) {\r\n      subStructure =\r\n        Object.keys(structure).indexOf(key) !== -1\r\n          ? structure[key]\r\n          : structure[\"*\"];\r\n    }\r\n\r\n    if (!subStructure) {\r\n      return null;\r\n    }\r\n\r\n    // Pick the value before searching for variants.\r\n    value = value[key];\r\n\r\n    // Try to pick a variant if possible.\r\n    if (subStructure.$variants) {\r\n      const variant = subStructure.$variants.find(\r\n        x => !x.$match || x.$match(value)\r\n      );\r\n      if (variant) {\r\n        subStructure = {\r\n          ...subStructure,\r\n          ...variant\r\n        } as SaveStructureDef;\r\n      }\r\n    }\r\n\r\n    structure = subStructure;\r\n\r\n    yield {\r\n      def: structure,\r\n      path: saveGamePath.slice(0, i + 1)\r\n    };\r\n  }\r\n\r\n  return structure;\r\n}\r\n\r\n// export function getChildStructures(def: SaveStructureDef): SaveStructureDef[] {\r\n//   return Object.keys(def)\r\n//     .filter(x => x[0] !== \"$\")\r\n//     .map(x => def[x]) as SaveStructureDef[];\r\n// }\r\n","import {\r\n  SaveGame,\r\n  GameObjectBehavior,\r\n  GameObject,\r\n  GameObjectGroup\r\n} from \"oni-save-parser\";\r\n\r\nimport { get, isObject } from \"lodash-es\";\r\n\r\nimport { EditMode, SaveItemBreadcrumb } from \"./types\";\r\n\r\nimport {\r\n  SaveStructureDef,\r\n  getSaveStructureDef,\r\n  walkSaveStructurePath\r\n} from \"./structure\";\r\n\r\nconst GAME_OBJECT_GROUP_PATH_ROOT = [\"gameObjects\", \"*\"];\r\nexport function getPathGameObjectGroup(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): GameObjectGroup | null {\r\n  if (path.length < GAME_OBJECT_GROUP_PATH_ROOT.length) {\r\n    return null;\r\n  }\r\n\r\n  path = path.slice(0, GAME_OBJECT_GROUP_PATH_ROOT.length);\r\n\r\n  if (\r\n    !path.every((x, i) => comparePathMatch(x, i, GAME_OBJECT_GROUP_PATH_ROOT))\r\n  ) {\r\n    return null;\r\n  }\r\n\r\n  return get(saveGame, path);\r\n}\r\n\r\nconst GAME_OBJECT_PATH_ROOT = [\"gameObjects\", \"*\", \"gameObject\", \"*\"];\r\nexport function getPathGameObject(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): GameObject | null {\r\n  if (path.length < GAME_OBJECT_PATH_ROOT.length) {\r\n    return null;\r\n  }\r\n\r\n  path = path.slice(0, GAME_OBJECT_PATH_ROOT.length);\r\n\r\n  if (!path.every((x, i) => comparePathMatch(x, i, GAME_OBJECT_PATH_ROOT))) {\r\n    return null;\r\n  }\r\n\r\n  return get(saveGame, path);\r\n}\r\n\r\nconst GAME_OBJECT_BEHAVIOR_PATH_ROOT = [\r\n  \"gameObjects\",\r\n  \"*\",\r\n  \"gameObject\",\r\n  \"*\",\r\n  \"behaviors\",\r\n  \"*\"\r\n];\r\nexport function getPathBehavior(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): GameObjectBehavior | null {\r\n  if (path.length < GAME_OBJECT_BEHAVIOR_PATH_ROOT.length) {\r\n    return null;\r\n  }\r\n\r\n  path = path.slice(0, GAME_OBJECT_BEHAVIOR_PATH_ROOT.length);\r\n\r\n  if (\r\n    !path.every((x, i) =>\r\n      comparePathMatch(x, i, GAME_OBJECT_BEHAVIOR_PATH_ROOT)\r\n    )\r\n  ) {\r\n    return null;\r\n  }\r\n\r\n  return get(saveGame, path);\r\n}\r\n\r\nfunction comparePathMatch(part: string, index: number, match: string[]) {\r\n  if (match[index] === \"*\") return true;\r\n  if (part === match[index]) return true;\r\n  return false;\r\n}\r\n\r\nexport function getSaveItemTitle(path: string[], saveGame: SaveGame): string {\r\n  const def = getSaveStructureDef(path, saveGame);\r\n  let nameSource: string | false | undefined;\r\n  if (def) {\r\n    const nameProducer = def.$uiPathName;\r\n    if (typeof nameProducer === \"function\") {\r\n      const value = path.length > 0 ? get(saveGame, path) : saveGame;\r\n      nameSource = nameProducer(value, path, saveGame);\r\n    } else if (typeof nameProducer === \"string\") {\r\n      nameSource = nameProducer;\r\n    }\r\n  }\r\n\r\n  // TODO: Object might opt out of a path entry with uiPathName: false\r\n  //  What do we do in this case?\r\n  //  For now, we just return the absolute path.\r\n  return nameSource || path[path.length - 1];\r\n}\r\n\r\nexport function getSaveItemBreadcrumb(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): SaveItemBreadcrumb[] {\r\n  const breadcrumbs: SaveItemBreadcrumb[] = [];\r\n  for (const structurePath of walkSaveStructurePath(path, saveGame)) {\r\n    const { def, path: defPath } = structurePath;\r\n    let title: string | false = false;\r\n    const nameProducer = def.$uiPathName;\r\n    if (typeof nameProducer === \"function\") {\r\n      const value = defPath.length > 0 ? get(saveGame, defPath) : saveGame;\r\n      title = nameProducer(value, defPath, saveGame) || false;\r\n    } else if (typeof nameProducer === \"string\") {\r\n      title = nameProducer;\r\n    } else if (nameProducer === false) {\r\n      // Opting out of a path entry.\r\n      continue;\r\n    } else {\r\n      title = defPath[defPath.length - 1];\r\n    }\r\n\r\n    if (title) {\r\n      breadcrumbs.push({\r\n        title,\r\n        path: defPath\r\n      });\r\n    }\r\n  }\r\n\r\n  return breadcrumbs;\r\n}\r\n\r\nexport function getSaveItemEditValue(path: string[], saveGame: SaveGame) {\r\n  return path.length > 0 ? get(saveGame, path) : saveGame;\r\n}\r\n\r\nexport function getSaveItemChildPaths(\r\n  path: string[],\r\n  saveGame: SaveGame,\r\n  editMode: EditMode\r\n): string[][] {\r\n  const def = getSaveStructureDef(path, saveGame);\r\n  const childPaths = collectChildPaths(path, saveGame, def, editMode);\r\n  return childPaths;\r\n}\r\n\r\nexport function getSaveItemEditor(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): string | null {\r\n  const def = getSaveStructureDef(path, saveGame);\r\n  return (def && def.$editor) || null;\r\n}\r\n\r\nexport function getSaveItemEditorProps(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): Record<string, any> {\r\n  const def = getSaveStructureDef(path, saveGame);\r\n  if (!def || !def.$editor) {\r\n    return {};\r\n  }\r\n\r\n  const propFactory = def.$editorProps;\r\n  if (!propFactory) {\r\n    return {};\r\n  }\r\n\r\n  const value = path.length > 0 ? get(saveGame, path) : saveGame;\r\n  return propFactory(value, path, saveGame);\r\n}\r\n\r\n/**\r\n * Determine the child values for the given value.\r\n * @param saveGamePath The path to the value whose children to determine\r\n * @param oniSave The oni save game structure\r\n * @param def The definition of the value whose children to determine\r\n * @param editMode The current edit mode.\r\n * @returns A collection of absolute save game paths for the child values of this value.\r\n */\r\nfunction collectChildPaths(\r\n  saveGamePath: string[],\r\n  oniSave: SaveGame,\r\n  def: SaveStructureDef | null,\r\n  editMode: EditMode\r\n): string[][] {\r\n  let uiChildren = def ? def.$uiChildren : null;\r\n\r\n  const value = saveGamePath.length > 0 ? get(oniSave, saveGamePath) : oniSave;\r\n\r\n  if (typeof uiChildren === \"function\") {\r\n    uiChildren = uiChildren(value);\r\n  }\r\n\r\n  if (uiChildren === false) {\r\n    // Explicitly no children.\r\n    return [];\r\n  }\r\n\r\n  if (uiChildren == null && def) {\r\n    // TODO: Not sure if this is a good idea, trying it out.\r\n    // Explicit structure children are candidates for children.\r\n\r\n    // Only process def if it is not advanced, or we are in advanced mode.\r\n    // Determine the save structure keys we can work off of.\r\n    const defKeys: string[] = Object.keys(def).filter(x => x[0] !== \"$\");\r\n    if (defKeys.indexOf(\"*\") !== -1) {\r\n      // Def knows about all child keys.  Probably an array or map.\r\n      uiChildren = Object.keys(value).map(x => [x]);\r\n    } else if (defKeys.length > 0) {\r\n      // We have known child keys, offer them up.\r\n      uiChildren = defKeys.map(x => [x]);\r\n    }\r\n  }\r\n\r\n  // Failed to find any children, attempt to auto-determine them.\r\n  if (uiChildren == null) {\r\n    uiChildren = collectAutoChildPaths(saveGamePath, oniSave, editMode);\r\n  }\r\n\r\n  // Make the path absolute\r\n  uiChildren = uiChildren ? uiChildren.map(x => [...saveGamePath, ...x]) : [];\r\n\r\n  if (uiChildren) {\r\n    // Check for editMode visibility.\r\n    uiChildren = uiChildren.filter(path => {\r\n      const childValue = get(oniSave, path);\r\n      const childDef = getSaveStructureDef(path, oniSave);\r\n      return checkEditMode(childValue, childDef, editMode);\r\n    });\r\n  }\r\n\r\n  return uiChildren;\r\n}\r\n\r\nfunction checkEditMode(\r\n  value: any,\r\n  def: SaveStructureDef | null,\r\n  editMode: EditMode\r\n): boolean {\r\n  if (editMode === \"advanced\") {\r\n    return true;\r\n  }\r\n\r\n  // Unknown objects are implicitly advanced.\r\n  let advancedProducer = def ? def.$advanced : true;\r\n  let advanced: boolean;\r\n  if (typeof advancedProducer === \"boolean\") {\r\n    advanced = advancedProducer;\r\n  } else if (typeof advancedProducer === \"function\") {\r\n    advanced = advancedProducer(value);\r\n  } else {\r\n    advanced = false;\r\n  }\r\n\r\n  return !advanced;\r\n}\r\n\r\nfunction collectAutoChildPaths(\r\n  saveGamePath: string[],\r\n  oniSave: SaveGame,\r\n  editMode: EditMode\r\n): string[][] {\r\n  if (editMode !== \"advanced\") {\r\n    // Do not auto-determine anything when not in advanced mode.\r\n    return [];\r\n  }\r\n\r\n  const value = saveGamePath.length > 0 ? get(oniSave, saveGamePath) : oniSave;\r\n  let uiChildren: string[][] | null = null;\r\n  if (isObject(value)) {\r\n    // Target is an object, offer up all child objects.\r\n    uiChildren = Object.keys(value)\r\n      .filter(x => isImplicitChild(value[x]))\r\n      .map(x => [x]);\r\n  } else if (Array.isArray(value)) {\r\n    // Target is an array, offer up all array items.\r\n    uiChildren = value.filter(isImplicitChild).map((_, i) => [`${i}`]);\r\n  }\r\n\r\n  return uiChildren || [];\r\n}\r\n\r\nfunction isImplicitChild(value: any): boolean {\r\n  return isObject(value);\r\n}\r\n","import { SaveGame } from \"oni-save-parser\";\r\nimport { EditMode } from \"@/services/save-structure\";\r\n\r\nexport type LoadingState = \"idle\" | \"loading\" | \"saving\" | \"ready\";\r\n\r\nexport interface AppState {\r\n  loadingState: LoadingState;\r\n  loadingProgressMessage: string | null;\r\n  error: Error | null;\r\n  oniSave: SaveGame | null;\r\n  selectedPath: string[];\r\n  editMode: EditMode;\r\n}\r\nexport const defaultAppState: Readonly<AppState> = {\r\n  loadingState: \"idle\" as \"idle\",\r\n  loadingProgressMessage: null,\r\n  error: null,\r\n  oniSave: null,\r\n  selectedPath: [],\r\n  editMode: \"normal\"\r\n};\r\nObject.freeze(defaultAppState);\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { ACTION_RECEIVE_ONISAVE_SUCCESS } from \"@/actions/receive-onisave\";\r\nimport { AppState } from \"@/state\";\r\n\r\nexport function actionSanitizer(action: AnyAction): AnyAction {\r\n  if (action.type === ACTION_RECEIVE_ONISAVE_SUCCESS) {\r\n    return {\r\n      ...action,\r\n      payload: sanitizeSave(action.payload)\r\n    };\r\n  }\r\n  return action;\r\n}\r\n\r\nexport function stateSanitizer(state: AppState): any {\r\n  return {\r\n    ...state,\r\n    oniSave: state.oniSave ? sanitizeSave(state.oniSave) : null\r\n  };\r\n}\r\n\r\nfunction sanitizeSave(save: SaveGame): any {\r\n  return {\r\n    ...save,\r\n    world: {\r\n      ...save.world,\r\n      streamed: \"~snip~\"\r\n    }\r\n  };\r\n}\r\n","import { createStore } from \"./store\";\r\n\r\nconst store = createStore();\r\nexport default store;\r\n","import {\r\n  compose,\r\n  createStore as createReduxStore,\r\n  applyMiddleware\r\n} from \"redux\";\r\n\r\nimport createSagaMiddleware from \"redux-saga\";\r\n\r\nimport reducer from \"@/reducer\";\r\nimport saga from \"@/saga\";\r\n\r\nimport { actionSanitizer, stateSanitizer } from \"./devtool-sanitizer\";\r\n\r\nexport function createStore() {\r\n  const composeEnhancers =\r\n    (window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ &&\r\n      window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\r\n        actionSanitizer,\r\n        stateSanitizer\r\n      })) ||\r\n    compose;\r\n\r\n  const sagaMiddleware = createSagaMiddleware();\r\n\r\n  const store = createReduxStore(\r\n    reducer,\r\n    composeEnhancers(applyMiddleware(sagaMiddleware))\r\n  );\r\n  sagaMiddleware.run(saga);\r\n  return store;\r\n}\r\n","import \"./style.css\";\r\n\r\nimport styled from \"./styled\";\r\nexport default styled;\r\n\r\nexport * from \"./styles\";\r\nexport * from \"./theme\";\r\n\r\nexport * from \"./intent\";\r\n\r\nexport {\r\n  ThemeProvider,\r\n  ThemeProps,\r\n  ThemedOuterStyledProps,\r\n  injectGlobal,\r\n  css\r\n} from \"./styled\";\r\n","import { includes } from \"lodash\";\r\n\r\nexport enum Intent {\r\n  Default = \"default\",\r\n  Primary = \"primary\",\r\n  Secondary = \"secondary\",\r\n  Dangerous = \"dangerous\",\r\n  Hint = \"hint\"\r\n}\r\n\r\nexport function isIntent(str: string | null | undefined): str is Intent {\r\n  return includes(Intent, str);\r\n}\r\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js!./style.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./style.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./style.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import * as styledComponents from \"styled-components\";\r\nimport {\r\n  ThemedStyledComponentsModule,\r\n  ThemedOuterStyledProps as _ThemedOuterStyledProps\r\n} from \"styled-components\";\r\n\r\nimport { Theme } from \"./theme\";\r\n\r\nconst {\r\n  default: styled,\r\n  css,\r\n  injectGlobal,\r\n  keyframes,\r\n  ThemeProvider\r\n} = styledComponents as ThemedStyledComponentsModule<Theme>;\r\n\r\nexport type ThemeProps = {\r\n  theme?: Theme;\r\n};\r\nexport type ThemedOuterStyledProps<P> = _ThemedOuterStyledProps<P, Theme>;\r\n\r\nexport { css, injectGlobal, keyframes, ThemeProvider };\r\nexport default styled;\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Border, Color, Radius } from \"../theme\";\r\n\r\nimport { getThemeBorder, getThemeRadius, getThemeColor } from \"../theme\";\r\n\r\nexport interface BorderProps {\r\n  border?: Border;\r\n  borderColor?: Color;\r\n  borderRadius?: Radius;\r\n}\r\n\r\nconst borderOf = (type: Border, color: Color, radius?: Radius) => css`\r\n  border: ${getThemeBorder(type)};\r\n  border-color: ${getThemeColor(color)};\r\n  ${radius ? `border-radius: ${getThemeRadius(radius)}` : undefined};\r\n`;\r\n\r\nconst borderFromProps = css<BorderProps>`\r\n  ${props =>\r\n    props.border ? `border: ${getThemeBorder(props.border)}` : undefined};\r\n\r\n  ${props =>\r\n    props.borderColor\r\n      ? `border-color: ${getThemeColor(props.borderColor)}`\r\n      : undefined};\r\n\r\n  ${props =>\r\n    props.borderRadius\r\n      ? `border-radius: ${getThemeRadius(props.borderRadius)}`\r\n      : undefined};\r\n`;\r\n\r\nexport const border = attachProps(borderFromProps, {\r\n  of: borderOf\r\n});\r\n","export * from \"./border\";\r\nexport * from \"./intent-border\";\r\nexport * from \"./intent-color\";\r\nexport * from \"./intent-fill\";\r\nexport * from \"./intent\";\r\nexport * from \"./link\";\r\nexport * from \"./text\";\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Intent } from \"../intent\";\r\n\r\nimport {\r\n  Border,\r\n  Color,\r\n  Radius,\r\n  getThemeBorder,\r\n  getThemeRadius,\r\n  getThemeColor\r\n} from \"../theme\";\r\n\r\nexport interface IntentBorderProps {\r\n  intent?: Intent;\r\n}\r\n\r\nconst borderOf = (intent: Intent) => css`\r\n  border: ${getThemeBorder(Border.Normal)};\r\n  border-color: ${getThemeColor(Color.fromIntent(intent))};\r\n  ${intent !== Intent.Default\r\n    ? `border-radius: ${getThemeRadius(Radius.Medium)}`\r\n    : undefined};\r\n`;\r\n\r\nconst borderFromProps = css<IntentBorderProps>`\r\n  ${props => (props.intent ? borderOf(props.intent) : undefined)};\r\n`;\r\n\r\nexport const intentBorder = attachProps(borderFromProps, {\r\n  of: borderOf\r\n});\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Intent } from \"../intent\";\r\n\r\nimport { Color, getThemeColor } from \"../theme\";\r\n\r\nexport interface IntentColorProps {\r\n  intent?: Intent;\r\n}\r\n\r\nconst intentColorOf = (intent: Intent) => css`\r\n  color: ${getThemeColor(Color.fromIntent(intent))};\r\n`;\r\n\r\nconst intentColorFromProps = css<IntentColorProps>`\r\n  ${props => intentColorOf(props.intent || Intent.Default)};\r\n`;\r\n\r\nexport const intentColor = attachProps(intentColorFromProps, {\r\n  of: intentColorOf\r\n});\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Intent } from \"../intent\";\r\n\r\nimport { Color, getThemeColor } from \"../theme\";\r\n\r\nexport interface IntentFillProps {\r\n  intent?: Intent;\r\n}\r\n\r\nconst intentFillOf = (intent: Intent) => css`\r\n  color: ${getThemeColor(Color.fromIntent(intent, true))};\r\n  background-color: ${getThemeColor(Color.fromIntent(intent))};\r\n`;\r\n\r\nconst intentFillFromProps = css<IntentFillProps>`\r\n  ${props => (props.intent ? intentFillOf(props.intent) : undefined)};\r\n`;\r\n\r\nexport const intentFill = attachProps(intentFillFromProps, {\r\n  of: intentFillOf\r\n});\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Intent } from \"../intent\";\r\n\r\nimport { intentColor, IntentColorProps } from \"./intent-color\";\r\nimport { intentFill } from \"./intent-fill\";\r\n\r\nexport interface IntentProps extends IntentColorProps {\r\n  intentIsBg?: boolean;\r\n}\r\n\r\nconst intentOf = (intent: Intent, isBg: boolean = false) => css`\r\n  ${isBg ? intentFill.of(intent) : intentColor.of(intent)};\r\n`;\r\n\r\nconst intentFromProps = css<IntentProps>`\r\n  ${props => {\r\n    if (props.intent == null) {\r\n      return undefined;\r\n    }\r\n    return props.intentIsBg ? intentFill : intentColor;\r\n  }};\r\n`;\r\n\r\nexport const intent = attachProps(intentFromProps, {\r\n  of: intentOf\r\n});\r\n","import { TextProps, text, css } from \"@/style\";\r\n\r\nexport interface LinkProps extends TextProps {}\r\n\r\nexport const link = css<LinkProps>`\r\n  ${text};\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n`;\r\n","import * as CSS from \"csstype\";\r\n\r\nimport {\r\n  FontSizeProps,\r\n  FontWeightProps,\r\n  fontSize,\r\n  fontWeight,\r\n  style\r\n} from \"styled-system\";\r\n\r\nimport { css } from \"../styled\";\r\n\r\nimport { IntentColorProps, intentColor } from \"./intent-color\";\r\n\r\nexport interface WordWrapProps {\r\n  wordWrap?: CSS.WordWrapProperty;\r\n}\r\nexport const wordWrap = style({\r\n  prop: \"wordWrap\",\r\n  cssProperty: \"word-wrap\"\r\n});\r\n\r\nexport interface WordBreakProps {\r\n  wordBreak?: CSS.WordBreakProperty;\r\n}\r\nexport const wordBreak = style({\r\n  prop: \"wordBreak\",\r\n  cssProperty: \"word-break\"\r\n});\r\n\r\nexport interface WhitespaceProps {\r\n  whiteSpace?: CSS.WhiteSpaceProperty;\r\n}\r\nexport const whiteSpace = style({\r\n  prop: \"whiteSpace\",\r\n  cssProperty: \"white-space\"\r\n});\r\n\r\nexport type TextProps = IntentColorProps &\r\n  FontSizeProps &\r\n  FontWeightProps &\r\n  WordWrapProps &\r\n  WordBreakProps &\r\n  WhitespaceProps;\r\n\r\nexport const text = css<TextProps>`\r\n  ${intentColor};\r\n  ${fontSize};\r\n  ${fontWeight};\r\n  ${wordWrap};\r\n  ${wordBreak};\r\n  ${whiteSpace};\r\n`;\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { ThemeProps } from \"../styled\";\r\n\r\nexport const enum Border {\r\n  None,\r\n  Normal,\r\n  Thick\r\n}\r\n\r\nexport const borders = [0, \"1px solid\", \"2px solid\"];\r\n\r\nexport function getThemeBorder(border: Border): (props: ThemeProps) => string {\r\n  return themeGet(\"borders.\" + border, \"borders.\" + Border.Normal);\r\n}\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { Intent } from \"../intent\";\r\nimport { ThemeProps } from \"../styled\";\r\n\r\nconst intentColors: Record<Intent, string> = {\r\n  default: \"#86BBD8\",\r\n  primary: \"#FFB238\",\r\n  secondary: \"#658E27\",\r\n  dangerous: \"#F34213\",\r\n  hint: \"#86BBD8\"\r\n};\r\n\r\nconst intentContrastColors: Record<Intent, string> = {\r\n  default: \"black\",\r\n  primary: \"black\",\r\n  secondary: \"black\",\r\n  dangerous: \"white\",\r\n  hint: \"black\"\r\n};\r\n\r\nconst backgroundColors = {\r\n  default: \"#313a57\", //\"#3A435E\",\r\n  navbar: \"#355d95\", //\"#313E50\",\r\n  panel: \"#36444f\" //\"#455561\",\r\n};\r\n\r\nexport enum Color {\r\n  DefaultIntent = \"intent.default\",\r\n  PrimaryIntent = \"intent.primary\",\r\n  SecondaryIntent = \"intent.secondary\",\r\n  DangerousIntent = \"intent.dangerous\",\r\n  HintIntent = \"intent.hint\",\r\n\r\n  DefaultIntentContrast = \"intent.contrast.default\",\r\n  PrimaryIntentContrast = \"intent.contrast.primary\",\r\n  SecondaryIntentContrast = \"intent.contrast.secondary\",\r\n  DangerousIntentContrast = \"intent.contrast.dangerous\",\r\n  HintIntentContrast = \"intent.contrast.hint\",\r\n\r\n  DefaultBackground = \"bg.default\",\r\n  NavbarBackground = \"bg.navbar\",\r\n  PanelBackground = \"bg.panel\",\r\n\r\n  DefaultSeparator = \"separator\"\r\n}\r\nexport namespace Color {\r\n  export function fromIntent(intent: Intent, contrast?: boolean) {\r\n    switch (intent) {\r\n      default:\r\n        return contrast ? Color.DefaultIntentContrast : Color.DefaultIntent;\r\n      case Intent.Primary:\r\n        return contrast ? Color.PrimaryIntentContrast : Color.PrimaryIntent;\r\n      case Intent.Secondary:\r\n        return contrast ? Color.SecondaryIntentContrast : Color.SecondaryIntent;\r\n      case Intent.Dangerous:\r\n        return contrast ? Color.DangerousIntentContrast : Color.DangerousIntent;\r\n      case Intent.Hint:\r\n        return contrast ? Color.HintIntentContrast : Color.HintIntent;\r\n    }\r\n  }\r\n}\r\n\r\nexport const colors = {\r\n  intent: {\r\n    ...intentColors,\r\n    contrast: intentContrastColors\r\n  },\r\n  bg: backgroundColors,\r\n\r\n  separator: \"#6C6F7F\"\r\n};\r\n\r\nexport function getThemeColor(color: Color): (props: ThemeProps) => string {\r\n  return themeGet(\"colors.\" + color, \"colors.\" + Color.DefaultIntent);\r\n}\r\n","export const enum FontSize {\r\n  Hint = 0,\r\n  Small = 0,\r\n\r\n  Button = 1,\r\n\r\n  Default = 2,\r\n  HeadingMinor = 3,\r\n  Heading = 4\r\n}\r\nexport const fontSizes = [12, 14, 16, 20, 24, 32, 48, 64, 96, 128];\r\n","export * from \"./theme\";\r\n\r\nexport { Color, getThemeColor } from \"./colors\";\r\nexport { Border, getThemeBorder } from \"./borders\";\r\nexport { FontSize } from \"./font-sizes\";\r\nexport { Radius, getThemeRadius } from \"./radii\";\r\nexport { Space } from \"./space\";\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { ThemeProps } from \"../styled\";\r\n\r\nexport const enum Radius {\r\n  None = 0,\r\n\r\n  Small = 1,\r\n  Button = 1,\r\n\r\n  Medium = 2,\r\n  Large = 3\r\n}\r\n\r\nexport const radii = [0, 2, 4, 8];\r\n\r\nexport function getThemeRadius(radius: Radius): (props: ThemeProps) => string {\r\n  return themeGet(\"radii.\" + radius, \"radii.\" + Radius.None);\r\n}\r\n","export const enum Space {\r\n  None,\r\n  Small,\r\n  Medium,\r\n  Large\r\n}\r\n\r\nexport const space = [0, 4, 8, 12];\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { borders } from \"./borders\";\r\nimport { colors } from \"./colors\";\r\nimport { fontSizes } from \"./font-sizes\";\r\nimport { radii } from \"./radii\";\r\nimport { space } from \"./space\";\r\nimport { ThemeProps } from \"@/style/styled\";\r\n\r\nexport const theme = {\r\n  borders,\r\n  colors,\r\n  fontSizes,\r\n  radii,\r\n  space\r\n};\r\n\r\nexport type Theme = typeof theme;\r\n\r\nexport function getTheme(props: any): Theme {\r\n  return props.theme || theme;\r\n}\r\n\r\nexport function getThemeProp<T>(\r\n  getter: ((theme: Theme) => T) | string,\r\n  defaultValue?: T\r\n): (props: ThemeProps) => string | undefined {\r\n  return (props: ThemeProps) => {\r\n    if (typeof getter === \"string\") {\r\n      return themeGet(getter, defaultValue as any);\r\n    }\r\n\r\n    const val = getter(getTheme(props));\r\n    if (val === undefined) {\r\n      return defaultValue;\r\n    }\r\n    return val;\r\n  };\r\n}\r\n","import { forEach } from \"lodash-es\";\r\n\r\nexport function attachProps<\r\n  TTarget,\r\n  TSubComponents extends Record<string, any>\r\n>(component: TTarget, subComponents: TSubComponents): TTarget & TSubComponents {\r\n  const c = component as any;\r\n  forEach(subComponents, (component, key) => {\r\n    c[key] = component;\r\n  });\r\n  return c as any;\r\n}\r\n"],"sourceRoot":""}