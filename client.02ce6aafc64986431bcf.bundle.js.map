{"version":3,"sources":["webpack:///./src/style/index.ts","webpack:///./src/components/Text.tsx","webpack:///./src/state/index.ts","webpack:///./src/selectors/oni-save.ts","webpack:///./src/utils.ts","webpack:///./src/selectors/selected-path.ts","webpack:///./src/components/Flex.tsx","webpack:///./src/style/styled.ts","webpack:///./src/components/NonIdealState.tsx","webpack:///./src/components/FormGroup.tsx","webpack:///./src/components/NumericInput.tsx","webpack:///./src/selectors/behaviors/utils.ts","webpack:///./src/reducer/behaviors/utils.ts","webpack:///./src/components/Box.ts","webpack:///./src/services/save-structure/index.ts","webpack:///./src/pages/SaveEditor/components/fields/connect-field/index.ts","webpack:///./src/components/Input.tsx","webpack:///./src/pages/SaveEditor/components/fields/NumericField.tsx","webpack:///./src/actions/behaviors/set-currentobject-behavior-value.ts","webpack:///./src/components/SaveStructureLink/index.ts","webpack:///./src/style/theme/index.ts","webpack:///./src/selectors/game-object.ts","webpack:///./src/actions/receive-onisave.ts","webpack:///./src/components/DataTable/index.ts","webpack:///./src/pages/SaveEditor/components/editors/components/EditorContainer.tsx","webpack:///./src/style/intent.ts","webpack:///./src/selectors/selected-value.ts","webpack:///./src/components/CheckInput.tsx","webpack:///./src/i18n/index.ts","webpack:///./src/runtime-env.ts","webpack:///./src/style/styles/intent-color.ts","webpack:///./src/actions/modify-onisave.ts","webpack:///./src/actions/onisave-parse-progress.ts","webpack:///./src/actions/select-path.ts","webpack:///./src/components/Button.ts","webpack:///./src/services/save-structure/structure/root.ts","webpack:///./src/services/save-structure/structure/matchers.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/default.ts","webpack:///./src/services/save-structure/structure/gameObjects/behaviors/default.ts","webpack:///./src/pages/SaveEditor/components/fields/from-typeinfo.tsx","webpack:///./src/keys.ts","webpack:///./src/math.ts","webpack:///./src/selectors/edit-mode.ts","webpack:///./src/components/EditModeCondition/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/components/GameObjectHeader/index.ts","webpack:///./src/components/Icon.tsx","webpack:///./src/components/SelectInput.tsx","webpack:///./src/style/theme/borders.ts","webpack:///./src/style/theme/colors.ts","webpack:///./src/style/theme/radii.ts","webpack:///./src/style/theme/space.ts","webpack:///./src/style/styles/intent-fill.ts","webpack:///./src/style/styles/text.ts","webpack:///./src/actions/behaviors/modify-currentobject-behavior-array.ts","webpack:///./src/reducer/game-object/utils.ts","webpack:///./src/actions/behaviors/set-accessory.ts","webpack:///./src/actions/behaviors/set-element-disease.ts","webpack:///./src/actions/behaviors/set-health-state.ts","webpack:///./src/actions/behaviors/set-identity-gender.ts","webpack:///./src/actions/behaviors/set-modifier-amount.ts","webpack:///./src/actions/behaviors/set-traits-trait.ts","webpack:///./src/actions/game-object/set-scale.ts","webpack:///./src/actions/dismiss-error.ts","webpack:///./src/actions/set-editmode.ts","webpack:///./src/actions/set-language.ts","webpack:///./src/actions/load-onisave.ts","webpack:///./src/services/save-serializer/index.ts","webpack:///./src/actions/save-onisave.ts","webpack:///./src/selectors/loading-state.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/index.ts","webpack:///./src/services/save-structure/structure/gameObjects/behaviors/storage.ts","webpack:///./src/format.ts","webpack:///./src/components/Portrait/index.ts","webpack:///./src/components/Select.tsx","webpack:///./src/components/TextInput.tsx","webpack:///./src/components/DataTable/DataTable.tsx","webpack:///./src/components/Table.ts","webpack:///./src/pages/SaveEditor/components/editors/components/EditorHeader.tsx","webpack:///./src/components/NullableInput.tsx","webpack:///./src/index.tsx","webpack:///./src/i18n/i18n.ts","webpack:///./src/style/style.css?c716","webpack:///./src/style/style.css","webpack:///./src/style/styles/index.ts","webpack:///./src/style/styles/border.ts","webpack:///./src/style/theme/theme.ts","webpack:///./src/style/theme/font-sizes.ts","webpack:///./src/style/styles/intent-border.ts","webpack:///./src/style/styles/intent.ts","webpack:///./src/style/styles/link.ts","webpack:///./src/style/styles/vertical-align.ts","webpack:///./src/root.tsx","webpack:///./src/store/index.ts","webpack:///./src/store/store.ts","webpack:///./src/reducer/index.ts","webpack:///./src/reducer/behaviors/index.ts","webpack:///./src/reducer/behaviors/modify-currentobject-behavior-array.ts","webpack:///./src/reducer/behaviors/set-accessory.ts","webpack:///./src/reducer/behaviors/set-currentobject-behavior-value.ts","webpack:///./src/reducer/behaviors/set-element-disease.ts","webpack:///./src/reducer/behaviors/set-health-state.ts","webpack:///./src/reducer/behaviors/set-identity-gender.ts","webpack:///./src/reducer/behaviors/set-modifier-amount.ts","webpack:///./src/reducer/behaviors/set-traits-trait.ts","webpack:///./src/reducer/game-object/index.ts","webpack:///./src/reducer/game-object/set-scale.ts","webpack:///./src/reducer/dismiss-error.ts","webpack:///./src/reducer/modify-onisave.ts","webpack:///./src/reducer/onisave-parse-progress.ts","webpack:///./src/reducer/receive-onisave.ts","webpack:///./src/reducer/select-path.ts","webpack:///./src/reducer/set-editmode.ts","webpack:///./src/reducer/set-language.ts","webpack:///./src/saga/index.ts","webpack:///./src/saga/load-onisave.ts","webpack:///./src/services/save-serializer/worker-instance.ts","webpack:///./src/services/save-serializer/worker-messages.ts","webpack:///./src/services/save-serializer/save-serializer.worker.ts","webpack:///./src/saga/save-onisave.ts","webpack:///./src/store/devtool-sanitizer.ts","webpack:///./src/App/index.ts","webpack:///./src/App/App.tsx","webpack:///./src/App/derived-state.ts","webpack:///./src/selectors/error.ts","webpack:///./src/App/events.ts","webpack:///./src/pages/NoSave/index.ts","webpack:///./src/pages/NoSave/NoSave.tsx","webpack:///./src/components/Code.ts","webpack:///./src/pages/Error/index.ts","webpack:///./src/pages/Error/Error.tsx","webpack:///./src/pages/Loading/index.ts","webpack:///./src/pages/Loading/Loading.tsx","webpack:///./src/pages/Loading/derived-state.ts","webpack:///./src/selectors/loading-message.ts","webpack:///./src/pages/SaveEditor/index.ts","webpack:///./src/pages/SaveEditor/SaveEditor.tsx","webpack:///./src/pages/SaveEditor/derived-state.ts","webpack:///./src/services/save-structure/utils.ts","webpack:///./src/services/save-structure/structure/index.ts","webpack:///./src/services/save-structure/structure/gameObjects/index.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/variants.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/minion.ts","webpack:///./src/services/save-structure/structure/gameObjects/behaviors/index.ts","webpack:///./src/services/save-structure/structure/gameObjects/behaviors/primary-element.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/geyser.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/utils.ts","webpack:///./src/services/save-structure/structure/utils.ts","webpack:///./src/components/SelectedPathBreadcrumb/index.ts","webpack:///./src/components/SelectedPathBreadcrumb/SelectedPathBreadcrumb.tsx","webpack:///./src/components/SelectedPathBreadcrumb/derived-state.ts","webpack:///./src/selectors/selected-path-breadcrumb.ts","webpack:///./src/components/SaveStructureLink/SaveStructureLink.tsx","webpack:///./src/components/SaveStructureLink/events.ts","webpack:///./src/components/SelectedPathBreadcrumb/components/BreadcrumbContainer.ts","webpack:///./src/components/ResizePanel/index.ts","webpack:///./src/components/ResizePanel/ResizePanel.tsx","webpack:///./src/components/ResizePanel/components/ResizeHandle.tsx","webpack:///./src/components/ResizePanel/components/ResizeHandleVisual.tsx","webpack:///./src/pages/SaveEditor/components/editors/index.ts","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/DefaultObjectEditor.tsx","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/components/DefaultObjectEditorContainer.tsx","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/components/EditorField.tsx","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/events.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/SaveRootEditor.tsx","webpack:///./src/components/InfoText.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/SaveRootEditorContainer.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/SaveGameTitle.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/index.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/DuplicantsList.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantPortrait/index.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantPortrait/DuplicantPortrait.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantPortrait/derived-state.tsx","webpack:///./src/components/Portrait/Portrait.ts","webpack:///./src/components/Portrait/PortraitHeader.ts","webpack:///./src/components/Portrait/PortraitFooter.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantsListContainer.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantsListContent.ts","webpack:///./src/pages/SaveEditor/components/editors/TemplateObjectEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/TemplateObjectEditor/TemplateObjectEditor.tsx","webpack:///./src/pages/SaveEditor/components/editors/TemplateObjectEditor/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/TemplateObjectEditor/components/TemplateObjectEditorContainer.ts","webpack:///./src/pages/SaveEditor/components/fields/ArrayLikeField.tsx","webpack:///./src/pages/SaveEditor/components/fields/connect-field/derived-state.tsx","webpack:///./src/pages/SaveEditor/components/fields/connect-field/events.ts","webpack:///./src/pages/SaveEditor/components/fields/CheckField.tsx","webpack:///./src/pages/SaveEditor/components/fields/ColorField.tsx","webpack:///./src/pages/SaveEditor/components/fields/DictionaryField.tsx","webpack:///./src/pages/SaveEditor/components/fields/EnumerationField.tsx","webpack:///./src/pages/SaveEditor/components/fields/TextField.tsx","webpack:///./src/pages/SaveEditor/components/fields/Vector2Field.tsx","webpack:///./src/pages/SaveEditor/components/fields/Vector2IField.tsx","webpack:///./src/pages/SaveEditor/components/fields/Vector3Field.tsx","webpack:///./src/pages/SaveEditor/components/editors/GameObjectGroupList/index.ts","webpack:///./src/pages/SaveEditor/components/editors/GameObjectGroupList/GameObjectGroupList.tsx","webpack:///./src/pages/SaveEditor/components/editors/GameObjectGroupList/derived-state.tsx","webpack:///./src/components/DataTable/rowDataEnhancer.ts","webpack:///./src/pages/SaveEditor/components/editors/GameObjectList/index.ts","webpack:///./src/pages/SaveEditor/components/editors/GameObjectList/GameObjectList.tsx","webpack:///./src/pages/SaveEditor/components/editors/GameObjectList/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/GameObjectList/components/GameObjectListContent.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/DefaultGameObjectEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/DefaultGameObjectEditor/DefaultGameObjectEditor.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/DefaultGameObjectEditor/derived-state.ts","webpack:///./src/components/EditModeCondition/EditModeCondition.tsx","webpack:///./src/components/EditModeCondition/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/components/GameObjectHeader/GameObjectHeader.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/components/GameObjectHeader/derived-state.ts","webpack:///./src/components/Toolbar.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/components/GameObjectHeader/components/GameObjectHeaderContainer.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/MinionEditor.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/derived-state.ts","webpack:///./src/components/VerticalTabs/index.ts","webpack:///./src/components/VerticalTabs/VerticalTabs.tsx","webpack:///./src/components/VerticalTabs/components/TabContent.tsx","webpack:///./src/components/VerticalTabs/components/VerticalTabItem.ts","webpack:///./src/components/VerticalTabs/components/Tab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEditableName.tsx","webpack:///./src/pages/SaveEditor/components/fields/EditableTextField.tsx","webpack:///./src/components/EditableText/index.ts","webpack:///./src/components/EditableText/EditableText.tsx","webpack:///./src/components/EditableText/components/EditableTextDisplay.tsx","webpack:///./src/components/EditableText/components/EditableTextInput.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAppearanceTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAppearanceTab/MinionAppearanceTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAppearanceTab/derived-state.ts","webpack:///./src/selectors/behaviors/minion-identity.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAppearanceTab/events.ts","webpack:///./src/components/TextAutocompleteInput.tsx","webpack:///./src/components/Autocomplete.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAptitudesTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAptitudesTab/MinionAptitudesTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAptitudesTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAptitudesTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEffectsTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEffectsTab/MinionEffectsTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEffectsTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEffectsTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionHealthTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionHealthTab/MinionHealthTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionHealthTab/derived-state.ts","webpack:///./src/selectors/behaviors/health.ts","webpack:///./src/selectors/behaviors/primary-element.ts","webpack:///./src/selectors/behaviors/minion-modifiers.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionHealthTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionJobsTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionJobsTab/MinionJobsTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionJobsTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionJobsTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionSkillsTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionSkillsTab/MinionSkillsTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionSkillsTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionSkillsTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionTraitsTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionTraitsTab/MinionTraitsTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionTraitsTab/derived-state.ts","webpack:///./src/selectors/behaviors/ai-traits.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionTraitsTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionPositionTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionPositionTab/MinionPositionTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionPositionTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/GeyserEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/GeyserEditor/GeyserEditor.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/GeyserEditor/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/GeyserEditor/events.ts","webpack:///./src/components/HelpText.tsx","webpack:///./src/pages/SaveEditor/components/SaveEditorContainer.tsx","webpack:///./src/pages/SaveEditor/components/ContentContainer.tsx","webpack:///./src/pages/SaveEditor/components/EditorContainer.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/Sidebar.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SidebarContainer.tsx","webpack:///./src/components/Panel.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/EditorModeSelector/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/EditorModeSelector/EditorModeSelector.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/EditorModeSelector/events.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/SaveStructureTree.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureTreeContainer.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/SaveStructureItem.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/derived-state.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/events.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemContainer.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemHeader/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemHeader/SaveStructureItemHeader.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemHeader/components/Expander.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemHeader/components/ItemText.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemContent.tsx","webpack:///./src/components/Separator.tsx","webpack:///./src/App/components/AppContainer.tsx","webpack:///./src/App/components/AppContent.tsx","webpack:///./src/App/components/NavBar/index.ts","webpack:///./src/App/components/NavBar/NavBar.tsx","webpack:///./src/App/components/NavBar/events.ts","webpack:///./src/App/components/NavBar/components/NavBarContainer.tsx","webpack:///./src/App/components/NavBar/components/NavBarGroup.tsx","webpack:///./src/App/components/NavBar/components/NavBarTitleText.ts","webpack:///./src/App/components/NavBar/components/SettingsButton.tsx","webpack:///./src/components/DropdownMenuButton/index.ts","webpack:///./src/components/DropdownMenuButton/DropdownMenuButton.tsx","webpack:///./src/components/DropdownMenuButton/components/DropdownMenuContainer.tsx","webpack:///./src/components/DropdownMenuButton/components/DropdownMenuPanel.tsx","webpack:///./src/components/Menu/index.ts","webpack:///./src/components/Menu/Menu.tsx","webpack:///./src/App/components/NavBar/components/LanguageMenuButton/index.ts","webpack:///./src/App/components/NavBar/components/LanguageMenuButton/LanguageMenuButton.tsx","webpack:///./src/App/components/NavBar/components/LanguageMenuButton/events.ts","webpack:///./src/App/components/NavBar/components/LanguageMenuButton/derived-state.ts","webpack:///./src/selectors/language.ts"],"names":["__webpack_require__","styled_1","__importDefault","exports","default","__export","styled_2","ThemeProvider","injectGlobal","css","styled_system_1","style_1","style_2","utils_1","Text","text","alignSelf","justifySelf","space","displayName","attachProps","H4","withComponent","Label","Div","defaultAppState","language","loadingState","loadingProgressMessage","error","oniSave","selectedPath","editMode","Object","freeze","state","lodash_es_1","component","subComponents","c","forEach","key","Box_1","FlexItem","extend","props","grow","shrink","fillParent","constrain","Flex","alignContent","justifyContent","direction","Item","styledComponents","__importStar","styled","keyframes","React","Text_1","Header","NonIdealState","intent","header","children","createElement","width","height","border","borderRadius","borderColor","Color","HintIntent","p","mx","mt","Intent","Default","Hint","Primary","Flex_1","Component","[object Object]","label","inline","fontSize","this","mb","mr","px","core_decorators_1","keys_1","math_1","Input_1","NumericInput","super","_input","createRef","editValue","validationMessage","value","minValue","maxValue","precision","currentValue","step","isFloatingPoint","innerRef","type","min","max","onChange","_onValueChange","onKeyPress","_onInputKeyPress","onBlur","_onInputBlur","e","target","numberValue","parseFloat","setCustomValidity","setState","Enter","_commitEdit","onCommit","current","isNaN","newValue","clamp","__decorate","autobind","reselect_1","oni_save_parser_1","game_object_1","createCurrentGameObjectBehaviorPropertySelector","behaviorName","valueSelector","valueSelectFunc","Array","isArray","behavior","get","behaviorSelector","getCurrentGameObjectBehaviorSelector","createSelector","memoize","gameObject","getBehavior","getCurrentGameObjectBehaviorPropertySelector","behaviorPath","join","produceFromBehavior","producer","produceFromGameObject","Box","intentBorder","defaultProps","intentIsBg","react_redux_1","derived_state_1","events_1","connect","inputStyle","getTheme","colors","bg","panel","borders","secondary","primary","dangerous","Input","NumericInput_1","connect_field_1","ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE","setCurrentObjectBehaviorValue","path","payload","SaveStructureLink_1","colors_1","getThemeColor","borders_1","getThemeBorder","radii_1","getThemeRadius","space_1","getThemeSpace","selected_path_1","oni_save_1","GAME_OBJECT_PATH","getIsGameObjectSelected","length","every","x","i","test","getSelectedGameObjectPath","valid","slice","getSelectedGameObject","getSelectedGameObjectPosition","position","getSelectedGameObjectScale","scale","ACTION_RECEIVE_ONISAVE_BEGIN","receiveOniSaveBegin","operation","clearExisting","ACTION_RECEIVE_ONISAVE_ERROR","receiveOniSaveError","ACTION_RECEIVE_ONISAVE_SUCCESS","receiveOniSaveSuccess","DataTable_1","EditorHeader_1","EditorContainer","lodash_1","isIntent","str","includes","save_structure_1","selectedValueSelector","saveGame","getSaveItemEditValue","CheckInput","checked","i18n_1","platform_1","osPlatform","os","family","OSType","isProd","intent_1","theme_1","intentColorOf","fromIntent","intentColorFromProps","intentColor","of","ACTION_ONISAVE_MODIFY","modifyOniSave","ACTION_ONISAVE_PARSE_PROGRESS","parseProgress","message","ACTION_SELECT_PATH","selectPath","Button","intentFill","verticalAlign","fontSizes","m","defaultAdvancedField","$advanced","saveStructure","$editor","$uiPathName","obj","gameInfo","baseName","templates","world","settings","version","gameObjects","gameData","$editorProps","templateName","gasConduitFlow","liquidConduitFlow","simActiveRegionMin","simActiveRegionMax","fallingWater","unstableGround","worldDetail","customGameSettings","gameObjectIs","isObject","name","behaviorIs","behaviors_1","defaultGameObject","idBehavior","KPrefabIDBehavior","templateData","InstanceID","toFixed","y","behaviors","map","_","*","defaultTemplateDataObj","keys","filter","templatePath","valuePathHack","defaultBehavior","push","extraData","ArrayLikeField_1","CheckField_1","ColorField_1","DictionaryField_1","EnumerationField_1","NumericField_1","TextField_1","Vector2Field_1","Vector2IField_1","Vector3Field_1","typeInfo","short","code","getTypeCode","info","SerializationTypeCode","assign","subType","subTypes","Boolean","Byte","Colour","Dictionary","Double","Enumeration","enumerationName","HashSet","Int16","Int32","Int64","Dangerous","List","Pair","SByte","Queue","Single","String","UInt16","UInt32","UInt64","UserDefined","Vector2","Vector2I","Vector3","Error","handleUnknownType","Esc","createClamp","clampArray","clampInt8","Int8Array","clampUInt8","Uint8Array","clampInt16","Int16Array","clampUInt16","Uint16Array","clampInt32","Int32Array","clampUInt32","Uint32Array","clampSingle","Float32Array","clampDouble","Float64Array","CLAMPS_BY_PRECISION","int8","uint8","int16","uint16","int32","uint32","single","double","clamper","compare","a","b","sortAscending","EditModeCondition_1","GameObjectHeader_1","react_fontawesome_1","free_solid_svg_icons_1","free_brands_svg_icons_1","CleanFontAwesomeIcon","_a","__rest","FontAwesomeIcon","Icon","createIcon","icon","GithubIcon","faGithubSquare","LanguageIcon","faLanguage","PencilIcon","faPencilAlt","SettingsIcon","faCog","Github","Language","Pencil","Settings","Select_1","SelectInput","options","clearable","themeGet","contrast","DefaultIntentContrast","DefaultIntent","PrimaryIntentContrast","PrimaryIntent","Secondary","SecondaryIntentContrast","SecondaryIntent","DangerousIntentContrast","DangerousIntent","HintIntentContrast","hint","navbar","separator","color","radii","radius","intentFillOf","intentFillFromProps","undefined","intent_color_1","wordWrap","style","prop","cssProperty","wordBreak","whiteSpace","fontWeight","ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM","insertCurrentObjectBehaviorArrayValue","index","ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM","removeCurrentObjectBehaviorArrayValue","ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX","removeCurrentObjectBehaviorArrayIndex","isCurrentObjectBehaviorArrayAction","action","immer_1","ACTION_SET_ACCESSORY","setAccessory","accessoryType","accessoryName","ACTION_PRIMARY_ELEMENT_SET_DISEASE","setPrimaryElementDisease","diseaseId","diseaseCount","ACTION_HEALTH_SET_STATE","setHealthStatus","ACTION_MINION_IDENTITY_SET_GENDER","setIdentityGender","gender","ACTION_MINION_MODIFIER_SET_VALUE","setModifierValue","amountType","ACTION_TRAITS_SET","setTrait","traitId","isSet","ACTION_GAME_OBJECT_SET_SCALE","setGameObjectScale","ACTION_DISMISS_ERROR","dismissError","ACTION_SET_EDITMODE","setEditMode","ACTION_SET_LANGUAGE","setLanguage","ACTION_ONISAVE_LOAD","loadOniSave","file","ACTION_ONISAVE_SAVE","saveOniSave","fileName","variants_1","gameObjectVariantInfos","getGameObjectVariants","matchers_1","gameObjectTypes_1","default_1","storageBehaviorStoredObject","$variants","initStorageBehaviorHack","storageBehaviorExtraData","isFlatList","storageBehavior","$match","StorageBehavior","POSITION_PRECISION","formatPositionValue","v","toPrecision","formatPosition","formatSimHash","hash","SimHashes","formatDisease","Portrait_1","SelectElement","Select","rest","_onChange","TextInput","_inputRef","isValid","minLength","maxLength","_setEditValue","validation","_validate","griddle_react_1","Table_1","rowDataEnhancer_1","defaultComponents","Layout","Table","Pagination","Filter","SettingsWrapper","placeholder","className","setFilter","TableHeading","TableBody","NoResults","visibleRows","columnTitles","columnIds","TableHeadingCell","headingCells","title","columnId","THead","TR","Row","griddleKey","onClick","onMouseEnter","onMouseLeave","Cell","TD","DataTable","data","columns","plugins","LocalPlugin","components","enableSettings","pageProperties","pageSize","RowDefinition","columnToDef","column","id","property","cell","filterable","sortable","sortMethod","colId","ColumnDefinition","customHeadingComponent","isValidElement","toElement","customComponent","table","thead","PanelBackground","TH","th","TBody","tbody","tr","td","EditorHeader","pb","CheckInput_1","NullableInput","isNotNull","renderNull","element","renderInput","defaultValue","resolve","_onNotNullChecked","ReactDOM","react_modal_1","root_1","rootEl","document","getElementById","setAppElement","render","i18next_1","react_i18next_1","runtime_env_1","use","reactI18nextModule","init","fallbackLng","ns","defaultNS","resources","en","common","zh","debug","interpolation","escapeValue","react","wait","content","module","hmr","transform","insertInto","locals","borderFromProps","font_sizes_1","theme","getThemeProp","getter","val","borderOf","intent_fill_1","intentFromProps","isBg","text_1","link","react_hot_loader_1","store_1","App_1","hot","I18nextProvider","i18n","Provider","store","createStore","redux_1","redux_saga_1","reducer_1","saga_1","devtool_sanitizer_1","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","actionSanitizer","stateSanitizer","compose","sagaMiddleware","applyMiddleware","run","reduce_reducers_1","dismiss_error_1","modify_onisave_1","onisave_parse_progress_1","receive_onisave_1","select_path_1","set_editmode_1","set_language_1","reducers","modify_currentobject_behavior_array_1","set_accessory_1","set_currentobject_behavior_value_1","set_element_disease_1","set_health_state_1","set_identity_gender_1","set_modifier_amount_1","set_traits_trait_1","state_1","array","splice","indexOf","AccessorizerBehavior","accessories","accessoryIndex","getIndexOfAccessoryType","newAccessory","Accessory","set","PrimaryElementBehavior","diseaseID","HealthBehavior","State","MinionIdentityBehavior","genderStringKey","MinionModifiersBehavior","amount","amounts","find","AITraitsBehavior","TraitIds","findIndex","set_scale_1","z","draft","lang","changeLanguage","effects_1","load_onisave_1","save_onisave_1","fork","save_serializer_1","handleOniSaveLoad","put","loadChannel","eventChannel","emitter","parseSave","then","END","catch","createLoadChannel","call","readFile","msg","take","reader","FileReader","Promise","accept","reject","onload","result","onerror","readAsArrayBuffer","takeEvery","worker_messages_1","worker","onProgress","promise","unhook","onmessage","RESPONSE_PROGRESS","RESPONSE_PARSE_SUCCESS","RESPONSE_PARSE_ERROR","jsonToError","postMessage","writeSave","RESPONSE_WRITE_SUCCESS","RESPONSE_WRITE_ERROR","sendProgress","parseSaveSuccess","parseSaveError","errorToJson","stack","writeSaveSuccess","writeSaveError","Worker","file_saver_1","handleOniSaveWrite","saveName","select","saveChannel","blob","Blob","createSaveChannel","saveAs","sanitizeSave","save","streamed","NoSave_1","Error_1","Loading_1","SaveEditor_1","AppContainer_1","AppContent_1","NavBar_1","onDismissError","onDismiss","error_1","stateSelectors","mapStateToProps","createStructuredSelector","mapDispatchToProps","NonIdealState_1","Code_1","SaveFilePaths","windows","mac","linux","unknown","NoSave","Trans","i18nKey","defaults","values","translate","Code","Button_1","ErrorPage","Loading","loadingProgressMessageSelector","loading_state_1","loading_message_1","structuredSelector","SelectedPathBreadcrumb_1","ResizePanel_1","editors_1","SaveEditorContainer_1","ContentContainer_1","EditorContainer_1","Sidebar_1","Separator_1","editorType","editorProps","ObjectEditor","getEditor","getSaveItemEditor","getSaveItemEditorProps","structure_1","GAME_OBJECT_GROUP_PATH_ROOT","getPathGameObjectGroup","comparePathMatch","GAME_OBJECT_PATH_ROOT","getPathGameObject","GAME_OBJECT_BEHAVIOR_PATH_ROOT","part","match","isImplicitChild","getPathBehavior","getSaveItemTitle","def","getSaveStructureDef","nameSource","nameProducer","getSaveItemBreadcrumb","breadcrumbs","structurePath","walkSaveStructurePath","defPath","getSaveItemChildPaths","saveGamePath","uiChildren","$uiChildren","defKeys","collectAutoChildPaths","childValue","childDef","advanced","advancedProducer","checkEditMode","collectChildPaths","propFactory","storage_1","gameObjectGroupsStructure","group","gameObjectsStructure","gameObjectVariantInfo","minionGameObject","identityBehavior","gameObjectMatcher","gameObjectStructure","primary_element_1","primaryElementBehavior","format_1","geyserGameObject","startsWith","setStructure","structure","gameObjectTypeInfos","gameObjectPath","defaultVariant","variants","rootVariant","subStructure","variant","iter","next","done","BreadcrumbContainer_1","breadcrumb","links","isFinal","selectedPathBreadcrumbSelector","SaveStructureLink","Link","_onClick","BreadcrumbContainer","div","ResizeHandle_1","ResizePanel","defaultWidth","onResize","_onResize","delta","s","react_draggable_1","ResizeHandleVisual_1","ResizeHandle","isResizing","DraggableCore","onStart","_onStart","onStop","_onStop","onDrag","_onDrag","d","deltaX","ResizeHandleVisual","DefaultSeparator","DefaultObjectEditor_1","SaveRootEditor_1","TemplateObjectEditor_1","GameObjectGroupList_1","GameObjectList_1","DefaultGameObjectEditor_1","MinionEditor_1","GeyserEditor_1","editors","save-root","game-object-group-list","game-object-list","template-object","game-object-default","game-object-minion","game-object-geyser","DefaultObjectEditorContainer_1","EditorField_1","DefaultObjectEditor","fields","fieldElements","field","_renderFieldRow","propKey","_onFieldChange","onModify","DefaultObjectEditorContainer","EditorField","JSON","stringify","parse","selected_value_1","selectedValue","isPrimitive","structuredSelectors","primitiveTypes","valType","InfoText_1","SaveRootEditorContainer_1","SaveGameTitle_1","DuplicantsList_1","_renderContent","numGameObjects","reduce","count","Fragment","numberOfCycles","numberOfDuplicants","SaveRootEditorContainer","SaveGameTitle","DuplicantPortrait_1","DuplicantsListContainer_1","DuplicantsListContent_1","duplicantsSetPath","duplicantIndexes","duplicantPortraits","gameObjectIndex","minionSet","range","arrivalCycle","Footer","re_reselect_1","generateCacheKey","duplicants","duplicantIdentity","identBehavior","gameSave","groupIndex","ident","arrivalTime","PortraitHeader_1","PortraitFooter_1","Portrait","PortraitHeader","PortraitFooter","DuplicantsListContainer","DuplicantsListContent","TemplateObjectEditorContainer_1","from_typeinfo_1","template","fieldRows","properties","FieldEditor","SerializationTypeInfo","member","typeCode","LIST_TYPES","keyValueIndex","Number","TemplateObjectEditorContainer","ArrayLikeField","ValueElement","elements","itemValue","dispatch","writeTo","FormGroup_1","ColorField","DictionaryField","EnumerationField","enumeration","prototype","hasOwnProperty","EnumerationsByName","getEnumeration","parseInt","_onSelectInputChange","TextInput_1","Vector2Field","Vector2IField","Vector3Field","gameObjectGroups","rowData","edit_mode_1","enhancedWithRowData","rowMap","toJSON","rowDataSelector","GameObjectListContent_1","gameObjectItems","portraits","gameObjectPaths","GroupListContent","gameObjectName","prefabIdBehavior","prefabId","currentEditMode","Toolbar_1","GameObjectHeaderContainer_1","primaryElement","Group","align","ElementID","toolbarItem","ToolbarLabel","ToolbarGroup","Toolbar","bgColor","GameObjectHeaderContainer","VerticalTabs_1","MinionEditableName_1","MinionAppearanceTab_1","MinionAptitudesTab_1","MinionEffectsTab_1","MinionHealthTab_1","MinionJobsTab_1","MinionSkillsTab_1","MinionTraitsTab_1","MinionPositionTab_1","minionNamePath","Tab","tabKey","behaviorIndex","TabContent_1","VerticalTabItem_1","Tab_1","VerticalTabs","selectedKey","tabs","Children","tabItems","tab","isSelected","_onTabItemClick","bind","TabContent","pl","VerticalTabItem","EditableTextField_1","MinionHeader","EditableText_1","EditableTextDisplay_1","EditableTextInput_1","Icon_1","EditableText","autoFocus","_onEditableChange","onKeyUp","_onEditableKeyUp","onFocus","_onEditableFocus","_onEditableBlur","_onTextClick","_commit","_reset","EditableTextDisplay","EditableTextInput","NullableInput_1","TextAutocompleteInput_1","SelectInput_1","TDText","NoAccessory","NoAccessoryMouth","MinionAppearanceTab","onSetGender","AccessoryTypes","_renderAccessoryField","genderOpts","MINION_IDENTITY_GENDERS","_setScaleX","_setScaleY","onSetScale","onSetAccessory","editGroup","_renderAccessorySelector","AccessoriesByType","accessoryNames","items","minion_identity_1","accessorizerBehavior","getSelectedGameObjectGender","accessory","getAccessoryOfType","getAccessoryName","createAccessorySelector","getSelectedGameObjectIdentityBehavior","Autocomplete_1","TextAutocompleteInput","getItemValue","onSelect","_onValueSelect","selectOnBlur","react_autocomplete_1","AutocompleteItem","Autocomplete","inputProps","ref","convertProps","renderItem","item","isHighlighted","renderMenu","styles","AutocompleteMenu","aptitudes","setAptitude","sort","aptitudesSelector","MinionResumeBehavior","hstr","aptitude","roleId","MinionRoleGroup","roleHash","effects","onSetEffectData","AI_EFFECT_IDS","effectId","effectIndex","effect","timeRemaining","AIEffectsBehavior","EffectsPath","MinionHealthTab","healthState","onHealthStatusChanged","hitpoints","onHitpointsChanged","stamina","onStaminaChanged","calories","onCaloriesChanged","breath","onBreathChanged","stress","onStressChanged","bladder","onBladderChanged","surfaceDiseaseId","surfaceDiseaseCount","immuneLevel","onImmuneLevelChanged","foodPoisoning","onFoodPoisoningChanged","coldBrain","onColdBrainChanged","heatRash","onHeatRashChanged","slimeLung","onSlimeLungChanged","spores","onSporesChanged","sunburn","onSunburnChanged","HealthState","Perfect","_onSurfaceDiseaseIdCommit","_onSurfaceDiseaseCountCommit","onSurfaceDiseaseChanged","health_1","minion_modifiers_1","getSelectedGameObjectHealthState","getSelectedGameObjectElementDiseaseId","getSelectedGameObjectElementDiseaseCount","getSelectedGameObjectModifierValueSelector","getSelectedGameObjectHealthBehavior","getSelectedGameObjectElementBehavior","getSelectedGameObjectModifiersBehavior","amountId","level","jobs","setExperience","setMastery","experienceIndex","masteryIndex","masteriesSelector","experienceSelector","masteries","experience","mastery","skills","setSkillLevel","setSkillExperience","AIAttributeLevelsBehavior","traits","onSetTrait","rows","AI_TRAIT_IDS","trait","some","getSelectedGameObjectTraits","MinionPositionTab","HelpText_1","geyserType","onGeyserTypeChanged","emissionRate","onEmissionRateChanged","yearLengthRoll","onYearLengthRollChanged","yearPercentRoll","onYearPercentRollChanged","iterationLengthRoll","onIterationLengthRollChanged","iterationPercentRoll","onIterationPercentRollChanged","GeyserTypeNames","geyserBehaviorSelector","GeyserBehavior","configuration","typeId","GeyserType","rate","HelpText","SaveEditorContainer","ContentContainer","SidebarContainer_1","EditorModeSelector_1","SaveStructureTree_1","Sidebar","Panel_1","SidebarContainer","Panel","EditorModeSelector","htmlFor","_onAdvancedModeChange","SaveStructureTreeContainer_1","SaveStructureItem_1","_containerRef","saveItemPath","scrollContainer","SaveStructureTreeContainer","dom_scroll_into_view_1","SaveStructureItemContainer_1","SaveStructureItemHeader_1","SaveStructureItemContent_1","SaveStructureItemComponent","_ref","isExpanded","selectionStatus","_scrollIntoView","oldProps","childPaths","isExpandable","titleIntent","valueElement","childPath","SaveStructureItem","expandable","expanded","onExpandToggle","_onExpandToggle","htmlElement","allowHorizontalScroll","onlyScrollIfNeeded","offsetBottom","offsetTop","string_natural_compare_1","cacheKeyGenerator","itemPathSelector","itemPath","aTitle","bTitle","SaveStructureItemContainer","Expander_1","ItemText_1","SaveStructureItemHeaderContainer","span","SaveStructureItemHeader","viewBox","fill","ItemText","SaveStructureItemContent","Separator","AppContainer","NavBarContainer_1","NavBarGroup_1","NavBarTitleText_1","SettingsButton_1","NavBar","onLoadTestData","el","display","_onLoadFileInput","_onLoadFileClick","_onSaveFileClick","href","click","files","onLoad","onSave","ext","endsWith","withExtension","save_game_json_1","NavBarContainer","NavBarGroup","NavBarTitleText","DropdownMenuButton_1","LanguageMenuButton_1","button","DropdownMenuContainer_1","DropdownMenuPanel_1","Menu_1","DropdownMenu","isOpen","_toggleDropdown","_renderDropDown","_closeDropdown","DropdownMenuContainer","DropdownMenuPanel","MenuItemWrapper","expandedLeft","expandedRight","MenuContainer","ul","menuItems","child","onSetLanguage"],"mappings":"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","file":"client.02ce6aafc64986431bcf.bundle.js","sourcesContent":["import \"./style.css\";\r\n\r\nimport styled from \"./styled\";\r\nexport default styled;\r\n\r\nexport * from \"./styles\";\r\nexport * from \"./theme\";\r\n\r\nexport * from \"./intent\";\r\n\r\nexport {\r\n  ThemeProvider,\r\n  ThemeProps,\r\n  ThemedOuterStyledProps,\r\n  injectGlobal,\r\n  css\r\n} from \"./styled\";\r\n","import {\r\n  AlignSelfProps,\r\n  JustifySelfProps,\r\n  SpaceProps,\r\n  alignSelf,\r\n  justifySelf,\r\n  space\r\n} from \"styled-system\";\r\n\r\nimport styled from \"@/style\";\r\n\r\nimport { TextProps as TextStyleProps, text } from \"@/style\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nexport type TextProps = TextStyleProps &\r\n  AlignSelfProps &\r\n  JustifySelfProps &\r\n  SpaceProps;\r\nconst Text = styled<TextProps, \"span\">(\"span\")`\r\n  ${text};\r\n  ${alignSelf};\r\n  ${justifySelf};\r\n  ${space};\r\n`;\r\nText.displayName = \"Text\";\r\nexport default attachProps(Text, {\r\n  H4: Text.withComponent(\"h4\") as StyledWithComponentTag<\"h4\", TextProps>,\r\n  Label: Text.withComponent(\"label\") as StyledWithComponentTag<\r\n    \"label\",\r\n    TextProps\r\n  >,\r\n  Div: Text.withComponent(\"div\") as StyledWithComponentTag<\"div\", TextProps>\r\n});\r\n","import { SaveGame } from \"oni-save-parser\";\r\nimport { EditMode } from \"@/services/save-structure\";\r\n\r\nexport type LoadingState = \"idle\" | \"loading\" | \"saving\" | \"ready\";\r\n\r\nexport interface AppState {\r\n  language: string;\r\n  loadingState: LoadingState;\r\n  loadingProgressMessage: string | null;\r\n  error: Error | null;\r\n  oniSave: SaveGame | null;\r\n  selectedPath: string[];\r\n  editMode: EditMode;\r\n}\r\nexport const defaultAppState: Readonly<AppState> = {\r\n  language: \"en\",\r\n  loadingState: \"idle\" as \"idle\",\r\n  loadingProgressMessage: null,\r\n  error: null,\r\n  oniSave: null,\r\n  selectedPath: [],\r\n  editMode: \"normal\"\r\n};\r\nObject.freeze(defaultAppState);\r\n","import { AppState } from \"@/state\";\r\n\r\nconst oniSaveSelector = (state: AppState) => state.oniSave;\r\nexport default oniSaveSelector;\r\n","import { forEach } from \"lodash-es\";\r\n\r\nexport function attachProps<\r\n  TTarget,\r\n  TSubComponents extends Record<string, any>\r\n>(component: TTarget, subComponents: TSubComponents): TTarget & TSubComponents {\r\n  const c = component as any;\r\n  forEach(subComponents, (component, key) => {\r\n    c[key] = component;\r\n  });\r\n  return c as any;\r\n}\r\n","import { AppState } from \"@/state\";\r\n\r\nconst selectedPathSelector = (state: AppState) => state.selectedPath;\r\nexport default selectedPathSelector;\r\n","import { attachProps } from \"@/utils\";\r\n\r\nimport Box, { BoxProps } from \"@/components/Box\";\r\n\r\nimport {\r\n  AlignContentProps,\r\n  JustifyContentProps,\r\n  alignContent,\r\n  justifyContent\r\n} from \"styled-system\";\r\n\r\nexport interface FlexItemProps extends BoxProps {\r\n  grow?: boolean;\r\n  shrink?: boolean;\r\n  fillParent?: boolean;\r\n  constrain?: \"row\" | \"column\";\r\n}\r\n\r\nconst FlexItem = Box.extend<FlexItemProps>`\r\n  ${props => props.grow && \"flex-grow: 1\"};\r\n  ${props => props.shrink && \"flex-shrink: 1\"};\r\n  ${props =>\r\n    props.fillParent &&\r\n    (props.constrain ? \"flex: 0 1 auto\" : \"flex: 1 1 auto\")};\r\n  ${props =>\r\n    props.constrain &&\r\n    (props.constrain === \"row\"\r\n      ? [\"min-width: 0;\", \"width: 100%;\"]\r\n      : [\"min-height: 0;\", \"height: 100%;\"])};\r\n  ${props => props.shrink && \"min-height: 0;\"};\r\n  flex-basis: auto;\r\n  box-sizing: border-box;\r\n`;\r\nFlexItem.displayName = \"FlexItem\";\r\n\r\nexport interface FlexProps\r\n  extends BoxProps,\r\n    AlignContentProps,\r\n    JustifyContentProps {\r\n  direction: \"row\" | \"column\";\r\n}\r\n\r\nconst Flex = Box.extend<FlexProps>`\r\n  display: flex;\r\n  ${alignContent};\r\n  ${justifyContent};\r\n  flex-direction: ${props => props.direction};\r\n  align-items: stretch;\r\n`;\r\nFlex.displayName = \"Flex\";\r\n\r\nexport default attachProps(Flex, {\r\n  Item: FlexItem\r\n});\r\n","import * as styledComponents from \"styled-components\";\r\nimport {\r\n  ThemedStyledComponentsModule,\r\n  ThemedOuterStyledProps as _ThemedOuterStyledProps\r\n} from \"styled-components\";\r\n\r\nimport { Theme } from \"./theme\";\r\n\r\nconst {\r\n  default: styled,\r\n  css,\r\n  injectGlobal,\r\n  keyframes,\r\n  ThemeProvider\r\n} = styledComponents as ThemedStyledComponentsModule<Theme>;\r\n\r\nexport type ThemeProps = {\r\n  theme?: Theme;\r\n};\r\nexport type ThemedOuterStyledProps<P> = _ThemedOuterStyledProps<P, Theme>;\r\n\r\nexport { css, injectGlobal, keyframes, ThemeProvider };\r\nexport default styled;\r\n","import * as React from \"react\";\r\nimport { IntentProps, Border, Radius, Intent, Space, Color } from \"@/style\";\r\n\r\nimport Box from \"@/components/Box\";\r\nimport Text from \"@/components/Text\";\r\n\r\nexport interface NonIdealStatProps extends IntentProps {\r\n  header?: React.ReactNode;\r\n}\r\n\r\nconst Header = Text.H4.extend`\r\n  margin-top: 0;\r\n  width: auto;\r\n`;\r\nHeader.displayName = \"Header\";\r\nconst NonIdealState: React.SFC<NonIdealStatProps> = ({\r\n  intent,\r\n  header,\r\n  children\r\n}) => (\r\n  <Box width=\"100%\" height=\"100%\">\r\n    <Box\r\n      width=\"75%\"\r\n      intent={intent}\r\n      border={Border.Thick}\r\n      borderRadius={Radius.Medium}\r\n      borderColor={Color.HintIntent}\r\n      p={Space.Medium}\r\n      mx=\"auto\"\r\n      mt={Space.Large}\r\n    >\r\n      {header && (\r\n        <Header\r\n          intent={\r\n            intent === Intent.Default || intent === Intent.Hint\r\n              ? Intent.Primary\r\n              : intent\r\n          }\r\n        >\r\n          {header}\r\n        </Header>\r\n      )}\r\n      {children}\r\n    </Box>\r\n  </Box>\r\n);\r\nNonIdealState.displayName = \"NonIdealState\";\r\nexport default NonIdealState;\r\n","import * as React from \"react\";\r\nimport { FontSizeProps } from \"styled-system\";\r\n\r\nimport { Intent, Space } from \"@/style\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\nimport Box from \"@/components/Box\";\r\nimport Text from \"@/components/Text\";\r\n\r\nexport interface FormGroupProps extends FontSizeProps {\r\n  label: string;\r\n  inline?: boolean;\r\n  intent?: Intent;\r\n}\r\ntype Props = FormGroupProps;\r\nexport default class FormGroup extends React.Component<Props> {\r\n  render() {\r\n    const { label, intent, inline, fontSize } = this.props;\r\n\r\n    let children = this.props.children;\r\n\r\n    return (\r\n      <Flex direction={inline ? \"row\" : \"column\"} mb={Space.Small}>\r\n        <Text.Label\r\n          alignSelf=\"baseline\"\r\n          fontSize={fontSize}\r\n          mr={inline ? Space.Small : Space.None}\r\n          intent={intent}\r\n        >\r\n          {label}\r\n        </Text.Label>\r\n        <Box\r\n          width=\"100%\"\r\n          alignSelf=\"baseline\"\r\n          px={inline ? Space.None : Space.Medium}\r\n        >\r\n          {children}\r\n        </Box>\r\n      </Flex>\r\n    );\r\n  }\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Keys from \"@/keys\";\r\n\r\nimport { NumberPrecision, clamp, isFloatingPoint } from \"@/math\";\r\n\r\nimport Input from \"@/components/Input\";\r\n\r\nexport interface NumericInputProps {\r\n  value: number;\r\n  minValue?: number;\r\n  maxValue?: number;\r\n  precision?: NumberPrecision;\r\n  onCommit(value: number): void;\r\n}\r\n\r\ntype Props = NumericInputProps;\r\ninterface State {\r\n  editValue: string | null;\r\n  validationMessage: string | null;\r\n}\r\nexport default class NumericInput extends React.Component<Props, State> {\r\n  private _input = React.createRef<HTMLInputElement>();\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      editValue: null,\r\n      validationMessage: null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { value, minValue, maxValue, precision } = this.props;\r\n    const { editValue } = this.state;\r\n\r\n    const currentValue = editValue != null ? editValue : value;\r\n\r\n    const step = isFloatingPoint(precision || \"int32\") ? \"any\" : 1;\r\n\r\n    return (\r\n      <Input\r\n        innerRef={this._input}\r\n        type=\"number\"\r\n        min={minValue}\r\n        max={maxValue}\r\n        value={currentValue}\r\n        onChange={this._onValueChange}\r\n        onKeyPress={this._onInputKeyPress}\r\n        onBlur={this._onInputBlur}\r\n        step={step}\r\n      />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const { minValue, maxValue } = this.props;\r\n    const editValue = e.target.value;\r\n    const numberValue = parseFloat(editValue);\r\n    let validationMessage: string | null = null;\r\n\r\n    if (maxValue != null && numberValue >= maxValue) {\r\n      validationMessage = `Value must be less than ${maxValue}`;\r\n    } else if (minValue != null && numberValue <= minValue) {\r\n      validationMessage = `Value must be greater than ${minValue}`;\r\n    }\r\n\r\n    e.target.setCustomValidity(validationMessage || \"\");\r\n\r\n    this.setState({\r\n      editValue,\r\n      validationMessage\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _onInputKeyPress(e: React.KeyboardEvent<HTMLInputElement>) {\r\n    if (e.key === Keys.Enter) {\r\n      this._commitEdit();\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onInputBlur() {\r\n    this._commitEdit();\r\n  }\r\n\r\n  private _commitEdit() {\r\n    const { editValue, validationMessage } = this.state;\r\n    const { precision = \"int32\", onCommit } = this.props;\r\n\r\n    // Reset validation\r\n    if (validationMessage && this._input.current) {\r\n      this._input.current.setCustomValidity(\"\");\r\n    }\r\n\r\n    this.setState({\r\n      editValue: null,\r\n      validationMessage: null\r\n    });\r\n\r\n    if (!editValue || validationMessage) {\r\n      return;\r\n    }\r\n\r\n    const numberValue = parseFloat(editValue);\r\n    if (isNaN(numberValue)) {\r\n      return;\r\n    }\r\n\r\n    const newValue = clamp(precision, numberValue);\r\n    if (isNaN(newValue)) {\r\n      return;\r\n    }\r\n\r\n    onCommit(newValue);\r\n  }\r\n}\r\n","import { createSelector, Selector } from \"reselect\";\r\n\r\nimport { memoize, get } from \"lodash-es\";\r\n\r\nimport { BehaviorName, GameObjectBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport getSelectedGameObject from \"@/selectors/game-object\";\r\n\r\nfunction createCurrentGameObjectBehaviorSelector<T extends GameObjectBehavior>(\r\n  behaviorName: BehaviorName<T>\r\n): Selector<AppState, T | null> {\r\n  return createSelector(getSelectedGameObject, gameObject => {\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n\r\n    return getBehavior(gameObject, behaviorName) || null;\r\n  });\r\n}\r\n\r\n// Using an inline function breaks the inference of the behavior.\r\nexport const getCurrentGameObjectBehaviorSelector = memoize(\r\n  createCurrentGameObjectBehaviorSelector\r\n) as typeof createCurrentGameObjectBehaviorSelector;\r\n\r\nexport function createCurrentGameObjectBehaviorPropertySelector<\r\n  T extends GameObjectBehavior,\r\n  TResult\r\n>(\r\n  behaviorName: BehaviorName<T>,\r\n  valueSelector: string[] | Selector<T, TResult>\r\n): Selector<AppState, TResult | null> {\r\n  let valueSelectFunc: Selector<T, TResult>;\r\n  if (Array.isArray(valueSelector)) {\r\n    valueSelectFunc = behavior => get(behavior, valueSelector);\r\n  } else {\r\n    valueSelectFunc = valueSelector;\r\n  }\r\n\r\n  const behaviorSelector = getCurrentGameObjectBehaviorSelector(behaviorName);\r\n  return createSelector(behaviorSelector, behavior => {\r\n    if (!behavior) {\r\n      return null;\r\n    }\r\n    return valueSelectFunc(behavior);\r\n  });\r\n}\r\n\r\ntype getCGOBByPath = <T extends GameObjectBehavior, TResult>(\r\n  behaviorName: BehaviorName<T>,\r\n  valuePath: string[]\r\n) => Selector<AppState, TResult>;\r\n\r\nexport const getCurrentGameObjectBehaviorPropertySelector = memoize(\r\n  createCurrentGameObjectBehaviorPropertySelector,\r\n  (behaviorName: string, behaviorPath: string[]) =>\r\n    [behaviorName, behaviorPath.join(\".\")].join(\"::\")\r\n) as getCGOBByPath;\r\n","import { BehaviorName, GameObjectBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { produceFromGameObject } from \"@/reducer/game-object/utils\";\r\n\r\nexport function produceFromBehavior<TBehav extends GameObjectBehavior>(\r\n  state: AppState,\r\n  behaviorName: BehaviorName<TBehav>,\r\n  producer: (behavior: TBehav) => void\r\n): AppState {\r\n  return produceFromGameObject(state, gameObject => {\r\n    const behavior = getBehavior(gameObject, behaviorName);\r\n    if (!behavior) {\r\n      return;\r\n    }\r\n\r\n    return producer(behavior);\r\n  });\r\n}\r\n","import {\r\n  AlignSelfProps,\r\n  JustifySelfProps,\r\n  WidthProps,\r\n  HeightProps,\r\n  SpaceProps,\r\n  alignSelf,\r\n  justifySelf,\r\n  width,\r\n  height,\r\n  space\r\n} from \"styled-system\";\r\n\r\nimport styled, {\r\n  BorderProps,\r\n  IntentBorderProps,\r\n  intentBorder,\r\n  IntentProps,\r\n  border,\r\n  intent\r\n} from \"@/style\";\r\n\r\nexport type BoxProps = AlignSelfProps &\r\n  JustifySelfProps &\r\n  WidthProps &\r\n  HeightProps &\r\n  SpaceProps &\r\n  BorderProps &\r\n  IntentBorderProps &\r\n  IntentProps;\r\n\r\nconst Box = styled<BoxProps, \"div\">(\"div\")`\r\n  ${alignSelf};\r\n  ${justifySelf};\r\n  ${width};\r\n  ${height};\r\n  ${space};\r\n  ${border};\r\n  /* ${intentBorder}; */\r\n  ${intent};\r\n  box-sizing: border-box;\r\n`;\r\nBox.displayName = \"Box\";\r\nBox.defaultProps = {\r\n  intentIsBg: false\r\n};\r\nexport default Box;\r\n","export * from \"./utils\";\r\nexport * from \"./types\";\r\n","import { connect } from \"react-redux\";\r\n\r\nexport * from \"./props\";\r\n\r\nimport { EditorFieldProps } from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\nimport { AppState } from \"@/state\";\r\n\r\nexport type InjectedProps = StateProps & DispatchProps;\r\n\r\nexport default function connectEditorField() {\r\n  return connect<StateProps, DispatchProps, EditorFieldProps, AppState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  );\r\n}\r\n","import { WidthProps, width } from \"styled-system\";\r\n\r\nimport styled, { TextProps, getTheme, text, css } from \"@/style\";\r\n\r\n// Note: Should extend TextCssProps, but doing so causes some odd typing issues\r\n//  Props will somehow demand but refuse 'ref'\r\nexport interface InputStyleProps extends TextProps, WidthProps {}\r\n\r\nexport const inputStyle = css<InputStyleProps>`\r\n  ${text};\r\n  ${width};\r\n  padding: 2px;\r\n  background-color: ${props => getTheme(props).colors.bg.panel};\r\n  border: ${props => getTheme(props).borders[1]};\r\n  border-color: ${props => getTheme(props).colors.intent.secondary};\r\n  &:focus {\r\n    border-color: ${props => getTheme(props).colors.intent.primary};\r\n    outline: none;\r\n  }\r\n  &:invalid {\r\n    border-color: ${props => getTheme(props).colors.intent.dangerous};\r\n  }\r\n`;\r\n\r\nconst Input = styled<InputStyleProps, \"input\">(\"input\")`\r\n  ${inputStyle};\r\n`;\r\nInput.displayName = \"Input\";\r\n\r\nexport type InputProps = StyledComponentProps<typeof Input>;\r\nexport default Input;\r\n","import NumericInput from \"@/components/NumericInput\";\r\n\r\nimport connectEditorField from \"./connect-field\";\r\n\r\nexport default connectEditorField()(NumericInput);\r\n","import { GameObjectBehavior, BehaviorName } from \"oni-save-parser\";\r\n\r\nexport const ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE =\r\n  \"oni-save/current-object/behaviors/set-value\";\r\nexport function setCurrentObjectBehaviorValue<T extends GameObjectBehavior>(\r\n  behaviorName: BehaviorName<T>,\r\n  path: string[],\r\n  value: any\r\n) {\r\n  return {\r\n    type: ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE as typeof ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE,\r\n    payload: { behaviorName, path, value }\r\n  };\r\n}\r\nexport type SetCurrentObjectBehaviorValueAction<\r\n  T extends GameObjectBehavior = GameObjectBehavior\r\n> = {\r\n  type: typeof ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE;\r\n  payload: {\r\n    behaviorName: BehaviorName<T>;\r\n    path: string[];\r\n    value: any;\r\n  };\r\n};\r\n","export * from \"./props\";\r\nimport SaveStructureLink from \"./SaveStructureLink\";\r\nexport default SaveStructureLink;\r\n","export * from \"./theme\";\r\n\r\nexport { Color, getThemeColor } from \"./colors\";\r\nexport { Border, getThemeBorder } from \"./borders\";\r\nexport { FontSize } from \"./font-sizes\";\r\nexport { Radius, getThemeRadius } from \"./radii\";\r\nexport { Space, getThemeSpace } from \"./space\";\r\n","import { createSelector } from \"reselect\";\r\n\r\nimport { GameObject } from \"oni-save-parser\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport selectedPath from \"./selected-path\";\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nconst GAME_OBJECT_PATH = [/gameObjects/, /.+/, /gameObjects/, /\\d+/];\r\n\r\nexport const getIsGameObjectSelected = createSelector(selectedPath, path => {\r\n  if (!path) {\r\n    return null;\r\n  }\r\n\r\n  if (path.length < GAME_OBJECT_PATH.length) {\r\n    return false;\r\n  }\r\n\r\n  return GAME_OBJECT_PATH.every((x, i) => x.test(path[i]));\r\n});\r\n\r\nexport const getSelectedGameObjectPath = createSelector(\r\n  selectedPath,\r\n  getIsGameObjectSelected,\r\n  (path, valid) => {\r\n    if (!valid) {\r\n      return null;\r\n    }\r\n\r\n    return path.slice(0, GAME_OBJECT_PATH.length);\r\n  }\r\n);\r\n\r\nexport const getSelectedGameObject = createSelector(\r\n  oniSave,\r\n  getSelectedGameObjectPath,\r\n  (oniSave, path) => {\r\n    if (!oniSave || !path) {\r\n      return null;\r\n    }\r\n\r\n    return get(oniSave, path) as GameObject;\r\n  }\r\n);\r\n\r\nexport const getSelectedGameObjectPosition = createSelector(\r\n  getSelectedGameObject,\r\n  gameObject => {\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n    return gameObject.position;\r\n  }\r\n);\r\n\r\nexport const getSelectedGameObjectScale = createSelector(\r\n  getSelectedGameObject,\r\n  gameObject => {\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n    return gameObject.scale;\r\n  }\r\n);\r\n\r\nexport default getSelectedGameObject;\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nexport const ACTION_RECEIVE_ONISAVE_BEGIN = \"oni-save/receive:begin\";\r\nexport const receiveOniSaveBegin = (\r\n  operation: \"loading\" | \"saving\",\r\n  clearExisting?: boolean\r\n) => ({\r\n  type: ACTION_RECEIVE_ONISAVE_BEGIN as typeof ACTION_RECEIVE_ONISAVE_BEGIN,\r\n  payload: { operation, clearExisting }\r\n});\r\nexport type ReceiveOniSaveBeginAction = ReturnType<typeof receiveOniSaveBegin>;\r\n\r\nexport const ACTION_RECEIVE_ONISAVE_ERROR = \"oni-save/receive:error\";\r\nexport const receiveOniSaveError = (error: Error) => ({\r\n  type: ACTION_RECEIVE_ONISAVE_ERROR as typeof ACTION_RECEIVE_ONISAVE_ERROR,\r\n  payload: error\r\n});\r\nexport type ReceiveOniSaveErrorAction = ReturnType<typeof receiveOniSaveError>;\r\n\r\nexport const ACTION_RECEIVE_ONISAVE_SUCCESS = \"oni-save/receive:success\";\r\nexport const receiveOniSaveSuccess = (oniSave: SaveGame) => ({\r\n  type: ACTION_RECEIVE_ONISAVE_SUCCESS as typeof ACTION_RECEIVE_ONISAVE_SUCCESS,\r\n  payload: oniSave\r\n});\r\nexport type ReceiveOniSaveSuccessAction = ReturnType<\r\n  typeof receiveOniSaveSuccess\r\n>;\r\n\r\nexport type ReceiveOniSaveAction =\r\n  | ReceiveOniSaveBeginAction\r\n  | ReceiveOniSaveErrorAction\r\n  | ReceiveOniSaveSuccessAction;\r\n","import DataTable from \"./DataTable\";\r\nexport default DataTable;\r\nexport * from \"./DataTable\";\r\n","import * as React from \"react\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport EditorHeader from \"./EditorHeader\";\r\nimport { Space } from \"@/style\";\r\n\r\nexport interface EditorContainerProps {\r\n  header: React.ReactNode;\r\n}\r\nconst EditorContainer: React.SFC<EditorContainerProps> = ({\r\n  header,\r\n  children\r\n}) => (\r\n  <Flex direction=\"column\" width=\"100%\" height=\"100%\">\r\n    <EditorHeader>{header}</EditorHeader>\r\n    <Flex.Item fillParent constrain=\"column\" p={Space.Small}>\r\n      {children}\r\n    </Flex.Item>\r\n  </Flex>\r\n);\r\nEditorContainer.displayName = \"EditorContainer\";\r\nexport default EditorContainer;\r\n","import { includes } from \"lodash\";\r\n\r\nexport enum Intent {\r\n  Default = \"default\",\r\n  Primary = \"primary\",\r\n  Secondary = \"secondary\",\r\n  Dangerous = \"dangerous\",\r\n  Hint = \"hint\"\r\n}\r\n\r\nexport function isIntent(str: string | null | undefined): str is Intent {\r\n  return includes(Intent, str);\r\n}\r\n","import { createSelector } from \"reselect\";\r\n\r\nimport { getSaveItemEditValue } from \"@/services/save-structure\";\r\n\r\nimport selectedPath from \"./selected-path\";\r\nimport oniSave from \"./oni-save\";\r\n\r\nconst selectedValueSelector = createSelector(\r\n  oniSave,\r\n  selectedPath,\r\n  (saveGame, selectedPath) => {\r\n    if (!saveGame) {\r\n      return null;\r\n    }\r\n\r\n    if (selectedPath.length === 0) {\r\n      return saveGame;\r\n    }\r\n\r\n    return getSaveItemEditValue(selectedPath, saveGame);\r\n  }\r\n);\r\nexport default selectedValueSelector;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Input from \"@/components/Input\";\r\n\r\nexport interface CheckInputProps {\r\n  value: boolean;\r\n  onCommit(value: boolean): void;\r\n}\r\n\r\ntype Props = CheckInputProps;\r\nexport default class CheckInput extends React.Component<Props> {\r\n  render() {\r\n    const { value } = this.props;\r\n    return (\r\n      <Input type=\"checkbox\" checked={value} onChange={this._onValueChange} />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const { onCommit } = this.props;\r\n    const value = e.target.checked;\r\n    onCommit(value);\r\n  }\r\n}\r\n","import i18n from \"./i18n\";\r\nexport default i18n;\r\n","import platform from \"platform\";\r\n\r\nconst OS_WINDOWS = /windows/i;\r\nconst OS_MAC = /Mac|iOS|(OS\\ X)/;\r\nconst OS_LINUX = /linux/i;\r\n\r\nexport type OSType = \"windows\" | \"mac\" | \"linux\" | \"unknown\";\r\n\r\nconst osPlatform = (platform.os && platform.os.family) || \"unknown\";\r\nexport const OSType: OSType = OS_WINDOWS.test(osPlatform)\r\n  ? \"windows\"\r\n  : OS_MAC.test(osPlatform)\r\n    ? \"mac\"\r\n    : OS_LINUX.test(osPlatform)\r\n      ? \"linux\"\r\n      : \"unknown\";\r\n\r\nexport const isProd: boolean = process.env.NODE_ENV === \"production\";\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Intent } from \"../intent\";\r\n\r\nimport { Color, getThemeColor } from \"../theme\";\r\n\r\nexport interface IntentColorProps {\r\n  intent?: Intent;\r\n}\r\n\r\nconst intentColorOf = (intent: Intent) => css`\r\n  color: ${getThemeColor(Color.fromIntent(intent))};\r\n`;\r\n\r\nconst intentColorFromProps = css<IntentColorProps>`\r\n  ${props => intentColorOf(props.intent || Intent.Default)};\r\n`;\r\n\r\nexport const intentColor = attachProps(intentColorFromProps, {\r\n  of: intentColorOf\r\n});\r\n","export const ACTION_ONISAVE_MODIFY = \"oni-save/modify\";\r\nexport const modifyOniSave = (path: string[], value: any) => ({\r\n  type: ACTION_ONISAVE_MODIFY as typeof ACTION_ONISAVE_MODIFY,\r\n  payload: { path, value }\r\n});\r\nexport type ModifyOniSaveAction = ReturnType<typeof modifyOniSave>;\r\n","export const ACTION_ONISAVE_PARSE_PROGRESS = \"onisave/parse-progress\";\r\nexport const parseProgress = (message: string) => ({\r\n  type: ACTION_ONISAVE_PARSE_PROGRESS as typeof ACTION_ONISAVE_PARSE_PROGRESS,\r\n  payload: { message }\r\n});\r\nexport type ParseProgressAction = ReturnType<typeof parseProgress>;\r\n","export const ACTION_SELECT_PATH = \"editor/select-path\";\r\nexport const selectPath = (path: string[]) => ({\r\n  type: ACTION_SELECT_PATH as typeof ACTION_SELECT_PATH,\r\n  payload: path\r\n});\r\nexport type SelectPathAction = ReturnType<typeof selectPath>;\r\n","import * as React from \"react\";\r\n\r\nimport { SpaceProps, space } from \"styled-system\";\r\n\r\nimport styled, {\r\n  Space,\r\n  FontSize,\r\n  Radius,\r\n  VerticalAlignProps,\r\n  getThemeRadius,\r\n  verticalAlign\r\n} from \"@/style\";\r\n\r\nimport { Intent, getTheme, intentFill } from \"@/style\";\r\n\r\nexport interface ButtonProps extends SpaceProps, VerticalAlignProps {\r\n  intent?: Intent;\r\n  onClick?(e: React.MouseEvent<HTMLDivElement>): void;\r\n}\r\n\r\nconst Button = styled<ButtonProps, \"button\">(\"button\")`\r\n  ${intentFill};\r\n  ${verticalAlign};\r\n  ${space} border: none;\r\n  user-select: none;\r\n  border-radius: ${getThemeRadius(Radius.Button)}px;\r\n  font-size: ${props => getTheme(props).fontSizes[FontSize.Button]}px;\r\n  cursor: pointer;\r\n`;\r\nButton.displayName = \"Button\";\r\nButton.defaultProps = {\r\n  intent: Intent.Default,\r\n  m: Space.Small\r\n};\r\n\r\nexport default Button;\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nimport gameObjectsStructure from \"./gameObjects\";\r\nimport { SaveStructureDef } from \"./types\";\r\n\r\n// The default 'any' makes this useful for variables, but useless for asignment.\r\n//  This is because type 'any' includes all fields, and overrides our selective\r\n//  exclusion of $-prefix fields\r\nconst defaultAdvancedField: SaveStructureDef<{}> = { $advanced: true };\r\n\r\nconst saveStructure: SaveStructureDef<SaveGame> = {\r\n  $editor: \"save-root\",\r\n  $uiPathName: (obj: SaveGame) => obj.header.gameInfo.baseName || \"Save Game\",\r\n\r\n  /**\r\n   * Version info and precalculated values.\r\n   * Changing this stuff can confuse the game or display bad data\r\n   * for the loading screen.\r\n   */\r\n  header: defaultAdvancedField,\r\n\r\n  /**\r\n   * Data templates for the rest of the save.  Changing anything in here\r\n   * is guarenteed to result in a corrupt save.\r\n   */\r\n  templates: defaultAdvancedField,\r\n\r\n  /**\r\n   * World width and height, and opaque engine data we do not understand.\r\n   * Contents of the worldmap and state of the fluid/gas/electrical networks\r\n   * live in here.\r\n   */\r\n  world: defaultAdvancedField,\r\n\r\n  /**\r\n   * Settings for the master game object handler.\r\n   * None of these are related to user-settings, and changing them\r\n   * will most likely result in an immediately or eventually corrupt save.\r\n   */\r\n  settings: defaultAdvancedField,\r\n\r\n  /**\r\n   * Game version info.  Should mirror the same data\r\n   * stored in header.\r\n   * Should never be touched, as ONI makes decisions on how to load the file\r\n   * based on this.\r\n   */\r\n  version: defaultAdvancedField,\r\n\r\n  /**\r\n   * Game objects.  These are the interesting bits\r\n   */\r\n  gameObjects: gameObjectsStructure,\r\n\r\n  /**\r\n   * Another blob of generalized non-object-specific game data\r\n   */\r\n  gameData: {\r\n    $editor: \"template-object\",\r\n    $advanced: true,\r\n    $editorProps() {\r\n      return {\r\n        templateName: \"Game+GameSaveData\"\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Presumably tracks the flow of material through the gas conduits.\r\n     * I am reasonably sure this also ties into native game data,\r\n     * and changing this will probably get the engine into an\r\n     * inconsistant state.\r\n     */\r\n    gasConduitFlow: defaultAdvancedField,\r\n\r\n    /**\r\n     * Presumably tracks the flow of material through the loquid conduits.\r\n     * I am reasonably sure this also ties into native game data,\r\n     * and changing this will probably get the engine into an\r\n     * inconsistant state.\r\n     */\r\n    liquidConduitFlow: defaultAdvancedField,\r\n\r\n    /**\r\n     * Probably deals with limiting the area of the map that the game is running logic for.\r\n     */\r\n    simActiveRegionMin: defaultAdvancedField,\r\n\r\n    /**\r\n     * Probably deals with limiting the area of the map that the game is running logic for.\r\n     */\r\n    simActiveRegionMax: defaultAdvancedField,\r\n\r\n    fallingWater: defaultAdvancedField,\r\n\r\n    unstableGround: defaultAdvancedField,\r\n\r\n    /**\r\n     * While this does contain (multiple) worldgen seeds,\r\n     *  all seeds are the same and reflect the definitivie chosen seed in customGameSettings.\r\n     * It also has a bunch of polygons indicating regions of the overworld.  Not sure what it represents,\r\n     *  might be biome regions.\r\n     */\r\n    worldDetail: defaultAdvancedField,\r\n\r\n    customGameSettings: defaultAdvancedField\r\n  }\r\n};\r\nexport default saveStructure;\r\n","import { isObject } from \"lodash-es\";\r\nimport { GameObjectBehavior, GameObjectGroup } from \"oni-save-parser\";\r\n\r\nexport function gameObjectIs(type: string): (obj: GameObjectGroup) => boolean {\r\n  return obj => isObject(obj) && obj.name === type;\r\n}\r\n\r\nexport function behaviorIs(type: string): (obj: GameObjectBehavior) => boolean {\r\n  return obj => isObject(obj) && obj.name === type;\r\n}\r\n","import { GameObject, KPrefabIDBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\n\r\nimport behavior from \"../behaviors\";\r\n\r\nexport const defaultGameObject: SaveStructureDef<GameObject> = {\r\n  $uiPathName(obj: GameObject) {\r\n    const idBehavior = getBehavior(obj, KPrefabIDBehavior);\r\n    const id =\r\n      (idBehavior &&\r\n        idBehavior.templateData &&\r\n        idBehavior.templateData.InstanceID) ||\r\n      \"[malformed]\";\r\n    const pos = `(${obj.position.x.toFixed(0)}, ${obj.position.y.toFixed(0)})`;\r\n    return `#${id} ${pos}`;\r\n  },\r\n\r\n  $uiChildren(gameObject: GameObject) {\r\n    const { behaviors } = gameObject;\r\n    if (!behaviors) {\r\n      return [];\r\n    }\r\n\r\n    return behaviors.map((_, i) => [\"behaviors\", `${i}`]);\r\n  },\r\n\r\n  $editor: \"game-object-default\",\r\n\r\n  behaviors: {\r\n    $uiPathName: false,\r\n    \"*\": behavior\r\n  }\r\n};\r\n","import { GameObjectBehavior, SaveGame } from \"oni-save-parser\";\r\n\r\nimport { get, forEach, isObject } from \"lodash-es\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\n\r\nconst defaultTemplateDataObj: SaveStructureDef<{}> = {\r\n  $editor: \"template-object\",\r\n  $uiPathName: false,\r\n\r\n  $uiChildren(value: any) {\r\n    let keys = (isObject(value) && Object.keys(value)) || [];\r\n    keys = keys.filter(x => isObject(value[x]));\r\n    if (keys.length === 0) {\r\n      return false;\r\n    }\r\n    return keys.map(x => [x]);\r\n  },\r\n\r\n  $editorProps(_: any, path: string[], saveGame: SaveGame) {\r\n    // 'gameObjects', '1', 'gameObjects', '6', 'behaviors', '4'\r\n    // 6 items deep\r\n    const behavior = get(saveGame, path.slice(0, 6));\r\n    const templatePath = path.slice(7);\r\n    if (!behavior) {\r\n      return {};\r\n    }\r\n    return {\r\n      templateName: behavior.name,\r\n      templatePath,\r\n      valuePathHack: path\r\n    };\r\n  }\r\n};\r\ndefaultTemplateDataObj[\"*\"] = defaultTemplateDataObj;\r\n\r\nexport const defaultBehavior: SaveStructureDef<GameObjectBehavior> = {\r\n  $uiPathName(behavior: GameObjectBehavior) {\r\n    return behavior.name;\r\n  },\r\n\r\n  $uiChildren(behavior: GameObjectBehavior) {\r\n    const children: string[][] = [];\r\n    if (\r\n      behavior.templateData &&\r\n      Object.keys(behavior.templateData).length > 0\r\n    ) {\r\n      forEach(behavior.templateData, (_, key) => {\r\n        if (isObject(behavior.templateData[key])) {\r\n          children.push([\"templateData\", key]);\r\n        }\r\n      });\r\n    }\r\n    if (behavior.extraData) {\r\n      children.push([\"extraData\"]);\r\n    }\r\n    return children.length > 0 ? children : false;\r\n  },\r\n\r\n  $advanced(behavior: GameObjectBehavior) {\r\n    return true;\r\n  },\r\n\r\n  $editor: \"template-object\",\r\n  $editorProps(_: any, path: string[], saveGame: SaveGame) {\r\n    // 'gameObjects', '1', 'gameObjects', '6', 'behaviors', '4'\r\n    // 6 items deep\r\n    const behavior = get(saveGame, path);\r\n    if (!behavior) {\r\n      return {};\r\n    }\r\n    return {\r\n      templateName: behavior.name,\r\n      templatePath: [],\r\n      valuePathHack: [...path, \"templateData\"]\r\n    };\r\n  },\r\n\r\n  templateData: {\r\n    $uiPathName: false,\r\n\r\n    \"*\": defaultTemplateDataObj\r\n\r\n    // TODO: Handle '*' with an object that gets the template editor\r\n    //  set up with the correct template path, and references itself\r\n    //  for its own '*' recursively.\r\n  } as SaveStructureDef<{}>\r\n};\r\n","import * as React from \"react\";\r\n\r\nimport { TypeInfo, SerializationTypeCode, getTypeCode } from \"oni-save-parser\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport ArrayLikeField from \"./ArrayLikeField\";\r\nimport CheckField from \"./CheckField\";\r\nimport ColorField from \"./ColorField\";\r\nimport DictionaryField from \"./DictionaryField\";\r\nimport EnumerationField from \"./EnumerationField\";\r\nimport NumericField from \"./NumericField\";\r\nimport TextField from \"./TextField\";\r\nimport Vector2Field from \"./Vector2Field\";\r\nimport Vector2IField from \"./Vector2IField\";\r\nimport Vector3Field from \"./Vector3Field\";\r\n\r\nexport default function getFieldElementClass(\r\n  typeInfo: TypeInfo,\r\n  short?: boolean\r\n): React.ComponentType<EditorFieldProps> {\r\n  const code = getTypeCode(typeInfo.info);\r\n  switch (code) {\r\n    case SerializationTypeCode.Array:\r\n      return (props: EditorFieldProps) =>\r\n        short ? (\r\n          <SaveStructureLink intent={Intent.Primary} path={props.path}>\r\n            [Edit Array]\r\n          </SaveStructureLink>\r\n        ) : (\r\n          <ArrayLikeField {...props} subType={typeInfo.subTypes![0]} />\r\n        );\r\n    case SerializationTypeCode.Boolean:\r\n      return (props: EditorFieldProps) => <CheckField {...props} />;\r\n    case SerializationTypeCode.Byte:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} minValue={0} maxValue={0xff} />\r\n      );\r\n    case SerializationTypeCode.Colour:\r\n      return (props: EditorFieldProps) => <ColorField {...props} />;\r\n    case SerializationTypeCode.Dictionary:\r\n      return (props: EditorFieldProps) =>\r\n        short ? (\r\n          <SaveStructureLink intent={Intent.Primary} path={props.path}>\r\n            [Edit Dictionary]\r\n          </SaveStructureLink>\r\n        ) : (\r\n          <DictionaryField subType={typeInfo.subTypes![1]} {...props} />\r\n        );\r\n    case SerializationTypeCode.Double:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"double\" />\r\n      );\r\n    case SerializationTypeCode.Enumeration:\r\n      return (props: EditorFieldProps) => (\r\n        <EnumerationField {...props} enumerationName={typeInfo.templateName!} />\r\n      );\r\n    case SerializationTypeCode.HashSet:\r\n      return (props: EditorFieldProps) =>\r\n        short ? (\r\n          <SaveStructureLink intent={Intent.Primary} path={props.path}>\r\n            [Edit HashSet]\r\n          </SaveStructureLink>\r\n        ) : (\r\n          <ArrayLikeField {...props} subType={typeInfo.subTypes![0]} />\r\n        );\r\n    case SerializationTypeCode.Int16:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"int16\" />\r\n      );\r\n    case SerializationTypeCode.Int32:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"int32\" />\r\n      );\r\n    case SerializationTypeCode.Int64:\r\n      return () => <Text intent={Intent.Dangerous}>TODO Int64</Text>;\r\n    case SerializationTypeCode.List:\r\n      return (props: EditorFieldProps) =>\r\n        short ? (\r\n          <SaveStructureLink intent={Intent.Primary} path={props.path}>\r\n            [Edit Array]\r\n          </SaveStructureLink>\r\n        ) : (\r\n          <ArrayLikeField {...props} subType={typeInfo.subTypes![0]} />\r\n        );\r\n    case SerializationTypeCode.Pair:\r\n      return () => <Text intent={Intent.Dangerous}>TODO Pair</Text>;\r\n    case SerializationTypeCode.SByte:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} minValue={-128} maxValue={127} />\r\n      );\r\n    case SerializationTypeCode.Queue:\r\n      return (props: EditorFieldProps) => (\r\n        <ArrayLikeField {...props} subType={typeInfo.subTypes![0]} />\r\n      );\r\n    case SerializationTypeCode.Single:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"single\" />\r\n      );\r\n    case SerializationTypeCode.String:\r\n      return (props: EditorFieldProps) => <TextField {...props} />;\r\n    case SerializationTypeCode.UInt16:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"uint16\" />\r\n      );\r\n    case SerializationTypeCode.UInt32:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"uint32\" />\r\n      );\r\n    case SerializationTypeCode.UInt64:\r\n      return () => <Text intent={Intent.Dangerous}>TODO UInt64</Text>;\r\n    case SerializationTypeCode.UserDefined:\r\n      return (props: EditorFieldProps) => (\r\n        <SaveStructureLink intent={Intent.Primary} path={props.path}>\r\n          [{typeInfo.templateName || \"Edit Object\"}]\r\n        </SaveStructureLink>\r\n      );\r\n    case SerializationTypeCode.Vector2:\r\n      return Vector2Field;\r\n    case SerializationTypeCode.Vector2I:\r\n      return Vector2IField;\r\n    case SerializationTypeCode.Vector3:\r\n      return Vector3Field;\r\n    default:\r\n      return handleUnknownType(code);\r\n  }\r\n}\r\n\r\nfunction handleUnknownType(type: never): never {\r\n  throw new Error(`Type code \"${type}\" is unknown.`);\r\n}\r\n","const Keys = {\r\n  Enter: \"Enter\",\r\n  Esc: \"Escape\"\r\n};\r\n\r\nexport default Keys;\r\n","interface ConstrainedArrayConstructor {\r\n  new (length: number): {\r\n    [value: number]: number;\r\n  };\r\n}\r\n\r\nfunction createClamp(\r\n  type: ConstrainedArrayConstructor\r\n): (value: number) => number {\r\n  const clampArray = new type(1);\r\n  return (value: number) => {\r\n    clampArray[0] = value;\r\n    return clampArray[0];\r\n  };\r\n}\r\n\r\nexport type NumberPrecision =\r\n  | \"int8\"\r\n  | \"uint8\"\r\n  | \"int16\"\r\n  | \"uint16\"\r\n  | \"int32\"\r\n  | \"uint32\"\r\n  | \"single\"\r\n  | \"double\";\r\n\r\nexport const clampInt8 = createClamp(Int8Array);\r\nexport const clampUInt8 = createClamp(Uint8Array);\r\n\r\nexport const clampInt16 = createClamp(Int16Array);\r\nexport const clampUInt16 = createClamp(Uint16Array);\r\n\r\nexport const clampInt32 = createClamp(Int32Array);\r\nexport const clampUInt32 = createClamp(Uint32Array);\r\n\r\nexport const clampSingle = createClamp(Float32Array);\r\nexport const clampDouble = createClamp(Float64Array);\r\n\r\nconst CLAMPS_BY_PRECISION: Record<\r\n  NumberPrecision,\r\n  (value: number) => number\r\n> = {\r\n  int8: clampInt8,\r\n  uint8: clampUInt8,\r\n  int16: clampInt16,\r\n  uint16: clampUInt16,\r\n  int32: clampInt32,\r\n  uint32: clampUInt32,\r\n  single: clampSingle,\r\n  double: clampDouble\r\n};\r\n\r\nexport function clamp(precision: NumberPrecision, value: number): number {\r\n  const clamper = CLAMPS_BY_PRECISION[precision];\r\n  if (!clamper) {\r\n    throw new Error(`Unknown precision \"${precision}\".`);\r\n  }\r\n\r\n  return clamper(value);\r\n}\r\n\r\nexport function isFloatingPoint(\r\n  precision: NumberPrecision\r\n): precision is \"single\" | \"double\" {\r\n  return precision === \"single\" || precision === \"double\";\r\n}\r\n\r\nexport function compare(a: number, b: number, sortAscending?: boolean) {\r\n  if (a > b) return sortAscending ? 1 : -1;\r\n  if (a < b) return sortAscending ? -1 : 1;\r\n  return 0;\r\n}\r\n","import { AppState } from \"@/state\";\r\n\r\nconst editModeSelector = (state: AppState) => state.editMode;\r\nexport default editModeSelector;\r\n","import EditModeCondition from \"./EditModeCondition\";\r\nexport default EditModeCondition;\r\n","import GameObjectHeader from \"./GameObjectHeader\";\r\nexport default GameObjectHeader;\r\n","import * as React from \"react\";\r\n\r\nimport { FontSizeProps, SpaceProps, fontSize, space } from \"styled-system\";\r\n\r\nimport {\r\n  FontAwesomeIcon,\r\n  Props as FontAwesomeIconProps\r\n} from \"@fortawesome/react-fontawesome\";\r\n\r\nimport {\r\n  faCog,\r\n  faLanguage,\r\n  faPencilAlt,\r\n  IconDefinition\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faGithubSquare } from \"@fortawesome/free-brands-svg-icons\";\r\n\r\nimport styled, {\r\n  IntentColorProps,\r\n  VerticalAlignProps,\r\n  Space,\r\n  intentColor,\r\n  verticalAlign\r\n} from \"@/style\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nexport type IconProps = FontAwesomeIconProps &\r\n  IntentColorProps &\r\n  SpaceProps &\r\n  VerticalAlignProps &\r\n  FontSizeProps;\r\nconst CleanFontAwesomeIcon: React.SFC<IconProps> = ({\r\n  verticalAlign,\r\n  ...props\r\n}) => <FontAwesomeIcon {...props} />;\r\nconst Icon = styled<IconProps>(CleanFontAwesomeIcon)`\r\n  ${intentColor};\r\n  ${fontSize};\r\n  ${verticalAlign};\r\n  ${space};\r\n`;\r\nIcon.defaultProps = {\r\n  m: Space.Small\r\n};\r\n\r\nfunction createIcon(\r\n  icon: IconDefinition\r\n): React.SFC<Omit<IconProps, \"icon\" | \"ref\">> {\r\n  return props => <Icon {...props} icon={icon} />;\r\n}\r\n\r\nconst GithubIcon = createIcon(faGithubSquare);\r\nconst LanguageIcon = createIcon(faLanguage);\r\nconst PencilIcon = createIcon(faPencilAlt);\r\nconst SettingsIcon = createIcon(faCog);\r\n\r\nexport default attachProps(Icon, {\r\n  Github: GithubIcon,\r\n  Language: LanguageIcon,\r\n  Pencil: PencilIcon,\r\n  Settings: SettingsIcon\r\n});\r\n","import * as React from \"react\";\r\n\r\nimport Select, { SelectProps, Option } from \"@/components/Select\";\r\n\r\nexport type SelectInputProps = Omit<\r\n  SelectProps,\r\n  \"value\" | \"options\" | \"onChange\"\r\n> & {\r\n  value: any;\r\n  options: Option<any>[];\r\n  onCommit(value: any): void;\r\n};\r\n\r\ntype Props = SelectInputProps;\r\nexport default class SelectInput extends React.Component<Props> {\r\n  static defaultProps = {\r\n    clearable: false\r\n  };\r\n\r\n  render() {\r\n    const { value, options, onCommit, ...props } = this.props;\r\n\r\n    return (\r\n      <Select {...props} value={value} options={options} onChange={onCommit} />\r\n    );\r\n  }\r\n}\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { ThemeProps } from \"../styled\";\r\n\r\nexport const enum Border {\r\n  None,\r\n  Normal,\r\n  Thick\r\n}\r\n\r\nexport const borders = [0, \"1px solid\", \"2px solid\"];\r\n\r\nexport function getThemeBorder(border: Border): (props: ThemeProps) => string {\r\n  return themeGet(\"borders.\" + border, \"borders.\" + Border.Normal);\r\n}\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { Intent } from \"../intent\";\r\nimport { ThemeProps } from \"../styled\";\r\n\r\nconst intentColors: Record<Intent, string> = {\r\n  default: \"#86BBD8\",\r\n  primary: \"#FFB238\",\r\n  secondary: \"#658E27\",\r\n  dangerous: \"#F34213\",\r\n  hint: \"#86BBD8\"\r\n};\r\n\r\nconst intentContrastColors: Record<Intent, string> = {\r\n  default: \"black\",\r\n  primary: \"black\",\r\n  secondary: \"black\",\r\n  dangerous: \"white\",\r\n  hint: \"black\"\r\n};\r\n\r\nconst backgroundColors = {\r\n  default: \"#313a57\", //\"#3A435E\",\r\n  navbar: \"#355d95\", //\"#313E50\",\r\n\r\n  // TODO: This is used for inputs as well.  make an input background.\r\n  panel: \"#36444f\" //\"#455561\",\r\n};\r\n\r\nexport enum Color {\r\n  DefaultIntent = \"intent.default\",\r\n  PrimaryIntent = \"intent.primary\",\r\n\r\n  // TODO: THis is used as borders everywhere.  Make a borderColors section.\r\n  SecondaryIntent = \"intent.secondary\",\r\n  DangerousIntent = \"intent.dangerous\",\r\n  HintIntent = \"intent.hint\",\r\n\r\n  DefaultIntentContrast = \"intent.contrast.default\",\r\n  PrimaryIntentContrast = \"intent.contrast.primary\",\r\n  SecondaryIntentContrast = \"intent.contrast.secondary\",\r\n  DangerousIntentContrast = \"intent.contrast.dangerous\",\r\n  HintIntentContrast = \"intent.contrast.hint\",\r\n\r\n  DefaultBackground = \"bg.default\",\r\n  NavbarBackground = \"bg.navbar\",\r\n  PanelBackground = \"bg.panel\",\r\n\r\n  DefaultSeparator = \"separator\"\r\n}\r\nexport namespace Color {\r\n  export function fromIntent(intent: Intent, contrast?: boolean) {\r\n    switch (intent) {\r\n      default:\r\n        return contrast ? Color.DefaultIntentContrast : Color.DefaultIntent;\r\n      case Intent.Primary:\r\n        return contrast ? Color.PrimaryIntentContrast : Color.PrimaryIntent;\r\n      case Intent.Secondary:\r\n        return contrast ? Color.SecondaryIntentContrast : Color.SecondaryIntent;\r\n      case Intent.Dangerous:\r\n        return contrast ? Color.DangerousIntentContrast : Color.DangerousIntent;\r\n      case Intent.Hint:\r\n        return contrast ? Color.HintIntentContrast : Color.HintIntent;\r\n    }\r\n  }\r\n}\r\n\r\nexport const colors = {\r\n  intent: {\r\n    ...intentColors,\r\n    contrast: intentContrastColors\r\n  },\r\n  bg: backgroundColors,\r\n\r\n  separator: \"#6C6F7F\"\r\n};\r\n\r\nexport function getThemeColor(color: Color): (props: ThemeProps) => string {\r\n  return themeGet(\"colors.\" + color, \"colors.\" + Color.DefaultIntent);\r\n}\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { ThemeProps } from \"../styled\";\r\n\r\nexport const enum Radius {\r\n  None = 0,\r\n\r\n  Small = 1,\r\n  Button = 1,\r\n\r\n  Medium = 2,\r\n  Large = 3\r\n}\r\n\r\nexport const radii = [0, 2, 4, 8];\r\n\r\nexport function getThemeRadius(radius: Radius): (props: ThemeProps) => string {\r\n  return themeGet(\"radii.\" + radius, \"radii.\" + Radius.None);\r\n}\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { ThemeProps } from \"../styled\";\r\n\r\nexport const enum Space {\r\n  None,\r\n  Small,\r\n  Medium,\r\n  Large\r\n}\r\n\r\nexport const space = [0, 4, 8, 12];\r\n\r\nexport function getThemeSpace(space: Space): (props: ThemeProps) => string {\r\n  return themeGet(\"space.\" + space, \"space.\" + Space.None);\r\n}\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Intent } from \"../intent\";\r\n\r\nimport { Color, getThemeColor } from \"../theme\";\r\n\r\nexport interface IntentFillProps {\r\n  intent?: Intent;\r\n}\r\n\r\nconst intentFillOf = (intent: Intent) => css`\r\n  color: ${getThemeColor(Color.fromIntent(intent, true))};\r\n  background-color: ${getThemeColor(Color.fromIntent(intent))};\r\n`;\r\n\r\nconst intentFillFromProps = css<IntentFillProps>`\r\n  ${props => (props.intent ? intentFillOf(props.intent) : undefined)};\r\n`;\r\n\r\nexport const intentFill = attachProps(intentFillFromProps, {\r\n  of: intentFillOf\r\n});\r\n","import * as CSS from \"csstype\";\r\n\r\nimport {\r\n  FontSizeProps,\r\n  FontWeightProps,\r\n  fontSize,\r\n  fontWeight,\r\n  style\r\n} from \"styled-system\";\r\n\r\nimport { css } from \"../styled\";\r\n\r\nimport { IntentColorProps, intentColor } from \"./intent-color\";\r\n\r\nexport interface WordWrapProps {\r\n  wordWrap?: CSS.WordWrapProperty;\r\n}\r\nexport const wordWrap = style({\r\n  prop: \"wordWrap\",\r\n  cssProperty: \"word-wrap\"\r\n});\r\n\r\nexport interface WordBreakProps {\r\n  wordBreak?: CSS.WordBreakProperty;\r\n}\r\nexport const wordBreak = style({\r\n  prop: \"wordBreak\",\r\n  cssProperty: \"word-break\"\r\n});\r\n\r\nexport interface WhitespaceProps {\r\n  whiteSpace?: CSS.WhiteSpaceProperty;\r\n}\r\nexport const whiteSpace = style({\r\n  prop: \"whiteSpace\",\r\n  cssProperty: \"white-space\"\r\n});\r\n\r\nexport type TextProps = IntentColorProps &\r\n  FontSizeProps &\r\n  FontWeightProps &\r\n  WordWrapProps &\r\n  WordBreakProps &\r\n  WhitespaceProps;\r\n\r\nexport const text = css<TextProps>`\r\n  ${intentColor};\r\n  ${fontSize};\r\n  ${fontWeight};\r\n  ${wordWrap};\r\n  ${wordBreak};\r\n  ${whiteSpace};\r\n`;\r\n","import { Action } from \"redux\";\r\nimport { GameObjectBehavior, BehaviorName } from \"oni-save-parser\";\r\n\r\nexport const ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM =\r\n  \"oni-save/current-object/behaviors/modify-array/insert-item\";\r\nexport function insertCurrentObjectBehaviorArrayValue<\r\n  T extends GameObjectBehavior\r\n>(behaviorName: BehaviorName<T>, path: string[], value: any, index?: number) {\r\n  return {\r\n    type: ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM as typeof ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM,\r\n    payload: { behaviorName, path, value, index }\r\n  };\r\n}\r\nexport type InsertCurrentObjectBehaviorArrayValueAction = ReturnType<\r\n  typeof insertCurrentObjectBehaviorArrayValue\r\n>;\r\n\r\nexport const ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM =\r\n  \"oni-save/current-object/behaviors/modify-array/remove-item\";\r\nexport function removeCurrentObjectBehaviorArrayValue<\r\n  T extends GameObjectBehavior\r\n>(behaviorName: BehaviorName<T>, path: string[], value: any) {\r\n  return {\r\n    type: ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM as typeof ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM,\r\n    payload: { behaviorName, path, value }\r\n  };\r\n}\r\nexport type RemoveCurrentObjectBehaviorArrayValueAction<\r\n  T extends GameObjectBehavior = GameObjectBehavior\r\n> = ReturnType<typeof removeCurrentObjectBehaviorArrayValue>;\r\n\r\nexport const ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX =\r\n  \"oni-save/current-object/behaviors/modify-array/remove-index\";\r\nexport function removeCurrentObjectBehaviorArrayIndex<\r\n  T extends GameObjectBehavior\r\n>(behaviorName: BehaviorName<T>, path: string[], index: number) {\r\n  return {\r\n    type: ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX as typeof ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX,\r\n    payload: { behaviorName, path, index }\r\n  };\r\n}\r\nexport type RemoveCurrentObjectBehaviorArrayValueIndex<\r\n  T extends GameObjectBehavior = GameObjectBehavior\r\n> = ReturnType<typeof removeCurrentObjectBehaviorArrayIndex>;\r\n\r\nexport type CurrentObjectBehaviorArrayAction =\r\n  | InsertCurrentObjectBehaviorArrayValueAction\r\n  | RemoveCurrentObjectBehaviorArrayValueAction\r\n  | RemoveCurrentObjectBehaviorArrayValueIndex;\r\n\r\nexport function isCurrentObjectBehaviorArrayAction(\r\n  action: Action\r\n): action is CurrentObjectBehaviorArrayAction {\r\n  switch (action.type) {\r\n    case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM:\r\n    case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM:\r\n    case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX:\r\n      return true;\r\n    default:\r\n      return false;\r\n  }\r\n}\r\n","import produce from \"immer\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { GameObject } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObjectPath } from \"@/selectors/game-object\";\r\n\r\nexport function produceFromGameObject(\r\n  state: AppState,\r\n  producer: (gameObject: GameObject) => void\r\n): AppState {\r\n  if (state.loadingState !== \"ready\") {\r\n    return state;\r\n  }\r\n\r\n  const path = getSelectedGameObjectPath(state);\r\n  if (!path) {\r\n    return state;\r\n  }\r\n\r\n  return produce(state, state => {\r\n    const gameObject: GameObject = get(state.oniSave, path);\r\n    if (!gameObject) {\r\n      return;\r\n    }\r\n\r\n    return producer(gameObject);\r\n  });\r\n}\r\n","import { AccessoryType } from \"oni-save-parser\";\r\n\r\nexport const ACTION_SET_ACCESSORY = \"behaviors/accessorizer/set-accessory\";\r\nexport const setAccessory = (\r\n  accessoryType: AccessoryType,\r\n  accessoryName: string | null\r\n) => ({\r\n  type: ACTION_SET_ACCESSORY as typeof ACTION_SET_ACCESSORY,\r\n  payload: { accessoryType, accessoryName }\r\n});\r\nexport type SetAccessoryAction = ReturnType<typeof setAccessory>;\r\n","import { HashedString } from \"oni-save-parser\";\r\n\r\nexport const ACTION_PRIMARY_ELEMENT_SET_DISEASE =\r\n  \"oni-save/behaviors/primary-element/set-disease\";\r\nexport const setPrimaryElementDisease = (\r\n  diseaseId: HashedString,\r\n  diseaseCount: number\r\n) => ({\r\n  type: ACTION_PRIMARY_ELEMENT_SET_DISEASE as typeof ACTION_PRIMARY_ELEMENT_SET_DISEASE,\r\n  payload: { diseaseId, diseaseCount }\r\n});\r\nexport type SetPrimaryElementDiseaseAction = ReturnType<\r\n  typeof setPrimaryElementDisease\r\n>;\r\n","import { HealthState } from \"oni-save-parser\";\r\n\r\nexport const ACTION_HEALTH_SET_STATE = \"oni-save/behaviors/health/set-state\";\r\nexport const setHealthStatus = (state: HealthState) => ({\r\n  type: ACTION_HEALTH_SET_STATE as typeof ACTION_HEALTH_SET_STATE,\r\n  payload: state\r\n});\r\nexport type SetHealthStateAction = ReturnType<typeof setHealthStatus>;\r\n","import { MinionGender } from \"oni-save-parser\";\r\n\r\nexport const ACTION_MINION_IDENTITY_SET_GENDER =\r\n  \"oni-save/behaviors/minion-identity/set-gender\";\r\nexport const setIdentityGender = (gender: MinionGender) => ({\r\n  type: ACTION_MINION_IDENTITY_SET_GENDER as typeof ACTION_MINION_IDENTITY_SET_GENDER,\r\n  payload: gender\r\n});\r\nexport type SetMinionIdentityGenderAction = ReturnType<\r\n  typeof setIdentityGender\r\n>;\r\n","export const ACTION_MINION_MODIFIER_SET_VALUE =\r\n  \"oni-save/behaviors/minion-modifier/set-value\";\r\nexport const setModifierValue = (amountType: string, value: number) => ({\r\n  type: ACTION_MINION_MODIFIER_SET_VALUE as typeof ACTION_MINION_MODIFIER_SET_VALUE,\r\n  payload: { amountType, value }\r\n});\r\nexport type SetMinionModifierValueAction = ReturnType<typeof setModifierValue>;\r\n","export const ACTION_TRAITS_SET = \"oni-save/behaviors/ai-traits/set-trait\";\r\nexport const setTrait = (traitId: string, isSet: boolean) => ({\r\n  type: ACTION_TRAITS_SET as typeof ACTION_TRAITS_SET,\r\n  payload: { traitId, isSet }\r\n});\r\nexport type SetTraitAction = ReturnType<typeof setTrait>;\r\n","import { Vector3 } from \"oni-save-parser\";\r\n\r\nexport const ACTION_GAME_OBJECT_SET_SCALE = \"game-object/set-scale\";\r\nexport const setGameObjectScale = (scale: Vector3) => ({\r\n  type: ACTION_GAME_OBJECT_SET_SCALE as typeof ACTION_GAME_OBJECT_SET_SCALE,\r\n  payload: scale\r\n});\r\nexport type SetGameObjectScaleAction = ReturnType<typeof setGameObjectScale>;\r\n","export const ACTION_DISMISS_ERROR = \"dismiss-error\";\r\nexport const dismissError = () => ({\r\n  type: ACTION_DISMISS_ERROR as typeof ACTION_DISMISS_ERROR\r\n});\r\nexport type DismissErrorAction = ReturnType<typeof dismissError>;\r\n","import { EditMode } from \"@/services/save-structure\";\r\n\r\nexport const ACTION_SET_EDITMODE = \"editor/set-editmode\";\r\nexport const setEditMode = (editMode: EditMode) => ({\r\n  type: ACTION_SET_EDITMODE as typeof ACTION_SET_EDITMODE,\r\n  payload: editMode\r\n});\r\nexport type SetEditModeAction = ReturnType<typeof setEditMode>;\r\n","export const ACTION_SET_LANGUAGE = \"app/set-language\";\r\nexport const setLanguage = (language: string) => ({\r\n  type: ACTION_SET_LANGUAGE as typeof ACTION_SET_LANGUAGE,\r\n  payload: language\r\n});\r\nexport type SetLanguageAction = ReturnType<typeof setLanguage>;\r\n","export const ACTION_ONISAVE_LOAD = \"oni-save/load\";\r\nexport const loadOniSave = (file: File) => ({\r\n  type: ACTION_ONISAVE_LOAD as typeof ACTION_ONISAVE_LOAD,\r\n  payload: file\r\n});\r\nexport type LoadOniSaveAction = ReturnType<typeof loadOniSave>;\r\n","export * from \"./worker-instance\";\r\n","export const ACTION_ONISAVE_SAVE = \"oni-save/save\";\r\nexport const saveOniSave = (fileName: string) => ({\r\n  type: ACTION_ONISAVE_SAVE as typeof ACTION_ONISAVE_SAVE,\r\n  payload: fileName\r\n});\r\nexport type SaveOniSaveAction = ReturnType<typeof saveOniSave>;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst loadingStateSelector = (state: AppState) => state.loadingState;\r\nexport default loadingStateSelector;\r\n","import gameObjectVariantInfo from \"./variants\";\r\n\r\nexport const gameObjectVariantInfos = gameObjectVariantInfo;\r\n\r\nexport { getGameObjectVariants } from \"./utils\";\r\n","import { StorageBehavior, StoredGameObject } from \"oni-save-parser\";\r\n\r\nimport { forEach, isObject } from \"lodash-es\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\nimport { behaviorIs } from \"../../matchers\";\r\n\r\nimport {\r\n  getGameObjectVariants,\r\n  gameObjectVariantInfos\r\n} from \"../gameObjectTypes\";\r\n\r\nimport { defaultBehavior } from \"./default\";\r\n\r\nconst storageBehaviorStoredObject: SaveStructureDef<StoredGameObject> = {\r\n  $editor: \"game-object-default\",\r\n  $uiPathName(obj: StoredGameObject, path: string[]) {\r\n    const index = path[path.length - 1];\r\n    return `${obj.name} (${index})`;\r\n  },\r\n  $variants: []\r\n};\r\n\r\n// We cannot do this until we finish the getGameObjectVariants call\r\n//  for the game object group handler.\r\nexport function initStorageBehaviorHack() {\r\n  // Set this up after we create the object, to allow for circular dependencies.\r\n  storageBehaviorStoredObject.$variants = getGameObjectVariants(\r\n    gameObjectVariantInfos,\r\n    null\r\n  );\r\n}\r\n\r\nconst storageBehaviorExtraData: SaveStructureDef<\r\n  StorageBehavior[\"extraData\"]\r\n> = {\r\n  $uiPathName: \"Stored Items\",\r\n\r\n  $editor: \"game-object-list\",\r\n  $editorProps: {\r\n    isFlatList: true\r\n  },\r\n\r\n  \"*\": storageBehaviorStoredObject\r\n};\r\n\r\nexport const storageBehavior: SaveStructureDef<StorageBehavior> = {\r\n  ...(defaultBehavior as any),\r\n\r\n  $match: behaviorIs(StorageBehavior),\r\n\r\n  $uiChildren(behavior: StorageBehavior) {\r\n    const children: string[][] = [];\r\n    if (\r\n      behavior.templateData &&\r\n      Object.keys(behavior.templateData).length > 0\r\n    ) {\r\n      forEach(behavior.templateData, (_, key) => {\r\n        // Have to wipe the type here because lodash is being obstinate.\r\n        //  It explicitly calls out that key must be string because 'the type may have properties not defined in the type'.\r\n        //  Not sure why we have a type system if we aren't going to bother using it.\r\n        if (isObject((behavior.templateData as any)[key])) {\r\n          // As of the CU, all of these fields are value fields,\r\n          //  so this does not execute.\r\n          // Leaving it in for future-proofing.\r\n          children.push([\"templateData\", key]);\r\n        }\r\n      });\r\n    }\r\n\r\n    if (behavior.extraData) {\r\n      // extraData is aray of gameObjects stored in this storage.\r\n      children.push([\"extraData\"]);\r\n    }\r\n    return children.length > 0 ? children : false;\r\n  },\r\n\r\n  extraData: storageBehaviorExtraData\r\n};\r\n","import { Vector3, SimHashes, HashedString } from \"oni-save-parser\";\r\n\r\nconst POSITION_PRECISION = 4;\r\n\r\nexport function formatPositionValue(v: number): string {\r\n  return v.toPrecision(POSITION_PRECISION);\r\n}\r\n\r\nexport function formatPosition(p: Vector3) {\r\n  return `(${formatPositionValue(p.x)}, ${formatPositionValue(p.y)})`;\r\n}\r\n\r\nexport function formatSimHash(hash: SimHashes): string {\r\n  return SimHashes[hash];\r\n}\r\n\r\nexport function formatDisease(diseaseId: HashedString): string {\r\n  // TODO: Look up from oni-save-parser\r\n  return `Disease(${diseaseId.hash})`;\r\n}\r\n","import Portrait from \"./Portrait\";\r\nexport default Portrait;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport styled from \"@/style\";\r\n\r\nimport { InputStyleProps, inputStyle } from \"@/components/Input\";\r\n\r\nconst SelectElement = styled<InputStyleProps, \"select\">(\"select\")`\r\n  ${inputStyle};\r\n`;\r\n\r\nexport interface Option<T extends string | number = string | number> {\r\n  label?: string;\r\n  value: T;\r\n}\r\nexport interface SelectProps<T extends string | number = string | number>\r\n  extends InputStyleProps {\r\n  options: Option<T>[];\r\n  value: T;\r\n  onChange(value: T): void;\r\n}\r\n\r\nexport default class Select extends React.Component<SelectProps> {\r\n  render() {\r\n    const { options, value, children, onChange, ...rest } = this.props;\r\n    return (\r\n      <SelectElement {...rest} value={value} onChange={this._onChange}>\r\n        {options.map(x => (\r\n          <option key={x.value} value={x.value}>\r\n            {x.label}\r\n          </option>\r\n        ))}\r\n      </SelectElement>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onChange(e: React.ChangeEvent<HTMLSelectElement>) {\r\n    const { onChange } = this.props;\r\n    const value = e.target.value;\r\n    onChange(value);\r\n  }\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Keys from \"@/keys\";\r\n\r\nimport Input from \"@/components/Input\";\r\n\r\nexport interface TextInputProps {\r\n  value: string;\r\n  minLength?: number;\r\n  maxLength?: number;\r\n  onCommit(value: string): void;\r\n}\r\n\r\ntype Props = TextInputProps;\r\ninterface State {\r\n  editValue: string | null;\r\n  isValid: boolean;\r\n}\r\nexport default class TextInput extends React.Component<Props, State> {\r\n  private _inputRef = React.createRef<HTMLInputElement>();\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      editValue: null,\r\n      isValid: true\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { value, minLength, maxLength } = this.props;\r\n    const { editValue } = this.state;\r\n\r\n    const currentValue = editValue != null ? editValue : value;\r\n\r\n    return (\r\n      <Input\r\n        innerRef={this._inputRef}\r\n        type=\"text\"\r\n        minLength={minLength}\r\n        maxLength={maxLength}\r\n        value={currentValue}\r\n        onChange={this._onValueChange}\r\n        onKeyPress={this._onInputKeyPress}\r\n        onBlur={this._onInputBlur}\r\n      />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const value = e.target.value;\r\n    this._setEditValue(value);\r\n  }\r\n\r\n  @autobind()\r\n  private _onInputKeyPress(e: React.KeyboardEvent<HTMLInputElement>) {\r\n    if (e.key === Keys.Enter) {\r\n      this._commitEdit();\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onInputBlur() {\r\n    this._commitEdit();\r\n  }\r\n\r\n  private _setEditValue(value: string) {\r\n    const validation = this._validate(value);\r\n    const isValid = !validation;\r\n\r\n    if (this._inputRef.current) {\r\n      this._inputRef.current.setCustomValidity(validation || \"\");\r\n    }\r\n\r\n    this.setState({\r\n      editValue: value,\r\n      isValid\r\n    });\r\n  }\r\n\r\n  private _commitEdit() {\r\n    const { editValue, isValid } = this.state;\r\n    const { onCommit } = this.props;\r\n\r\n    this.setState({\r\n      editValue: null\r\n    });\r\n\r\n    if (!editValue || !isValid) {\r\n      return;\r\n    }\r\n\r\n    onCommit(editValue);\r\n  }\r\n\r\n  private _validate(value: string): string | null {\r\n    const { minLength, maxLength } = this.props;\r\n    if (minLength != null && (!value || value.length < minLength)) {\r\n      return `Value must be at least ${minLength} characters.`;\r\n    }\r\n\r\n    if (maxLength != null && value.length > maxLength) {\r\n      return `Value must be less than ${maxLength} characters.`;\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport Griddle, {\r\n  components,\r\n  RowDefinition,\r\n  ColumnDefinition,\r\n  GriddleComponents,\r\n  plugins\r\n} from \"griddle-react\";\r\n\r\nimport { Space } from \"@/style\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\nimport Input from \"@/components/Input\";\r\nimport Table from \"@/components/Table\";\r\nimport Text from \"@/components/Text\";\r\n\r\nimport enhancedWithRowData from \"./rowDataEnhancer\";\r\n\r\nexport interface DataTableColumn {\r\n  id?: string;\r\n  header?: string | React.ReactChild;\r\n  property?: string;\r\n  // accessor?: (rowData: any) => any;\r\n  cell?: React.ComponentType<components.CellProps & { rowData: any }>;\r\n\r\n  //Can this column be filtered\r\n  filterable?: boolean;\r\n\r\n  //Can this column be sorted\r\n  sortable?: boolean;\r\n\r\n  //What sort method this column uses\r\n  sortMethod?: (data: any[], column: string, sortAscending?: boolean) => any[];\r\n}\r\n\r\nexport interface DataTableProps {\r\n  data: any[];\r\n  columns: DataTableColumn[];\r\n}\r\n\r\nconst defaultComponents: GriddleComponents = {\r\n  Layout: ({ Table, Pagination, Filter, SettingsWrapper }) => (\r\n    <Flex direction=\"column\" m={Space.Small}>\r\n      <Flex direction=\"row\">\r\n        <Flex.Item grow constrain=\"row\">\r\n          <Filter style={{ width: \"100%\" }} />\r\n        </Flex.Item>\r\n        <Pagination />\r\n      </Flex>\r\n      <Table />\r\n      <Pagination />\r\n    </Flex>\r\n  ),\r\n  Filter: ({ placeholder, style, className, setFilter }) => (\r\n    <Input\r\n      type=\"text\"\r\n      name=\"filter\"\r\n      placeholder={placeholder}\r\n      style={style}\r\n      className={className}\r\n      onChange={e => setFilter && setFilter(e.target.value)}\r\n    />\r\n  ),\r\n  Table: props => {\r\n    // Note: There is some loading logic and child properties in here\r\n    //  that were not typed and are going unused.\r\n    const { TableHeading, TableBody, NoResults, visibleRows } = props;\r\n    if (visibleRows === 0) {\r\n      return <NoResults />;\r\n    }\r\n    return (\r\n      <Table>\r\n        <TableHeading />\r\n        <TableBody />\r\n      </Table>\r\n    );\r\n  },\r\n  TableHeading: props => {\r\n    const { columnTitles, columnIds, TableHeadingCell } = props;\r\n\r\n    const headingCells =\r\n      columnIds &&\r\n      columnTitles &&\r\n      columnTitles.map((title, i) => (\r\n        <TableHeadingCell\r\n          key={columnIds[i]}\r\n          title={title}\r\n          columnId={columnIds[i]}\r\n        />\r\n      ));\r\n\r\n    return (\r\n      <Table.THead>\r\n        <Table.TR>{headingCells}</Table.TR>\r\n      </Table.THead>\r\n    );\r\n  },\r\n  Row: props => {\r\n    const {\r\n      griddleKey,\r\n      onClick,\r\n      onMouseEnter,\r\n      onMouseLeave,\r\n      style,\r\n      className,\r\n      columnIds,\r\n      Cell\r\n    } = props;\r\n    return (\r\n      <Table.TR\r\n        key={griddleKey}\r\n        onClick={onClick}\r\n        onMouseEnter={onMouseEnter}\r\n        onMouseLeave={onMouseLeave}\r\n        style={style}\r\n        className={className}\r\n      >\r\n        {columnIds &&\r\n          columnIds.map(c => (\r\n            <Cell\r\n              key={`${c}-${griddleKey}`}\r\n              griddleKey={griddleKey}\r\n              columnId={c}\r\n              style={style}\r\n              className={className}\r\n            />\r\n          ))}\r\n      </Table.TR>\r\n    );\r\n  },\r\n  Cell: props => {\r\n    const { value, ...rest } = props;\r\n    return <Table.TD {...rest}>{value}</Table.TD>;\r\n  }\r\n};\r\nconst DataTable: React.SFC<DataTableProps> = ({ data, columns }) => (\r\n  <Griddle\r\n    data={data}\r\n    plugins={[plugins.LocalPlugin]}\r\n    components={defaultComponents}\r\n    enableSettings={false}\r\n    pageProperties={{\r\n      pageSize: 100\r\n    }}\r\n  >\r\n    <RowDefinition>{columns.map(columnToDef)}</RowDefinition>\r\n  </Griddle>\r\n);\r\nDataTable.displayName = \"DataTable\";\r\nexport default DataTable;\r\n\r\nfunction columnToDef(column: DataTableColumn): React.ReactElement<any> {\r\n  const {\r\n    id,\r\n    header,\r\n    property,\r\n    cell,\r\n    filterable,\r\n    sortable,\r\n    sortMethod\r\n  } = column;\r\n  if (id == null && property == null) {\r\n    throw new Error(\r\n      \"At least one of 'id' or 'property' must be defined in a DataTableColumn.\"\r\n    );\r\n  }\r\n\r\n  const colId = (id || property)!;\r\n\r\n  return (\r\n    <ColumnDefinition\r\n      key={colId}\r\n      id={colId}\r\n      customHeadingComponent={header ? () => toElement(header) : undefined}\r\n      customComponent={cell ? enhancedWithRowData(cell) : undefined}\r\n      filterable={filterable}\r\n      sortable={sortable}\r\n      sortMethod={sortMethod as any} // Typedefs are wrong: should return array\r\n    />\r\n  );\r\n}\r\nfunction toElement(value: string | React.ReactChild): React.ReactElement<{}> {\r\n  if (React.isValidElement(value)) {\r\n    return value;\r\n  }\r\n  return <Text>{value}</Text>;\r\n}\r\n","import styled, {\r\n  intent,\r\n  text,\r\n  Intent,\r\n  Border,\r\n  getThemeColor,\r\n  Color,\r\n  getThemeBorder\r\n} from \"@/style\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nconst Table = styled.table`\r\n  border-left: ${getThemeBorder(Border.Normal)};\r\n  border-right: ${getThemeBorder(Border.Normal)};\r\n  border-bottom: ${getThemeBorder(Border.Normal)};\r\n  border-color: ${getThemeColor(Color.fromIntent(Intent.Secondary))};\r\n  border-spacing: 0;\r\n  border-collapse: collapse;\r\n`;\r\n\r\nexport default attachProps(Table, {\r\n  THead: styled.thead`\r\n    background-color: ${getThemeColor(Color.PanelBackground)};\r\n  `,\r\n  TH: styled.th`\r\n    ${intent.of(Intent.Secondary)};\r\n  `,\r\n  TBody: styled.tbody``,\r\n  TR: styled.tr`\r\n    ${text};\r\n\r\n    :hover {\r\n      background-color: ${getThemeColor(Color.PanelBackground)};\r\n    }\r\n  `,\r\n  TD: styled.td`\r\n    ${text};\r\n\r\n    padding: 2px;\r\n\r\n    position: relative;\r\n\r\n    tr:not(:first-child) > & {\r\n      :before {\r\n        position: absolute;\r\n        content: \"\";\r\n        top: 0;\r\n        left: 0;\r\n        width: 4px;\r\n        height: 3px;\r\n        border-top: ${getThemeBorder(Border.Normal)};\r\n        border-color: ${getThemeColor(Color.fromIntent(Intent.Secondary))};\r\n      }\r\n\r\n      :first-child:before {\r\n        width: 7px;\r\n      }\r\n\r\n      :after {\r\n        position: absolute;\r\n        content: \"\";\r\n        top: 0;\r\n        right: 0;\r\n        width: 4px;\r\n        height: 3px;\r\n        border-top: ${getThemeBorder(Border.Normal)};\r\n        border-color: ${getThemeColor(Color.fromIntent(Intent.Secondary))};\r\n      }\r\n\r\n      :last-child:after {\r\n        width: 7px;\r\n      }\r\n    }\r\n  `\r\n});\r\n","import * as React from \"react\";\r\n\r\nimport { FontSize, Space } from \"@/style\";\r\n\r\nimport Box from \"@/components/Box\";\r\nimport Text from \"@/components/Text\";\r\n\r\nconst EditorHeader: React.SFC = ({ children }) => (\r\n  <Box width=\"100%\" alignSelf=\"baseline\" pb={Space.Small}>\r\n    <Text fontSize={FontSize.Heading} fontWeight=\"bold\">\r\n      {children}\r\n    </Text>\r\n  </Box>\r\n);\r\nEditorHeader.displayName = \"EditorHeader\";\r\nexport default EditorHeader;\r\n","import * as React from \"react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\nimport CheckInput from \"@/components/CheckInput\";\r\n\r\nexport interface InputCompatibleProps<T = any> {\r\n  value: T;\r\n  onCommit(value: any): void;\r\n}\r\nexport interface NullableInputProps<T = any> {\r\n  className?: string;\r\n  renderInput(props: InputCompatibleProps<T>): React.ReactNode;\r\n  renderNull?: React.ReactNode | (() => React.ReactNode);\r\n  value: T | null;\r\n  defaultValue: T | (() => T);\r\n  onCommit(value: T | null): void;\r\n}\r\ntype Props = NullableInputProps;\r\ninterface State {\r\n  isNotNull: boolean;\r\n}\r\nexport default class NullableInput extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = {\r\n      isNotNull: this.props.value !== null\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(props: Props) {\r\n    let isNotNull = props.value !== null;\r\n    if (isNotNull !== this.state.isNotNull) {\r\n      this.setState({\r\n        isNotNull\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isNotNull } = this.state;\r\n    const { className, renderNull } = this.props;\r\n\r\n    let element: React.ReactNode | null = null;\r\n    if (isNotNull) {\r\n      const { renderInput, onCommit, defaultValue } = this.props;\r\n      const value = this.props.value || resolve(defaultValue);\r\n      element = renderInput({ value, onCommit });\r\n    } else if (renderNull) {\r\n      element = resolve(renderNull);\r\n    }\r\n\r\n    return (\r\n      <Flex className={className} direction=\"row\">\r\n        <CheckInput value={isNotNull} onCommit={this._onNotNullChecked} />\r\n        {element && (\r\n          <Flex.Item grow shrink>\r\n            {element}\r\n          </Flex.Item>\r\n        )}\r\n      </Flex>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onNotNullChecked(value: boolean) {\r\n    const { defaultValue, onCommit } = this.props;\r\n    this.setState({\r\n      isNotNull: value\r\n    });\r\n    if (value) {\r\n      onCommit(defaultValue);\r\n    } else {\r\n      onCommit(null);\r\n    }\r\n  }\r\n}\r\n\r\nfunction resolve<T>(value: T | (() => T)): T {\r\n  if (typeof value === \"function\") {\r\n    return value();\r\n  }\r\n  return value;\r\n}\r\n","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\n\r\nimport Modal from \"react-modal\";\r\n\r\nimport \"./i18n\";\r\n\r\nimport \"./style\";\r\n\r\nimport Root from \"./root\";\r\n\r\nconst rootEl = document.getElementById(\"root\");\r\nif (rootEl) {\r\n  Modal.setAppElement(rootEl);\r\n  ReactDOM.render(<Root />, rootEl);\r\n}\r\n","import i18n from \"i18next\";\r\n// import LanguageDetector from \"i18next-browser-languagedetector\";\r\nimport { reactI18nextModule } from \"react-i18next\";\r\n\r\nimport { isProd } from \"@/runtime-env\";\r\n\r\n// TODO: Use backends to save on file space\r\n//  Deferring until I get a chance to focus on splitting the bundles.\r\n// import Backend from \"i18next-xhr-backend\";\r\n\r\ni18n\r\n  // .use(LanguageDetector)\r\n  .use(reactI18nextModule)\r\n  .init({\r\n    fallbackLng: \"en\",\r\n\r\n    // have a common namespace used around the full app\r\n    ns: [\"common\", \"oni\"],\r\n    defaultNS: \"common\",\r\n\r\n    resources: {\r\n      en: {\r\n        common: require(\"./translations/en/common.json\")\r\n      },\r\n      zh: {\r\n        common: require(\"./translations/zh/common.json\")\r\n      }\r\n    },\r\n\r\n    debug: !isProd,\r\n\r\n    interpolation: {\r\n      escapeValue: false // not needed for react!!\r\n    },\r\n\r\n    react: {\r\n      wait: true\r\n    }\r\n  });\r\n\r\nexport default i18n;\r\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js!./style.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./style.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./style.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"* {\\r\\n  font-family: \\\"Titillium Web\\\", sans-serif;\\r\\n}\\r\\n\\r\\nhtml,\\r\\nbody,\\r\\n#root {\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  margin: 0;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n","export * from \"./border\";\r\nexport * from \"./intent-border\";\r\nexport * from \"./intent-color\";\r\nexport * from \"./intent-fill\";\r\nexport * from \"./intent\";\r\nexport * from \"./link\";\r\nexport * from \"./text\";\r\nexport * from \"./vertical-align\";\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Border, Color, Radius } from \"../theme\";\r\n\r\nimport { getThemeBorder, getThemeRadius, getThemeColor } from \"../theme\";\r\n\r\nexport interface BorderProps {\r\n  border?: Border;\r\n  borderColor?: Color;\r\n  borderRadius?: Radius;\r\n}\r\n\r\nconst borderOf = (type: Border, color: Color, radius?: Radius) => css`\r\n  border: ${getThemeBorder(type)};\r\n  border-color: ${getThemeColor(color)};\r\n  ${radius ? `border-radius: ${getThemeRadius(radius)}` : undefined};\r\n`;\r\n\r\nconst borderFromProps = css<BorderProps>`\r\n  ${props =>\r\n    props.border != null\r\n      ? `border: ${getThemeBorder(props.border)(props)}`\r\n      : undefined};\r\n\r\n  ${props =>\r\n    props.borderColor != null\r\n      ? `border-color: ${getThemeColor(props.borderColor)(props)}`\r\n      : undefined};\r\n\r\n  ${props =>\r\n    props.borderRadius != null\r\n      ? `border-radius: ${getThemeRadius(props.borderRadius)(props)}px`\r\n      : undefined};\r\n`;\r\n\r\nexport const border = attachProps(borderFromProps, {\r\n  of: borderOf\r\n});\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { borders } from \"./borders\";\r\nimport { colors } from \"./colors\";\r\nimport { fontSizes } from \"./font-sizes\";\r\nimport { radii } from \"./radii\";\r\nimport { space } from \"./space\";\r\nimport { ThemeProps } from \"@/style/styled\";\r\n\r\nexport const theme = {\r\n  borders,\r\n  colors,\r\n  fontSizes,\r\n  radii,\r\n  space\r\n};\r\n\r\nexport type Theme = typeof theme;\r\n\r\nexport function getTheme(props: any): Theme {\r\n  return props.theme || theme;\r\n}\r\n\r\nexport function getThemeProp<T>(\r\n  getter: ((theme: Theme) => T) | string,\r\n  defaultValue?: T\r\n): (props: ThemeProps) => string | undefined {\r\n  return (props: ThemeProps) => {\r\n    if (typeof getter === \"string\") {\r\n      return themeGet(getter, defaultValue as any);\r\n    }\r\n\r\n    const val = getter(getTheme(props));\r\n    if (val === undefined) {\r\n      return defaultValue;\r\n    }\r\n    return val;\r\n  };\r\n}\r\n","export const enum FontSize {\r\n  Hint = 0,\r\n  Small = 0,\r\n\r\n  Button = 1,\r\n\r\n  Default = 2,\r\n  HeadingMinor = 3,\r\n  Heading = 4\r\n}\r\nexport const fontSizes = [12, 14, 16, 20, 24, 32, 48, 64, 96, 128];\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Intent } from \"../intent\";\r\n\r\nimport {\r\n  Border,\r\n  Color,\r\n  Radius,\r\n  getThemeBorder,\r\n  getThemeRadius,\r\n  getThemeColor\r\n} from \"../theme\";\r\n\r\nexport interface IntentBorderProps {\r\n  intent?: Intent;\r\n}\r\n\r\nconst borderOf = (intent: Intent) => css`\r\n  border: ${getThemeBorder(Border.Normal)};\r\n  border-color: ${getThemeColor(Color.fromIntent(intent))};\r\n  ${intent !== Intent.Default\r\n    ? `border-radius: ${getThemeRadius(Radius.Medium)}`\r\n    : undefined};\r\n`;\r\n\r\nconst borderFromProps = css<IntentBorderProps>`\r\n  ${props => (props.intent ? borderOf(props.intent) : undefined)};\r\n`;\r\n\r\nexport const intentBorder = attachProps(borderFromProps, {\r\n  of: borderOf\r\n});\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Intent } from \"../intent\";\r\n\r\nimport { intentColor, IntentColorProps } from \"./intent-color\";\r\nimport { intentFill } from \"./intent-fill\";\r\n\r\nexport interface IntentProps extends IntentColorProps {\r\n  intentIsBg?: boolean;\r\n}\r\n\r\nconst intentOf = (intent: Intent, isBg: boolean = false) => css`\r\n  ${isBg ? intentFill.of(intent) : intentColor.of(intent)};\r\n`;\r\n\r\nconst intentFromProps = css<IntentProps>`\r\n  ${props => {\r\n    if (props.intent == null) {\r\n      return undefined;\r\n    }\r\n    return props.intentIsBg ? intentFill : intentColor;\r\n  }};\r\n`;\r\n\r\nexport const intent = attachProps(intentFromProps, {\r\n  of: intentOf\r\n});\r\n","import { TextProps, text } from \"./text\";\r\nimport { css } from \"../styled\";\r\n\r\nexport interface LinkProps extends TextProps {}\r\n\r\nexport const link = css<LinkProps>`\r\n  ${text};\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n`;\r\n","import { VerticalAlignProperty } from \"csstype\";\r\n\r\nimport { style } from \"styled-system\";\r\n\r\nexport interface VerticalAlignProps {\r\n  verticalAlign?: VerticalAlignProperty<string | 0>;\r\n}\r\nexport const verticalAlign = style({\r\n  prop: \"verticalAlign\",\r\n  cssProperty: \"vertical-align\"\r\n});\r\n","import * as React from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport { Provider } from \"react-redux\";\r\nimport { I18nextProvider } from \"react-i18next\";\r\n\r\nimport { ThemeProvider, theme } from \"@/style\";\r\n\r\nimport store from \"./store\";\r\n\r\nimport i18n from \"./i18n\";\r\n\r\nimport App from \"./App\";\r\n\r\nconst Root: React.SFC = () => (\r\n  <I18nextProvider i18n={i18n}>\r\n    <Provider store={store}>\r\n      <ThemeProvider theme={theme}>\r\n        <App />\r\n      </ThemeProvider>\r\n    </Provider>\r\n  </I18nextProvider>\r\n);\r\n\r\nexport default hot(module)(Root);\r\n","import { createStore } from \"./store\";\r\n\r\nconst store = createStore();\r\nexport default store;\r\n","import {\r\n  compose,\r\n  createStore as createReduxStore,\r\n  applyMiddleware\r\n} from \"redux\";\r\n\r\nimport createSagaMiddleware from \"redux-saga\";\r\n\r\nimport reducer from \"@/reducer\";\r\nimport saga from \"@/saga\";\r\n\r\nimport { actionSanitizer, stateSanitizer } from \"./devtool-sanitizer\";\r\n\r\nexport function createStore() {\r\n  const composeEnhancers =\r\n    (window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ &&\r\n      window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\r\n        actionSanitizer,\r\n        stateSanitizer\r\n      })) ||\r\n    compose;\r\n\r\n  const sagaMiddleware = createSagaMiddleware();\r\n\r\n  const store = createReduxStore(\r\n    reducer,\r\n    composeEnhancers(applyMiddleware(sagaMiddleware))\r\n  );\r\n  sagaMiddleware.run(saga);\r\n  return store;\r\n}\r\n","import { Reducer } from \"redux\";\r\nimport reduceReducers from \"reduce-reducers\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport behaviorsReducer from \"./behaviors\";\r\nimport gameObjectReducer from \"./game-object\";\r\n\r\nimport dismissErrorReducer from \"./dismiss-error\";\r\nimport modifyOniSave from \"./modify-onisave\";\r\nimport parseProgressReducer from \"./onisave-parse-progress\";\r\nimport receiveOniSaveReducer from \"./receive-onisave\";\r\nimport selectPathReducer from \"./select-path\";\r\nimport setEditModeReducer from \"./set-editmode\";\r\nimport setLanguageReducer from \"./set-language\";\r\n\r\nconst reducers: Reducer<AppState, any>[] = [\r\n  behaviorsReducer,\r\n  gameObjectReducer,\r\n  dismissErrorReducer,\r\n  modifyOniSave,\r\n  parseProgressReducer,\r\n  receiveOniSaveReducer,\r\n  selectPathReducer,\r\n  setEditModeReducer,\r\n  setLanguageReducer\r\n];\r\n\r\nexport default reduceReducers<AppState, any>(...reducers);\r\n","import reduceReducers from \"reduce-reducers\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport modifyCurrentObjectBehaviorArray from \"./modify-currentobject-behavior-array\";\r\nimport setAccessoryReducer from \"./set-accessory\";\r\nimport setCurrentObjectBehaviorValueReducer from \"./set-currentobject-behavior-value\";\r\nimport setElementDiseaseReducer from \"./set-element-disease\";\r\nimport setHealthStateReducer from \"./set-health-state\";\r\nimport setIdentityGenderReducer from \"./set-identity-gender\";\r\nimport setModifierAmountReducer from \"./set-modifier-amount\";\r\nimport setTraitReducer from \"./set-traits-trait\";\r\n\r\nconst reducers = [\r\n  modifyCurrentObjectBehaviorArray,\r\n  setAccessoryReducer,\r\n  setCurrentObjectBehaviorValueReducer,\r\n  setElementDiseaseReducer,\r\n  setHealthStateReducer,\r\n  setIdentityGenderReducer,\r\n  setModifierAmountReducer,\r\n  setTraitReducer\r\n];\r\n\r\nexport default reduceReducers<AppState, any>(...reducers);\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  isCurrentObjectBehaviorArrayAction,\r\n  ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM,\r\n  ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM,\r\n  ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX\r\n} from \"@/actions/behaviors/modify-currentobject-behavior-array\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function modifyCurrentObjectBehaviorArray(\r\n  state: AppState = defaultAppState,\r\n  action: AnyAction\r\n): AppState {\r\n  if (!isCurrentObjectBehaviorArrayAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  const { behaviorName, path } = action.payload;\r\n\r\n  return produceFromBehavior(state, behaviorName, behavior => {\r\n    const array = get(behavior, path) as any[];\r\n    switch (action.type) {\r\n      case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM: {\r\n        const { value, index } = action.payload;\r\n        if (index != null) {\r\n          array.splice(index, 0, value);\r\n        } else {\r\n          array.push(value);\r\n        }\r\n        return;\r\n      }\r\n      case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM: {\r\n        const { value } = action.payload;\r\n        const index = array.indexOf(value);\r\n        if (index >= 0) {\r\n          array.splice(index, 1);\r\n        }\r\n        return;\r\n      }\r\n      case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX: {\r\n        const { index } = action.payload;\r\n        if (index < 0 || index >= array.length) {\r\n          return;\r\n        }\r\n        array.splice(index, 1);\r\n        return;\r\n      }\r\n    }\r\n  });\r\n}\r\n","import {\r\n  AccessorizerBehavior,\r\n  Accessory,\r\n  getIndexOfAccessoryType\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_SET_ACCESSORY,\r\n  SetAccessoryAction\r\n} from \"@/actions/behaviors/set-accessory\";\r\nimport { produceFromBehavior } from \"@/reducer/behaviors/utils\";\r\n\r\nexport default function setAccessoryReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetAccessoryAction\r\n): AppState {\r\n  if (action.type !== ACTION_SET_ACCESSORY) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, AccessorizerBehavior, behavior => {\r\n    const { accessoryName, accessoryType } = action.payload;\r\n    const { accessories } = behavior.templateData;\r\n\r\n    const accessoryIndex = getIndexOfAccessoryType(accessories, accessoryType);\r\n\r\n    if (accessoryName === null) {\r\n      // Remove\r\n      accessories.splice(accessoryIndex, 1);\r\n      return;\r\n    }\r\n\r\n    const newAccessory = Accessory(accessoryName);\r\n\r\n    if (accessoryIndex === -1) {\r\n      // Add\r\n      accessories.push(newAccessory);\r\n    } else {\r\n      // Replace\r\n      accessories[accessoryIndex] = newAccessory;\r\n    }\r\n  });\r\n}\r\n","import { set } from \"lodash-es\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE,\r\n  SetCurrentObjectBehaviorValueAction\r\n} from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setCurrentObjectBehaviorValueReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetCurrentObjectBehaviorValueAction\r\n): AppState {\r\n  if (action.type !== ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE) {\r\n    return state;\r\n  }\r\n\r\n  const { behaviorName, path, value } = action.payload;\r\n\r\n  return produceFromBehavior(state, behaviorName, behavior => {\r\n    set(behavior, path, value);\r\n  });\r\n}\r\n","import { PrimaryElementBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_PRIMARY_ELEMENT_SET_DISEASE,\r\n  SetPrimaryElementDiseaseAction\r\n} from \"@/actions/behaviors/set-element-disease\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setElementDiseaseReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetPrimaryElementDiseaseAction\r\n): AppState {\r\n  if (action.type !== ACTION_PRIMARY_ELEMENT_SET_DISEASE) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, PrimaryElementBehavior, behavior => {\r\n    const { diseaseId, diseaseCount } = action.payload;\r\n    behavior.templateData.diseaseID = diseaseId;\r\n    behavior.templateData.diseaseCount = diseaseCount;\r\n  });\r\n}\r\n","import { HealthBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_HEALTH_SET_STATE,\r\n  SetHealthStateAction\r\n} from \"@/actions/behaviors/set-health-state\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setHealthStateReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetHealthStateAction\r\n): AppState {\r\n  if (action.type !== ACTION_HEALTH_SET_STATE) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, HealthBehavior, behavior => {\r\n    behavior.templateData.State = action.payload;\r\n  });\r\n}\r\n","import { MinionIdentityBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_MINION_IDENTITY_SET_GENDER,\r\n  SetMinionIdentityGenderAction\r\n} from \"@/actions/behaviors/set-identity-gender\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setIdentityGenderReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetMinionIdentityGenderAction\r\n): AppState {\r\n  if (action.type !== ACTION_MINION_IDENTITY_SET_GENDER) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, MinionIdentityBehavior, behavior => {\r\n    behavior.templateData.gender = action.payload;\r\n    behavior.templateData.genderStringKey = action.payload;\r\n  });\r\n}\r\n","import { MinionModifiersBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_MINION_MODIFIER_SET_VALUE,\r\n  SetMinionModifierValueAction\r\n} from \"@/actions/behaviors/set-modifier-amount\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setModifierAmountReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetMinionModifierValueAction\r\n): AppState {\r\n  if (action.type !== ACTION_MINION_MODIFIER_SET_VALUE) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, MinionModifiersBehavior, behavior => {\r\n    const { amountType, value } = action.payload;\r\n    if (!behavior.extraData) {\r\n      return;\r\n    }\r\n    const amount = behavior.extraData.amounts.find(x => x.name === amountType);\r\n    if (!amount) {\r\n      return;\r\n    }\r\n    amount.value.value = value;\r\n  });\r\n}\r\n","import { AITraitsBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_TRAITS_SET,\r\n  SetTraitAction\r\n} from \"@/actions/behaviors/set-traits-trait\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setTraitReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetTraitAction\r\n): AppState {\r\n  if (action.type !== ACTION_TRAITS_SET) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, AITraitsBehavior, behavior => {\r\n    const { traitId, isSet } = action.payload;\r\n    const { TraitIds } = behavior.templateData;\r\n    const index = TraitIds.findIndex(x => x === traitId);\r\n    if (index !== -1) {\r\n      if (!isSet) {\r\n        TraitIds.splice(index, 1);\r\n      }\r\n    } else {\r\n      if (isSet) {\r\n        TraitIds.push(traitId);\r\n      }\r\n    }\r\n  });\r\n}\r\n","import reduceReducers from \"reduce-reducers\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport setGameObjectScaleReducer from \"./set-scale\";\r\n\r\nconst reducers = [setGameObjectScaleReducer];\r\n\r\nexport default reduceReducers<AppState, any>(...reducers);\r\n","import { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_GAME_OBJECT_SET_SCALE,\r\n  SetGameObjectScaleAction\r\n} from \"@/actions/game-object/set-scale\";\r\n\r\nimport { produceFromGameObject } from \"./utils\";\r\n\r\nexport default function setGameObjectScaleReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetGameObjectScaleAction\r\n): AppState {\r\n  if (action.type !== ACTION_GAME_OBJECT_SET_SCALE) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromGameObject(state, gameObject => {\r\n    const { x, y, z } = action.payload;\r\n    gameObject.scale.x = x;\r\n    gameObject.scale.y = y;\r\n    gameObject.scale.z = z;\r\n  });\r\n}\r\n","import { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_DISMISS_ERROR,\r\n  DismissErrorAction\r\n} from \"@/actions/dismiss-error\";\r\n\r\nexport default function dismissErrorReducer(\r\n  state: AppState = defaultAppState,\r\n  action: DismissErrorAction\r\n): AppState {\r\n  if (action.type !== ACTION_DISMISS_ERROR) {\r\n    return state;\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    error: null\r\n  };\r\n}\r\n","import produce from \"immer\";\r\n\r\nimport { set } from \"lodash-es\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_ONISAVE_MODIFY,\r\n  ModifyOniSaveAction\r\n} from \"../actions/modify-onisave\";\r\n\r\nexport default function modifyOniSaveReducer(\r\n  state: AppState = defaultAppState,\r\n  action: ModifyOniSaveAction\r\n): AppState {\r\n  if (action.type !== ACTION_ONISAVE_MODIFY) {\r\n    return state;\r\n  }\r\n\r\n  const { loadingState, oniSave } = state;\r\n  if (loadingState !== \"ready\" || !oniSave) {\r\n    return state;\r\n  }\r\n\r\n  const { path, value } = action.payload;\r\n\r\n  return produce(state, draft => {\r\n    set(draft.oniSave!, path, value);\r\n  });\r\n}\r\n","import { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_ONISAVE_PARSE_PROGRESS,\r\n  ParseProgressAction\r\n} from \"@/actions/onisave-parse-progress\";\r\n\r\nexport default function parseProgressReducer(\r\n  state: AppState = defaultAppState,\r\n  action: ParseProgressAction\r\n): AppState {\r\n  if (action.type !== ACTION_ONISAVE_PARSE_PROGRESS) {\r\n    return state;\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    loadingProgressMessage: action.payload.message\r\n  };\r\n}\r\n","import {\r\n  ReceiveOniSaveAction,\r\n  ACTION_RECEIVE_ONISAVE_BEGIN,\r\n  ACTION_RECEIVE_ONISAVE_ERROR,\r\n  ACTION_RECEIVE_ONISAVE_SUCCESS\r\n} from \"../actions/receive-onisave\";\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nexport default function receiveOniSaveReducer(\r\n  state: AppState = defaultAppState,\r\n  action: ReceiveOniSaveAction\r\n): AppState {\r\n  switch (action.type) {\r\n    case ACTION_RECEIVE_ONISAVE_BEGIN:\r\n      return {\r\n        ...state,\r\n        error: null,\r\n        loadingState: action.payload.operation,\r\n        loadingProgressMessage: null,\r\n        selectedPath: [],\r\n        oniSave: action.payload.clearExisting ? null : state.oniSave\r\n      };\r\n    case ACTION_RECEIVE_ONISAVE_ERROR:\r\n      state = {\r\n        ...state,\r\n        loadingState: \"idle\",\r\n        selectedPath: [],\r\n        error: action.payload\r\n      };\r\n      break;\r\n    case ACTION_RECEIVE_ONISAVE_SUCCESS:\r\n      state = {\r\n        ...state,\r\n        loadingState: \"ready\",\r\n        loadingProgressMessage: null,\r\n        error: null,\r\n        selectedPath: [],\r\n        oniSave: action.payload\r\n      };\r\n  }\r\n\r\n  return state;\r\n}\r\n","import { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport { ACTION_SELECT_PATH, SelectPathAction } from \"@/actions/select-path\";\r\n\r\nexport default function selectPathReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SelectPathAction\r\n): AppState {\r\n  if (action.type !== ACTION_SELECT_PATH) {\r\n    return state;\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    selectedPath: action.payload\r\n  };\r\n}\r\n","import { ACTION_SET_EDITMODE, SetEditModeAction } from \"@/actions/set-editmode\";\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nexport default function setEditMode(\r\n  state: AppState = defaultAppState,\r\n  action: SetEditModeAction\r\n): AppState {\r\n  if (action.type !== ACTION_SET_EDITMODE) {\r\n    return state;\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    editMode: action.payload\r\n  };\r\n}\r\n","import { Action } from \"redux\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\nimport { ACTION_SET_LANGUAGE, SetLanguageAction } from \"@/actions/set-language\";\r\nimport i18n from \"@/i18n\";\r\n\r\nexport default function setLanguageReducer(\r\n  state: AppState = defaultAppState,\r\n  action: Action\r\n): AppState {\r\n  if (action.type !== ACTION_SET_LANGUAGE) {\r\n    return state;\r\n  }\r\n\r\n  const lang = (action as SetLanguageAction).payload;\r\n\r\n  i18n.changeLanguage(lang);\r\n\r\n  return {\r\n    ...state,\r\n    language: lang\r\n  };\r\n}\r\n","import { fork } from \"redux-saga/effects\";\r\n\r\nimport loadOniSaveSaga from \"./load-onisave\";\r\nimport saveOniSaveSaga from \"./save-onisave\";\r\n\r\nexport default function* saga() {\r\n  yield fork(loadOniSaveSaga);\r\n  yield fork(saveOniSaveSaga);\r\n}\r\n","import { eventChannel, END } from \"redux-saga\";\r\nimport { call, put, takeEvery, take } from \"redux-saga/effects\";\r\n\r\nimport { ACTION_ONISAVE_LOAD, LoadOniSaveAction } from \"@/actions/load-onisave\";\r\n\r\nimport {\r\n  receiveOniSaveBegin,\r\n  receiveOniSaveError,\r\n  receiveOniSaveSuccess\r\n} from \"@/actions/receive-onisave\";\r\nimport { parseProgress } from \"@/actions/onisave-parse-progress\";\r\n\r\nimport { parseSave } from \"@/services/save-serializer\";\r\n\r\nexport default function* saveEditorSaga() {\r\n  yield takeEvery(ACTION_ONISAVE_LOAD, handleOniSaveLoad);\r\n}\r\n\r\nfunction* handleOniSaveLoad(action: LoadOniSaveAction) {\r\n  const file = action.payload;\r\n\r\n  yield put(receiveOniSaveBegin(\"loading\", true));\r\n\r\n  const data: ArrayBuffer = yield call(readFile, file);\r\n\r\n  const loadChannel = createLoadChannel(data);\r\n\r\n  while (true) {\r\n    const msg = yield take(loadChannel);\r\n    if (msg.type === \"progress\") {\r\n      yield put(parseProgress(msg.message));\r\n      continue;\r\n    } else if (msg.type === \"success\") {\r\n      yield put(receiveOniSaveSuccess(msg.saveGame));\r\n      return;\r\n    } else if (msg.type === \"error\") {\r\n      yield put(receiveOniSaveError(msg.error));\r\n      return;\r\n    }\r\n  }\r\n}\r\n\r\nfunction createLoadChannel(data: ArrayBuffer) {\r\n  return eventChannel(emitter => {\r\n    function onProgress(message: string) {\r\n      emitter({\r\n        type: \"progress\",\r\n        message\r\n      });\r\n    }\r\n\r\n    parseSave(data, onProgress)\r\n      .then(saveGame => {\r\n        emitter({\r\n          type: \"success\",\r\n          saveGame\r\n        });\r\n        emitter(END);\r\n      })\r\n      .catch(error => {\r\n        emitter({\r\n          type: \"error\",\r\n          error\r\n        });\r\n        emitter(END);\r\n      });\r\n\r\n    //This is the cancellation func.\r\n    // TODO: We can support cancellation in oni-save-parser rather easily.\r\n    return () => {};\r\n  });\r\n}\r\n\r\nfunction readFile(file: File): Promise<ArrayBuffer> {\r\n  const reader = new FileReader();\r\n  return new Promise<ArrayBuffer>((accept, reject) => {\r\n    reader.onload = () => {\r\n      accept(reader.result as ArrayBuffer);\r\n    };\r\n    reader.onerror = () => {\r\n      reject(reader.error);\r\n    };\r\n    reader.readAsArrayBuffer(file);\r\n  });\r\n}\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nimport {\r\n  RESPONSE_PROGRESS,\r\n  RESPONSE_PARSE_ERROR,\r\n  RESPONSE_PARSE_SUCCESS,\r\n  RESPONSE_WRITE_ERROR,\r\n  RESPONSE_WRITE_SUCCESS,\r\n  SaveParserResultEvent,\r\n  parseSave as parseSaveCommand,\r\n  writeSave as writeSaveCommand,\r\n  jsonToError\r\n} from \"./worker-messages\";\r\n\r\nimport SaveLoadWorker from \"worker-loader!./save-serializer.worker\";\r\n\r\nconst worker = new SaveLoadWorker();\r\n\r\nexport function parseSave(\r\n  data: ArrayBuffer,\r\n  onProgress?: (message: string) => void\r\n): Promise<SaveGame> {\r\n  const promise = new Promise<SaveGame>((accept, reject) => {\r\n    const unhook = () => {\r\n      worker.onerror = null;\r\n      worker.onmessage = null;\r\n    };\r\n\r\n    worker.onerror = error => reject(error);\r\n    worker.onmessage = (message: SaveParserResultEvent) => {\r\n      const { data } = message;\r\n      switch (data.type) {\r\n        case RESPONSE_PROGRESS:\r\n          onProgress && onProgress(data.message);\r\n          break;\r\n        case RESPONSE_PARSE_SUCCESS:\r\n          unhook();\r\n          accept(data.saveGame);\r\n          break;\r\n        case RESPONSE_PARSE_ERROR:\r\n          unhook();\r\n          reject(jsonToError(data.error));\r\n          break;\r\n      }\r\n    };\r\n  });\r\n\r\n  worker.postMessage(parseSaveCommand(data));\r\n\r\n  return promise;\r\n}\r\n\r\nexport function writeSave(\r\n  saveGame: SaveGame,\r\n  onProgress?: (message: string) => void\r\n): Promise<ArrayBuffer> {\r\n  const promise = new Promise<ArrayBuffer>((accept, reject) => {\r\n    const unhook = () => {\r\n      worker.onerror = null;\r\n      worker.onmessage = null;\r\n    };\r\n\r\n    worker.onerror = error => reject(error);\r\n    worker.onmessage = (message: SaveParserResultEvent) => {\r\n      const { data } = message;\r\n      switch (data.type) {\r\n        case RESPONSE_PROGRESS:\r\n          onProgress && onProgress(data.message);\r\n          break;\r\n        case RESPONSE_WRITE_SUCCESS:\r\n          unhook();\r\n          accept(data.data);\r\n          break;\r\n        case RESPONSE_WRITE_ERROR:\r\n          unhook();\r\n          reject(jsonToError(data.error));\r\n          break;\r\n      }\r\n    };\r\n  });\r\n\r\n  worker.postMessage(writeSaveCommand(saveGame));\r\n\r\n  return promise;\r\n}\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nexport const RESPONSE_PROGRESS = \"progress\";\r\nexport const sendProgress = (message: string) => ({\r\n  type: RESPONSE_PROGRESS as typeof RESPONSE_PROGRESS,\r\n  message\r\n});\r\nexport type ProgressResponse = ReturnType<typeof sendProgress>;\r\n\r\nconst COMMAND_PARSE = \"parse-save\";\r\nexport const parseSave = (data: ArrayBuffer) => ({\r\n  type: COMMAND_PARSE as typeof COMMAND_PARSE,\r\n  data\r\n});\r\nexport type ParseSaveCommand = ReturnType<typeof parseSave>;\r\n\r\nexport const RESPONSE_PARSE_SUCCESS = \"parse-save:success\";\r\nexport const parseSaveSuccess = (saveGame: SaveGame) => ({\r\n  type: RESPONSE_PARSE_SUCCESS as typeof RESPONSE_PARSE_SUCCESS,\r\n  saveGame\r\n});\r\nexport type ParseSaveSuccessResponse = ReturnType<typeof parseSaveSuccess>;\r\n\r\nexport const RESPONSE_PARSE_ERROR = \"parse-save:error\";\r\nexport const parseSaveError = (error: Error) => ({\r\n  type: RESPONSE_PARSE_ERROR as typeof RESPONSE_PARSE_ERROR,\r\n  error: errorToJson(error)\r\n});\r\nexport type ParseSaveErrorResponse = ReturnType<typeof parseSaveError>;\r\n\r\nexport type ParseSaveResponse =\r\n  | ParseSaveSuccessResponse\r\n  | ParseSaveErrorResponse\r\n  | ProgressResponse;\r\n\r\nconst COMMAND_WRITE = \"write-save\";\r\nexport const writeSave = (saveGame: SaveGame) => ({\r\n  type: COMMAND_WRITE as typeof COMMAND_WRITE,\r\n  saveGame\r\n});\r\nexport type WriteSaveCommand = ReturnType<typeof writeSave>;\r\n\r\nexport const RESPONSE_WRITE_SUCCESS = \"write-save:success\";\r\nexport const writeSaveSuccess = (data: ArrayBuffer) => ({\r\n  type: RESPONSE_WRITE_SUCCESS as typeof RESPONSE_WRITE_SUCCESS,\r\n  data\r\n});\r\nexport type WriteSaveSuccessResponse = ReturnType<typeof writeSaveSuccess>;\r\n\r\nexport const RESPONSE_WRITE_ERROR = \"write-save:error\";\r\nexport const writeSaveError = (error: Error) => ({\r\n  type: RESPONSE_WRITE_ERROR as typeof RESPONSE_WRITE_ERROR,\r\n  error: errorToJson(error)\r\n});\r\nexport type WriteSaveErrorResponse = ReturnType<typeof writeSaveError>;\r\n\r\nexport type WriteSaveResult =\r\n  | WriteSaveSuccessResponse\r\n  | WriteSaveErrorResponse\r\n  | ProgressResponse;\r\n\r\nexport type SaveParserCommand = ParseSaveCommand | WriteSaveCommand;\r\nexport type SaveParserResponse = ParseSaveResponse | WriteSaveResult;\r\n\r\nexport interface SaveParserCommandEvent extends MessageEvent {\r\n  data: SaveParserCommand;\r\n}\r\n\r\nexport interface SaveParserResultEvent extends MessageEvent {\r\n  data: SaveParserResponse;\r\n}\r\n\r\nexport interface ErrorJson {\r\n  name: string;\r\n  message: string;\r\n  stack?: string;\r\n}\r\nexport function errorToJson(e: Error): ErrorJson {\r\n  return {\r\n    name: e.name,\r\n    message: e.message,\r\n    stack: e.stack\r\n  };\r\n}\r\nexport function jsonToError(obj: ErrorJson): Error {\r\n  const e = new Error(obj.message);\r\n  e.name = obj.name;\r\n  e.stack = obj.stack;\r\n  return e;\r\n}\r\n","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"72e46b65ebeb80196a44.worker.js\");\n};","import { eventChannel, END } from \"redux-saga\";\r\nimport { put, select, takeEvery, take } from \"redux-saga/effects\";\r\n\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { saveAs } from \"file-saver\";\r\n\r\nimport { ACTION_ONISAVE_SAVE, SaveOniSaveAction } from \"@/actions/save-onisave\";\r\n\r\nimport {\r\n  receiveOniSaveBegin,\r\n  receiveOniSaveError,\r\n  receiveOniSaveSuccess\r\n} from \"@/actions/receive-onisave\";\r\n\r\nimport { parseProgress } from \"@/actions/onisave-parse-progress\";\r\n\r\nimport { writeSave } from \"@/services/save-serializer\";\r\n\r\nimport oniSaveSelector from \"@/selectors/oni-save\";\r\n\r\nexport default function* saveEditorSaga() {\r\n  yield takeEvery(ACTION_ONISAVE_SAVE, handleOniSaveWrite);\r\n}\r\n\r\nfunction* handleOniSaveWrite(action: SaveOniSaveAction) {\r\n  const saveName = action.payload;\r\n\r\n  const saveGame: SaveGame | null = yield select(oniSaveSelector);\r\n  if (!saveGame) {\r\n    return;\r\n  }\r\n\r\n  yield put(receiveOniSaveBegin(\"saving\"));\r\n\r\n  const saveChannel = createSaveChannel(saveGame);\r\n\r\n  while (true) {\r\n    const msg = yield take(saveChannel);\r\n    if (msg.type === \"progress\") {\r\n      yield put(parseProgress(msg.message));\r\n      continue;\r\n    } else if (msg.type === \"success\") {\r\n      saveAs(msg.blob, saveName);\r\n      yield put(receiveOniSaveSuccess(saveGame));\r\n      return;\r\n    } else if (msg.type === \"error\") {\r\n      yield put(receiveOniSaveError(msg.error));\r\n      return;\r\n    }\r\n  }\r\n}\r\n\r\nfunction createSaveChannel(saveGame: SaveGame) {\r\n  return eventChannel(emitter => {\r\n    function onProgress(message: string) {\r\n      emitter({\r\n        type: \"progress\",\r\n        message\r\n      });\r\n    }\r\n\r\n    writeSave(saveGame, onProgress)\r\n      .then(data => {\r\n        const blob = new Blob([data]);\r\n        emitter({\r\n          type: \"success\",\r\n          blob\r\n        });\r\n        emitter(END);\r\n      })\r\n      .catch(error => {\r\n        emitter({\r\n          type: \"error\",\r\n          error\r\n        });\r\n        emitter(END);\r\n      });\r\n\r\n    //This is the cancellation func.\r\n    // TODO: We can support cancellation in oni-save-parser rather easily.\r\n    return () => {};\r\n  });\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { ACTION_RECEIVE_ONISAVE_SUCCESS } from \"@/actions/receive-onisave\";\r\nimport { AppState } from \"@/state\";\r\n\r\nexport function actionSanitizer(action: AnyAction): AnyAction {\r\n  if (action.type === ACTION_RECEIVE_ONISAVE_SUCCESS) {\r\n    return {\r\n      ...action,\r\n      payload: sanitizeSave(action.payload)\r\n    };\r\n  }\r\n  return action;\r\n}\r\n\r\nexport function stateSanitizer(state: AppState): any {\r\n  return {\r\n    ...state,\r\n    oniSave: state.oniSave ? sanitizeSave(state.oniSave) : null\r\n  };\r\n}\r\n\r\nfunction sanitizeSave(save: SaveGame): any {\r\n  return {\r\n    ...save,\r\n    world: {\r\n      ...save.world,\r\n      streamed: \"~snip~\"\r\n    }\r\n  };\r\n}\r\n","import App from \"./App\";\r\nexport default App;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport i18n from \"@/i18n\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NoSave from \"@/pages/NoSave\";\r\nimport ErrorPage from \"@/pages/Error\";\r\nimport Loading from \"@/pages/Loading\";\r\nimport SaveEditor from \"@/pages/SaveEditor\";\r\n\r\nimport AppContainer from \"./components/AppContainer\";\r\nimport AppContent from \"./components/AppContent\";\r\nimport NavBarContainer from \"./components/NavBar\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass App extends React.Component<Props> {\r\n  render() {\r\n    const { error, loadingState, onDismissError } = this.props;\r\n\r\n    let element: JSX.Element;\r\n\r\n    if (error) {\r\n      element = <ErrorPage error={error} onDismiss={onDismissError} />;\r\n    } else {\r\n      switch (loadingState) {\r\n        case \"idle\":\r\n          element = <NoSave />;\r\n          break;\r\n        case \"loading\":\r\n        case \"saving\":\r\n          element = <Loading />;\r\n          break;\r\n        case \"ready\":\r\n          element = <SaveEditor />;\r\n          break;\r\n        default:\r\n          element = <div>???</div>;\r\n          break;\r\n      }\r\n    }\r\n\r\n    return (\r\n      <AppContainer>\r\n        <NavBarContainer />\r\n        <AppContent>{element}</AppContent>\r\n      </AppContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(App);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport error from \"@/selectors/error\";\r\nimport loadingState from \"@/selectors/loading-state\";\r\n\r\nconst stateSelectors = {\r\n  loadingState,\r\n  error\r\n};\r\nexport type StateProps = StructuredStateProps<typeof stateSelectors>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  stateSelectors\r\n);\r\nexport default mapStateToProps;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst errorSelector = (state: AppState) => state.error;\r\nexport default errorSelector;\r\n","import { dismissError } from \"@/actions/dismiss-error\";\r\n\r\nconst mapDispatchToProps = {\r\n  onDismissError: dismissError\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import NoSave from \"./NoSave\";\r\nexport default NoSave;\r\n","import * as React from \"react\";\r\n\r\nimport { Trans, translate } from \"react-i18next\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport { OSType } from \"@/runtime-env\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport Text from \"@/components/Text\";\r\nimport Code from \"@/components/Code\";\r\n\r\nconst SaveFilePaths: Record<OSType, string | null> = {\r\n  windows: \"Documents/Klei/OxygenNotIncluded/save_files\",\r\n  mac: null,\r\n  linux: \"~/.config/unity3d/Klei/Oxygen Not Included/save_files\",\r\n  unknown: null\r\n};\r\n\r\nconst NoSave: React.SFC = () => (\r\n  <NonIdealState intent={Intent.Hint} header={\"No File Loaded\"}>\r\n    <Text intent={Intent.Hint}>\r\n      <div>\r\n        <Trans i18nKey=\"load-file.instructions\">\r\n          Load a save using the controls on the upper left.\r\n        </Trans>\r\n      </div>\r\n      {SaveFilePaths[OSType] && (\r\n        <div>\r\n          <Trans\r\n            i18nKey=\"load-file.save-location\"\r\n            defaults=\"Save files can be found at <0>{{path}}</0>\"\r\n            values={{ path: SaveFilePaths[OSType] }}\r\n            components={[<Code />]}\r\n          />\r\n        </div>\r\n      )}\r\n    </Text>\r\n  </NonIdealState>\r\n);\r\nNoSave.displayName = \"NoSavePage\";\r\nexport default translate()(NoSave);\r\n","import { FontSizeProps, fontSize } from \"styled-system\";\r\n\r\nimport styled, {\r\n  BorderProps,\r\n  IntentBorderProps,\r\n  border,\r\n  intentBorder,\r\n  Intent,\r\n  Radius,\r\n  FontSize\r\n} from \"@/style\";\r\n\r\nexport interface CodeStyleProps\r\n  extends FontSizeProps,\r\n    BorderProps,\r\n    IntentBorderProps {}\r\n\r\nconst Code = styled<CodeStyleProps, \"code\">(\"code\")`\r\n  ${fontSize};\r\n  ${intentBorder};\r\n  ${border};\r\n\r\n  margin: 0 4px;\r\n  padding: 1px 2px;\r\n  box-sizing: border-box;\r\n  font-family: monospace;\r\n`;\r\nCode.displayName = \"Code\";\r\n\r\nCode.defaultProps = {\r\n  fontSize: FontSize.Default,\r\n  intent: Intent.Hint,\r\n  borderRadius: Radius.Small\r\n};\r\n\r\nexport default Code;\r\n","import ErrorPage from \"./Error\";\r\nexport default ErrorPage;\r\n","import * as React from \"react\";\r\nimport { Trans, translate } from \"react-i18next\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\nimport Button from \"@/components/Button\";\r\nimport Text from \"@/components/Text\";\r\nimport { Intent } from \"@/style\";\r\n\r\nexport interface ErrorProps {\r\n  error: Error;\r\n  onDismiss(): void;\r\n}\r\n\r\nconst ErrorPage: React.SFC<ErrorProps> = ({ error, onDismiss }) => (\r\n  <Flex direction=\"column\" width=\"100%\" height=\"100%\">\r\n    <Flex.Item grow>\r\n      <Text intent={Intent.Dangerous}>\r\n        <h2>Error</h2>\r\n        <code>{error.stack || error.message || String(error)}</code>\r\n      </Text>\r\n    </Flex.Item>\r\n    <Flex.Item>\r\n      <Button intent={Intent.Primary} onClick={onDismiss}>\r\n        <Trans i18nKey=\"close-dialog\">Close</Trans>\r\n      </Button>\r\n    </Flex.Item>\r\n  </Flex>\r\n);\r\nErrorPage.displayName = \"Error\";\r\nexport default translate()(ErrorPage);\r\n","import Loading from \"./Loading\";\r\nexport default Loading;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Trans, translate } from \"react-i18next\";\r\n\r\nimport { Intent, Space } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport Box from \"@/components/Box\";\r\n\r\ntype Props = StateProps;\r\nconst Loading: React.SFC<Props> = ({\r\n  loadingState,\r\n  loadingProgressMessageSelector\r\n}) => (\r\n  <Box p={Space.Large}>\r\n    <Text intent={Intent.Primary}>\r\n      {loadingState === \"loading\" ? (\r\n        <Trans i18nKey=\"load-file.loading\">Loading</Trans>\r\n      ) : (\r\n        <Trans i18nKey=\"save-file.saving\">Saving</Trans>\r\n      )}\r\n    </Text>\r\n    <br />\r\n    <Text intent={Intent.Secondary}>{loadingProgressMessageSelector}</Text>\r\n  </Box>\r\n);\r\nLoading.displayName = \"LoadingPage\";\r\nexport default connect(mapStateToProps)(translate()(Loading));\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport loadingState from \"@/selectors/loading-state\";\r\nimport loadingProgressMessageSelector from \"@/selectors/loading-message\";\r\n\r\nconst structuredSelector = {\r\n  loadingState,\r\n  loadingProgressMessageSelector\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst loadingProgressMessageSelector = (state: AppState) =>\r\n  state.loadingProgressMessage;\r\nexport default loadingProgressMessageSelector;\r\n","import SaveEditor from \"./SaveEditor\";\r\nexport default SaveEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport SelectedPathBreadcrumb from \"@/components/SelectedPathBreadcrumb\";\r\nimport ResizePanel from \"@/components/ResizePanel\";\r\n\r\nimport { getEditor } from \"./components/editors\";\r\n\r\nimport SaveEditorContainer from \"./components/SaveEditorContainer\";\r\nimport ContentContainer from \"./components/ContentContainer\";\r\nimport EditorContainer from \"./components/EditorContainer\";\r\n\r\nimport Sidebar from \"./components/Sidebar\";\r\nimport Separator from \"@/components/Separator\";\r\n\r\ntype Props = StateProps;\r\nclass SaveEditor extends React.Component<Props> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selectedPath: null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { editorType, editorProps } = this.props;\r\n\r\n    const ObjectEditor = getEditor(editorType);\r\n\r\n    return (\r\n      <SaveEditorContainer>\r\n        <ResizePanel>\r\n          <Sidebar />\r\n        </ResizePanel>\r\n        <ContentContainer>\r\n          <SelectedPathBreadcrumb />\r\n          <Separator width=\"100%\" />\r\n          <EditorContainer>\r\n            <ObjectEditor {...editorProps} />\r\n          </EditorContainer>\r\n        </ContentContainer>\r\n      </SaveEditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(SaveEditor);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport {\r\n  getSaveItemEditor,\r\n  getSaveItemEditorProps\r\n} from \"@/services/save-structure\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\n\r\nconst stateSelectors = {\r\n  editorType: createSelector(\r\n    oniSave,\r\n    selectedPath,\r\n    (oniSave, selectedPath) =>\r\n      (oniSave && getSaveItemEditor(selectedPath, oniSave)) || null\r\n  ),\r\n  editorProps: createSelector(\r\n    oniSave,\r\n    selectedPath,\r\n    (oniSave, selectedPath) =>\r\n      oniSave && getSaveItemEditorProps(selectedPath, oniSave)\r\n  )\r\n};\r\nexport type StateProps = StructuredStateProps<typeof stateSelectors>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  stateSelectors\r\n);\r\nexport default mapStateToProps;\r\n","import {\r\n  SaveGame,\r\n  GameObjectBehavior,\r\n  GameObject,\r\n  GameObjectGroup\r\n} from \"oni-save-parser\";\r\n\r\nimport { get, isObject } from \"lodash-es\";\r\n\r\nimport { EditMode, SaveItemBreadcrumb } from \"./types\";\r\n\r\nimport {\r\n  SaveStructureDef,\r\n  getSaveStructureDef,\r\n  walkSaveStructurePath\r\n} from \"./structure\";\r\n\r\nconst GAME_OBJECT_GROUP_PATH_ROOT = [\"gameObjects\", \"*\"];\r\nexport function getPathGameObjectGroup(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): GameObjectGroup | null {\r\n  if (path.length < GAME_OBJECT_GROUP_PATH_ROOT.length) {\r\n    return null;\r\n  }\r\n\r\n  path = path.slice(0, GAME_OBJECT_GROUP_PATH_ROOT.length);\r\n\r\n  if (\r\n    !path.every((x, i) => comparePathMatch(x, i, GAME_OBJECT_GROUP_PATH_ROOT))\r\n  ) {\r\n    return null;\r\n  }\r\n\r\n  return get(saveGame, path);\r\n}\r\n\r\nconst GAME_OBJECT_PATH_ROOT = [\"gameObjects\", \"*\", \"gameObject\", \"*\"];\r\nexport function getPathGameObject(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): GameObject | null {\r\n  if (path.length < GAME_OBJECT_PATH_ROOT.length) {\r\n    return null;\r\n  }\r\n\r\n  path = path.slice(0, GAME_OBJECT_PATH_ROOT.length);\r\n\r\n  if (!path.every((x, i) => comparePathMatch(x, i, GAME_OBJECT_PATH_ROOT))) {\r\n    return null;\r\n  }\r\n\r\n  return get(saveGame, path);\r\n}\r\n\r\nconst GAME_OBJECT_BEHAVIOR_PATH_ROOT = [\r\n  \"gameObjects\",\r\n  \"*\",\r\n  \"gameObject\",\r\n  \"*\",\r\n  \"behaviors\",\r\n  \"*\"\r\n];\r\nexport function getPathBehavior(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): GameObjectBehavior | null {\r\n  if (path.length < GAME_OBJECT_BEHAVIOR_PATH_ROOT.length) {\r\n    return null;\r\n  }\r\n\r\n  path = path.slice(0, GAME_OBJECT_BEHAVIOR_PATH_ROOT.length);\r\n\r\n  if (\r\n    !path.every((x, i) =>\r\n      comparePathMatch(x, i, GAME_OBJECT_BEHAVIOR_PATH_ROOT)\r\n    )\r\n  ) {\r\n    return null;\r\n  }\r\n\r\n  return get(saveGame, path);\r\n}\r\n\r\nfunction comparePathMatch(part: string, index: number, match: string[]) {\r\n  if (match[index] === \"*\") return true;\r\n  if (part === match[index]) return true;\r\n  return false;\r\n}\r\n\r\nexport function getSaveItemTitle(path: string[], saveGame: SaveGame): string {\r\n  const def = getSaveStructureDef(path, saveGame);\r\n  let nameSource: string | false | undefined;\r\n  if (def) {\r\n    const nameProducer = def.$uiPathName;\r\n    if (typeof nameProducer === \"function\") {\r\n      const value = path.length > 0 ? get(saveGame, path) : saveGame;\r\n      nameSource = nameProducer(value, path, saveGame);\r\n    } else if (typeof nameProducer === \"string\") {\r\n      nameSource = nameProducer;\r\n    }\r\n  }\r\n\r\n  // TODO: Object might opt out of a path entry with uiPathName: false\r\n  //  What do we do in this case?\r\n  //  For now, we just return the absolute path.\r\n  return nameSource || path[path.length - 1];\r\n}\r\n\r\nexport function getSaveItemBreadcrumb(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): SaveItemBreadcrumb[] {\r\n  const breadcrumbs: SaveItemBreadcrumb[] = [];\r\n  for (const structurePath of walkSaveStructurePath(path, saveGame)) {\r\n    const { def, path: defPath } = structurePath;\r\n    let title: string | false = false;\r\n    const nameProducer = def.$uiPathName;\r\n    if (typeof nameProducer === \"function\") {\r\n      const value = defPath.length > 0 ? get(saveGame, defPath) : saveGame;\r\n      title = nameProducer(value, defPath, saveGame) || false;\r\n    } else if (typeof nameProducer === \"string\") {\r\n      title = nameProducer;\r\n    } else if (nameProducer === false) {\r\n      // Opting out of a path entry.\r\n      continue;\r\n    } else {\r\n      title = defPath[defPath.length - 1];\r\n    }\r\n\r\n    if (title) {\r\n      breadcrumbs.push({\r\n        title,\r\n        path: defPath\r\n      });\r\n    }\r\n  }\r\n\r\n  return breadcrumbs;\r\n}\r\n\r\nexport function getSaveItemEditValue(path: string[], saveGame: SaveGame) {\r\n  return path.length > 0 ? get(saveGame, path) : saveGame;\r\n}\r\n\r\nexport function getSaveItemChildPaths(\r\n  path: string[],\r\n  saveGame: SaveGame,\r\n  editMode: EditMode\r\n): string[][] {\r\n  const def = getSaveStructureDef(path, saveGame);\r\n  const childPaths = collectChildPaths(path, saveGame, def, editMode);\r\n  return childPaths;\r\n}\r\n\r\nexport function getSaveItemEditor(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): string | null {\r\n  const def = getSaveStructureDef(path, saveGame);\r\n  return (def && def.$editor) || null;\r\n}\r\n\r\nexport function getSaveItemEditorProps(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): Record<string, any> {\r\n  const def = getSaveStructureDef(path, saveGame);\r\n  if (!def || !def.$editor) {\r\n    return {};\r\n  }\r\n\r\n  const propFactory = def.$editorProps;\r\n  if (!propFactory) {\r\n    return {};\r\n  }\r\n\r\n  if (typeof propFactory === \"function\") {\r\n    const value = path.length > 0 ? get(saveGame, path) : saveGame;\r\n    return propFactory(value, path, saveGame);\r\n  } else {\r\n    return propFactory;\r\n  }\r\n}\r\n\r\n/**\r\n * Determine the child values for the given value.\r\n * @param saveGamePath The path to the value whose children to determine\r\n * @param oniSave The oni save game structure\r\n * @param def The definition of the value whose children to determine\r\n * @param editMode The current edit mode.\r\n * @returns A collection of absolute save game paths for the child values of this value.\r\n */\r\nfunction collectChildPaths(\r\n  saveGamePath: string[],\r\n  oniSave: SaveGame,\r\n  def: SaveStructureDef | null,\r\n  editMode: EditMode\r\n): string[][] {\r\n  let uiChildren = def ? def.$uiChildren : null;\r\n\r\n  const value = saveGamePath.length > 0 ? get(oniSave, saveGamePath) : oniSave;\r\n\r\n  if (typeof uiChildren === \"function\") {\r\n    uiChildren = uiChildren(value);\r\n  }\r\n\r\n  if (uiChildren === false) {\r\n    // Explicitly no children.\r\n    return [];\r\n  }\r\n\r\n  if (uiChildren == null && def) {\r\n    // TODO: Not sure if this is a good idea, trying it out.\r\n    // Explicit structure children are candidates for children.\r\n\r\n    // Only process def if it is not advanced, or we are in advanced mode.\r\n    // Determine the save structure keys we can work off of.\r\n    const defKeys: string[] = Object.keys(def).filter(x => x[0] !== \"$\");\r\n    if (defKeys.indexOf(\"*\") !== -1) {\r\n      // Def knows about all child keys.  Probably an array or map.\r\n      uiChildren = Object.keys(value).map(x => [x]);\r\n    } else if (defKeys.length > 0) {\r\n      // We have known child keys, offer them up.\r\n      uiChildren = defKeys.map(x => [x]);\r\n    }\r\n  }\r\n\r\n  // Failed to find any children, attempt to auto-determine them.\r\n  if (uiChildren == null) {\r\n    uiChildren = collectAutoChildPaths(saveGamePath, oniSave, editMode);\r\n  }\r\n\r\n  // Make the path absolute\r\n  uiChildren = uiChildren ? uiChildren.map(x => [...saveGamePath, ...x]) : [];\r\n\r\n  if (uiChildren) {\r\n    // Check for editMode visibility.\r\n    uiChildren = uiChildren.filter(path => {\r\n      const childValue = get(oniSave, path);\r\n      const childDef = getSaveStructureDef(path, oniSave);\r\n      return checkEditMode(childValue, childDef, editMode);\r\n    });\r\n  }\r\n\r\n  return uiChildren;\r\n}\r\n\r\nfunction checkEditMode(\r\n  value: any,\r\n  def: SaveStructureDef | null,\r\n  editMode: EditMode\r\n): boolean {\r\n  if (editMode === \"advanced\") {\r\n    return true;\r\n  }\r\n\r\n  // Unknown objects are implicitly advanced.\r\n  let advancedProducer = def ? def.$advanced : true;\r\n  let advanced: boolean;\r\n  if (typeof advancedProducer === \"boolean\") {\r\n    advanced = advancedProducer;\r\n  } else if (typeof advancedProducer === \"function\") {\r\n    advanced = advancedProducer(value);\r\n  } else {\r\n    advanced = false;\r\n  }\r\n\r\n  return !advanced;\r\n}\r\n\r\nfunction collectAutoChildPaths(\r\n  saveGamePath: string[],\r\n  oniSave: SaveGame,\r\n  editMode: EditMode\r\n): string[][] {\r\n  if (editMode !== \"advanced\") {\r\n    // Do not auto-determine anything when not in advanced mode.\r\n    return [];\r\n  }\r\n\r\n  const value = saveGamePath.length > 0 ? get(oniSave, saveGamePath) : oniSave;\r\n  let uiChildren: string[][] | null = null;\r\n  if (isObject(value)) {\r\n    // Target is an object, offer up all child objects.\r\n    uiChildren = Object.keys(value)\r\n      .filter(x => isImplicitChild(value[x]))\r\n      .map(x => [x]);\r\n  } else if (Array.isArray(value)) {\r\n    // Target is an array, offer up all array items.\r\n    uiChildren = value.filter(isImplicitChild).map((_, i) => [`${i}`]);\r\n  }\r\n\r\n  return uiChildren || [];\r\n}\r\n\r\nfunction isImplicitChild(value: any): boolean {\r\n  return isObject(value);\r\n}\r\n","export * from \"./root\";\r\nexport * from \"./types\";\r\nexport * from \"./utils\";\r\n\r\nimport saveStructure from \"./root\";\r\nexport default saveStructure;\r\n","import { GameObjectGroup, SaveGame } from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../types\";\r\n\r\nimport {\r\n  getGameObjectVariants,\r\n  gameObjectVariantInfos\r\n} from \"./gameObjectTypes\";\r\nimport { initStorageBehaviorHack } from \"@/services/save-structure/structure/gameObjects/behaviors/storage\";\r\n\r\nconst gameObjectGroupsStructure: SaveStructureDef<GameObjectGroup> = {\r\n  $uiPathName(group: GameObjectGroup) {\r\n    return group.name;\r\n  },\r\n\r\n  $uiChildren(group: GameObjectGroup) {\r\n    return group.gameObjects.map((_, i) => [\"gameObjects\", `${i}`]);\r\n  },\r\n\r\n  $editor: \"game-object-list\",\r\n\r\n  // This will be populated after object instantiation, to\r\n  //  allow us to define circular references for nested\r\n  //  game objects in the Storage behavior.\r\n  $variants: []\r\n};\r\n\r\n// We want to handle each game object type uniquely,\r\n//  but their uniqueness is keyed off the name of this group.\r\n// To handle this, we provide variants that match off the group's name.\r\ngameObjectGroupsStructure.$variants = getGameObjectVariants(\r\n  gameObjectVariantInfos,\r\n  [\"gameObjects\", \"*\"]\r\n);\r\n\r\n// Need to wait until after getGameObjectVariants completes\r\ninitStorageBehaviorHack();\r\n\r\nconst gameObjectsStructure: SaveStructureDef<SaveGame[\"gameObjects\"]> = {\r\n  $editor: \"game-object-group-list\",\r\n\r\n  // gameObjects is an array, so we use the fallback key to\r\n  //  handle all items.\r\n  \"*\": gameObjectGroupsStructure\r\n};\r\nexport default gameObjectsStructure;\r\n","import * as minion from \"./minion\";\r\nimport * as geyser from \"./geyser\";\r\n\r\nconst gameObjectVariantInfo = [minion, geyser];\r\nexport default gameObjectVariantInfo;\r\n","import {\r\n  GameObject,\r\n  MinionIdentityBehavior,\r\n  getBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\nimport { gameObjectIs } from \"../../matchers\";\r\n\r\nimport { defaultGameObject } from \"./default\";\r\n\r\nconst minionGameObject: SaveStructureDef<GameObject> = {\r\n  ...defaultGameObject,\r\n\r\n  $editor: \"game-object-minion\",\r\n\r\n  $uiPathName: (obj: GameObject) => {\r\n    const identityBehavior = getBehavior(obj, MinionIdentityBehavior);\r\n    const name =\r\n      (identityBehavior &&\r\n        identityBehavior.templateData &&\r\n        identityBehavior.templateData.name) ||\r\n      \"[malformed]\";\r\n    return name;\r\n  }\r\n};\r\n\r\nexport const gameObjectMatcher = gameObjectIs(\"Minion\");\r\nexport const gameObjectStructure = minionGameObject;\r\n\r\nexport default minionGameObject;\r\n","import { GameObjectBehavior } from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../../../structure\";\r\n\r\nimport { defaultBehavior } from \"./default\";\r\nimport { primaryElementBehavior } from \"./primary-element\";\r\nimport { storageBehavior } from \"./storage\";\r\n\r\nconst behavior: SaveStructureDef<GameObjectBehavior> = {\r\n  $variants: [storageBehavior, primaryElementBehavior, defaultBehavior]\r\n};\r\nexport default behavior;\r\n","import { PrimaryElementBehavior } from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\nimport { behaviorIs } from \"../../matchers\";\r\n\r\nimport { defaultBehavior } from \"./default\";\r\n\r\nexport const primaryElementBehavior: SaveStructureDef<\r\n  PrimaryElementBehavior\r\n> = {\r\n  ...defaultBehavior,\r\n  $match: behaviorIs(PrimaryElementBehavior)\r\n};\r\n","import {\r\n  GameObject,\r\n  getBehavior,\r\n  KPrefabIDBehavior,\r\n  GameObjectGroup\r\n} from \"oni-save-parser\";\r\n\r\nimport { formatPosition } from \"@/format\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\n\r\nimport { defaultGameObject } from \"./default\";\r\n\r\nconst geyserGameObject: SaveStructureDef<GameObject> = {\r\n  ...defaultGameObject,\r\n\r\n  $editor: \"game-object-geyser\",\r\n\r\n  $uiPathName: (obj: GameObject) => {\r\n    const idBehavior = getBehavior(obj, KPrefabIDBehavior);\r\n    const id =\r\n      (idBehavior &&\r\n        idBehavior.templateData &&\r\n        idBehavior.templateData.InstanceID) ||\r\n      \"[malformed]\";\r\n\r\n    return `#${id} ${formatPosition(obj.position)}`;\r\n  }\r\n};\r\n\r\nexport const gameObjectMatcher = (obj: GameObjectGroup) =>\r\n  obj.name.startsWith(\"GeyserGeneric_\");\r\nexport const gameObjectStructure = geyserGameObject;\r\n\r\nexport default geyserGameObject;\r\n","import { set } from \"lodash-es\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\n\r\nimport { defaultGameObject } from \"./default\";\r\n\r\nimport { GameObjectTypeInfo } from \"./types\";\r\n\r\nexport function getGameObjectVariants(\r\n  gameObjectTypeInfos: GameObjectTypeInfo[],\r\n  gameObjectPath: string[] | null\r\n): SaveStructureDef<{}>[] {\r\n  const defaultVariant: SaveStructureDef<{}> = {\r\n    $advanced: true\r\n  };\r\n  setStructure(defaultVariant, gameObjectPath, defaultGameObject);\r\n\r\n  const variants = gameObjectTypeInfos.map(info => {\r\n    const rootVariant: SaveStructureDef<{}> = {\r\n      $match: info.gameObjectMatcher\r\n    };\r\n    setStructure(rootVariant, gameObjectPath, info.gameObjectStructure);\r\n    return rootVariant;\r\n  });\r\n\r\n  // Add default as last item\r\n  variants.push(defaultVariant);\r\n  return variants;\r\n}\r\n\r\nfunction setStructure(\r\n  obj: any,\r\n  path: string[] | null,\r\n  structure: SaveStructureDef\r\n) {\r\n  if (path && path.length > 0) {\r\n    // Collapse the intermediate paths.\r\n    for (let i = 1; i < path.length; i++) {\r\n      set(obj, [...path.slice(0, i), \"$uiPathName\"], false);\r\n    }\r\n    set(obj, path, structure);\r\n  } else {\r\n    // Use a one-value rootVariant to ensure we get a reference,\r\n    //  to mantain recursive support.\r\n    Object.assign(obj, structure);\r\n  }\r\n}\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { isObject } from \"lodash-es\";\r\n\r\nimport saveStructure from \"./root\";\r\nimport { SaveStructureDef } from \"./types\";\r\n\r\nexport function getSaveStructureDef(\r\n  saveGamePath: string[],\r\n  save: SaveGame\r\n): SaveStructureDef | null {\r\n  // TODO: Seems like there would be a builtin utility for this\r\n  const iter = walkSaveStructurePath(saveGamePath, save);\r\n  let result: IteratorResult<any>;\r\n  do {\r\n    result = iter.next();\r\n  } while (!result.done);\r\n  return result.value;\r\n}\r\n\r\n/**\r\n * Walks through a path of a save game, returning the save structure objects in order.\r\n * @param saveGamePath The path to walk the save structure tree to\r\n * @param saveGame The save game to walk.\r\n */\r\nexport function* walkSaveStructurePath(\r\n  saveGamePath: string[],\r\n  saveGame: SaveGame\r\n): IterableIterator<{ def: SaveStructureDef; path: string[] }> {\r\n  let structure: SaveStructureDef = saveStructure;\r\n  let value: any = saveGame;\r\n\r\n  yield {\r\n    def: saveStructure,\r\n    path: []\r\n  };\r\n\r\n  for (let i = 0; i < saveGamePath.length; i++) {\r\n    const key = saveGamePath[i];\r\n\r\n    let subStructure: SaveStructureDef | undefined;\r\n    if (isObject(structure)) {\r\n      subStructure =\r\n        Object.keys(structure).indexOf(key) !== -1\r\n          ? structure[key]\r\n          : structure[\"*\"];\r\n    }\r\n\r\n    if (!subStructure) {\r\n      return null;\r\n    }\r\n\r\n    // Pick the value before searching for variants.\r\n    value = value[key];\r\n\r\n    // Try to pick a variant if possible.\r\n    if (subStructure.$variants) {\r\n      const variant = subStructure.$variants.find(\r\n        x => !x.$match || x.$match(value)\r\n      );\r\n      if (variant) {\r\n        subStructure = {\r\n          ...subStructure,\r\n          ...variant\r\n        } as SaveStructureDef;\r\n      }\r\n    }\r\n\r\n    structure = subStructure;\r\n\r\n    yield {\r\n      def: structure,\r\n      path: saveGamePath.slice(0, i + 1)\r\n    };\r\n  }\r\n\r\n  return structure;\r\n}\r\n\r\n// export function getChildStructures(def: SaveStructureDef): SaveStructureDef[] {\r\n//   return Object.keys(def)\r\n//     .filter(x => x[0] !== \"$\")\r\n//     .map(x => def[x]) as SaveStructureDef[];\r\n// }\r\n","import SelectedPathBreadcrumb from \"./SelectedPathBreadcrumb\";\r\nexport default SelectedPathBreadcrumb;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\n\r\nimport BreadcrumbContainer from \"./components/BreadcrumbContainer\";\r\n\r\ntype Props = StateProps;\r\nclass SelectedPathBreadcrumb extends React.Component<Props> {\r\n  render() {\r\n    const { breadcrumb } = this.props;\r\n    let links: React.ReactNode[] = [];\r\n    for (let i = 0; i < breadcrumb.length; i++) {\r\n      let isFinal = i + 1 === breadcrumb.length;\r\n      const x = breadcrumb[i];\r\n      const key = x.path.join(\".\");\r\n      links.push(\r\n        <SaveStructureLink\r\n          intent={isFinal ? Intent.Primary : Intent.Secondary}\r\n          key={key}\r\n          path={x.path}\r\n        >\r\n          {x.title}\r\n        </SaveStructureLink>\r\n      );\r\n      if (!isFinal) {\r\n        links.push(<Text key={`${key}:sep`}>{\" > \"}</Text>);\r\n      }\r\n    }\r\n    return <BreadcrumbContainer>{links}</BreadcrumbContainer>;\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(SelectedPathBreadcrumb);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport breadcrumb from \"@/selectors/selected-path-breadcrumb\";\r\n\r\nconst structuredSelector = {\r\n  breadcrumb\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { createSelector } from \"reselect\";\r\n\r\nimport { getSaveItemBreadcrumb } from \"@/services/save-structure\";\r\n\r\nimport selectedPath from \"./selected-path\";\r\nimport oniSave from \"./oni-save\";\r\n\r\nconst selectedPathBreadcrumbSelector = createSelector(\r\n  selectedPath,\r\n  oniSave,\r\n  (selectedPath, oniSave) =>\r\n    oniSave ? getSaveItemBreadcrumb(selectedPath, oniSave) : []\r\n);\r\nexport default selectedPathBreadcrumbSelector;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport styled from \"@/style\";\r\n\r\nimport { LinkProps, link } from \"@/style\";\r\n\r\nimport { SaveStructureLinkProps } from \"./props\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\ntype Props = SaveStructureLinkProps & DispatchProps;\r\nclass SaveStructureLink extends React.Component<Props> {\r\n  render() {\r\n    const { intent, children } = this.props;\r\n    return (\r\n      <Link intent={intent} onClick={this._onClick}>\r\n        {children}\r\n      </Link>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onClick() {\r\n    const { path, onClick } = this.props;\r\n    onClick(path);\r\n  }\r\n}\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(SaveStructureLink);\r\n\r\nconst Link = styled<LinkProps, \"span\">(\"span\")`\r\n  ${link};\r\n`;\r\n","import { selectPath } from \"@/actions/select-path\";\r\n\r\nconst mapDispatchToProps = {\r\n  onClick: selectPath\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import styled, { Space } from \"@/style\";\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst BreadcrumbContainer = styled.div`\r\n  margin-bottom: ${props => getTheme(props).space[Space.Small]}px;\r\n`;\r\nBreadcrumbContainer.displayName = \"BreadcrumbContainer\";\r\nexport default BreadcrumbContainer;\r\n","import ResizePanel from \"./ResizePanel\";\r\nexport default ResizePanel;\r\n","import * as React from \"react\";\r\n\r\nimport { HeightProps, height } from \"styled-system\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport ResizeHandle from \"./components/ResizeHandle\";\r\nimport styled from \"@/style\";\r\n\r\nexport interface ResizePanelProps extends HeightProps {\r\n  className?: string;\r\n  defaultWidth?: number;\r\n}\r\ninterface State {\r\n  width: number;\r\n}\r\ntype Props = ResizePanelProps;\r\nclass ResizePanel extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      width: props.defaultWidth || 300\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { className, children } = this.props;\r\n    const { width } = this.state;\r\n    // TODO: too many wrapping divs.\r\n    //  Provide a way to apply flex to an existing item.\r\n    return (\r\n      <Flex className={className} direction=\"row\">\r\n        <Flex.Item style={{ width }}>{children}</Flex.Item>\r\n        <Flex.Item>\r\n          <ResizeHandle onResize={this._onResize} />\r\n        </Flex.Item>\r\n      </Flex>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onResize(delta: number) {\r\n    this.setState(s => ({\r\n      width: s.width + delta\r\n    }));\r\n  }\r\n}\r\n\r\nexport default styled(ResizePanel)`\r\n  ${height};\r\n`;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { DraggableCore, DraggableData } from \"react-draggable\";\r\n\r\nimport ResizeHandleVisual from \"./ResizeHandleVisual\";\r\n\r\nexport interface ResizeHandleProps {\r\n  onResize(delta: number): void;\r\n}\r\n\r\ntype Props = ResizeHandleProps;\r\ninterface State {\r\n  isResizing: boolean;\r\n}\r\nclass ResizeHandle extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isResizing: false\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <DraggableCore\r\n        onStart={this._onStart}\r\n        onStop={this._onStop}\r\n        onDrag={this._onDrag}\r\n      >\r\n        <ResizeHandleVisual isResizing={this.state.isResizing} />\r\n      </DraggableCore>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onDrag(e: MouseEvent, d: DraggableData) {\r\n    const { onResize } = this.props;\r\n    onResize(d.deltaX);\r\n  }\r\n\r\n  @autobind()\r\n  private _onStart() {\r\n    this.setState({\r\n      isResizing: true\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _onStop() {\r\n    this.setState({\r\n      isResizing: false\r\n    });\r\n  }\r\n}\r\nexport default ResizeHandle;\r\n","import styled, { Intent, intentFill, getThemeColor, Color } from \"@/style\";\r\n\r\nexport interface ResizeHandleVisualProps {\r\n  isResizing: boolean;\r\n}\r\nconst ResizeHandleVisual = styled<ResizeHandleVisualProps, \"div\">(\"div\")`\r\n  width: 4px;\r\n  height: 100%;\r\n  background-color: ${props =>\r\n    getThemeColor(\r\n      props.isResizing ? Color.PrimaryIntent : Color.DefaultSeparator\r\n    )};\r\n  flex: none;\r\n  cursor: ew-resize;\r\n\r\n  :hover {\r\n    ${intentFill.of(Intent.Primary)};\r\n  }\r\n`;\r\nexport default ResizeHandleVisual;\r\n","import DefaultObjectEditor from \"./DefaultObjectEditor\";\r\n\r\nimport SaveRootEditor from \"./SaveRootEditor\";\r\nimport TemplateObjectEditor from \"./TemplateObjectEditor\";\r\nimport GameObjectGroupList from \"./GameObjectGroupList\";\r\nimport GameObjectList from \"./GameObjectList\";\r\n\r\nimport DefaultGameObjectEditor from \"./game-objects/DefaultGameObjectEditor\";\r\nimport MinionEditor from \"./game-objects/MinionEditor\";\r\nimport GeyserEditor from \"./game-objects/GeyserEditor\";\r\n\r\nconst editors: Record<string, React.ComponentClass<any>> = {\r\n  \"save-root\": SaveRootEditor,\r\n  \"game-object-group-list\": GameObjectGroupList,\r\n  \"game-object-list\": GameObjectList,\r\n  \"template-object\": TemplateObjectEditor,\r\n  \"game-object-default\": DefaultGameObjectEditor,\r\n  \"game-object-minion\": MinionEditor,\r\n  \"game-object-geyser\": GeyserEditor\r\n};\r\n\r\nexport function getEditor(\r\n  editorType: string | null\r\n): React.ComponentClass<any> {\r\n  if (!editorType) {\r\n    return DefaultObjectEditor;\r\n  }\r\n\r\n  return editors[editorType] || DefaultObjectEditor;\r\n}\r\n","import DefaultObjectEditor from \"./DefaultObjectEditor\";\r\nexport default DefaultObjectEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Text from \"@/components/Text\";\r\n\r\nimport DefaultObjectEditorContainer from \"./components/DefaultObjectEditorContainer\";\r\n\r\nimport EditorField from \"./components/EditorField\";\r\n\r\nimport mapStateToProps, { StateProps, FieldRow } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nconst TH = Text.withComponent(\"th\");\r\nconst TD = Text.withComponent(\"td\");\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass DefaultObjectEditor extends React.Component<Props> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { fields } = this.props;\r\n\r\n    const fieldElements = fields.map(field => this._renderFieldRow(field));\r\n\r\n    return (\r\n      <DefaultObjectEditorContainer>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <TH>Name</TH>\r\n              <TH>Value</TH>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{fieldElements}</tbody>\r\n        </table>\r\n      </DefaultObjectEditorContainer>\r\n    );\r\n  }\r\n\r\n  private _renderFieldRow(field: FieldRow) {\r\n    const { title, key, value } = field;\r\n    return (\r\n      <tr key={key}>\r\n        <TD>{title}</TD>\r\n        <TD>\r\n          <EditorField\r\n            propKey={key}\r\n            value={value}\r\n            onChange={this._onFieldChange}\r\n          />\r\n        </TD>\r\n      </tr>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onFieldChange(key: string, value: any) {\r\n    const { selectedPath, onModify } = this.props;\r\n    onModify([...selectedPath, key], value);\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(DefaultObjectEditor);\r\n","import styled from \"@/style\";\r\n\r\nconst DefaultObjectEditorContainer = styled.div``;\r\nDefaultObjectEditorContainer.displayName = \"DefaultObjectEditorContainer\";\r\nexport default DefaultObjectEditorContainer;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nexport interface EditorFieldProps {\r\n  propKey: string;\r\n  value: any;\r\n  onChange(propKey: string, value: any): void;\r\n}\r\nexport default class EditorField extends React.Component<EditorFieldProps> {\r\n  render() {\r\n    const { value } = this.props;\r\n    return (\r\n      <input\r\n        type=\"text\"\r\n        onChange={this._onChange}\r\n        value={JSON.stringify(value)}\r\n      />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const { propKey, onChange } = this.props;\r\n    const value = e.target.value;\r\n    try {\r\n      const parsedValue = JSON.parse(value);\r\n      onChange(propKey, parsedValue);\r\n    } catch {}\r\n  }\r\n}\r\n","import { createSelector, createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport selectedPath from \"@/selectors/selected-path\";\r\nimport selectedValue from \"@/selectors/selected-value\";\r\n\r\nexport interface FieldEditable {\r\n  title: string;\r\n  key: string;\r\n  value: any;\r\n}\r\nexport type FieldRow = FieldEditable;\r\n\r\nconst fields = createSelector(\r\n  selectedValue,\r\n  (selectedValue): FieldRow[] => {\r\n    if (!selectedValue) {\r\n      return [];\r\n    }\r\n\r\n    if (isPrimitive(selectedValue)) {\r\n      // Cannot edit things in a primitive.\r\n      return [];\r\n    }\r\n\r\n    return Object.keys(selectedValue)\r\n      .filter(key => isPrimitive(selectedValue[key]))\r\n      .map(key => {\r\n        const value = selectedValue[key];\r\n        const editable: FieldEditable = {\r\n          title: key,\r\n          key,\r\n          value\r\n        };\r\n        return editable;\r\n      });\r\n  }\r\n);\r\n\r\nconst structuredSelectors = {\r\n  selectedPath,\r\n  fields\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelectors>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelectors\r\n);\r\nexport default mapStateToProps;\r\n\r\nconst primitiveTypes = [\"string\", \"number\", \"boolean\"];\r\nfunction isPrimitive(val: any) {\r\n  const valType = typeof val;\r\n  return primitiveTypes.indexOf(valType) !== -1;\r\n}\r\n","import { modifyOniSave } from \"@/actions/modify-onisave\";\r\n\r\nconst mapDispatchToProps = {\r\n  onModify: modifyOniSave\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import SaveRootEditor from \"./SaveRootEditor\";\r\nexport default SaveRootEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport InfoText from \"@/components/InfoText\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport SaveRootEditorContainer from \"./components/SaveRootEditorContainer\";\r\n\r\nimport SaveGameTitle from \"./components/SaveGameTitle\";\r\nimport DuplicantsList from \"./components/DuplicantsList\";\r\n\r\ntype Props = StateProps;\r\nclass SaveRootEditor extends React.Component<Props> {\r\n  render() {\r\n    const { oniSave } = this.props;\r\n    return (\r\n      <SaveRootEditorContainer>\r\n        {oniSave ? (\r\n          this._renderContent()\r\n        ) : (\r\n          <Text intent={Intent.Hint}>No Save Loaded</Text>\r\n        )}\r\n      </SaveRootEditorContainer>\r\n    );\r\n  }\r\n\r\n  private _renderContent() {\r\n    const oniSave = this.props.oniSave!;\r\n    const numGameObjects = oniSave.gameObjects.reduce(\r\n      (count, set) => count + set.gameObjects.length,\r\n      0\r\n    );\r\n    return (\r\n      <React.Fragment>\r\n        <SaveGameTitle intent={Intent.Primary}>\r\n          {oniSave.header.gameInfo.baseName}\r\n        </SaveGameTitle>\r\n        <InfoText value={oniSave.header.gameInfo.numberOfCycles}>\r\n          cycles\r\n        </InfoText>\r\n        <InfoText value={oniSave.header.gameInfo.numberOfDuplicants}>\r\n          duplicants\r\n        </InfoText>\r\n        <InfoText value={numGameObjects}>game objects</InfoText>\r\n        <DuplicantsList />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(SaveRootEditor);\r\n","import * as React from \"react\";\r\n\r\nimport Text from \"./Text\";\r\nimport { Intent } from \"@/style\";\r\n\r\nexport interface InfoTextProps {\r\n  value: any;\r\n  pluralize?: boolean;\r\n}\r\n\r\nconst InfoText: React.SFC<InfoTextProps> = ({ value, children }) => (\r\n  <div>\r\n    <Text intent={Intent.Secondary}>{value}</Text> <Text>{children}</Text>\r\n  </div>\r\n);\r\nexport default InfoText;\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nconst structuredSelector = {\r\n  oniSave\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import styled from \"@/style\";\r\n\r\nconst SaveRootEditorContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\nSaveRootEditorContainer.displayName = \"SaveRootEditorContainer\";\r\nexport default SaveRootEditorContainer;\r\n","import Text from \"@/components/Text\";\r\n\r\nconst SaveGameTitle = Text.withComponent(\"h3\").extend`\r\n  margin-top: 0;\r\n`;\r\nSaveGameTitle.displayName = \"SaveGameTitle\";\r\nexport default SaveGameTitle;\r\n","import DuplicantsList from \"./DuplicantsList\";\r\nexport default DuplicantsList;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\n\r\nimport DuplicantPortrait from \"./components/DuplicantPortrait\";\r\nimport DuplicantsListContainer from \"./components/DuplicantsListContainer\";\r\nimport DuplicantsListContent from \"./components/DuplicantsListContent\";\r\n\r\ntype Props = StateProps;\r\nclass DuplicantsList extends React.Component<Props> {\r\n  render() {\r\n    const { duplicantsSetPath, duplicantIndexes } = this.props;\r\n    if (!duplicantsSetPath || !duplicantIndexes) {\r\n      return \"Malformed Data\";\r\n    }\r\n\r\n    const duplicantPortraits = duplicantIndexes.map(x => (\r\n      <DuplicantPortrait key={x} gameObjectIndex={x} />\r\n    ));\r\n\r\n    return (\r\n      <DuplicantsListContainer>\r\n        <SaveStructureLink intent={Intent.Primary} path={duplicantsSetPath}>\r\n          Duplicants\r\n        </SaveStructureLink>\r\n        <DuplicantsListContent>{duplicantPortraits}</DuplicantsListContent>\r\n      </DuplicantsListContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(DuplicantsList);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { range } from \"lodash-es\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nconst duplicantsSetPath = createSelector(oniSave, oniSave => {\r\n  if (!oniSave) {\r\n    return null;\r\n  }\r\n  const index = oniSave.gameObjects.findIndex(x => x.name === \"Minion\");\r\n  if (index === -1) {\r\n    return null;\r\n  }\r\n  return [\"gameObjects\", `${index}`];\r\n});\r\n\r\nconst duplicantIndexes = createSelector(oniSave, oniSave => {\r\n  if (!oniSave) {\r\n    return [];\r\n  }\r\n  const minionSet = oniSave.gameObjects.find(x => x.name === \"Minion\");\r\n  if (!minionSet) {\r\n    return [];\r\n  }\r\n  return range(minionSet.gameObjects.length);\r\n});\r\n\r\nconst structuredSelector = {\r\n  duplicantsSetPath,\r\n  duplicantIndexes\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import DuplicantPortrait from \"./DuplicantPortrait\";\r\nexport default DuplicantPortrait;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport { DuplicantPortraitProps } from \"./props\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\nimport Portrait from \"@/components/Portrait\";\r\n\r\ntype Props = DuplicantPortraitProps & StateProps;\r\nclass DuplicantPortrait extends React.Component<Props> {\r\n  render() {\r\n    const { path, name, gender, arrivalCycle } = this.props;\r\n    return (\r\n      <Portrait>\r\n        <Portrait.Header>\r\n          {path ? (\r\n            <SaveStructureLink intent={Intent.Primary} path={path}>\r\n              {name}\r\n            </SaveStructureLink>\r\n          ) : (\r\n            \"Invalid Object\"\r\n          )}\r\n        </Portrait.Header>\r\n        <Portrait.Footer>\r\n          <div>\r\n            <Text intent={Intent.Secondary}>{gender}</Text>\r\n          </div>\r\n          <div>\r\n            <Text intent={Intent.Secondary}>{arrivalCycle} cycles old</Text>\r\n          </div>\r\n        </Portrait.Footer>\r\n      </Portrait>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(DuplicantPortrait);\r\n","import createCachedSelector from \"re-reselect\";\r\nimport { MinionIdentityBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nimport { DuplicantPortraitProps } from \"./props\";\r\n\r\nconst gameObjectIndex = (_: AppState, props: DuplicantPortraitProps) =>\r\n  props.gameObjectIndex;\r\n\r\nconst generateCacheKey = gameObjectIndex;\r\n\r\nconst gameObject = createCachedSelector(\r\n  oniSave,\r\n  gameObjectIndex,\r\n  (oniSave, gameObjectIndex) => {\r\n    if (!oniSave) {\r\n      return null;\r\n    }\r\n    const duplicants = oniSave.gameObjects.find(x => x.name === \"Minion\");\r\n    if (!duplicants) {\r\n      return null;\r\n    }\r\n\r\n    return duplicants.gameObjects[gameObjectIndex] || null;\r\n  }\r\n)(generateCacheKey);\r\n\r\nconst duplicantIdentity = createCachedSelector(gameObject, gameObject => {\r\n  if (!gameObject) {\r\n    return null;\r\n  }\r\n  const identBehavior = getBehavior(gameObject, MinionIdentityBehavior);\r\n  if (!identBehavior || !identBehavior.templateData) {\r\n    return null;\r\n  }\r\n  return identBehavior.templateData;\r\n})(generateCacheKey);\r\n\r\nconst path = (state: AppState, props: DuplicantPortraitProps) => {\r\n  const gameSave = oniSave(state);\r\n  if (!gameSave) {\r\n    return null;\r\n  }\r\n  const groupIndex = gameSave.gameObjects.findIndex(x => x.name === \"Minion\");\r\n  if (groupIndex === -1) {\r\n    return null;\r\n  }\r\n  const index = gameObjectIndex(state, props);\r\n  return [\"gameObjects\", `${groupIndex}`, \"gameObjects\", `${index}`];\r\n};\r\n\r\nconst name = (state: AppState, props: DuplicantPortraitProps) => {\r\n  const ident = duplicantIdentity(state, props);\r\n  return (ident && ident.name) || null;\r\n};\r\n\r\nconst gender = (state: AppState, props: DuplicantPortraitProps) => {\r\n  const ident = duplicantIdentity(state, props);\r\n  return (ident && ident.genderStringKey) || null;\r\n};\r\n\r\nconst arrivalCycle = (state: AppState, props: DuplicantPortraitProps) => {\r\n  const ident = duplicantIdentity(state, props);\r\n  return (ident && (ident.arrivalTime / 200).toFixed(1)) || null;\r\n};\r\n\r\nfunction mapStateToProps(state: AppState, props: DuplicantPortraitProps) {\r\n  return {\r\n    path: path(state, props),\r\n    name: name(state, props),\r\n    gender: gender(state, props),\r\n    arrivalCycle: arrivalCycle(state, props)\r\n  };\r\n}\r\nexport type StateProps = ReturnType<typeof mapStateToProps>;\r\nexport default mapStateToProps;\r\n","import styled, { Radius } from \"@/style\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { getTheme } from \"@/style\";\r\n\r\nimport Header from \"./PortraitHeader\";\r\nimport Footer from \"./PortraitFooter\";\r\n\r\nconst Portrait = styled.div`\r\n  border-radius: ${props => getTheme(props).radii[Radius.Small]}px;\r\n  background-color: ${props => getTheme(props).colors.bg.panel};\r\n  width: 150px;\r\n  height: 150px;\r\n  position: relative;\r\n  padding: 5px;\r\n  margin: 5px;\r\n  box-sizing: border-box;\r\n`;\r\nPortrait.displayName = \"Portrait\";\r\n\r\nexport default attachProps(Portrait, {\r\n  Header,\r\n  Footer\r\n});\r\n","import styled from \"@/style\";\r\n\r\nimport { TextProps, text } from \"@/style\";\r\n\r\nexport interface PortraitHeaderProps extends TextProps {}\r\nconst PortraitHeader = styled<PortraitHeaderProps, \"h4\">(\"h4\")`\r\n  ${text};\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  margin-top: 0;\r\n  margin-bottom: 2px;\r\n  text-align: center;\r\n`;\r\nPortraitHeader.displayName = \"PortraitHeader\";\r\nexport default PortraitHeader;\r\n","import styled from \"@/style\";\r\n\r\nimport { TextProps, text } from \"@/style\";\r\n\r\nexport interface PortraitFooterProps extends TextProps {}\r\nconst PortraitFooter = styled<PortraitFooterProps, \"div\">(\"div\")`\r\n  ${text};\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  margin-top: 2px;\r\n  text-align: center;\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n`;\r\nPortraitFooter.displayName = \"PortraitFooter\";\r\nexport default PortraitFooter;\r\n","import * as React from \"react\";\r\n\r\nimport { Space, Border, Color } from \"@/style\";\r\n\r\nimport Box from \"@/components/Box\";\r\n\r\nconst DuplicantsListContainer: React.SFC = ({ children }) => (\r\n  <Box\r\n    width=\"100%\"\r\n    mt={Space.Small}\r\n    p={Space.Small}\r\n    border={Border.Thick}\r\n    borderColor={Color.DefaultSeparator}\r\n  >\r\n    {children}\r\n  </Box>\r\n);\r\n\r\nDuplicantsListContainer.displayName = \"DuplicantsListContainer\";\r\nexport default DuplicantsListContainer;\r\n","import styled from \"@/style\";\r\n\r\nconst DuplicantsListContent = styled.div`\r\n  padding: 5px;\r\n  overflow-x: auto;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`;\r\nDuplicantsListContent.displayName = \"DuplicantsListContent\";\r\nexport default DuplicantsListContent;\r\n","import TemplateObjectEditor from \"./TemplateObjectEditor\";\r\nexport default TemplateObjectEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport { TemplateObjectEditorProps } from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Text from \"@/components/Text\";\r\nconst TD = Text.withComponent(\"td\");\r\n\r\nimport TemplateObjectEditorContainer from \"./components/TemplateObjectEditorContainer\";\r\n\r\nimport getTypeInfoFieldComponent from \"../../fields/from-typeinfo\";\r\n\r\ntype Props = TemplateObjectEditorProps & StateProps;\r\nclass TemplateObjectEditor extends React.Component<Props> {\r\n  render() {\r\n    const { templateName, template, typeInfo, selectedPath } = this.props;\r\n\r\n    let content: JSX.Element;\r\n    if (template) {\r\n      const fieldRows = [\r\n        ...(template.fields || []),\r\n        ...(template.properties || [])\r\n      ].map(x => {\r\n        const FieldEditor = getTypeInfoFieldComponent(x.type, true);\r\n        return (\r\n          <tr key={x.name}>\r\n            <TD>{x.name}</TD>\r\n            <td>\r\n              <FieldEditor path={[...selectedPath, x.name]} />\r\n            </td>\r\n          </tr>\r\n        );\r\n      });\r\n\r\n      content = (\r\n        <table>\r\n          <tbody>{fieldRows}</tbody>\r\n        </table>\r\n      );\r\n    } else if (typeInfo) {\r\n      const FieldEditor = getTypeInfoFieldComponent(typeInfo);\r\n      content = <FieldEditor path={selectedPath} />;\r\n    } else {\r\n      content = <Text intent={Intent.Dangerous}>Unknown Editable</Text>;\r\n    }\r\n    return (\r\n      <TemplateObjectEditorContainer>\r\n        <Text.H4 intent={Intent.Primary}>{templateName}</Text.H4>\r\n        {content}\r\n      </TemplateObjectEditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(TemplateObjectEditor);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport {\r\n  LIST_TYPES,\r\n  getTypeCode,\r\n  SerializationTypeCode,\r\n  TypeInfo,\r\n  SerializationTypeInfo\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\n\r\nimport { TemplateObjectEditorProps } from \"./props\";\r\n\r\nconst templateName = (_: AppState, props: TemplateObjectEditorProps) =>\r\n  props.templateName;\r\n\r\nconst templatePath = (_: AppState, props: TemplateObjectEditorProps) =>\r\n  props.templatePath || [];\r\n\r\nconst valuePath = (state: AppState, props: TemplateObjectEditorProps) =>\r\n  props.valuePathHack || selectedPath(state);\r\n\r\nconst typeInfo = createSelector(\r\n  oniSave,\r\n  templateName,\r\n  templatePath,\r\n  (oniSave, templateName, templatePath) => {\r\n    if (!oniSave) {\r\n      return null;\r\n    }\r\n\r\n    let typeInfo: TypeInfo = {\r\n      info: SerializationTypeInfo.UserDefined,\r\n      templateName\r\n    };\r\n    let template = oniSave.templates.find(x => x.name === templateName);\r\n\r\n    for (let i = 0; i < templatePath.length; i++) {\r\n      const part = templatePath[i];\r\n\r\n      if (template == null) {\r\n        return null;\r\n      }\r\n\r\n      const member =\r\n        template.fields.find(x => x.name === part) ||\r\n        template.properties.find(x => x.name === part);\r\n      if (!member) {\r\n        return null;\r\n      }\r\n\r\n      typeInfo = member.type;\r\n\r\n      const typeCode = getTypeCode(typeInfo.info);\r\n\r\n      if (typeCode === SerializationTypeCode.UserDefined) {\r\n        template = oniSave.templates.find(\r\n          x => x.name === member.type.templateName!\r\n        );\r\n      } else if (LIST_TYPES.indexOf(typeCode) !== -1) {\r\n        i++;\r\n        if (i === templatePath.length) {\r\n          // Targeting an array but no index yet.\r\n          break;\r\n        }\r\n\r\n        if (\r\n          getTypeCode(typeInfo.subTypes![0].info) ===\r\n          SerializationTypeCode.UserDefined\r\n        ) {\r\n          typeInfo = typeInfo.subTypes![0];\r\n          template = oniSave.templates.find(\r\n            x => x.name === typeInfo.templateName\r\n          );\r\n        }\r\n      } else if (typeCode === SerializationTypeCode.Dictionary) {\r\n        i++;\r\n        if (i === templatePath.length) {\r\n          // Targeting a dict but no index yet.\r\n          break;\r\n        }\r\n\r\n        // Select key or value\r\n        i++;\r\n        if (i === templatePath.length) {\r\n          // Targeting an index, but no key or value.\r\n          // Fake a value for the ui.\r\n          typeInfo = {\r\n            info: SerializationTypeInfo.Pair,\r\n            subTypes: typeInfo.subTypes\r\n          };\r\n          break;\r\n        }\r\n        let keyValueIndex = Number(templatePath[i]);\r\n        typeInfo = typeInfo.subTypes![keyValueIndex];\r\n        if (!typeInfo) {\r\n          break;\r\n        }\r\n\r\n        if (getTypeCode(typeInfo.info) === SerializationTypeCode.UserDefined) {\r\n          template = oniSave.templates.find(\r\n            x => x.name === typeInfo.templateName\r\n          );\r\n        }\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n\r\n    return typeInfo;\r\n  }\r\n);\r\n\r\nconst template = createSelector(oniSave, typeInfo, (oniSave, typeInfo) => {\r\n  if (!oniSave || !typeInfo) {\r\n    return null;\r\n  }\r\n\r\n  const typeCode = getTypeCode(typeInfo.info);\r\n  if (typeCode !== SerializationTypeCode.UserDefined) {\r\n    return null;\r\n  }\r\n\r\n  let template = oniSave.templates.find(x => x.name === typeInfo.templateName);\r\n  return template;\r\n});\r\n\r\nconst structuredSelector = {\r\n  template,\r\n  typeInfo,\r\n  selectedPath: valuePath\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<\r\n  AppState,\r\n  TemplateObjectEditorProps,\r\n  StateProps\r\n>(structuredSelector);\r\nexport default mapStateToProps;\r\n","import styled from \"@/style\";\r\n\r\nconst TemplateObjectEditorContainer = styled.div``;\r\nTemplateObjectEditorContainer.displayName = \"TemplateObjectEditorContainer\";\r\nexport default TemplateObjectEditorContainer;\r\n","import * as React from \"react\";\r\n\r\nimport { TypeInfo } from \"oni-save-parser\";\r\n\r\nimport Text from \"@/components/Text\";\r\n\r\nimport connectEditorField, {\r\n  EditorFieldProps,\r\n  InjectedProps\r\n} from \"./connect-field\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport getFieldElementClass from \"./from-typeinfo\";\r\n\r\nconst TD = Text.withComponent(\"td\");\r\n\r\nexport interface ArrayLikeFieldProps extends EditorFieldProps {\r\n  subType: TypeInfo;\r\n}\r\nconst ArrayLikeField: React.SFC<ArrayLikeFieldProps & InjectedProps> = ({\r\n  path,\r\n  subType,\r\n  value\r\n}) => {\r\n  if (value == null) {\r\n    return <Text intent={Intent.Hint}>Null Value</Text>;\r\n  }\r\n  const ValueElement = getFieldElementClass(subType);\r\n  const elements = (value as any[]).map((_, i) => {\r\n    return (\r\n      <tr key={i}>\r\n        <TD>{i}</TD>\r\n        <td>\r\n          <ValueElement path={[...path, `${i}`]} />\r\n        </td>\r\n      </tr>\r\n    );\r\n  });\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>\r\n            <Text intent={Intent.Primary}>Key</Text>\r\n          </th>\r\n          <th>\r\n            <Text intent={Intent.Primary}>Value</Text>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>{elements}</tbody>\r\n    </table>\r\n  );\r\n};\r\nArrayLikeField.displayName = \"ArrayLikeField\";\r\nexport default connectEditorField()(ArrayLikeField);\r\n","import createCachedSelector from \"re-reselect\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nimport { EditorFieldProps } from \"./props\";\r\n\r\nconst itemPathSelector = (_: AppState, props: EditorFieldProps) => props.path;\r\n\r\nconst cacheKeyGenerator = (_: AppState, props: EditorFieldProps) =>\r\n  props.path.join(\".\");\r\n\r\nconst itemValue = createCachedSelector(\r\n  itemPathSelector,\r\n  oniSave,\r\n  (path, oniSave) => {\r\n    if (path.length === 0) {\r\n      return oniSave;\r\n    }\r\n    return get(oniSave, path);\r\n  }\r\n)(cacheKeyGenerator);\r\n\r\nfunction mapStateToProps(state: AppState, props: EditorFieldProps) {\r\n  return {\r\n    value: itemValue(state, props)\r\n  };\r\n}\r\nexport type StateProps = ReturnType<typeof mapStateToProps>;\r\nexport default mapStateToProps;\r\n","import { modifyOniSave } from \"@/actions/modify-onisave\";\r\n\r\nimport { EditorFieldProps } from \"./props\";\r\nimport { Dispatch } from \"redux\";\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch, props: EditorFieldProps) {\r\n  return {\r\n    onCommit(value: any) {\r\n      if (props.writeTo) {\r\n        props.writeTo.forEach(path => {\r\n          dispatch(modifyOniSave(props.path, value));\r\n        });\r\n      } else {\r\n        dispatch(modifyOniSave(props.path, value));\r\n      }\r\n    }\r\n  };\r\n}\r\nexport type DispatchProps = ReturnType<typeof mapDispatchToProps>;\r\nexport default mapDispatchToProps;\r\n","import CheckInput from \"@/components/CheckInput\";\r\n\r\nimport connectEditorField from \"./connect-field\";\r\n\r\nexport default connectEditorField()(CheckInput);\r\n","import * as React from \"react\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport NumericField from \"./NumericField\";\r\n\r\nconst ColorField: React.SFC<EditorFieldProps> = ({ path }) => (\r\n  <div>\r\n    <FormGroup label=\"R\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        minValue={0}\r\n        maxValue={1}\r\n        path={[...path, \"r\"]}\r\n      />\r\n    </FormGroup>\r\n    <FormGroup label=\"G\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        minValue={0}\r\n        maxValue={1}\r\n        path={[...path, \"g\"]}\r\n      />\r\n    </FormGroup>\r\n    <FormGroup label=\"B\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        minValue={0}\r\n        maxValue={1}\r\n        path={[...path, \"b\"]}\r\n      />\r\n    </FormGroup>\r\n    <FormGroup label=\"A\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        minValue={0}\r\n        maxValue={1}\r\n        path={[...path, \"a\"]}\r\n      />\r\n    </FormGroup>\r\n  </div>\r\n);\r\nColorField.displayName = \"ColorField\";\r\nexport default ColorField;\r\n","import * as React from \"react\";\r\n\r\nimport { TypeInfo } from \"oni-save-parser\";\r\n\r\nimport Text from \"@/components/Text\";\r\n\r\nimport connectEditorField, {\r\n  EditorFieldProps,\r\n  InjectedProps\r\n} from \"./connect-field\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport getFieldElementClass from \"./from-typeinfo\";\r\n\r\nconst TD = Text.withComponent(\"td\");\r\n\r\nexport interface DictionaryFieldProps extends EditorFieldProps {\r\n  subType: TypeInfo;\r\n}\r\nconst DictionaryField: React.SFC<DictionaryFieldProps & InjectedProps> = ({\r\n  path,\r\n  subType,\r\n  value\r\n}) => {\r\n  const ValueElement = getFieldElementClass(subType);\r\n  const elements = (value as any[]).map(([key, value], i) => {\r\n    return (\r\n      <tr key={i}>\r\n        <TD>{JSON.stringify(key)}</TD>\r\n        <td>\r\n          <ValueElement path={[...path, `${i}`, \"1\"]} />\r\n        </td>\r\n      </tr>\r\n    );\r\n  });\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>\r\n            <Text intent={Intent.Primary}>Key</Text>\r\n          </th>\r\n          <th>\r\n            <Text intent={Intent.Primary}>Value</Text>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>{elements}</tbody>\r\n    </table>\r\n  );\r\n};\r\nDictionaryField.displayName = \"DictionaryField\";\r\nexport default connectEditorField()(DictionaryField);\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\nimport { EnumerationsByName } from \"oni-save-parser\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\nimport Select, { Option } from \"@/components/Select\";\r\n\r\nimport connectEditorField, {\r\n  EditorFieldProps,\r\n  InjectedProps\r\n} from \"./connect-field\";\r\n\r\nexport interface EnumerationFieldProps extends EditorFieldProps {\r\n  enumerationName: string;\r\n}\r\n\r\ntype Props = EnumerationFieldProps & InjectedProps;\r\nclass EnumerationField extends React.Component<Props> {\r\n  render() {\r\n    const { enumerationName, value, onCommit } = this.props;\r\n    const enumeration = getEnumeration(enumerationName);\r\n    if (!enumeration) {\r\n      return (\r\n        <span>\r\n          <NumericInput value={value} onCommit={onCommit} />\r\n          <Text intent={Intent.Hint}>{enumerationName} (unknown)</Text>\r\n        </span>\r\n      );\r\n    } else {\r\n      // Enumeration has keys for names and numbers.\r\n      const nameKeys = Object.keys(enumeration).filter(\r\n        // TODO: This is silly.  Expose a way to match the [enum]Names constants\r\n        //  to the names of enum types.\r\n        x => isNaN(parseInt(x))\r\n      );\r\n      const options: Option<number>[] = nameKeys.map(x => ({\r\n        label: x,\r\n        value: enumeration[x]\r\n      }));\r\n      return (\r\n        <Select\r\n          value={value as number}\r\n          options={options}\r\n          onChange={this._onSelectInputChange}\r\n          width=\"200px\"\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onSelectInputChange(value: number) {\r\n    if (!value) {\r\n      return;\r\n    }\r\n    const { onCommit } = this.props;\r\n    onCommit(value);\r\n  }\r\n}\r\n\r\nexport default connectEditorField()(EnumerationField);\r\n\r\nfunction getEnumeration(\r\n  enumerationName: string\r\n): (Record<string, number> & Record<number, string>) | null {\r\n  if (\r\n    !Object.prototype.hasOwnProperty.call(EnumerationsByName, enumerationName)\r\n  ) {\r\n    return null;\r\n  }\r\n\r\n  return (EnumerationsByName as any)[enumerationName];\r\n}\r\n","import TextInput from \"@/components/TextInput\";\r\n\r\nimport connectEditorField from \"./connect-field\";\r\n\r\nexport default connectEditorField()(TextInput);\r\n","import * as React from \"react\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport NumericField from \"./NumericField\";\r\n\r\nconst Vector2Field: React.SFC<EditorFieldProps> = ({ path }) => (\r\n  <div>\r\n    <FormGroup label=\"X\" inline>\r\n      <NumericField precision=\"single\" path={[...path, \"x\"]} />\r\n    </FormGroup>\r\n    <FormGroup label=\"Y\" inline>\r\n      <NumericField precision=\"single\" path={[...path, \"y\"]} />\r\n    </FormGroup>\r\n  </div>\r\n);\r\nVector2Field.displayName = \"Vector2Field\";\r\nexport default Vector2Field;\r\n","import * as React from \"react\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport NumericField from \"./NumericField\";\r\n\r\nconst Vector2IField: React.SFC<EditorFieldProps> = ({ path }) => (\r\n  <div>\r\n    <FormGroup label=\"X\" inline>\r\n      <NumericField precision=\"int32\" path={[...path, \"x\"]} />\r\n    </FormGroup>\r\n    <FormGroup label=\"Y\" inline>\r\n      <NumericField precision=\"int32\" path={[...path, \"y\"]} />\r\n    </FormGroup>\r\n  </div>\r\n);\r\nVector2IField.displayName = \"Vector2IField\";\r\nexport default Vector2IField;\r\n","import * as React from \"react\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport NumericField from \"./NumericField\";\r\n\r\nconst Vector3Field: React.SFC<EditorFieldProps> = ({ path }) => (\r\n  <div>\r\n    <FormGroup label=\"X\" inline>\r\n      <NumericField precision=\"single\" path={[...path, \"x\"]} />\r\n    </FormGroup>\r\n    <FormGroup label=\"Y\" inline>\r\n      <NumericField precision=\"single\" path={[...path, \"y\"]} />\r\n    </FormGroup>\r\n    <FormGroup label=\"Z\" inline>\r\n      <NumericField precision=\"single\" path={[...path, \"z\"]} />\r\n    </FormGroup>\r\n  </div>\r\n);\r\nVector3Field.displayName = \"Vector3Field\";\r\nexport default Vector3Field;\r\n","import GameObjectGroupList from \"./GameObjectGroupList\";\r\nexport default GameObjectGroupList;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport mapStateToProps, { StateProps, GroupItem } from \"./derived-state\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\nimport DataTable, { DataTableColumn } from \"@/components/DataTable\";\r\n\r\nimport EditorContainer from \"@/pages/SaveEditor/components/editors/components/EditorContainer\";\r\n\r\ntype Props = StateProps;\r\nclass GameObjectGroupList extends React.Component<Props> {\r\n  render() {\r\n    const { gameObjectGroups } = this.props;\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        header: \"Game Object Type\",\r\n        id: \"type\",\r\n        property: \"name\",\r\n        cell: ({ rowData }: { rowData: GroupItem }) => (\r\n          <SaveStructureLink intent={Intent.Primary} path={rowData.path}>\r\n            {rowData.name}\r\n          </SaveStructureLink>\r\n        ),\r\n        sortable: true,\r\n        // sortMethod: (a: GroupItem, b: GroupItem) =>\r\n        //   a.name.localeCompare(b.name) as any,\r\n        filterable: true\r\n      },\r\n      {\r\n        header: \"Count\",\r\n        property: \"count\",\r\n        sortable: true\r\n      }\r\n    ];\r\n    return (\r\n      <EditorContainer header=\"GameObject Types\">\r\n        <DataTable columns={columns} data={gameObjectGroups} />\r\n      </EditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(GameObjectGroupList);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { GameObjectGroup } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\nimport { getSaveItemChildPaths } from \"@/services/save-structure\";\r\nimport editMode from \"@/selectors/edit-mode\";\r\n\r\nexport interface GroupItem {\r\n  name: string;\r\n  count: number;\r\n  path: string[];\r\n}\r\n\r\nconst gameObjectGroups = createSelector(\r\n  oniSave,\r\n  editMode,\r\n  (oniSave, editMode) => {\r\n    if (!oniSave) {\r\n      return [];\r\n    }\r\n\r\n    const gameObjectPaths = getSaveItemChildPaths(\r\n      [\"gameObjects\"],\r\n      oniSave,\r\n      editMode\r\n    );\r\n\r\n    return gameObjectPaths.map((path, i) => {\r\n      const group = get(oniSave, path) as GameObjectGroup;\r\n      const item: GroupItem = {\r\n        name: group.name,\r\n        count: group.gameObjects.length,\r\n        path\r\n      };\r\n      return item;\r\n    });\r\n  }\r\n);\r\n\r\nconst structuredSelector = {\r\n  gameObjectGroups\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { connect } from \"react-redux\";\r\n\r\n// http://griddlegriddle.github.io/Griddle/examples/getDataFromRowIntoCell/\r\n\r\nconst rowDataSelector = (\r\n  state: any,\r\n  { griddleKey }: { griddleKey: string }\r\n) => {\r\n  return state\r\n    .get(\"data\")\r\n    .find((rowMap: any) => rowMap.get(\"griddleKey\") === griddleKey)\r\n    .toJSON();\r\n};\r\n\r\nconst enhancedWithRowData = connect((state, props: any) => {\r\n  return {\r\n    rowData: rowDataSelector(state, props)\r\n  };\r\n});\r\nexport default enhancedWithRowData;\r\n","import GameObjectList from \"./GameObjectList\";\r\nexport default GameObjectList;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport { GameObjectListProps } from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Portrait from \"@/components/Portrait\";\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\nimport GameObjectListContent from \"./components/GameObjectListContent\";\r\n\r\nimport EditorContainer from \"@/pages/SaveEditor/components/editors/components/EditorContainer\";\r\n\r\ntype Props = GameObjectListProps & StateProps;\r\nclass GameObjectList extends React.Component<Props> {\r\n  render() {\r\n    const { gameObjectItems } = this.props;\r\n    const portraits = gameObjectItems.map(x => (\r\n      <Portrait key={x.name}>\r\n        <Portrait.Header wordBreak=\"break-all\">\r\n          <SaveStructureLink intent={Intent.Primary} path={x.path}>\r\n            {x.name}\r\n          </SaveStructureLink>\r\n        </Portrait.Header>\r\n      </Portrait>\r\n    ));\r\n    return (\r\n      <EditorContainer header=\"GameObjects\">\r\n        <GameObjectListContent>{portraits}</GameObjectListContent>\r\n      </EditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(GameObjectList);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { GameObjectGroup, GameObject } from \"oni-save-parser\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\n\r\nimport { getSaveItemTitle } from \"@/services/save-structure\";\r\n\r\nimport { GameObjectListProps } from \"./props\";\r\n\r\nconst isFlatListSelector = (_: AppState, props: GameObjectListProps) =>\r\n  props.isFlatList || false;\r\n\r\nexport interface GameObjectItem {\r\n  name: string;\r\n  path: string[];\r\n}\r\n\r\nconst gameObjectItems = createSelector(\r\n  oniSave,\r\n  selectedPath,\r\n  isFlatListSelector,\r\n  (oniSave, selectedPath, isFlatList) => {\r\n    if (!oniSave) {\r\n      return [];\r\n    }\r\n\r\n    let gameObjectPaths: string[][];\r\n    if (isFlatList) {\r\n      const gameObjects: GameObject[] = get(oniSave, selectedPath);\r\n      gameObjectPaths = gameObjects.map((_, i) => [...selectedPath, `${i}`]);\r\n    } else {\r\n      const group: GameObjectGroup = get(oniSave, selectedPath);\r\n      if (!group) {\r\n        return [];\r\n      }\r\n      gameObjectPaths = group.gameObjects.map((_, i) => [\r\n        ...selectedPath,\r\n        \"gameObjects\",\r\n        `${i}`\r\n      ]);\r\n    }\r\n\r\n    return gameObjectPaths.map(path => {\r\n      const name = getSaveItemTitle(path, oniSave);\r\n      const item: GameObjectItem = {\r\n        name,\r\n        path\r\n      };\r\n      return item;\r\n    });\r\n  }\r\n);\r\n\r\nconst structuredSelector = {\r\n  gameObjectItems\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<\r\n  AppState,\r\n  GameObjectListProps,\r\n  StateProps\r\n>(structuredSelector);\r\nexport default mapStateToProps;\r\n","import styled from \"@/style\";\r\n\r\nconst GroupListContent = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  justify-content: flex-start;\r\n  align-items: baseline;\r\n`;\r\nGroupListContent.displayName = \"GroupListContent\";\r\nexport default GroupListContent;\r\n","import DefaultGameObjectEditor from \"./DefaultGameObjectEditor\";\r\nexport default DefaultGameObjectEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport FormGroup from \"@/components/FormGroup\";\r\nimport EditModeCondition from \"@/components/EditModeCondition\";\r\n\r\nimport NumericField from \"@/pages/SaveEditor/components/fields/NumericField\";\r\n\r\nimport EditorContainer from \"../../components/EditorContainer\";\r\nimport GameObjectHeader from \"../components/GameObjectHeader\";\r\n\r\ntype Props = StateProps;\r\nclass DefaultGameObjectEditor extends React.Component<Props> {\r\n  render() {\r\n    const { gameObjectPath, gameObjectName } = this.props;\r\n    if (!gameObjectPath) {\r\n      <NonIdealState intent={Intent.Dangerous} header=\"No GameObject Selected\">\r\n        No object is selected, or the selected object is not a GameObject.\r\n      </NonIdealState>;\r\n    }\r\n\r\n    return (\r\n      <EditorContainer\r\n        header={<GameObjectHeader>{gameObjectName}</GameObjectHeader>}\r\n      >\r\n        <FormGroup label=\"Position\">\r\n          <FormGroup label=\"X\" inline>\r\n            <NumericField\r\n              precision=\"single\"\r\n              path={[...gameObjectPath, \"position\", \"x\"]}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Y\" inline>\r\n            <NumericField\r\n              precision=\"single\"\r\n              path={[...gameObjectPath, \"position\", \"y\"]}\r\n            />\r\n          </FormGroup>\r\n          <EditModeCondition editMode=\"advanced\">\r\n            <FormGroup label=\"Z\" inline>\r\n              <NumericField\r\n                precision=\"single\"\r\n                path={[...gameObjectPath, \"position\", \"z\"]}\r\n              />\r\n            </FormGroup>\r\n          </EditModeCondition>\r\n        </FormGroup>\r\n        <FormGroup label=\"Scale\">\r\n          <FormGroup label=\"X\" inline>\r\n            <NumericField\r\n              precision=\"single\"\r\n              path={[...gameObjectPath, \"scale\", \"x\"]}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Y\" inline>\r\n            <NumericField\r\n              precision=\"single\"\r\n              path={[...gameObjectPath, \"scale\", \"y\"]}\r\n            />\r\n          </FormGroup>\r\n        </FormGroup>\r\n      </EditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(DefaultGameObjectEditor);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { KPrefabIDBehavior, getBehavior, GameObject } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getPathGameObjectGroup } from \"@/services/save-structure\";\r\n\r\nimport selectedValue from \"@/selectors/selected-value\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nconst structuredSelector = {\r\n  gameObjectPath: selectedPath,\r\n  gameObjectName: createSelector(\r\n    selectedValue,\r\n    selectedPath,\r\n    oniSave,\r\n    (selectedValue, selectedPath, oniSave) => {\r\n      if (!oniSave) {\r\n        return \"[no save loaded]\";\r\n      }\r\n\r\n      if (!selectedValue) {\r\n        return \"[no value selected]\";\r\n      }\r\n\r\n      const prefabIdBehavior = getBehavior(selectedValue, KPrefabIDBehavior);\r\n      let prefabId =\r\n        (prefabIdBehavior &&\r\n          prefabIdBehavior.templateData &&\r\n          prefabIdBehavior.templateData.InstanceID) ||\r\n        \"[no instance id]\";\r\n\r\n      const group = getPathGameObjectGroup(selectedPath, oniSave);\r\n\r\n      return `${group ? group.name : \"[unknown]\"} #${prefabId}`;\r\n    }\r\n  )\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { EditMode } from \"@/services/save-structure\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nexport interface EditModeConditionProps {\r\n  editMode?: EditMode;\r\n}\r\ntype Props = EditModeConditionProps & StateProps;\r\nclass EditModeCondition extends React.Component<Props> {\r\n  render() {\r\n    const { currentEditMode, editMode, children } = this.props;\r\n    if (currentEditMode !== editMode) {\r\n      return null;\r\n    }\r\n\r\n    return children;\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(EditModeCondition);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport editMode from \"@/selectors/edit-mode\";\r\n\r\nconst structuredSelector = {\r\n  currentEditMode: editMode\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent, FontSize } from \"@/style\";\r\n\r\nimport { formatPosition, formatSimHash, formatDisease } from \"@/format\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Toolbar from \"@/components/Toolbar\";\r\nimport Text from \"@/components/Text\";\r\n\r\nimport GameObjectHeaderContainer from \"./components/GameObjectHeaderContainer\";\r\n\r\ntype Props = StateProps;\r\nclass GameObjectHeader extends React.Component<Props> {\r\n  render() {\r\n    const { position, primaryElement } = this.props;\r\n    return (\r\n      <GameObjectHeaderContainer>\r\n        <Toolbar>\r\n          <Toolbar.Label>{this.props.children}</Toolbar.Label>\r\n\r\n          <Toolbar.Group align=\"center\" alignContent=\"center\">\r\n            <Text\r\n              intent={Intent.Secondary}\r\n              mr={1}\r\n              whiteSpace=\"nowrap\"\r\n              fontSize={FontSize.Default}\r\n            >\r\n              {position ? formatPosition(position) : \"(no object selected)\"}\r\n            </Text>\r\n          </Toolbar.Group>\r\n\r\n          <Toolbar.Group align=\"right\" alignContent=\"center\">\r\n            {primaryElement && (\r\n              <Text\r\n                intent={Intent.Secondary}\r\n                mr={1}\r\n                fontSize={FontSize.Default}\r\n              >\r\n                {formatSimHash(primaryElement)}\r\n              </Text>\r\n            )}\r\n          </Toolbar.Group>\r\n        </Toolbar>\r\n      </GameObjectHeaderContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(GameObjectHeader);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport {\r\n  GameObject,\r\n  PrimaryElementBehavior,\r\n  getBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport selectedValue from \"@/selectors/selected-value\";\r\n\r\nconst position = createSelector(\r\n  selectedValue,\r\n  (value: GameObject) => value && value.position\r\n);\r\n\r\nconst primaryElementBehavior = createSelector(selectedValue, value => {\r\n  if (!value) {\r\n    return null;\r\n  }\r\n\r\n  return getBehavior(value, PrimaryElementBehavior);\r\n});\r\n\r\nconst primaryElement = createSelector(primaryElementBehavior, behavior => {\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n\r\n  return behavior.templateData.ElementID;\r\n});\r\n\r\nconst structuredSelector = {\r\n  position,\r\n  primaryElement\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import * as CSS from \"csstype\";\r\n\r\nimport { BgColorProps, bgColor } from \"styled-system\";\r\n\r\nimport styled, { TextProps, css, text, getTheme, Space, Color } from \"@/style\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nexport interface ToolbarItemProps {\r\n  align?: \"left\" | \"center\" | \"right\";\r\n  alignContent?: CSS.AlignContentProperty;\r\n}\r\nconst toolbarItem = css<ToolbarItemProps>`\r\n  grid-area: ${props => props.align};\r\n  justify-self: ${props => props.align};\r\n  align-self: ${props => props.alignContent || \"baseline\"};\r\n`;\r\n\r\nexport type ToolbarLabelProps = ToolbarItemProps & TextProps;\r\nconst ToolbarLabel = styled<ToolbarLabelProps, \"label\">(\"label\")`\r\n  ${text};\r\n  ${toolbarItem};\r\n`;\r\nToolbarLabel.defaultProps = {\r\n  align: \"left\"\r\n};\r\nToolbarLabel.displayName = \"ToolbarLabel\";\r\n\r\nexport type ToolbarGroupProps = ToolbarItemProps;\r\nconst ToolbarGroup = styled<ToolbarGroupProps, \"div\">(\"div\")`\r\n  display: inline-block;\r\n  ${toolbarItem};\r\n`;\r\nToolbarGroup.defaultProps = {\r\n  align: \"right\"\r\n};\r\nToolbarGroup.displayName = \"ToolbarButtonGroup\";\r\n\r\nexport type ToolbarProps = BgColorProps;\r\nconst Toolbar = styled<ToolbarProps, \"div\">(\"div\")`\r\n  width: 100%;\r\n  height: auto;\r\n  display: grid;\r\n  padding: 0px ${props => getTheme(props).space[Space.Small]}px;\r\n  box-sizing: border-box;\r\n  grid-template-columns: [left] 1fr [center] 1fr [right] 1fr;\r\n  ${bgColor};\r\n`;\r\nToolbar.defaultProps = {\r\n  bg: Color.PanelBackground\r\n};\r\nToolbar.displayName = \"Toolbar\";\r\n\r\nexport default attachProps(Toolbar, {\r\n  Label: ToolbarLabel,\r\n  Group: ToolbarGroup\r\n});\r\n","import Box from \"@/components/Box\";\r\n\r\nconst GameObjectHeaderContainer = Box;\r\nGameObjectHeaderContainer.displayName = \"GameObjectHeaderContainer\";\r\nexport default GameObjectHeaderContainer;\r\n","import MinionEditor from \"./MinionEditor\";\r\nexport default MinionEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport VerticalTabs from \"@/components/VerticalTabs\";\r\n\r\nimport EditorContainer from \"../../components/EditorContainer\";\r\n\r\nimport GameObjectHeader from \"../components/GameObjectHeader\";\r\n\r\nimport MinionHeader from \"./components/MinionEditableName\";\r\nimport MinionAppearanceTab from \"./components/MinionAppearanceTab\";\r\nimport MinionAptitudesTab from \"./components/MinionAptitudesTab\";\r\nimport MinionEffectsTab from \"./components/MinionEffectsTab\";\r\nimport MinionHealthTab from \"./components/MinionHealthTab\";\r\nimport MinionJobsTab from \"./components/MinionJobsTab\";\r\nimport MinionSkillsTab from \"./components/MinionSkillsTab\";\r\nimport MinionTraitsTab from \"./components/MinionTraitsTab\";\r\nimport MinionPositionTab from \"./components/MinionPositionTab\";\r\n\r\ntype Props = StateProps;\r\nclass DuplicantEditor extends React.Component<Props> {\r\n  render() {\r\n    const { minionNamePath, gameObjectPath } = this.props;\r\n    if (!minionNamePath) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"Malformed Data\">\r\n          Duplicant is missing the MinionIdentity behavior.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <EditorContainer\r\n        header={\r\n          <GameObjectHeader>\r\n            <MinionHeader minionNamePath={minionNamePath} />\r\n          </GameObjectHeader>\r\n        }\r\n      >\r\n        <VerticalTabs width=\"100%\" height=\"100%\">\r\n          <VerticalTabs.Tab tabKey=\"appearance\" header=\"Appearance\">\r\n            <MinionAppearanceTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"health\" header=\"Health\">\r\n            <MinionHealthTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"traits\" header=\"Traits\">\r\n            <MinionTraitsTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"skills\" header=\"Skills\">\r\n            <MinionSkillsTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"jobs\" header=\"Jobs\">\r\n            <MinionJobsTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"aptitude\" header=\"Aptitudes\">\r\n            <MinionAptitudesTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"effects\" header=\"Effects\">\r\n            <MinionEffectsTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"position\" header=\"Position\">\r\n            <MinionPositionTab />\r\n          </VerticalTabs.Tab>\r\n        </VerticalTabs>\r\n      </EditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(DuplicantEditor);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\nimport { MinionIdentityBehavior, GameObject } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport selectedPath from \"@/selectors/selected-path\";\r\nimport oniSave from \"@/selectors/oni-save\";\r\nimport { get } from \"lodash-es\";\r\n\r\nconst structuredSelector = {\r\n  gameObjectPath: selectedPath,\r\n  minionNamePath: createSelector(selectedPath, oniSave, (path, oniSave) => {\r\n    const gameObject: GameObject = get(oniSave, path);\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n    const behaviorIndex = gameObject.behaviors.findIndex(\r\n      x => x.name === MinionIdentityBehavior\r\n    );\r\n    if (behaviorIndex === -1) {\r\n      return null;\r\n    }\r\n    return [...path, \"behaviors\", `${behaviorIndex}`, \"templateData\", \"name\"];\r\n  })\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import VerticalTabs from \"./VerticalTabs\";\r\nexport default VerticalTabs;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { BoxProps } from \"@/components/Box\";\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport TabContent from \"./components/TabContent\";\r\nimport VerticalTabItem from \"./components/VerticalTabItem\";\r\n\r\nimport Tab, { TabProps } from \"./components/Tab\";\r\n\r\nexport interface VerticalTabsProps extends BoxProps {}\r\n\r\ntype Props = VerticalTabsProps;\r\ninterface State {\r\n  selectedKey: string | number | null;\r\n}\r\nclass VerticalTabs extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selectedKey: null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    let { children } = this.props;\r\n    let { selectedKey } = this.state;\r\n\r\n    const tabs = React.Children.map(\r\n      children,\r\n      x =>\r\n        React.isValidElement<TabProps>(x) && x.props.tabKey && x.props.header\r\n          ? x\r\n          : null\r\n    ).filter(x => x !== null) as React.ReactElement<TabProps>[];\r\n\r\n    if (selectedKey == null && tabs.length > 0) {\r\n      selectedKey = tabs[0].props.tabKey;\r\n    }\r\n\r\n    const tabItems = tabs.map((tab, i) => (\r\n      <VerticalTabItem\r\n        key={tab.props.tabKey}\r\n        isSelected={tab.props.tabKey === selectedKey}\r\n        onClick={this._onTabItemClick.bind(this, tab.props.tabKey)}\r\n      >\r\n        {tab.props.header}\r\n      </VerticalTabItem>\r\n    ));\r\n\r\n    const content = selectedKey\r\n      ? tabs.find(x => x.props.tabKey === selectedKey)\r\n      : undefined;\r\n\r\n    return (\r\n      <Flex {...this.props} direction=\"row\">\r\n        <Flex.Item shrink>{tabItems}</Flex.Item>\r\n        <TabContent>{content}</TabContent>\r\n      </Flex>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onTabItemClick(key: string | number) {\r\n    this.setState({\r\n      selectedKey: key\r\n    });\r\n  }\r\n}\r\n\r\nexport { TabProps } from \"./components/Tab\";\r\nexport default attachProps(VerticalTabs, {\r\n  Tab\r\n});\r\n","import * as React from \"react\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nconst TabContent: React.SFC = ({ children }) => (\r\n  <Flex.Item grow shrink pl={1}>\r\n    {children}\r\n  </Flex.Item>\r\n);\r\nTabContent.displayName = \"TabContent\";\r\nexport default TabContent;\r\n","import styled, { getTheme, intent, Intent, Space } from \"@/style\";\r\n\r\nexport interface TabProps {\r\n  isSelected?: boolean;\r\n}\r\n\r\nconst VerticalTabItem = styled<TabProps, \"div\">(\"div\")`\r\n  cursor: pointer;\r\n\r\n  padding: ${props => getTheme(props).space[Space.Small]}px;\r\n\r\n  ${props =>\r\n    props.isSelected\r\n      ? intent.of(Intent.Primary)\r\n      : intent.of(Intent.Secondary)} :not(:last-child) {\r\n    border-bottom: ${props => {\r\n      const theme = getTheme(props);\r\n      return `${theme.borders[1]} ${theme.colors.intent.secondary}`;\r\n    }};\r\n  }\r\n\r\n  ${props => {\r\n    const theme = getTheme(props);\r\n    return `border-right: ${theme.borders[1]} ${\r\n      props.isSelected ? \"transparent\" : theme.colors.intent.secondary\r\n    }`;\r\n  }};\r\n`;\r\nVerticalTabItem.displayName = \"VerticalTabItem\";\r\nexport default VerticalTabItem;\r\n","import * as React from \"react\";\r\n\r\nexport interface TabProps {\r\n  tabKey: string | number;\r\n  header: React.ReactChild;\r\n}\r\n\r\nconst Tab: React.SFC<TabProps> = ({ children }) => (\r\n  <React.Fragment>{children}</React.Fragment>\r\n);\r\nTab.displayName = \"Tab\";\r\nexport default Tab;\r\n","import * as React from \"react\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport EditableTextField from \"@/pages/SaveEditor/components/fields/EditableTextField\";\r\n\r\nimport EditorHeader from \"../../../components/EditorHeader\";\r\n\r\nexport interface MinionHeaderProps {\r\n  minionNamePath: string[];\r\n}\r\nconst MinionHeader: React.SFC<MinionHeaderProps> = ({ minionNamePath }) => (\r\n  <React.Fragment>\r\n    <EditorHeader>\r\n      <Flex direction=\"row\">\r\n        <Flex.Item mr={1}>Name:</Flex.Item>\r\n        <Flex.Item grow shrink>\r\n          <EditableTextField intent={Intent.Primary} path={minionNamePath} />\r\n        </Flex.Item>\r\n      </Flex>\r\n    </EditorHeader>\r\n  </React.Fragment>\r\n);\r\nMinionHeader.displayName = \"MinionHeader\";\r\nexport default MinionHeader;\r\n","import connectEditorField from \"./connect-field\";\r\n\r\nimport EditableText from \"@/components/EditableText\";\r\n\r\nexport default connectEditorField()(EditableText);\r\n","import EditableText from \"./EditableText\";\r\nexport default EditableText;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Keys from \"@/keys\";\r\n\r\nimport { FontSize } from \"@/style\";\r\n\r\nimport { TextProps } from \"../Text\";\r\n\r\nimport EditableTextDisplay from \"./components/EditableTextDisplay\";\r\nimport EditableTextInput from \"./components/EditableTextInput\";\r\n\r\nimport Icon from \"@/components/Icon\";\r\n\r\nexport interface EditableTextProps extends TextProps {\r\n  className?: string;\r\n  value: string;\r\n  minLength?: number;\r\n  maxLength?: number;\r\n  onCommit(value: string): void;\r\n}\r\ntype Props = EditableTextProps;\r\ninterface State {\r\n  editValue: string | null;\r\n}\r\nexport default class EditableText extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      editValue: null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { className, value, intent } = this.props;\r\n    const { editValue } = this.state;\r\n\r\n    if (editValue !== null) {\r\n      return (\r\n        <EditableTextInput\r\n          className={className}\r\n          autoFocus\r\n          intent={intent}\r\n          value={editValue}\r\n          onChange={this._onEditableChange}\r\n          onKeyUp={this._onEditableKeyUp}\r\n          onFocus={this._onEditableFocus}\r\n          onBlur={this._onEditableBlur}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <span onClick={this._onTextClick} title=\"Click to Edit\">\r\n          <EditableTextDisplay className={className} intent={intent}>\r\n            {value}\r\n          </EditableTextDisplay>\r\n          <Icon.Pencil fontSize={FontSize.Small} />\r\n        </span>\r\n      );\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onTextClick() {\r\n    const { value } = this.props;\r\n    this.setState({\r\n      editValue: value\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _onEditableChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    this.setState({\r\n      editValue: e.target.value\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _onEditableKeyUp(e: React.KeyboardEvent) {\r\n    switch (e.key) {\r\n      case Keys.Enter:\r\n        this._commit();\r\n        break;\r\n      case Keys.Esc:\r\n        this._reset();\r\n        break;\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onEditableFocus(e: React.FocusEvent<HTMLInputElement>) {\r\n    e.target.select();\r\n  }\r\n\r\n  @autobind()\r\n  private _onEditableBlur() {\r\n    this._commit();\r\n  }\r\n\r\n  private _commit() {\r\n    const { editValue } = this.state;\r\n    const { onCommit } = this.props;\r\n\r\n    if (!editValue) {\r\n      return;\r\n    }\r\n\r\n    onCommit(editValue);\r\n\r\n    this._reset();\r\n  }\r\n\r\n  private _reset() {\r\n    this.setState({\r\n      editValue: null\r\n    });\r\n  }\r\n}\r\n","import Text from \"@/components/Text\";\r\n\r\nconst EditableTextDisplay = Text.extend`\r\n  cursor: text;\r\n`;\r\nEditableTextDisplay.displayName = \"EditableTextDisplay\";\r\nexport default EditableTextDisplay;\r\n","import styled from \"@/style\";\r\n\r\nimport { TextProps, text } from \"@/style\";\r\n\r\nexport type EditableTextProps = TextProps;\r\nconst EditableTextInput = styled<EditableTextProps, \"input\">(\"input\")`\r\n  ${text};\r\n  font-size: inherit;\r\n  background: none;\r\n  border: none;\r\n`;\r\nEditableTextInput.displayName = \"EditableTextInput\";\r\nexport default EditableTextInput;\r\n","import MinionAppearanceTab from \"./MinionAppearanceTab\";\r\nexport default MinionAppearanceTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport {\r\n  AccessoriesByType,\r\n  AccessoryTypes,\r\n  MINION_IDENTITY_GENDERS,\r\n  AccessoryType\r\n} from \"oni-save-parser\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\nimport NullableInput, {\r\n  InputCompatibleProps\r\n} from \"@/components/NullableInput\";\r\nimport TextInput from \"@/components/TextInput\";\r\nimport EditModeCondition from \"@/components/EditModeCondition\";\r\nimport Text from \"@/components/Text\";\r\nimport TextAutocompleteInput from \"@/components/TextAutocompleteInput\";\r\nimport { Option } from \"@/components/Select\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\nimport SelectInput from \"@/components/SelectInput\";\r\n\r\nconst TDText = Text.withComponent(\"td\");\r\n\r\nconst NoAccessory = <Text intent={Intent.Secondary}>None</Text>;\r\nconst NoAccessoryMouth = <Text intent={Intent.Dangerous}>I Must Scream</Text>;\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionAppearanceTab extends React.Component<Props> {\r\n  render() {\r\n    const { gender, onSetGender, scale } = this.props;\r\n\r\n    const fields = AccessoryTypes.map(type => this._renderAccessoryField(type));\r\n\r\n    const genderOpts: Option[] = MINION_IDENTITY_GENDERS.map(ident => ({\r\n      label: ident,\r\n      value: ident\r\n    }));\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <FormGroup label=\"Gender\">\r\n          <SelectInput\r\n            value={gender || MINION_IDENTITY_GENDERS[0]}\r\n            options={genderOpts}\r\n            onCommit={onSetGender}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup label=\"Appearance\">\r\n          <table>\r\n            <tbody>{fields}</tbody>\r\n          </table>\r\n        </FormGroup>\r\n        <FormGroup label=\"Scale\">\r\n          <FormGroup label=\"X\" inline>\r\n            <NumericInput\r\n              value={scale ? scale.x : 1}\r\n              precision=\"single\"\r\n              onCommit={this._setScaleX}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Y\" inline>\r\n            <NumericInput\r\n              value={scale ? scale.y : 1}\r\n              precision=\"single\"\r\n              onCommit={this._setScaleY}\r\n            />\r\n          </FormGroup>\r\n        </FormGroup>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _setScaleX(value: number) {\r\n    const { scale, onSetScale } = this.props;\r\n    onSetScale({\r\n      x: value,\r\n      y: scale ? scale.y : 1,\r\n      z: scale ? scale.z : 1\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _setScaleY(value: number) {\r\n    const { scale, onSetScale } = this.props;\r\n    onSetScale({\r\n      x: scale ? scale.x : 1,\r\n      y: value,\r\n      z: scale ? scale.z : 1\r\n    });\r\n  }\r\n\r\n  private _renderAccessoryField(type: AccessoryType) {\r\n    const { onSetAccessory } = this.props;\r\n    let editGroup = (\r\n      <tr key={type}>\r\n        <TDText>{type}</TDText>\r\n        <td>\r\n          <NullableInput\r\n            renderInput={props => this._renderAccessorySelector(type, props)}\r\n            renderNull={type !== \"mouth\" ? NoAccessory : NoAccessoryMouth}\r\n            value={this.props[type]}\r\n            defaultValue={(AccessoriesByType[type] || [])[0] || \"\"}\r\n            onCommit={onSetAccessory.bind(this, type)}\r\n          />\r\n        </td>\r\n      </tr>\r\n    );\r\n\r\n    if (type === \"hat_hair\" || type === \"hair_always\") {\r\n      editGroup = (\r\n        <EditModeCondition key={type} editMode=\"advanced\">\r\n          {editGroup}\r\n        </EditModeCondition>\r\n      );\r\n    }\r\n\r\n    return editGroup;\r\n  }\r\n\r\n  private _renderAccessorySelector(\r\n    type: AccessoryType,\r\n    props: InputCompatibleProps<string>\r\n  ) {\r\n    const accessoryNames = AccessoriesByType[type];\r\n    if (!accessoryNames || accessoryNames.length === 0) {\r\n      return <TextInput {...props} minLength={1} />;\r\n    } else {\r\n      return (\r\n        <TextAutocompleteInput\r\n          value={props.value}\r\n          items={accessoryNames}\r\n          onCommit={props.onCommit}\r\n        />\r\n      );\r\n    }\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionAppearanceTab);\r\n","import { Selector, createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport {\r\n  AccessoryTypes,\r\n  AccessorizerBehavior,\r\n  GameObject,\r\n  AccessoryType,\r\n  getAccessoryName,\r\n  getAccessoryOfType,\r\n  getBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObjectGender } from \"@/selectors/behaviors/minion-identity\";\r\nimport { getSelectedGameObjectScale } from \"@/selectors/game-object\";\r\n\r\nimport selectedValue from \"@/selectors/selected-value\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\n\r\nconst accessorizerBehavior = createSelector(\r\n  selectedValue,\r\n  (gameObject: GameObject) => {\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n    return getBehavior(gameObject, AccessorizerBehavior);\r\n  }\r\n);\r\n\r\nfunction createAccessorySelector(\r\n  accessoryType: AccessoryType\r\n): Selector<AppState, string | null> {\r\n  return createSelector(accessorizerBehavior, behavior => {\r\n    if (!behavior) {\r\n      return null;\r\n    }\r\n\r\n    const { accessories } = behavior.templateData;\r\n\r\n    const accessory = getAccessoryOfType(accessories, accessoryType);\r\n    if (!accessory) {\r\n      return null;\r\n    }\r\n\r\n    return getAccessoryName(accessory);\r\n  });\r\n}\r\n\r\nconst structuredSelector = {\r\n  selectedPath,\r\n  gender: getSelectedGameObjectGender,\r\n  scale: getSelectedGameObjectScale\r\n};\r\nAccessoryTypes.forEach(x => {\r\n  (structuredSelector as any)[x] = createAccessorySelector(x);\r\n});\r\nexport type StateProps = StructuredStateProps<\r\n  typeof structuredSelector & Record<AccessoryType, string | null>\r\n>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector as any\r\n);\r\nexport default mapStateToProps;\r\n","import { MinionIdentityBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorSelector } from \"@/selectors/behaviors/utils\";\r\n\r\nexport const getSelectedGameObjectIdentityBehavior = getCurrentGameObjectBehaviorSelector(\r\n  MinionIdentityBehavior\r\n);\r\n\r\nexport const getSelectedGameObjectGender = (state: AppState) => {\r\n  const behavior = getSelectedGameObjectIdentityBehavior(state);\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n  return behavior.templateData.genderStringKey;\r\n};\r\n","import { setIdentityGender } from \"@/actions/behaviors/set-identity-gender\";\r\nimport { setAccessory } from \"@/actions/behaviors/set-accessory\";\r\nimport { setGameObjectScale } from \"@/actions/game-object/set-scale\";\r\n\r\nconst mapDispatchToProps = {\r\n  onSetScale: setGameObjectScale,\r\n  onSetGender: setIdentityGender,\r\n  onSetAccessory: setAccessory\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Autocomplete from \"@/components/Autocomplete\";\r\n\r\nexport interface TextAutocompleteInputProps {\r\n  value: string;\r\n  minLength?: number;\r\n  maxLength?: number;\r\n  items: string[];\r\n  onCommit(value: string): void;\r\n}\r\n\r\ntype Props = TextAutocompleteInputProps;\r\ninterface State {\r\n  editValue: string | null;\r\n  isValid: boolean;\r\n}\r\nexport default class TextAutocompleteInput extends React.Component<\r\n  Props,\r\n  State\r\n> {\r\n  private _inputRef = React.createRef<HTMLInputElement>();\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      editValue: null,\r\n      isValid: true\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { value, minLength, maxLength, items } = this.props;\r\n    const { editValue } = this.state;\r\n\r\n    const currentValue = editValue != null ? editValue : value;\r\n\r\n    return (\r\n      <Autocomplete\r\n        value={currentValue}\r\n        items={items}\r\n        minLength={minLength}\r\n        maxLength={maxLength}\r\n        getItemValue={x => x}\r\n        onChange={this._onValueChange}\r\n        onSelect={this._onValueSelect}\r\n        selectOnBlur\r\n      />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const value = e.target.value;\r\n    this._setEditValue(value);\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueSelect(value: string) {\r\n    this._setEditValue(value);\r\n    this._commitEdit();\r\n  }\r\n\r\n  // @autobind()\r\n  // private _onInputKeyPress(e: React.KeyboardEvent<HTMLInputElement>) {\r\n  //   if (e.key === Keys.Enter) {\r\n  //     this._commitEdit();\r\n  //   }\r\n  // }\r\n\r\n  private _setEditValue(value: string) {\r\n    const validation = this._validate(value);\r\n    const isValid = !validation;\r\n\r\n    if (this._inputRef.current) {\r\n      this._inputRef.current.setCustomValidity(validation || \"\");\r\n    }\r\n\r\n    this.setState({\r\n      editValue: value,\r\n      isValid\r\n    });\r\n  }\r\n\r\n  private _commitEdit() {\r\n    const { editValue, isValid } = this.state;\r\n    const { onCommit } = this.props;\r\n\r\n    this.setState({\r\n      editValue: null\r\n    });\r\n\r\n    if (!editValue || !isValid) {\r\n      return;\r\n    }\r\n\r\n    onCommit(editValue);\r\n  }\r\n\r\n  private _validate(value: string): string | null {\r\n    const { minLength, maxLength } = this.props;\r\n    if (minLength != null && (!value || value.length < minLength)) {\r\n      return `Value must be at least ${minLength} characters.`;\r\n    }\r\n\r\n    if (maxLength != null && value.length > maxLength) {\r\n      return `Value must be less than ${maxLength} characters.`;\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport ReactAutocomplete from \"react-autocomplete\";\r\n\r\nimport { Intent, getTheme, Space } from \"@/style\";\r\n\r\nimport Input, { InputProps } from \"@/components/Input\";\r\nimport Box from \"@/components/Box\";\r\nimport Text from \"@/components/Text\";\r\n\r\nexport type AutocompleteProps = Omit<ReactAutocomplete.Props, \"renderItem\"> & {\r\n  intent?: Intent;\r\n  renderItem?: ReactAutocomplete.Props[\"renderItem\"];\r\n  minLength?: number;\r\n  maxLength?: number;\r\n};\r\n\r\nconst AutocompleteItem = Text.withComponent(\"div\").extend`\r\n  width: 100%;\r\n  margin: 0 ${props => getTheme(props).space[Space.Small]}px;\r\n`;\r\n\r\nconst Autocomplete: React.SFC<AutocompleteProps> = props => (\r\n  <ReactAutocomplete\r\n    {...props}\r\n    renderInput={inputProps => <Input {...convertProps(inputProps)} />}\r\n    renderItem={(item, isHighlighted, style) => (\r\n      <AutocompleteItem\r\n        intent={isHighlighted ? Intent.Primary : Intent.Secondary}\r\n      >\r\n        {(props.renderItem || defaultRenderItem)(item, isHighlighted, style)}\r\n      </AutocompleteItem>\r\n    )}\r\n    renderMenu={props.renderMenu || renderMenu.bind(null, props)}\r\n  />\r\n);\r\nAutocomplete.displayName = \"Autocomplete\";\r\nexport default Autocomplete;\r\n\r\nfunction convertProps(\r\n  props: React.HTMLProps<HTMLInputElement>\r\n): Omit<InputProps, \"ref\"> {\r\n  const { ref, ...rest } = props;\r\n  return {\r\n    ...(rest as any),\r\n    innerRef: props.ref\r\n  };\r\n}\r\n\r\nfunction defaultRenderItem(\r\n  item: any,\r\n  isHighlighted: boolean,\r\n  style?: React.CSSProperties\r\n) {\r\n  style = style || {};\r\n  style.width = \"100%\";\r\n  return <div style={style}>{item}</div>;\r\n}\r\n\r\nconst AutocompleteMenu = Box.extend`\r\n  background: ${props => getTheme(props).colors.bg.panel};\r\n  border: ${props => {\r\n    const theme = getTheme(props);\r\n    return `${theme.borders[1]} ${\r\n      theme.colors.intent[props.intent || Intent.Secondary]\r\n    }`;\r\n  }};\r\n  border-top: none;\r\n`;\r\n\r\nfunction renderMenu(\r\n  props: AutocompleteProps,\r\n  items: any[],\r\n  value: string,\r\n  styles: React.CSSProperties\r\n): React.ReactNode {\r\n  // TODO: Portal.\r\n  const elements = items.map((x, i) => <div key={i}>{x}</div>);\r\n  return (\r\n    <AutocompleteMenu intent={props.intent} style={styles}>\r\n      {elements}\r\n    </AutocompleteMenu>\r\n  );\r\n}\r\n","import MinionAptitudesTab from \"./MinionAptitudesTab\";\r\nexport default MinionAptitudesTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { compare } from \"@/math\";\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps, AptitudeData } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport DataTable, { DataTableColumn } from \"@/components/DataTable\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionAptitudesTab extends React.Component<Props> {\r\n  render() {\r\n    const { aptitudes, setAptitude } = this.props;\r\n\r\n    if (!aptitudes || aptitudes.length === 0) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No aptitude data could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        header: \"Role\",\r\n        sortable: true,\r\n        filterable: true,\r\n        property: \"roleId\"\r\n      },\r\n      {\r\n        header: \"Aptitude\",\r\n        sortable: true,\r\n        filterable: false,\r\n        property: \"aptitude\",\r\n        cell: ({ value, rowData }) => (\r\n          <NumericInput\r\n            precision=\"single\"\r\n            minValue={0}\r\n            value={value}\r\n            onCommit={setAptitude.bind(null, rowData.index)}\r\n          />\r\n        ),\r\n        sortMethod: (data, column, sortAscending) => {\r\n          return data.sort((a, b) => compare(a, b, sortAscending));\r\n        }\r\n      }\r\n    ];\r\n\r\n    return <DataTable columns={columns} data={aptitudes} />;\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionAptitudesTab);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { MinionResumeBehavior, MinionRoleGroup } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorPropertySelector } from \"@/selectors/behaviors/utils\";\r\n\r\nconst aptitudesSelector = getCurrentGameObjectBehaviorPropertySelector<\r\n  MinionResumeBehavior,\r\n  MinionResumeBehavior[\"templateData\"][\"AptitudeByRoleGroup\"]\r\n>(MinionResumeBehavior, [\"templateData\", \"AptitudeByRoleGroup\"]);\r\n\r\nexport interface AptitudeData {\r\n  roleId: string;\r\n  roleHash: number;\r\n  aptitude: number;\r\n  index: number;\r\n}\r\nconst aptitudeDataSelector = createSelector(aptitudesSelector, aptitudes => {\r\n  if (!aptitudes) {\r\n    return null;\r\n  }\r\n\r\n  const data: AptitudeData[] = [];\r\n\r\n  for (let i = 0; i < aptitudes.length; i++) {\r\n    const [hstr, aptitude] = aptitudes[i];\r\n    const roleId = MinionRoleGroup[hstr.hash];\r\n    if (!roleId) {\r\n      continue;\r\n    }\r\n    data.push({\r\n      roleId,\r\n      roleHash: hstr.hash,\r\n      aptitude,\r\n      index: i\r\n    });\r\n  }\r\n\r\n  return data;\r\n});\r\n\r\nconst structuredSelector = {\r\n  aptitudes: aptitudeDataSelector\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { MinionResumeBehavior } from \"oni-save-parser\";\r\nimport { setCurrentObjectBehaviorValue } from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nconst mapDispatchToProps = {\r\n  setAptitude(index: number, aptitude: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      MinionResumeBehavior,\r\n      [\"templateData\", \"AptitudeByRoleGroup\", `${index}`, \"1\"],\r\n      aptitude\r\n    );\r\n  }\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionEffectsTab from \"./MinionEffectsTab\";\r\nexport default MinionEffectsTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { AI_EFFECT_IDS } from \"oni-save-parser\";\r\n\r\nimport { compare } from \"@/math\";\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport DataTable, { DataTableColumn } from \"@/components/DataTable\";\r\nimport NullableInput from \"@/components/NullableInput\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionEffectsTab extends React.Component<Props> {\r\n  render() {\r\n    const { effects, onSetEffectData } = this.props;\r\n\r\n    if (!effects) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No effects data could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const data = AI_EFFECT_IDS.map(effectId => {\r\n      const effectIndex = effects.findIndex(x => x.id === effectId);\r\n      const effect = effectIndex > -1 ? effects[effectIndex] : null;\r\n      return {\r\n        effectId,\r\n        effectIndex,\r\n        timeRemaining: effect ? effect.timeRemaining : null\r\n      };\r\n    });\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        header: \"Effect\",\r\n        sortable: true,\r\n        filterable: true,\r\n        property: \"effectId\"\r\n      },\r\n      {\r\n        header: \"Time Remaining\",\r\n        sortable: true,\r\n        filterable: false,\r\n        property: \"timeRemaining\",\r\n        cell: ({ rowData }: { rowData: typeof data[0] }) => (\r\n          <NullableInput\r\n            value={rowData.timeRemaining}\r\n            onCommit={onSetEffectData.bind(\r\n              null,\r\n              rowData.effectId,\r\n              rowData.effectIndex\r\n            )}\r\n            defaultValue={15000}\r\n            renderInput={props => (\r\n              <NumericInput precision=\"single\" minValue={0} {...props} />\r\n            )}\r\n          />\r\n        ),\r\n        sortMethod: (data, column, sortAscending) => {\r\n          return data.sort((a, b) => compare(a, b, sortAscending));\r\n        }\r\n      }\r\n    ];\r\n\r\n    return <DataTable columns={columns} data={data} />;\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionEffectsTab);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AIEffectsBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorPropertySelector } from \"@/selectors/behaviors/utils\";\r\n\r\nconst effects = getCurrentGameObjectBehaviorPropertySelector<\r\n  AIEffectsBehavior,\r\n  AIEffectsBehavior[\"templateData\"][\"saveLoadEffects\"]\r\n>(AIEffectsBehavior, [\"templateData\", \"saveLoadEffects\"]);\r\n\r\nconst structuredSelector = {\r\n  effects\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { AIEffectsBehavior, EffectInstance } from \"oni-save-parser\";\r\n\r\nimport {\r\n  insertCurrentObjectBehaviorArrayValue,\r\n  removeCurrentObjectBehaviorArrayIndex\r\n} from \"@/actions/behaviors/modify-currentobject-behavior-array\";\r\n\r\nimport { setCurrentObjectBehaviorValue } from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nconst EffectsPath = [\"templateData\", \"saveLoadEffects\"];\r\n\r\nconst mapDispatchToProps = {\r\n  onSetEffectData(\r\n    effectId: string,\r\n    effectIndex: number,\r\n    timeRemaining: number | null\r\n  ) {\r\n    if (timeRemaining != null && timeRemaining > 0) {\r\n      if (effectIndex === -1) {\r\n        // New Effect\r\n        const effect: EffectInstance = {\r\n          id: effectId,\r\n          timeRemaining\r\n        };\r\n        return insertCurrentObjectBehaviorArrayValue(\r\n          AIEffectsBehavior,\r\n          EffectsPath,\r\n          effect\r\n        );\r\n      } else {\r\n        // Changing effect time remaining\r\n        return setCurrentObjectBehaviorValue(\r\n          AIEffectsBehavior,\r\n          [...EffectsPath, `${effectIndex}`, \"timeRemaining\"],\r\n          timeRemaining\r\n        );\r\n      }\r\n    } else if (effectIndex > -1) {\r\n      // Removing effect.\r\n      return removeCurrentObjectBehaviorArrayIndex(\r\n        AIEffectsBehavior,\r\n        EffectsPath,\r\n        effectIndex\r\n      );\r\n    }\r\n  },\r\n  onRemoveEffect(effectIndex: number) {}\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionHealthTab from \"./MinionHealthTab\";\r\nexport default MinionHealthTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { HealthState } from \"oni-save-parser\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport VerticalTabs from \"@/components/VerticalTabs\";\r\nimport FormGroup from \"@/components/FormGroup\";\r\nimport SelectInput from \"@/components/SelectInput\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\n\r\nconst TD = Text.withComponent(\"td\");\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionHealthTab extends React.Component<Props> {\r\n  render() {\r\n    const {\r\n      healthState,\r\n      onHealthStatusChanged,\r\n      hitpoints,\r\n      onHitpointsChanged,\r\n      stamina,\r\n      onStaminaChanged,\r\n      calories,\r\n      onCaloriesChanged,\r\n      breath,\r\n      onBreathChanged,\r\n      stress,\r\n      onStressChanged,\r\n      bladder,\r\n      onBladderChanged,\r\n      surfaceDiseaseId,\r\n      surfaceDiseaseCount,\r\n      immuneLevel,\r\n      onImmuneLevelChanged,\r\n      foodPoisoning,\r\n      onFoodPoisoningChanged,\r\n      coldBrain,\r\n      onColdBrainChanged,\r\n      heatRash,\r\n      onHeatRashChanged,\r\n      slimeLung,\r\n      onSlimeLungChanged,\r\n      spores,\r\n      onSporesChanged,\r\n      sunburn,\r\n      onSunburnChanged\r\n    } = this.props;\r\n\r\n    const options = Object.keys(HealthState)\r\n      .filter(x => isNaN(parseInt(x)))\r\n      .map(x => ({\r\n        label: x,\r\n        value: HealthState[x as any]\r\n      }));\r\n\r\n    // TODO: selector for disease type hashes with advanced mode custom\r\n    // string.\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div>\r\n          <Text.H4>Wellness</Text.H4>\r\n          <FormGroup label=\"Status\" inline>\r\n            <SelectInput\r\n              value={healthState || HealthState.Perfect}\r\n              options={options}\r\n              onCommit={onHealthStatusChanged}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"HitPoints\" inline>\r\n            <NumericInput\r\n              value={hitpoints || 0}\r\n              onCommit={onHitpointsChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Stanima\" inline>\r\n            <NumericInput\r\n              value={stamina || 0}\r\n              precision=\"single\"\r\n              onCommit={onStaminaChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Calories\" inline>\r\n            <NumericInput\r\n              value={calories || 0}\r\n              precision=\"single\"\r\n              onCommit={onCaloriesChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Oxygen\" inline>\r\n            <NumericInput\r\n              value={breath || 0}\r\n              precision=\"single\"\r\n              onCommit={onBreathChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Stress\" inline>\r\n            <NumericInput\r\n              value={stress || 0}\r\n              precision=\"single\"\r\n              onCommit={onStressChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Bladder\" inline>\r\n            <NumericInput\r\n              value={bladder || 0}\r\n              precision=\"single\"\r\n              onCommit={onBladderChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n        </div>\r\n        <div>\r\n          <Text.H4>Diseases</Text.H4>\r\n          <FormGroup label=\"Immune&nbsp;Level\" inline>\r\n            <NumericInput\r\n              minValue={0}\r\n              precision=\"single\"\r\n              value={immuneLevel || 0}\r\n              onCommit={onImmuneLevelChanged}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Surface Germs\">\r\n            <FormGroup label=\"DiseaseID\" inline>\r\n              <NumericInput\r\n                value={surfaceDiseaseId ? surfaceDiseaseId.hash : 0}\r\n                onCommit={this._onSurfaceDiseaseIdCommit}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup label=\"Count\" inline>\r\n              <NumericInput\r\n                minValue={0}\r\n                precision=\"single\"\r\n                value={surfaceDiseaseCount || 0}\r\n                onCommit={this._onSurfaceDiseaseCountCommit}\r\n              />\r\n            </FormGroup>\r\n          </FormGroup>\r\n          <FormGroup label=\"Conditions\">\r\n            <table>\r\n              <tbody>\r\n                <tr>\r\n                  <TD>Food Poisoning</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={foodPoisoning || 0}\r\n                      onCommit={onFoodPoisoningChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Slime Lung</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={slimeLung || 0}\r\n                      onCommit={onSlimeLungChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Spores</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={spores || 0}\r\n                      onCommit={onSporesChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Hypothermia</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={coldBrain || 0}\r\n                      onCommit={onColdBrainChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Hyperthermia</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={heatRash || 0}\r\n                      onCommit={onHeatRashChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Sunburn</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={sunburn || 0}\r\n                      onCommit={onSunburnChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </FormGroup>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onSurfaceDiseaseIdCommit(value: number) {\r\n    const { onSurfaceDiseaseChanged } = this.props;\r\n    onSurfaceDiseaseChanged({ hash: value }, 0);\r\n  }\r\n\r\n  @autobind()\r\n  private _onSurfaceDiseaseCountCommit(value: number) {\r\n    const { surfaceDiseaseId, onSurfaceDiseaseChanged } = this.props;\r\n    onSurfaceDiseaseChanged(surfaceDiseaseId || { hash: 0 }, value);\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionHealthTab);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport {\r\n  GameObject,\r\n  HealthBehavior,\r\n  PrimaryElementBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObjectHealthState } from \"@/selectors/behaviors/health\";\r\n\r\nimport {\r\n  getSelectedGameObjectElementDiseaseId,\r\n  getSelectedGameObjectElementDiseaseCount\r\n} from \"@/selectors/behaviors/primary-element\";\r\n\r\nimport { getSelectedGameObjectModifierValueSelector } from \"@/selectors/behaviors/minion-modifiers\";\r\n\r\nconst structuredSelector = {\r\n  healthState: getSelectedGameObjectHealthState,\r\n  surfaceDiseaseId: getSelectedGameObjectElementDiseaseId,\r\n  surfaceDiseaseCount: getSelectedGameObjectElementDiseaseCount,\r\n  hitpoints: getSelectedGameObjectModifierValueSelector(\"HitPoints\"),\r\n  stamina: getSelectedGameObjectModifierValueSelector(\"Stamina\"),\r\n  calories: getSelectedGameObjectModifierValueSelector(\"Calories\"),\r\n  immuneLevel: getSelectedGameObjectModifierValueSelector(\"ImmuneLevel\"),\r\n  breath: getSelectedGameObjectModifierValueSelector(\"Breath\"),\r\n  stress: getSelectedGameObjectModifierValueSelector(\"Stress\"),\r\n  bladder: getSelectedGameObjectModifierValueSelector(\"Bladder\"),\r\n  foodPoisoning: getSelectedGameObjectModifierValueSelector(\"FoodPoisoning\"),\r\n  coldBrain: getSelectedGameObjectModifierValueSelector(\"ColdBrain\"),\r\n  heatRash: getSelectedGameObjectModifierValueSelector(\"HeatRash\"),\r\n  slimeLung: getSelectedGameObjectModifierValueSelector(\"SlimeLung\"),\r\n  sunburn: getSelectedGameObjectModifierValueSelector(\"Sunburn\"),\r\n  spores: getSelectedGameObjectModifierValueSelector(\"Spores\")\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { createSelector } from \"reselect\";\r\n\r\nimport { HealthBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObject } from \"../game-object\";\r\n\r\nexport const getSelectedGameObjectHealthBehavior = createSelector(\r\n  getSelectedGameObject,\r\n  gameObject => {\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n\r\n    return getBehavior(gameObject, HealthBehavior);\r\n  }\r\n);\r\n\r\nexport const getSelectedGameObjectHealthState = (state: AppState) => {\r\n  const behavior = getSelectedGameObjectHealthBehavior(state);\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n  return behavior.templateData.State;\r\n};\r\n","import { PrimaryElementBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorSelector } from \"@/selectors/behaviors/utils\";\r\n\r\nexport const getSelectedGameObjectElementBehavior = getCurrentGameObjectBehaviorSelector(\r\n  PrimaryElementBehavior\r\n);\r\n\r\nexport const getSelectedGameObjectElementDiseaseId = (state: AppState) => {\r\n  const behavior = getSelectedGameObjectElementBehavior(state);\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n  return behavior.templateData.diseaseID;\r\n};\r\n\r\nexport const getSelectedGameObjectElementDiseaseCount = (state: AppState) => {\r\n  const behavior = getSelectedGameObjectElementBehavior(state);\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n  return behavior.templateData.diseaseCount;\r\n};\r\n","import { createSelector, Selector } from \"reselect\";\r\n\r\nimport { memoize } from \"lodash-es\";\r\n\r\nimport { MinionModifiersBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorSelector } from \"@/selectors/behaviors/utils\";\r\n\r\nexport const getSelectedGameObjectModifiersBehavior = getCurrentGameObjectBehaviorSelector(\r\n  MinionModifiersBehavior\r\n);\r\n\r\nfunction createSelectedGameObjectModifierValueSelector(\r\n  amountId: string\r\n): Selector<AppState, number | null> {\r\n  return createSelector(getSelectedGameObjectModifiersBehavior, behavior => {\r\n    if (!behavior) {\r\n      return null;\r\n    }\r\n\r\n    const extraData = behavior.extraData;\r\n    if (!extraData) {\r\n      return null;\r\n    }\r\n\r\n    const amount = extraData.amounts.find(x => x.name === amountId);\r\n    if (!amount) {\r\n      return null;\r\n    }\r\n    return amount.value.value;\r\n  });\r\n}\r\n\r\nexport const getSelectedGameObjectModifierValueSelector = memoize(\r\n  createSelectedGameObjectModifierValueSelector\r\n);\r\n","import { setHealthStatus } from \"@/actions/behaviors/set-health-state\";\r\nimport { setModifierValue } from \"@/actions/behaviors/set-modifier-amount\";\r\nimport { setPrimaryElementDisease } from \"@/actions/behaviors/set-element-disease\";\r\n\r\nconst mapDispatchToProps = {\r\n  onHealthStatusChanged: setHealthStatus,\r\n  onHitpointsChanged(hitpoints: number) {\r\n    return setModifierValue(\"HitPoints\", hitpoints);\r\n  },\r\n  onStaminaChanged(stamina: number) {\r\n    return setModifierValue(\"Stamina\", stamina);\r\n  },\r\n  onCaloriesChanged(calories: number) {\r\n    return setModifierValue(\"Calories\", calories);\r\n  },\r\n  onImmuneLevelChanged(level: number) {\r\n    return setModifierValue(\"ImmuneLevel\", level);\r\n  },\r\n  onBreathChanged(level: number) {\r\n    return setModifierValue(\"Breath\", level);\r\n  },\r\n  onStressChanged(level: number) {\r\n    return setModifierValue(\"Stress\", level);\r\n  },\r\n  onBladderChanged(level: number) {\r\n    return setModifierValue(\"Bladder\", level);\r\n  },\r\n  onFoodPoisoningChanged(level: number) {\r\n    return setModifierValue(\"FoodPoisoning\", level);\r\n  },\r\n  onColdBrainChanged(level: number) {\r\n    return setModifierValue(\"ColdBrain\", level);\r\n  },\r\n  onHeatRashChanged(level: number) {\r\n    return setModifierValue(\"HeatRash\", level);\r\n  },\r\n  onSlimeLungChanged(level: number) {\r\n    return setModifierValue(\"SlimeLung\", level);\r\n  },\r\n  onSunburnChanged(level: number) {\r\n    return setModifierValue(\"Sunburn\", level);\r\n  },\r\n  onSporesChanged(level: number) {\r\n    return setModifierValue(\"Spores\", level);\r\n  },\r\n\r\n  onSurfaceDiseaseChanged: setPrimaryElementDisease\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionJobsTab from \"./MinionJobsTab\";\r\nexport default MinionJobsTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport DataTable, { DataTableColumn } from \"@/components/DataTable\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\nimport CheckInput from \"@/components/CheckInput\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionJobsTab extends React.Component<Props> {\r\n  render() {\r\n    const { jobs, setExperience, setMastery } = this.props;\r\n\r\n    if (!jobs || jobs.length === 0) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No jobs could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        header: \"Job\",\r\n        property: \"id\",\r\n        sortable: true,\r\n        filterable: true\r\n      },\r\n      {\r\n        header: \"Experience\",\r\n        sortable: true,\r\n        filterable: false,\r\n        property: \"experience\",\r\n        cell: ({ value, rowData }) => (\r\n          <NumericInput\r\n            precision=\"single\"\r\n            minValue={0}\r\n            value={value}\r\n            onCommit={setExperience.bind(null, rowData.experienceIndex)}\r\n          />\r\n        )\r\n      },\r\n      {\r\n        header: \"Mastery\",\r\n        sortable: true,\r\n        filterable: false,\r\n        property: \"mastery\",\r\n        cell: ({ value, rowData }) => (\r\n          <CheckInput\r\n            value={value}\r\n            onCommit={setMastery.bind(null, rowData.masteryIndex)}\r\n          />\r\n        )\r\n      }\r\n    ];\r\n\r\n    return <DataTable columns={columns} data={jobs} />;\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionJobsTab);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { MinionResumeBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorPropertySelector } from \"@/selectors/behaviors/utils\";\r\n\r\nconst masteriesSelector = getCurrentGameObjectBehaviorPropertySelector<\r\n  MinionResumeBehavior,\r\n  MinionResumeBehavior[\"templateData\"][\"MasteryByRoleID\"]\r\n>(MinionResumeBehavior, [\"templateData\", \"MasteryByRoleID\"]);\r\n\r\nconst experienceSelector = getCurrentGameObjectBehaviorPropertySelector<\r\n  MinionResumeBehavior,\r\n  MinionResumeBehavior[\"templateData\"][\"ExperienceByRoleID\"]\r\n>(MinionResumeBehavior, [\"templateData\", \"ExperienceByRoleID\"]);\r\n\r\nexport interface Job {\r\n  id: string;\r\n  mastery: boolean;\r\n  masteryIndex: number;\r\n  experience: number;\r\n  experienceIndex: number;\r\n}\r\nexport type Jobs = Job[];\r\nconst jobsSelector = createSelector(\r\n  masteriesSelector,\r\n  experienceSelector,\r\n  (masteries, experience) => {\r\n    if (!masteries || !experience) {\r\n      return null;\r\n    }\r\n\r\n    const jobs: Record<string, Job> = {};\r\n\r\n    masteries.forEach((x, i) => {\r\n      const [key, value] = x;\r\n      if (key === \"NoRole\") {\r\n        return;\r\n      }\r\n      jobs[key] = {\r\n        id: key,\r\n        mastery: value,\r\n        masteryIndex: i,\r\n        experience: 0,\r\n        experienceIndex: -1\r\n      };\r\n    });\r\n\r\n    experience.forEach((x, i) => {\r\n      const [key, value] = x;\r\n      if (key === \"NoRole\") {\r\n        return;\r\n      }\r\n      jobs[key].experience = value;\r\n      jobs[key].experienceIndex = i;\r\n    });\r\n\r\n    return Object.keys(jobs).map(x => jobs[x]);\r\n  }\r\n);\r\n\r\nconst structuredSelector = {\r\n  jobs: jobsSelector\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { MinionResumeBehavior } from \"oni-save-parser\";\r\n\r\nimport { setCurrentObjectBehaviorValue } from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nconst mapDispatchToProps = {\r\n  setExperience(index: number, experience: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      MinionResumeBehavior,\r\n      [\"templateData\", \"ExperienceByRoleID\", `${index}`, \"1\"],\r\n      experience\r\n    );\r\n  },\r\n\r\n  setMastery(index: number, mastery: boolean) {\r\n    return setCurrentObjectBehaviorValue(\r\n      MinionResumeBehavior,\r\n      [\"templateData\", \"MasteryByRoleID\", `${index}`, \"1\"],\r\n      mastery\r\n    );\r\n  }\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionSkillsTab from \"./MinionSkillsTab\";\r\nexport default MinionSkillsTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport DataTable, { DataTableColumn } from \"@/components/DataTable\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionSkillsTab extends React.Component<Props> {\r\n  render() {\r\n    const { skills, setSkillLevel, setSkillExperience } = this.props;\r\n\r\n    if (!skills || skills.length === 0) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No skills could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const data = skills.map((x, i) => ({\r\n      ...x,\r\n      index: i\r\n    }));\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        header: \"Skill\",\r\n        property: \"attributeId\"\r\n      },\r\n      {\r\n        header: \"Level\",\r\n        property: \"level\",\r\n        cell: ({ value, rowData }) => (\r\n          <NumericInput\r\n            precision=\"int32\"\r\n            minValue={0}\r\n            value={value}\r\n            onCommit={setSkillLevel.bind(null, rowData.index)}\r\n          />\r\n        )\r\n      },\r\n      {\r\n        header: \"Experience\",\r\n        property: \"experience\",\r\n        cell: ({ value, rowData }) => (\r\n          <NumericInput\r\n            precision=\"single\"\r\n            value={value}\r\n            onCommit={setSkillExperience.bind(null, rowData.index)}\r\n          />\r\n        )\r\n      }\r\n    ];\r\n\r\n    return <DataTable columns={columns} data={data} />;\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionSkillsTab);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AIAttributeLevelsBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorPropertySelector } from \"@/selectors/behaviors/utils\";\r\n\r\nconst structuredSelector = {\r\n  skills: getCurrentGameObjectBehaviorPropertySelector<\r\n    AIAttributeLevelsBehavior,\r\n    AIAttributeLevelsBehavior[\"templateData\"][\"saveLoadLevels\"]\r\n  >(AIAttributeLevelsBehavior, [\"templateData\", \"saveLoadLevels\"])\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { AIAttributeLevelsBehavior } from \"oni-save-parser\";\r\n\r\nimport { setCurrentObjectBehaviorValue } from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nconst mapDispatchToProps = {\r\n  setSkillLevel(index: number, level: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      AIAttributeLevelsBehavior,\r\n      [\"templateData\", \"saveLoadLevels\", `${index}`, \"level\"],\r\n      level\r\n    );\r\n  },\r\n  setSkillExperience(index: number, experience: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      AIAttributeLevelsBehavior,\r\n      [\"templateData\", \"saveLoadLevels\", `${index}`, \"experience\"],\r\n      experience\r\n    );\r\n  }\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionTraitsTab from \"./MinionTraitsTab\";\r\nexport default MinionTraitsTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { AI_TRAIT_IDS } from \"oni-save-parser\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport Table from \"@/components/Table\";\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport CheckInput from \"@/components/CheckInput\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionTraitsTab extends React.Component<Props> {\r\n  render() {\r\n    const { traits, onSetTrait } = this.props;\r\n\r\n    if (traits == null || traits.length === 0) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No traits could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const rows = AI_TRAIT_IDS.filter(x => x !== \"None\").map(trait => (\r\n      <Table.TR key={trait}>\r\n        <Table.TD>\r\n          <CheckInput\r\n            value={traits.some(x => x === trait)}\r\n            onCommit={onSetTrait.bind(null, trait)}\r\n          />\r\n        </Table.TD>\r\n        <Table.TD>{trait}</Table.TD>\r\n      </Table.TR>\r\n    ));\r\n\r\n    return (\r\n      <Table>\r\n        <Table.THead>\r\n          <Table.TR>\r\n            <Table.TH />\r\n            <Table.TH>Trait</Table.TH>\r\n          </Table.TR>\r\n        </Table.THead>\r\n        <Table.TBody>{rows}</Table.TBody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionTraitsTab);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObjectTraits } from \"@/selectors/behaviors/ai-traits\";\r\n\r\nconst structuredSelector = {\r\n  traits: getSelectedGameObjectTraits\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { AITraitsBehavior } from \"oni-save-parser\";\r\n\r\nimport { getCurrentGameObjectBehaviorSelector } from \"@/selectors/behaviors/utils\";\r\nimport { createSelector } from \"reselect\";\r\n\r\nexport const getSelectedGameObjectIdentityBehavior = getCurrentGameObjectBehaviorSelector(\r\n  AITraitsBehavior\r\n);\r\n\r\nexport const getSelectedGameObjectTraits = createSelector(\r\n  getSelectedGameObjectIdentityBehavior,\r\n  behavior => {\r\n    if (behavior == null) {\r\n      return null;\r\n    }\r\n\r\n    return behavior.templateData.TraitIds;\r\n  }\r\n);\r\n","import { setTrait } from \"@/actions/behaviors/set-traits-trait\";\r\n\r\nconst mapDispatchToProps = {\r\n  onSetTrait: setTrait\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionPositionTab from \"./MinionPositionTab\";\r\nexport default MinionPositionTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport FormGroup from \"@/components/FormGroup\";\r\nimport NumericField from \"@/pages/SaveEditor/components/fields/NumericField\";\r\nimport EditModeCondition from \"@/components/EditModeCondition\";\r\n\r\ntype Props = StateProps;\r\nconst MinionPositionTab: React.SFC<Props> = ({ gameObjectPath }) => {\r\n  if (gameObjectPath == null) {\r\n    return <Text intent={Intent.Default}>No game object selected</Text>;\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <FormGroup label=\"X\">\r\n        <NumericField\r\n          precision=\"single\"\r\n          path={[...gameObjectPath, \"position\", \"x\"]}\r\n        />\r\n      </FormGroup>\r\n      <FormGroup label=\"Y\">\r\n        <NumericField\r\n          precision=\"single\"\r\n          path={[...gameObjectPath, \"position\", \"y\"]}\r\n        />\r\n      </FormGroup>\r\n      <EditModeCondition editMode=\"advanced\">\r\n        <FormGroup label=\"Z\">\r\n          <NumericField\r\n            precision=\"single\"\r\n            path={[...gameObjectPath, \"position\", \"z\"]}\r\n          />\r\n        </FormGroup>\r\n      </EditModeCondition>\r\n    </React.Fragment>\r\n  );\r\n};\r\nMinionPositionTab.displayName = \"MinionPositionTab\";\r\nexport default connect(mapStateToProps)(MinionPositionTab);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObjectPath } from \"@/selectors/game-object\";\r\n\r\nconst structuredSelector = {\r\n  gameObjectPath: getSelectedGameObjectPath\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import GeyserEditor from \"./GeyserEditor\";\r\nexport default GeyserEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { GeyserTypeNames } from \"oni-save-parser\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport EditorContainer from \"../../components/EditorContainer\";\r\nimport GameObjectHeader from \"../components/GameObjectHeader\";\r\n\r\nimport HelpText from \"@/components/HelpText\";\r\nimport SelectInput from \"@/components/SelectInput\";\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport FormGroup from \"@/components/FormGroup\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\n\r\nimport NumericField from \"@/pages/SaveEditor/components/fields/NumericField\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass GeyserEditor extends React.Component<Props> {\r\n  render() {\r\n    const {\r\n      geyserType,\r\n      onGeyserTypeChanged,\r\n      emissionRate,\r\n      onEmissionRateChanged,\r\n      yearLengthRoll,\r\n      onYearLengthRollChanged,\r\n      yearPercentRoll,\r\n      onYearPercentRollChanged,\r\n      iterationLengthRoll,\r\n      onIterationLengthRollChanged,\r\n      iterationPercentRoll,\r\n      onIterationPercentRollChanged\r\n    } = this.props;\r\n\r\n    if (geyserType == null) {\r\n      return (\r\n        <NonIdealState header=\"Unknown geyser type\" intent={Intent.Dangerous}>\r\n          The geyser type was not recognized.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const options = GeyserTypeNames.map(x => ({\r\n      label: x,\r\n      value: x\r\n    }));\r\n\r\n    return (\r\n      <EditorContainer header={<GameObjectHeader>Geyser</GameObjectHeader>}>\r\n        <FormGroup inline label=\"Emission&nbsp;Type\">\r\n          <SelectInput\r\n            options={options}\r\n            value={geyserType}\r\n            onCommit={onGeyserTypeChanged}\r\n          />\r\n        </FormGroup>\r\n        <HelpText>\r\n          The following values are percentage decimals between 0 (0%) and 1\r\n          (100%). They indicate what percentage of the min/max value to use for\r\n          their values.<br />\r\n          The values they represent are determined by the game on a\r\n          per-geyser-type basis, and cannot be changed beyond this percentage\r\n        </HelpText>\r\n        <FormGroup label=\"Emission&nbsp;Rate\">\r\n          <HelpText>\r\n            The percentage selecting the rate of element emission for the geyser\r\n            when the geyser is active.\r\n          </HelpText>\r\n          <NumericInput\r\n            minValue={0}\r\n            maxValue={1}\r\n            precision=\"single\"\r\n            value={emissionRate || 0}\r\n            onCommit={onEmissionRateChanged}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup label=\"Lifecycle Percentages\">\r\n          <FormGroup label=\"Awake / Dormant\">\r\n            <FormGroup label=\"Total Time\">\r\n              <HelpText>\r\n                The percentage selecting the total time period for a full awake\r\n                / dormant cycle of the geyser.\r\n              </HelpText>\r\n              <NumericInput\r\n                minValue={0}\r\n                maxValue={1}\r\n                precision=\"single\"\r\n                value={yearLengthRoll || 0}\r\n                onCommit={onYearLengthRollChanged}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup label=\"Awake Fraction\">\r\n              <HelpText>\r\n                The fraction of the total lifecycle time the geyser remains\r\n                non-dormant.\r\n              </HelpText>\r\n              <NumericInput\r\n                minValue={0}\r\n                maxValue={1}\r\n                precision=\"single\"\r\n                value={yearPercentRoll || 0}\r\n                onCommit={onYearPercentRollChanged}\r\n              />\r\n            </FormGroup>\r\n          </FormGroup>\r\n        </FormGroup>\r\n        <FormGroup label=\"Active / Idle\">\r\n          <FormGroup label=\"Cycle Time\">\r\n            <HelpText>\r\n              The total length of time for the active and idle period to cycle.\r\n            </HelpText>\r\n            <NumericInput\r\n              minValue={0}\r\n              maxValue={1}\r\n              precision=\"single\"\r\n              value={iterationLengthRoll || 0}\r\n              onCommit={onIterationLengthRollChanged}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Active Time\">\r\n            <HelpText>\r\n              The fraction of the cycle time the geyser spends actively emitting\r\n              material.\r\n            </HelpText>\r\n            <NumericInput\r\n              minValue={0}\r\n              maxValue={1}\r\n              precision=\"single\"\r\n              value={iterationPercentRoll || 0}\r\n              onCommit={onIterationPercentRollChanged}\r\n            />\r\n          </FormGroup>\r\n        </FormGroup>\r\n      </EditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(GeyserEditor);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { GeyserBehavior, GeyserType, GeyserTypeNames } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport {\r\n  getCurrentGameObjectBehaviorSelector,\r\n  createCurrentGameObjectBehaviorPropertySelector\r\n} from \"@/selectors/behaviors/utils\";\r\n\r\nconst geyserBehaviorSelector = getCurrentGameObjectBehaviorSelector(\r\n  GeyserBehavior\r\n);\r\n\r\nconst structuredSelector = {\r\n  geyserType: createSelector(geyserBehaviorSelector, behavior => {\r\n    if (!behavior) {\r\n      return null;\r\n    }\r\n\r\n    const type =\r\n      (behavior.templateData.configuration &&\r\n        behavior.templateData.configuration.typeId) ||\r\n      null;\r\n    if (!type) {\r\n      return null;\r\n    }\r\n\r\n    return GeyserType[type.hash] || null;\r\n  }),\r\n  emissionRate: createCurrentGameObjectBehaviorPropertySelector<\r\n    GeyserBehavior,\r\n    number\r\n  >(GeyserBehavior, [\"templateData\", \"configuration\", \"rateRoll\"]),\r\n  yearLengthRoll: createCurrentGameObjectBehaviorPropertySelector<\r\n    GeyserBehavior,\r\n    number\r\n  >(GeyserBehavior, [\"templateData\", \"configuration\", \"yearLengthRoll\"]),\r\n  yearPercentRoll: createCurrentGameObjectBehaviorPropertySelector<\r\n    GeyserBehavior,\r\n    number\r\n  >(GeyserBehavior, [\"templateData\", \"configuration\", \"yearPercentRoll\"]),\r\n  iterationLengthRoll: createCurrentGameObjectBehaviorPropertySelector<\r\n    GeyserBehavior,\r\n    number\r\n  >(GeyserBehavior, [\"templateData\", \"configuration\", \"iterationLengthRoll\"]),\r\n  iterationPercentRoll: createCurrentGameObjectBehaviorPropertySelector<\r\n    GeyserBehavior,\r\n    number\r\n  >(GeyserBehavior, [\"templateData\", \"configuration\", \"iterationPercentRoll\"])\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { GeyserBehavior, GeyserType } from \"oni-save-parser\";\r\n\r\nimport { setCurrentObjectBehaviorValue } from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nconst mapDispatchToProps = {\r\n  onGeyserTypeChanged(type: string) {\r\n    const hash = GeyserType[type];\r\n    if (!hash) {\r\n      return;\r\n    }\r\n    return setCurrentObjectBehaviorValue(\r\n      GeyserBehavior,\r\n      [\"templateData\", \"configuration\", \"typeId\"],\r\n      hash\r\n    );\r\n  },\r\n  onEmissionRateChanged(rate: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      GeyserBehavior,\r\n      [\"templateData\", \"configuration\", \"rateRoll\"],\r\n      rate\r\n    );\r\n  },\r\n  onYearLengthRollChanged(value: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      GeyserBehavior,\r\n      [\"templateData\", \"configuration\", \"yearLengthRoll\"],\r\n      value\r\n    );\r\n  },\r\n  onYearPercentRollChanged(value: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      GeyserBehavior,\r\n      [\"templateData\", \"configuration\", \"yearPercentRoll\"],\r\n      value\r\n    );\r\n  },\r\n  onIterationLengthRollChanged(value: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      GeyserBehavior,\r\n      [\"templateData\", \"configuration\", \"iterationLengthRoll\"],\r\n      value\r\n    );\r\n  },\r\n  onIterationPercentRollChanged(value: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      GeyserBehavior,\r\n      [\"templateData\", \"configuration\", \"iterationPercentRoll\"],\r\n      value\r\n    );\r\n  }\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import * as React from \"react\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport { FontSize, Intent } from \"@/style\";\r\n\r\nconst HelpText: React.SFC = ({ children }) => (\r\n  <Text.Div intent={Intent.Hint} fontSize={FontSize.Small}>\r\n    {children}\r\n  </Text.Div>\r\n);\r\nHelpText.displayName = \"HelpText\";\r\nexport default HelpText;\r\n","import styled from \"@/style\";\r\n\r\nconst SaveEditorContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n`;\r\nexport default SaveEditorContainer;\r\n","import styled, { Space } from \"@/style\";\r\n\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst ContentContainer = styled.div`\r\n  box-sizing: border-box;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: auto;\r\n  flex: 1 1 auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nexport default ContentContainer;\r\n","import styled from \"@/style\";\r\n\r\nconst EditorContainer = styled.div`\r\n  flex: 1 1 auto;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: auto;\r\n`;\r\nEditorContainer.displayName = \"EditorContainer\";\r\nexport default EditorContainer;\r\n","import Sidebar from \"./Sidebar\";\r\nexport default Sidebar;\r\n","import * as React from \"react\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport SidebarContainer from \"./components/SidebarContainer\";\r\n\r\nimport EditorModeSelector from \"./components/EditorModeSelector\";\r\nimport SaveStructureTree from \"./components/SaveStructureTree\";\r\n\r\nconst Sidebar: React.SFC = () => (\r\n  <SidebarContainer>\r\n    <Flex direction=\"column\" height=\"100%\">\r\n      <EditorModeSelector />\r\n      <Flex.Item fillParent constrain=\"column\">\r\n        <SaveStructureTree />\r\n      </Flex.Item>\r\n    </Flex>\r\n  </SidebarContainer>\r\n);\r\nSidebar.displayName = \"Sidebar\";\r\nexport default Sidebar;\r\n","import Panel from \"@/components/Panel\";\r\n\r\nconst SidebarContainer = Panel.extend`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n`;\r\nSidebarContainer.displayName = \"SidebarContainer\";\r\nexport default SidebarContainer;\r\n","import styled from \"@/style\";\r\nimport { WidthProps, HeightProps, width, height } from \"styled-system\";\r\nimport { getTheme } from \"@/style\";\r\n\r\nexport type BoxProps = WidthProps & HeightProps;\r\n\r\nconst Panel = styled<BoxProps, \"div\">(\"div\")`\r\n  ${width};\r\n  ${height};\r\n  background-color: ${props => getTheme(props).colors.bg.panel};\r\n`;\r\nPanel.displayName = \"Panel\";\r\nexport default Panel;\r\n","import EditorModeSelector from \"./EditorModeSelector\";\r\nexport default EditorModeSelector;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport Input from \"@/components/Input\";\r\n\r\ntype Props = DispatchProps;\r\nclass EditorModeSelector extends React.Component<Props> {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Text.Label htmlFor=\"advanced_mode\" intent={Intent.Secondary}>\r\n          Advanced Mode\r\n        </Text.Label>\r\n        <Input\r\n          id=\"advanced_mode\"\r\n          type=\"checkbox\"\r\n          onChange={this._onAdvancedModeChange}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onAdvancedModeChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const { setEditMode } = this.props;\r\n    setEditMode(e.target.checked ? \"advanced\" : \"normal\");\r\n  }\r\n}\r\nexport default connect(\r\n  undefined,\r\n  mapDispatchToProps\r\n)(EditorModeSelector);\r\n","import { setEditMode } from \"@/actions/set-editmode\";\r\n\r\nconst mapDispatchToProps = {\r\n  setEditMode\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import SaveStructureTree from \"./SaveStructureTree\";\r\nexport default SaveStructureTree;\r\n","import * as React from \"react\";\r\n\r\nimport SaveStructureTreeContainer from \"./components/SaveStructureTreeContainer\";\r\nimport SaveStructureItem from \"./components/SaveStructureItem\";\r\n\r\ntype Props = {};\r\nexport default class SaveStructureTree extends React.Component<Props> {\r\n  private _containerRef = React.createRef<HTMLElement>();\r\n\r\n  render() {\r\n    return (\r\n      <SaveStructureTreeContainer innerRef={this._containerRef}>\r\n        <SaveStructureItem\r\n          saveItemPath={[]}\r\n          scrollContainer={this._containerRef}\r\n        />\r\n      </SaveStructureTreeContainer>\r\n    );\r\n  }\r\n}\r\n","import styled from \"@/style\";\r\n\r\nconst SaveStructureTreeContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: auto;\r\n`;\r\nexport default SaveStructureTreeContainer;\r\n","import SaveStructureItem from \"./SaveStructureItem\";\r\nexport default SaveStructureItem;\r\nexport * from \"./props\";\r\n","import * as React from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport scrollIntoView from \"dom-scroll-into-view\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport { SaveStructureItemProps } from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport SaveStructureItemContainer from \"./components/SaveStructureItemContainer\";\r\nimport SaveStructureItemHeader from \"./components/SaveStructureItemHeader\";\r\nimport SaveStructureItemContent from \"./components/SaveStructureItemContent\";\r\n\r\ninterface State {\r\n  isExpanded: boolean;\r\n}\r\n\r\ntype Props = SaveStructureItemProps & StateProps & DispatchProps;\r\nclass SaveStructureItemComponent extends React.Component<Props, State> {\r\n  private _ref: React.RefObject<HTMLDivElement>;\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this._ref = React.createRef();\r\n\r\n    this.state = {\r\n      isExpanded: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.selectionStatus === \"selected\") {\r\n      this._scrollIntoView();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(oldProps: Props) {\r\n    if (\r\n      oldProps.selectionStatus !== \"selected\" &&\r\n      this.props.selectionStatus === \"selected\"\r\n    ) {\r\n      this._scrollIntoView();\r\n    }\r\n  }\r\n\r\n  render(): JSX.Element {\r\n    const { title, selectionStatus, childPaths, scrollContainer } = this.props;\r\n    let { isExpanded } = this.state;\r\n\r\n    const isExpandable = childPaths.length > 0;\r\n\r\n    let titleIntent: Intent;\r\n    switch (selectionStatus) {\r\n      default:\r\n        titleIntent = Intent.Default;\r\n        break;\r\n      case \"in-path\":\r\n        titleIntent = Intent.Secondary;\r\n        isExpanded = isExpandable;\r\n        break;\r\n      case \"selected\":\r\n        titleIntent = Intent.Primary;\r\n        break;\r\n    }\r\n\r\n    let valueElement: React.ReactNode | null = null;\r\n    if (isExpandable && isExpanded) {\r\n      valueElement = childPaths.map(childPath => {\r\n        const key = childPath[childPath.length - 1];\r\n        return (\r\n          <SaveStructureItem\r\n            key={key}\r\n            saveItemPath={childPath}\r\n            scrollContainer={scrollContainer}\r\n          />\r\n        );\r\n      });\r\n    }\r\n\r\n    return (\r\n      <SaveStructureItemContainer>\r\n        <SaveStructureItemHeader\r\n          innerRef={this._ref}\r\n          expandable={isExpandable}\r\n          expanded={isExpanded}\r\n          header={title}\r\n          intent={titleIntent}\r\n          onClick={this._onClick}\r\n          onExpandToggle={this._onExpandToggle}\r\n        />\r\n        <SaveStructureItemContent>{valueElement}</SaveStructureItemContent>\r\n      </SaveStructureItemContainer>\r\n    );\r\n  }\r\n\r\n  private _scrollIntoView() {\r\n    const htmlElement = this._ref.current;\r\n    const { childPaths, scrollContainer } = this.props;\r\n\r\n    if (childPaths.length > 0) {\r\n      this.setState({\r\n        isExpanded: true\r\n      });\r\n    }\r\n\r\n    if (htmlElement && scrollContainer.current) {\r\n      scrollIntoView(htmlElement, scrollContainer.current, {\r\n        allowHorizontalScroll: true,\r\n        onlyScrollIfNeeded: true,\r\n        offsetBottom: 125,\r\n        offsetTop: 125\r\n      });\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onClick() {\r\n    const { saveItemPath, onClick } = this.props;\r\n    this.setState({\r\n      isExpanded: true\r\n    });\r\n    onClick(saveItemPath);\r\n  }\r\n\r\n  @autobind()\r\n  private _onExpandToggle() {\r\n    this.setState({\r\n      isExpanded: !this.state.isExpanded\r\n    });\r\n  }\r\n}\r\nconst SaveStructureItem = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SaveStructureItemComponent);\r\nexport default SaveStructureItem;\r\n","import { SaveGame } from \"oni-save-parser\";\r\nimport createCachedSelector from \"re-reselect\";\r\n\r\nimport naturalCompare from \"string-natural-compare\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport {\r\n  EditMode,\r\n  getSaveItemTitle,\r\n  getSaveItemChildPaths\r\n} from \"@/services/save-structure\";\r\n\r\nimport oniSaveSelector from \"@/selectors/oni-save\";\r\nimport selectedPathSelector from \"@/selectors/selected-path\";\r\nimport editModeSelector from \"@/selectors/edit-mode\";\r\n\r\nimport { SaveStructureItemProps } from \"./props\";\r\n\r\nconst cacheKeyGenerator = (_: AppState, props: SaveStructureItemProps) =>\r\n  props.saveItemPath.join(\".\");\r\n\r\nconst itemPathSelector = (_: AppState, props: SaveStructureItemProps) =>\r\n  props.saveItemPath;\r\n\r\nconst title = createCachedSelector<\r\n  AppState,\r\n  SaveStructureItemProps,\r\n  string[],\r\n  SaveGame | null,\r\n  string\r\n>(\r\n  itemPathSelector,\r\n  oniSaveSelector,\r\n  (path, saveGame) =>\r\n    saveGame ? getSaveItemTitle(path, saveGame) : \"[undefined]\"\r\n)(cacheKeyGenerator);\r\n\r\nconst selectionStatus = createCachedSelector<\r\n  AppState,\r\n  SaveStructureItemProps,\r\n  string[],\r\n  string[],\r\n  \"unselected\" | \"in-path\" | \"selected\"\r\n>(itemPathSelector, selectedPathSelector, (itemPath, selectedPath) => {\r\n  const isSelected = itemPath.every((x, i) => selectedPath[i] == x);\r\n  if (!isSelected) {\r\n    return \"unselected\";\r\n  }\r\n\r\n  if (itemPath.length === selectedPath.length) {\r\n    return \"selected\";\r\n  }\r\n\r\n  return \"in-path\";\r\n})(cacheKeyGenerator);\r\n\r\nconst childPaths = createCachedSelector<\r\n  AppState,\r\n  SaveStructureItemProps,\r\n  string[],\r\n  SaveGame | null,\r\n  EditMode,\r\n  string[][]\r\n>(\r\n  itemPathSelector,\r\n  oniSaveSelector,\r\n  editModeSelector,\r\n  (path, saveGame, editMode) => {\r\n    if (saveGame == null) {\r\n      return [];\r\n    }\r\n\r\n    // Note: This is a pretty heavy operation.  We recurse the save\r\n    //  to find the child items, then scan every path for both\r\n    //  items during sort.\r\n    const childItems = getSaveItemChildPaths(path, saveGame, editMode);\r\n    return childItems.sort((a, b) => {\r\n      const aTitle = getSaveItemTitle(a, saveGame);\r\n      const bTitle = getSaveItemTitle(b, saveGame);\r\n      return naturalCompare(aTitle, bTitle);\r\n    });\r\n  }\r\n)(cacheKeyGenerator);\r\n\r\nconst mapStateToProps = function(\r\n  state: AppState,\r\n  props: SaveStructureItemProps\r\n) {\r\n  // Do not use createStructuredSelector here, as that itself\r\n  //  creates a selector that will go nuts over our multi instance props.\r\n  const stateProps = {\r\n    title: title(state, props),\r\n    selectionStatus: selectionStatus(state, props),\r\n    childPaths: childPaths(state, props)\r\n  };\r\n\r\n  return stateProps;\r\n};\r\nexport type StateProps = ReturnType<typeof mapStateToProps>;\r\nexport default mapStateToProps;\r\n","import { selectPath } from \"@/actions/select-path\";\r\n\r\nconst mapDispatchToProps = {\r\n  onClick: selectPath\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import styled from \"@/style\";\r\n\r\nconst SaveStructureItemContainer = styled.div``;\r\nSaveStructureItemContainer.displayName = \"SaveStructureItemContainer\";\r\nexport default SaveStructureItemContainer;\r\n","import SaveStructureItemHeader from \"./SaveStructureItemHeader\";\r\nexport default SaveStructureItemHeader;\r\n","import * as React from \"react\";\r\n\r\nimport styled from \"@/style\";\r\n\r\nimport Expander from \"./components/Expander\";\r\nimport ItemText from \"./components/ItemText\";\r\nimport { Intent } from \"@/style\";\r\n\r\nexport interface SaveStructureItemHeaderProps {\r\n  expandable: boolean;\r\n  expanded: boolean;\r\n  header: string;\r\n  intent: Intent;\r\n  innerRef?: React.RefObject<HTMLDivElement>;\r\n  onClick(): void;\r\n  onExpandToggle(): void;\r\n}\r\n\r\nconst SaveStructureItemHeaderContainer = styled.span`\r\n  white-space: nowrap;\r\n  cursor: pointer;\r\n`;\r\nSaveStructureItemHeaderContainer.displayName = \"SaveStructureItemContainer\";\r\n\r\nconst SaveStructureItemHeader: React.SFC<\r\n  SaveStructureItemHeaderProps & { className?: string }\r\n> = ({\r\n  className,\r\n  expandable,\r\n  expanded,\r\n  header,\r\n  intent,\r\n  onClick,\r\n  onExpandToggle,\r\n  innerRef\r\n}) => (\r\n  <SaveStructureItemHeaderContainer innerRef={innerRef} className={className}>\r\n    {expandable && (\r\n      <Expander\r\n        expanded={expanded}\r\n        onClick={expandable ? onExpandToggle : undefined}\r\n      />\r\n    )}\r\n    <ItemText intent={intent} onClick={onClick}>\r\n      {header}\r\n    </ItemText>\r\n  </SaveStructureItemHeaderContainer>\r\n);\r\nSaveStructureItemHeader.displayName = \"SaveStructureItemHeader\";\r\nexport default SaveStructureItemHeader;\r\n","import * as React from \"react\";\r\n\r\nconst ICON_SIZE = 10;\r\nconst ICON_EXPANDED = \"M 0 .25 L .5 .75 L 1 .25 z\";\r\nconst ICON_COLLAPSED = \"M .5 0 L 1 .5 L .5 1 z\";\r\n\r\nexport interface ExpanderProps {\r\n  expanded: boolean;\r\n  onClick?(): void;\r\n}\r\nconst Expander: React.SFC<ExpanderProps & { className?: string }> = ({\r\n  className,\r\n  expanded,\r\n  onClick\r\n}) => (\r\n  <svg\r\n    className={className}\r\n    width={ICON_SIZE}\r\n    height={ICON_SIZE}\r\n    viewBox={`0 0 1 1`}\r\n    onClick={onClick}\r\n  >\r\n    <path d={expanded ? ICON_EXPANDED : ICON_COLLAPSED} fill=\"black\" />\r\n  </svg>\r\n);\r\nexport default Expander;\r\n","import { getTheme, Space } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\n\r\nconst ItemText = Text.extend`\r\n  margin-left: ${props => getTheme(props).space[Space.Small]}px;\r\n`;\r\nexport default ItemText;\r\n","import styled from \"@/style\";\r\n\r\nconst SaveStructureItemContent = styled.div`\r\n  padding-left: 15px;\r\n`;\r\nexport default SaveStructureItemContent;\r\n","import styled from \"@/style\";\r\n\r\nimport { WidthProps, SpaceProps, width, space } from \"styled-system\";\r\n\r\nimport { Color, getThemeColor } from \"@/style\";\r\n\r\nexport interface SeparatorProps extends WidthProps, SpaceProps {\r\n  color?: Color;\r\n}\r\nconst Separator = styled<SeparatorProps, \"div\">(\"div\")`\r\n  border-bottom: 2px solid;\r\n  border-color: ${props =>\r\n    getThemeColor(props.color || Color.DefaultSeparator)(props)};\r\n  ${width};\r\n  ${space};\r\n  height: 2px;\r\n`;\r\nSeparator.displayName = \"Separator\";\r\nexport default Separator;\r\n","import styled from \"@/style\";\r\n\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst AppContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n  background-color: ${props => getTheme(props).colors.bg.default};\r\n`;\r\nAppContainer.displayName = \"AppContainer\";\r\nexport default AppContainer;\r\n","import styled from \"@/style\";\r\n\r\nconst AppContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  flex: 1 1 auto;\r\n  overflow: auto;\r\n`;\r\nAppContainer.displayName = \"AppContainer\";\r\nexport default AppContainer;\r\n","import NavBarContainer from \"./NavBar\";\r\nexport default NavBarContainer;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { Trans, translate } from \"react-i18next\";\r\n\r\nimport { isProd } from \"@/runtime-env\";\r\n\r\nimport { Intent, FontSize } from \"@/style\";\r\n\r\nimport Icon from \"@/components/Icon\";\r\nimport Button from \"@/components/Button\";\r\n\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NavBarContainer from \"./components/NavBarContainer\";\r\n\r\nimport NavBarGroup from \"./components/NavBarGroup\";\r\nimport NavBarTitleText from \"./components/NavBarTitleText\";\r\nimport SettingsButton from \"./components/SettingsButton\";\r\n\r\ntype Props = DispatchProps;\r\nclass NavBar extends React.Component<Props> {\r\n  private _input: HTMLElement | null = null;\r\n\r\n  render() {\r\n    const { onLoadTestData } = this.props;\r\n    return (\r\n      <NavBarContainer>\r\n        <NavBarTitleText>Duplicity</NavBarTitleText>\r\n        <NavBarGroup>\r\n          <input\r\n            ref={el => (this._input = el)}\r\n            style={{ display: \"none\" }}\r\n            type=\"file\"\r\n            accept=\".sav\"\r\n            onChange={this._onLoadFileInput}\r\n          />\r\n          <Button onClick={this._onLoadFileClick} verticalAlign=\"middle\">\r\n            <Trans i18nKey={\"load-file.load\"}>Load</Trans>\r\n          </Button>\r\n          {!isProd && (\r\n            <Button onClick={onLoadTestData} verticalAlign=\"middle\">\r\n              Test\r\n            </Button>\r\n          )}\r\n          <Button\r\n            intent={Intent.Primary}\r\n            onClick={this._onSaveFileClick}\r\n            verticalAlign=\"middle\"\r\n          >\r\n            <Trans i18nKey={\"load-file.load\"}>Save</Trans>\r\n          </Button>\r\n          <a\r\n            title=\"Github\"\r\n            href=\"https://github.com/RoboPhred/oni-duplicity\"\r\n            target=\"_blank\"\r\n          >\r\n            <Icon.Github\r\n              intent={Intent.Hint}\r\n              fontSize={FontSize.Heading}\r\n              verticalAlign=\"middle\"\r\n            />\r\n          </a>\r\n          <SettingsButton />\r\n        </NavBarGroup>\r\n      </NavBarContainer>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onLoadFileClick() {\r\n    if (!this._input) {\r\n      return;\r\n    }\r\n    this._input.click();\r\n  }\r\n\r\n  @autobind()\r\n  private _onLoadFileInput(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const files = e.target.files;\r\n    if (!files || files.length === 0) {\r\n      return;\r\n    }\r\n    const file = files[0];\r\n\r\n    const { onLoad } = this.props;\r\n    onLoad(file);\r\n  }\r\n\r\n  @autobind()\r\n  private _onSaveFileClick() {\r\n    const { onSave } = this.props;\r\n    const fileName = withExtension(\"my-file\", \".sav\");\r\n    onSave(fileName);\r\n  }\r\n}\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(translate()(NavBar));\r\n\r\nfunction withExtension(name: string, ext: string): string {\r\n  if (name.endsWith(ext)) return name;\r\n  return name + ext;\r\n}\r\n","import testData from \"@/__mocks__/save-game.json\";\r\n\r\nimport { loadOniSave } from \"@/actions/load-onisave\";\r\nimport { saveOniSave } from \"@/actions/save-onisave\";\r\n\r\nimport { receiveOniSaveSuccess } from \"@/actions/receive-onisave\";\r\n\r\nconst mapDispatchToProps = {\r\n  onLoad: loadOniSave,\r\n  onLoadTestData: () => receiveOniSaveSuccess(testData as any),\r\n  onSave: saveOniSave\r\n};\r\nexport default mapDispatchToProps;\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\n","import styled from \"@/style\";\r\n\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst NavBarContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: \"row\";\r\n  width: 100%;\r\n  padding-top: 5px;\r\n  padding-bottom: 5px;\r\n  box-sizing: border-box;\r\n  background-color: ${props => getTheme(props).colors.bg.navbar};\r\n`;\r\nNavBarContainer.displayName = \"NavBarContainer\";\r\nexport default NavBarContainer;\r\n","import styled from \"@/style\";\r\n\r\nconst NavBarGroup = styled.div`\r\n  margin-left: auto;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  align-self: center;\r\n`;\r\nNavBarGroup.displayName = \"NavBarGroup\";\r\nexport default NavBarGroup;\r\n","import styled from \"@/style\";\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst NavBarTitleText = styled.span`\r\n  font-size: 2em;\r\n  margin-left: 5px;\r\n  color: ${props => getTheme(props).colors.intent.primary};\r\n`;\r\nNavBarTitleText.displayName = \"NavBarTitleText\";\r\nexport default NavBarTitleText;\r\n","import * as React from \"react\";\r\n\r\nimport { FontSize } from \"@/style\";\r\n\r\nimport DropdownMenuButton from \"@/components/DropdownMenuButton\";\r\nimport Icon from \"@/components/Icon\";\r\n\r\nimport LanguageMenuButton from \"./LanguageMenuButton\";\r\n\r\nexport default class SettingsButton extends React.Component {\r\n  render() {\r\n    return (\r\n      <DropdownMenuButton\r\n        button={\r\n          <Icon.Settings fontSize={FontSize.Heading} verticalAlign=\"middle\" />\r\n        }\r\n      >\r\n        <LanguageMenuButton lang=\"en\">English&nbsp;(en)</LanguageMenuButton>\r\n        <LanguageMenuButton lang=\"zh\">Chinese&nbsp;(zh)</LanguageMenuButton>\r\n      </DropdownMenuButton>\r\n    );\r\n  }\r\n}\r\n","import DropdownMenuButton from \"./DropdownMenuButton\";\r\nexport default DropdownMenuButton;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport DropdownMenuContainer from \"./components/DropdownMenuContainer\";\r\nimport DropdownMenuPanel from \"./components/DropdownMenuPanel\";\r\n\r\nimport Menu from \"@/components/Menu\";\r\n\r\nexport interface DropdownMenuButtonProps {\r\n  button: React.ReactNode;\r\n}\r\n\r\ntype Props = DropdownMenuButtonProps;\r\ninterface State {\r\n  isOpen: boolean;\r\n}\r\nexport default class DropdownMenu extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isOpen: false\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { button } = this.props;\r\n    const { isOpen } = this.state;\r\n    return (\r\n      <span>\r\n        <span onClick={this._toggleDropdown}>{button}</span>\r\n        {isOpen && this._renderDropDown()}\r\n      </span>\r\n    );\r\n  }\r\n\r\n  private _renderDropDown(): JSX.Element {\r\n    const { children } = this.props;\r\n    return (\r\n      <DropdownMenuContainer>\r\n        <DropdownMenuPanel>\r\n          <Menu onMouseLeave={this._closeDropdown}>{children}</Menu>\r\n        </DropdownMenuPanel>\r\n      </DropdownMenuContainer>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _toggleDropdown() {\r\n    this.setState({\r\n      isOpen: !this.state.isOpen\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _closeDropdown() {\r\n    this.setState({\r\n      isOpen: false\r\n    });\r\n  }\r\n}\r\n","import styled from \"@/style\";\r\n\r\nconst DropdownMenuContainer = styled.div`\r\n  position: relative;\r\n`;\r\nDropdownMenuContainer.displayName = \"DropdownMenuContainer\";\r\nexport default DropdownMenuContainer;\r\n","import styled, { border, getThemeColor, Border, Color } from \"@/style\";\r\n\r\nconst DropdownMenuPanel = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n`;\r\nDropdownMenuPanel.displayName = \"DropdownMenuPanel\";\r\nexport default DropdownMenuPanel;\r\n","import Menu from \"./Menu\";\r\nexport default Menu;\r\n","import * as React from \"react\";\r\nimport styled, {\r\n  getThemeColor,\r\n  Color,\r\n  Border,\r\n  getThemeBorder,\r\n  getThemeSpace,\r\n  Space\r\n} from \"@/style\";\r\n\r\ninterface MenuItemWrapperProps {\r\n  expandedLeft: boolean;\r\n  expandedRight: boolean;\r\n}\r\n\r\nconst MenuItemWrapper = styled<MenuItemWrapperProps, \"li\">(\"li\")`\r\n  box-sizing: content-box;\r\n  list-style: none;\r\n  margin: 0;\r\n  padding: ${getThemeSpace(Space.Small)}px;\r\n\r\n  ${props =>\r\n    !props.expandedLeft\r\n      ? `border-left: ${getThemeBorder(Border.Normal)}\r\n    ${getThemeColor(Color.SecondaryIntent)}`\r\n      : undefined};\r\n\r\n  ${props =>\r\n    !props.expandedRight\r\n      ? `border-right: ${getThemeBorder(Border.Normal)}\r\n    ${getThemeColor(Color.SecondaryIntent)}`\r\n      : undefined};\r\n\r\n  :first-child {\r\n    border-top: ${getThemeBorder(Border.Normal)}\r\n      ${getThemeColor(Color.SecondaryIntent)};\r\n  }\r\n\r\n  :last-child {\r\n    border-bottom: ${getThemeBorder(Border.Normal)}\r\n      ${getThemeColor(Color.SecondaryIntent)};\r\n  }\r\n`;\r\n\r\nconst MenuContainer = styled.ul`\r\n  box-sizing: content-box;\r\n  background: ${getThemeColor(Color.PanelBackground)};\r\n  list-style: none;\r\n  margin: 0;\r\n  padding: 0;\r\n`;\r\n\r\nexport interface MenuProps extends React.HTMLAttributes<HTMLUListElement> {}\r\nexport default class Menu extends React.Component<MenuProps> {\r\n  render() {\r\n    const { children, ...props } = this.props;\r\n    const menuItems = React.Children.map(children, (child, i) => (\r\n      <MenuItemWrapper expandedLeft={false} expandedRight={false}>\r\n        {child}\r\n      </MenuItemWrapper>\r\n    ));\r\n    return <MenuContainer {...props}>{menuItems}</MenuContainer>;\r\n  }\r\n}\r\n","import LanguageMenuButton from \"./LanguageMenuButton\";\r\nexport { LanguageMenuButtonProps } from \"./LanguageMenuButton\";\r\nexport default LanguageMenuButton;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Button from \"@/components/Button\";\r\n\r\nexport interface LanguageMenuButtonProps {\r\n  lang: string;\r\n}\r\ntype Props = LanguageMenuButtonProps & StateProps & DispatchProps;\r\nconst LanguageMenuButton: React.SFC<Props> = ({\r\n  lang,\r\n  language,\r\n  onSetLanguage,\r\n  children\r\n}) => (\r\n  <Button\r\n    intent={lang === language ? Intent.Primary : Intent.Secondary}\r\n    onClick={() => onSetLanguage(lang)}\r\n  >\r\n    {children}\r\n  </Button>\r\n);\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(LanguageMenuButton);\r\n","import { setLanguage } from \"@/actions/set-language\";\r\n\r\nconst mapDispatchToProps = {\r\n  onSetLanguage: setLanguage\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport language from \"@/selectors/language\";\r\n\r\nconst stateSelectors = {\r\n  language\r\n};\r\nexport type StateProps = StructuredStateProps<typeof stateSelectors>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  stateSelectors\r\n);\r\nexport default mapStateToProps;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst languageSelector = (state: AppState) => state.language;\r\nexport default languageSelector;\r\n"],"sourceRoot":""}