{"version":3,"sources":["webpack:///./src/services/save-editor/duplicants/selectors.ts","webpack:///./src/state/utils.ts","webpack:///./src/services/save-editor/behaviors.ts","webpack:///./src/services/save-editor/state.ts","webpack:///./src/services/save-editor/duplicants/actions.ts","webpack:///./src/logging/index.ts","webpack:///./src/services/save-editor/selectors.ts","webpack:///./src/action-utils.ts","webpack:///./src/services/save-editor/savefile/actions.ts","webpack:///./src/services/save-editor/reducer-utils.ts","webpack:///./src/services/save-editor/duplicants/appearance/utils.ts","webpack:///./src/state/saga.ts","webpack:///./src/services/save-editor/duplicants/resume/actions.ts","webpack:///./src/services/save-editor/duplicants/appearance/actions.ts","webpack:///./src/services/save-editor/savefile/selectors.ts","webpack:///./src/services/save-editor/savefile/save-loader.worker.ts","webpack:///./src/services/save-editor/savefile/saga.ts","webpack:///./src/services/save-editor/saga.ts","webpack:///./src/services/save-editor/duplicants/resume/reducer.ts","webpack:///./src/services/save-editor/duplicants/appearance/reducer.ts","webpack:///./src/services/save-editor/duplicants/reducer.ts","webpack:///./src/services/save-editor/savefile/reducer.ts","webpack:///./src/services/save-editor/reducer.ts","webpack:///./src/state/reducer.ts","webpack:///./src/state/store.ts","webpack:///./src/pages/SaveEditor/pages/404/component.tsx","webpack:///./src/pages/SaveEditor/pages/404/index.ts","webpack:///./CHANGELOG.md","webpack:///./src/pages/SaveEditor/pages/Changelog/component.tsx","webpack:///./src/pages/SaveEditor/pages/Changelog/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Effects/dispatch.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Effects/selectors.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Effects/effects.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Effects/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Effects/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Jobs/pages/Roles/dispatch.tsx","webpack:///./src/services/save-editor/duplicants/resume/selectors.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Jobs/pages/Roles/selectors.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Jobs/pages/Roles/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Jobs/pages/Roles/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Jobs/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Jobs/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Traits/traits.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Traits/dispatch.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Traits/selectors.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Traits/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Traits/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Skills/dispatch.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Skills/selectors.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Skills/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Skills/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Appearance/dispatch.ts","webpack:///./src/services/save-editor/duplicants/appearance/selectors.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Appearance/selectors.ts","webpack:///./src/services/save-editor/duplicants/appearance/accessories.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Appearance/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Appearance/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/General/dispatch.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/General/selectors.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/General/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/General/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/dispatch.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/selectors.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantsList/selectors.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantPortrait/selectors.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantPortrait/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantPortrait/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantsList/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantsList/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/index.ts","webpack:///./src/components/ActiveAwareLink/component.tsx","webpack:///./src/components/ActiveAwareLink/index.ts","webpack:///./src/pages/SaveEditor/component.tsx","webpack:///./src/pages/SaveEditor/index.ts","webpack:///./src/pages/LoadingSaveFile/component.tsx","webpack:///./src/pages/LoadingSaveFile/index.ts","webpack:///./src/pages/NoSaveLoaded/dispatch.ts","webpack:///./src/pages/NoSaveLoaded/selectors.ts","webpack:///./src/pages/NoSaveLoaded/component.tsx","webpack:///./src/pages/NoSaveLoaded/index.ts","webpack:///./src/pages/Error/dispatch.ts","webpack:///./src/pages/Error/selectors.ts","webpack:///./src/pages/Error/component.tsx","webpack:///./src/pages/Error/index.ts","webpack:///./src/components/App/dispatch.ts","webpack:///./src/components/App/selectors.ts","webpack:///./src/components/App/component.tsx","webpack:///./src/components/App/index.ts","webpack:///./src/app.tsx","webpack:///./src/css/root.scss","webpack:///./src/css/root.scss?3097","webpack:///./src/css/index.ts","webpack:///./src/index.tsx"],"names":["reselect_1","__webpack_require__","selectors_1","behaviors_1","makeGetDuplicantByID","propKey","createSelector","exports","duplicantsMap","_","props","id","Object","prototype","hasOwnProperty","call","makeGetDuplicantSkills","source","selector","makeGetBehaviorByName","AIAttributeLevelsBehavior","levelBehavior","parsedData","saveLoadLevels","makeGetDuplicantTraits","AITraitsBehavior","traitsBehavior","TraitIds","makeGetDuplicantEffects","AIEffectsBehavior","effectsBehavior","saveLoadEffects","makeGetDuplicantHealthState","HealthBehavior","healthBehavior","State","makeGetDuplicantScale","gameObject","scale","makeGetDuplicantGender","MinionIdentityBehavior","identityBehavior","gender","makeGetDuplicantVoice","voiceIdx","duplicants","makeGetGameObjectsByType","duplicantsIDs","ids","duplicant","idBehavior","getBehavior","KPrefabIDBehavior","push","InstanceID","dups","createStructuredSelector","selectors","selectorCreator","name","behaviors","find","x","AccessorizerBehavior","MinionResumeBehavior","defaultSaveEditorState","fileName","isLoading","isSaving","loadError","saveGame","normalizedIDs","saveEditorStateKey","action_utils_1","ACTION_DUPLICANT_RENAME","renameDuplicant","createAction","ACTION_DUPLICANT_SKILL_SET_LEVEL","setDuplicantSkillLevel","ACTION_DUPLICANT_SKILL_SET_EXPERIENCE","setDuplicantSkillExperience","ACTION_DUPLICANT_TRAITS_SET","setDuplicantTraits","ACTION_DUPLICANT_EFFECTS_ADD","addDuplicantEffect","ACTION_DUPLICANT_EFFECTS_SETTIME","setDuplicantEffectTime","ACTION_DUPLICANT_EFFECTS_REMOVE","removeDuplicantEffect","ACTION_DUPLICANT_HEALTH_STATE_SET","setDuplicantHealthState","ACTION_DUPLICANT_SCALE_SET","setDuplicantScale","ACTION_DUPLICANT_GENDER_SET","setDuplicantGender","ACTION_DUPLICANT_VOICE_SET","setDuplicantVoice","failureType","ACTION_INVALID","SAVEFILE_CORRUPT","STATE_CORRUPT","MISSING_BEHAVIOR","warning","message","console","warn","error","freeze","seal","FAILURE_TYPE","saveEditor","state","type","gameObjects","gameObjectSelector","behaviorName","body","redux_actions_1","payloadCreator","ACTION_SAVEFILE_LOAD","loadSavefile","ACTION_SAVEFILE_SAVE","saveSavefile","ACTION_SAVEFILE_SAVE_START","saveSavefileStarted","ACTION_SAVEFILE_SAVE_END","saveSavefileEnded","ACTION_SAVEFILE_RECEIVED","savefileReceived","logging_1","modifyGameObject","action","prefabID","modifier","location","index","newGameObject","assign","[object Object]","slice","modifyBehavior","normalizedId","behaviorIndex","findIndex","behavior","newBehavior","ACCESSORY_PREFIX","TYPE_EXTRACTOR_REGEX","getIndexOfType","accessories","acc","guid","Guid","match","exec","getAccessoryType","accessoryID","getAccessoryOrdinal","Number","makeAccessoryID","ordinal","leftPad","getAccessoryOfType","str","pad","length","String","redux_saga_1","__importDefault","effects_1","saga_1","sagaMiddleware","default","runSaga","run","fork","ACTION_DUPLICANT_ROLE_CURRENT_SET","setDuplicantCurrentRole","ACTION_DUPLICANT_ROLE_TARGET_SET","setDuplicantTargetRole","ACTION_DUPLICANT_ROLE_MASTERY_SET","setDuplicantRoleMastery","ACTION_DUPLICANT_ROLE_EXPERIENCE_SET","setDuplicantRoleExperience","ACTION_DUPLICANT_APPEARANCE_EYES_SET","setDuplicantEyes","ACTION_DUPLICANT_APPEARANCE_HAIR_SET","setDuplicantHair","ACTION_DUPLICANT_APPEARANCE_HEAD_SET","setDuplicantHead","ACTION_DUPLICANT_APPEARANCE_MOUTH_SET","setDuplicantMouth","ACTION_DUPLICANT_APPEARANCE_BODY_SET","setDuplicantBody","isSaveChosen","Boolean","saveFileName","isSaveLoaded","isSaveLoading","isSaveSaving","isSaveEnabled","module","Worker","p","file_saver_1","actions_1","save_loader_worker_1","worker","loadSaveFile","file","payload","reader","FileReader","loadGamePromise","Promise","accept","reject","onload","result","onerror","readAsArrayBuffer","then","buffer","e","onmessage","data","cmd","command","postMessage","put","err","log","select","saveDataPromise","save","saveData","blob","Blob","saveAs","handleSaveOrLoad","take","default_1","state_1","reducer_utils_1","duplicantAccessoriesReducer","_action","duplicantID","roleID","currentRole","targetRole","mastery","MasteryByRoleID","Map","Array","from","entries","concat","experience","ExperienceByRoleID","utils_1","modifyAccessory","accessoryType","oldAccessories","accIndex","newAccessory","reducer_1","reducer_2","duplicantsReducer","duplicantsRootReducer","skillId","level","levels","skillIndex","attributeId","traitIDs","gameObjectIndex","effectID","timeRemaining","effects","effectIndex","healthState","scaleX","scaleY","y","genderStringKey","saveFileReducer","prefabType","prefabs","i","isNaN","reducers","saveEditorReducer","reducer","redux_1","combineReducers","middleware","store","createStore","applyMiddleware","React","__importStar","core_1","icons_1","DuplicantsPage","Component","createElement","NonIdealState","className","visual","IconNames","ERROR","component_1","react_markdown_1","changelog","ChangelogPage","mapDispatchToProps","dispatch","bindActionCreators","addEffect","removeEffect","setEffectTime","mapStateToProps","EFFECTS","react_redux_1","core_decorators_1","select_1","StringSelect","Select","ofType","dispatch_1","DuplicantEffects","this","rows","map","DuplicantEffectRow","key","onChangeTime","_onEffectChangeTime","onRemove","_onEffectRemoved","items","itemPredicate","_filterItem","itemRenderer","_renderItem","onItemSelect","_onEffectSelected","filterable","resetOnClose","resetOnSelect","popoverProps","minimal","Button","rightIcon","text","query","item","toLowerCase","indexOf","effect","itemProps","modifiers","handleClick","matchesPredicate","MenuItem","active","onClick","__decorate","autobind","connect","super","NumericInput","value","clampValueOnBlur","min","onValueChange","_onTimeRemainingChange","icon","SMALL_CROSS","_onRemove","setCurrentRole","setTargetRole","setMastery","setExperience","selectors_2","makeGetDuplicantCurrentRole","resumeBehavior","makeGetDuplicantTargetRole","makeGetDuplicantRoleDetails","statusByKey","keys","dupSelector","roles","DuplicantJobsPage","knownRoles","Set","JobRow","jobID","_setMastery","_setExperience","_onCurrentRoleSelected","_onTargetRoleSelected","checked","onChange","_onSetMastery","_onSetExperience","change","target","Roles_1","DuplicantRolesPage","Tabs","vertical","renderActiveTabPanelOnly","Tab","title","panel","disabled","TRAITS","setTraits","traits","traits_1","TraitMultiSelect","MultiSelect","DuplicantTraits","selectedItems","_onTagSelected","tagRenderer","tag","tagInputProps","_onTagRemoved","noResults","newTraits","splice","trait","isSelected","TICK","BLANK","shouldDismissPopover","setLevel","skills","DuplicantSkills","DuplicantSkillRow","onChangeLevel","_onChangeLevel","onChangeExperience","_onChangeExperience","_onLevelChange","_onExperienceChange","Math","round","setEyes","setHair","setHead","setMouth","setBody","makeGetDuplicantAppearanceMaker","accessorizerBehavior","accessory","makeGetDuplicantEyes","makeGetDuplicantHair","makeGetDuplicantHead","makeGetDuplicantMouth","makeGetDuplicantBody","eyes","hair","head","mouth","EYES","HEADS","MOUTHS","HAIRS","BODIES","accessories_1","DuplicantAccessoryPage","AppearanceGroup","onSet","_onSet","setGender","setVoice","setScale","setHealthState","NumberSelect","HEALTH_STATE","MIN_SCALE","EPSILON","DuplicantGeneralPage","healthStateStr","_onGenderSelected","_onVoiceSelected","_onScaleX","_onScaleY","_onHealthStateSelected","stateIndex","General_1","Appearance_1","Skills_1","Traits_1","Jobs_1","Effects_1","DuplicantEditor","rename","EditableText","_onNameChange","onConfirm","_onRename","setState","s","DuplicantPortrait","role","outerClassName","Card","interactive","_onClick","DuplicantPortrait_1","DuplicantsList","selectedDuplicantID","elements","_onDuplicantClick","onDuplicantClick","DuplicantsList_1","DuplicantEditor_1","content","MUGSHOT","_onDuplicantSelected","react_router_1","react_router_dom_1","ActiveAwareLink","_a","to","children","exact","staticContext","other","__rest","pathName","pathname","startsWith","toString","Link","event","preventDefault","withRouter","ActiveAwareLink_1","Duplicants_1","Changelog_1","_404_1","SaveEditorPageComponent","MenuDivider","Switch","Redirect","Route","path","component","LoadingSaveFilePageComponent","Text","Spinner","large","saveDescription","savePath","NoSaveLoadedPageComponent","_input","FLOPPY_DISK","intent","Intent","PRIMARY","_onLoadClick","description","ref","el","style","display","_onLoadFile","click","files","ErrorPageComponent","Error","stack","Error_1","NoSaveLoaded_1","LoadingSaveFile_1","SaveEditor_1","AppComponent","rootComponent","requireExactPath","Navbar","NavbarGroup","NavbarHeading","ellipsize","align","Alignment","RIGHT","UPLOAD","_onSaveClick","Dialog","isOpen","SAVED","isCloseButtonShown","react_hot_loader_1","App_1","hot","options","hmr","transform","insertInto","undefined","locals","ReactDOM","app_1","store_1","rootEl","document","getElementById","render","Provider","HashRouter"],"mappings":"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","file":"client.2356e30f8b10610a5101.bundle.js","sourcesContent":["\r\nimport { GameObject } from \"oni-save-parser\";\r\nimport { createSelector, ParametricSelector } from \"reselect\";\r\nimport { Vector3 } from \"oni-save-parser/dts/interfaces\";\r\n\r\nimport { AppState } from \"../../../state\";\r\n\r\nimport { makeGetGameObjectsByType, makeGetBehaviorByName } from \"../selectors\";\r\n\r\nimport {\r\n    getBehavior,\r\n    KPrefabIDBehavior,\r\n    MinionIdentityBehavior,\r\n    AIAttributeLevelsBehavior,\r\n    AttributeLevel,\r\n    AITraitsBehavior,\r\n    AIEffectsBehavior,\r\n    EffectInstance,\r\n    HealthBehavior,\r\n    AccessorizerBehavior,\r\n    Accessory\r\n} from \"../behaviors\";\r\nimport { Gender } from \"./interfaces\";\r\n\r\n\r\nexport const duplicants = makeGetGameObjectsByType(\"Minion\");\r\nexport const duplicantsIDs = createSelector(\r\n    duplicants,\r\n    duplicants => {\r\n        const ids: number[] = [];\r\n        for (let duplicant of duplicants) {\r\n            const idBehavior = getBehavior(duplicant, KPrefabIDBehavior);\r\n            if (idBehavior && idBehavior.parsedData) {\r\n                ids.push(idBehavior.parsedData.InstanceID);\r\n            }\r\n        }\r\n        return ids;\r\n    }\r\n);\r\n\r\nexport const duplicantsMap = createSelector(\r\n    duplicants,\r\n    duplicants => {\r\n        const dups: {[key: number]: GameObject} = {};\r\n        for (let duplicant of duplicants) {\r\n            const idBehavior = getBehavior(duplicant, KPrefabIDBehavior);\r\n            if (idBehavior && idBehavior.parsedData) {\r\n                dups[idBehavior.parsedData.InstanceID] = duplicant;\r\n            }\r\n        }\r\n        return dups;\r\n    }\r\n)\r\n\r\nexport function makeGetDuplicantByID<Props>(propKey: keyof Props): ParametricSelector<AppState, Props, GameObject | null> {\r\n    return createSelector(\r\n        duplicantsMap,\r\n        // We know the type of Props, but we need to have TS validate it as a string somehow...\r\n        (_: AppState, props: any) => props[propKey],\r\n        (duplicantsMap, id) => {\r\n            if (!Object.prototype.hasOwnProperty.call(duplicantsMap, id)) {\r\n                return null;\r\n            }\r\n            return duplicantsMap[id];\r\n        }\r\n    );\r\n};\r\nexport type DuplicantByIDSelector<Props> = ParametricSelector<AppState, Props, GameObject | null>;\r\n\r\nexport function makeGetDuplicantSkills<Props>(source: (keyof Props) | DuplicantByIDSelector<Props>): ParametricSelector<AppState, Props, AttributeLevel[]> {\r\n    let selector: DuplicantByIDSelector<Props>;\r\n    if (typeof source === \"function\") {\r\n        selector = source;\r\n    }\r\n    else {\r\n        selector = makeGetDuplicantByID<Props>(source);\r\n    }\r\n    return createSelector(\r\n        makeGetBehaviorByName(selector, AIAttributeLevelsBehavior),\r\n        levelBehavior => levelBehavior ? levelBehavior.parsedData.saveLoadLevels : []\r\n    );\r\n}\r\n\r\nexport function makeGetDuplicantTraits<Props>(source: (keyof Props) | DuplicantByIDSelector<Props>): ParametricSelector<AppState, Props, string[]> {\r\n    let selector: DuplicantByIDSelector<Props>;\r\n    if (typeof source === \"function\") {\r\n        selector = source;\r\n    }\r\n    else {\r\n        selector = makeGetDuplicantByID<Props>(source);\r\n    }\r\n    return createSelector(\r\n        makeGetBehaviorByName(selector, AITraitsBehavior),\r\n        traitsBehavior => traitsBehavior ? traitsBehavior.parsedData.TraitIds : []\r\n    );\r\n}\r\n\r\nexport function makeGetDuplicantEffects<Props>(source: (keyof Props) | DuplicantByIDSelector<Props>): ParametricSelector<AppState, Props, EffectInstance[]> {\r\n    let selector: DuplicantByIDSelector<Props>;\r\n    if (typeof source === \"function\") {\r\n        selector = source;\r\n    }\r\n    else {\r\n        selector = makeGetDuplicantByID<Props>(source);\r\n    }\r\n    return createSelector(\r\n        makeGetBehaviorByName(selector, AIEffectsBehavior),\r\n        effectsBehavior => effectsBehavior ? effectsBehavior.parsedData.saveLoadEffects : []\r\n    );\r\n}\r\n\r\nexport function makeGetDuplicantHealthState<Props>(source: (keyof Props) | DuplicantByIDSelector<Props>): ParametricSelector<AppState, Props, number | null> {\r\n    let selector: DuplicantByIDSelector<Props>;\r\n    if (typeof source === \"function\") {\r\n        selector = source;\r\n    }\r\n    else {\r\n        selector = makeGetDuplicantByID<Props>(source);\r\n    }\r\n    return createSelector(\r\n        makeGetBehaviorByName(selector, HealthBehavior),\r\n        healthBehavior => healthBehavior ? healthBehavior.parsedData.State : null\r\n    );\r\n}\r\n\r\nexport function makeGetDuplicantScale<Props>(source: (keyof Props) | DuplicantByIDSelector<Props>): ParametricSelector<AppState, Props, Vector3 | null> {\r\n    let selector: DuplicantByIDSelector<Props>;\r\n    if (typeof source === \"function\") {\r\n        selector = source;\r\n    }\r\n    else {\r\n        selector = makeGetDuplicantByID<Props>(source);\r\n    }\r\n    return createSelector(\r\n        selector,\r\n        gameObject => gameObject ? gameObject.scale : null\r\n    );\r\n}\r\n\r\nexport function makeGetDuplicantGender<Props>(source: (keyof Props) | DuplicantByIDSelector<Props>): ParametricSelector<AppState, Props, Gender | null> {\r\n    let selector: DuplicantByIDSelector<Props>;\r\n    if (typeof source === \"function\") {\r\n        selector = source;\r\n    }\r\n    else {\r\n        selector = makeGetDuplicantByID<Props>(source);\r\n    }\r\n    return createSelector(\r\n        makeGetBehaviorByName(selector, MinionIdentityBehavior),\r\n        identityBehavior => identityBehavior ? identityBehavior.parsedData.gender : null\r\n    );\r\n}\r\nexport function makeGetDuplicantVoice<Props>(source: (keyof Props) | DuplicantByIDSelector<Props>): ParametricSelector<AppState, Props, number | null> {\r\n    let selector: DuplicantByIDSelector<Props>;\r\n    if (typeof source === \"function\") {\r\n        selector = source;\r\n    }\r\n    else {\r\n        selector = makeGetDuplicantByID<Props>(source);\r\n    }\r\n    return createSelector(\r\n        makeGetBehaviorByName(selector, MinionIdentityBehavior),\r\n        identityBehavior => identityBehavior ? identityBehavior.parsedData.voiceIdx : null\r\n    );\r\n}\r\n","\r\nimport { Dispatch as TypedDispatch } from \"react-redux\";\r\n\r\nimport { Selector, createStructuredSelector as createSS, createSelector, ParametricSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"./state\";\r\n\r\nexport type Dispatch = TypedDispatch<AppState>;\r\n\r\nexport function createStructuredSelector<StateProps>(selectors: {[K in keyof StateProps]: Selector<AppState, StateProps[K]>}, selectorCreator?: typeof createSelector): Selector<AppState, StateProps>;\r\nexport function createStructuredSelector<Props, StateProps>(selectors: {[K in keyof StateProps]: ParametricSelector<AppState, Props, StateProps[K]>}, selectorCreator?: typeof createSelector): ParametricSelector<AppState, Props, StateProps>;\r\nexport function createStructuredSelector<StateProps>(selectors: any, selectorCreator?: typeof createSelector): Selector<AppState, StateProps> {\r\n    return createSS(selectors, selectorCreator);\r\n}\r\n","\r\nimport {\r\n    GameObject,\r\n    GameObjectBehavior\r\n} from \"oni-save-parser\";\r\n\r\nexport type BehaviorName<T extends GameObjectBehavior> = string & { __behaviorTypeMetadata?: T & never };\r\n\r\n\r\nexport const KPrefabIDBehavior: BehaviorName<KPrefabIDBehavior> = \"KPrefabID\";\r\nexport interface KPrefabIDBehavior extends GameObjectBehavior {\r\n    name: \"KPrefabID\";\r\n    parsedData: {\r\n        InstanceID: number;\r\n    };\r\n}\r\n\r\n\r\nexport const MinionIdentityBehavior: BehaviorName<MinionIdentityBehavior> = \"MinionIdentity\";\r\nexport interface MinionIdentityBehavior extends GameObjectBehavior {\r\n    name: \"MinionIdentity\";\r\n    parsedData: {\r\n        name: string;\r\n        nameStringKey: string;\r\n\r\n        gender: \"MALE\" | \"FEMALE\" | \"NB\";\r\n        genderStringKey: \"MALE\" | \"FEMALE\" | \"NB\";\r\n\r\n        arrivalTime: number;\r\n\r\n        voiceIdx: number;\r\n\r\n        bodyData: {\r\n            headShape: {\r\n                hash: number;\r\n            },\r\n            mouth: {\r\n                hash: number;\r\n            },\r\n            neck: {\r\n                hash: number;\r\n            },\r\n            eyes: {\r\n                hash: number;\r\n            },\r\n            hair: {\r\n                hash: number;\r\n            },\r\n            body: {\r\n                hash: number;\r\n            },\r\n            arms: {\r\n                hash: number;\r\n            },\r\n            hat: {\r\n                hash: number;\r\n            },\r\n            hatHair: {\r\n                hash: number;\r\n            },\r\n            hairAlways: {\r\n                hash: number;\r\n            }\r\n        };\r\n    };\r\n}\r\n\r\nexport const AccessorizerBehavior: BehaviorName<AccessorizerBehavior> = \"Accessorizer\";\r\nexport interface Accessory {\r\n    guid: {\r\n        /**\r\n         * Note: Not an actual guid!  This is a string name of a nested resource,\r\n         * such as ```Root.Accessories.eyes_003```.\r\n         */\r\n        Guid: string;\r\n    }\r\n};\r\nexport interface AccessorizerBehavior extends GameObjectBehavior {\r\n    name: \"Accessorizer\",\r\n    parsedData: {\r\n        accessories: Accessory[];\r\n    };\r\n}\r\n\r\n\r\nexport const MinionResumeBehavior: BehaviorName<MinionResumeBehavior> = \"MinionResume\";\r\nexport interface MinionResumeBehavior extends GameObjectBehavior {\r\n    name: \"MinionResume\";\r\n    parsedData: {\r\n        ExperienceByRoleID: Map<string, number>;\r\n        MasteryByRoleID: Map<string, boolean>;\r\n        AptitudeByRoleGroup: Map<{hash: number}, number>;\r\n\r\n        currentRole: string;\r\n        targetRole: string;\r\n    };\r\n}\r\n\r\n\r\nexport const AIAttributeLevelsBehavior: BehaviorName<AIAttributeLevelsBehavior> = \"Klei.AI.AttributeLevels\";\r\nexport interface AIAttributeLevelsBehavior extends GameObjectBehavior {\r\n    name: \"Klei.AI.AttributeLevels\";\r\n    parsedData: {\r\n        saveLoadLevels: AttributeLevel[];\r\n    };\r\n}\r\nexport interface AttributeLevel {\r\n    attributeId: string;\r\n    experience: number;\r\n    level: number;\r\n}\r\n\r\n\r\nexport const AITraitsBehavior: BehaviorName<AITraitsBehavior> = \"Klei.AI.Traits\";\r\nexport interface AITraitsBehavior extends GameObjectBehavior {\r\n    name: \"Klei.AI.Traits\";\r\n    parsedData: {\r\n        TraitIds: string[];\r\n    };\r\n}\r\n\r\n\r\nexport const AIEffectsBehavior: BehaviorName<AIEffectsBehavior> = \"Klei.AI.Effects\";\r\nexport interface AIEffectsBehavior extends GameObjectBehavior {\r\n    name: \"Klei.AI.Effects\";\r\n    parsedData: {\r\n        saveLoadEffects: EffectInstance[]\r\n    }\r\n}\r\nexport interface EffectInstance {\r\n    id: string;\r\n    timeRemaining: number;\r\n}\r\n\r\n\r\nexport const HealthBehavior: BehaviorName<HealthBehavior> = \"Health\";\r\nexport interface HealthBehavior extends GameObjectBehavior {\r\n    name: \"Health\";\r\n    parsedData: {\r\n        CanBeIncapacitated: boolean;\r\n        State: number;\r\n    };\r\n}\r\n\r\n\r\nexport type KnownBehavior =\r\n    KPrefabIDBehavior\r\n    | MinionIdentityBehavior\r\n    | MinionResumeBehavior\r\n    | AIAttributeLevelsBehavior\r\n    | AITraitsBehavior\r\n    | HealthBehavior;\r\nexport type KnownBehaviorName = KnownBehavior[\"name\"]\r\n\r\nexport function getBehavior<T extends GameObjectBehavior>(gameObject: GameObject, name: BehaviorName<T>): T | undefined {\r\n    return gameObject.behaviors.find(x => x.name === name) as T | undefined;\r\n}","\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nexport interface SaveEditorState {\r\n    fileName: string | null;\r\n    isLoading: boolean;\r\n    isSaving: boolean;\r\n    loadError: Error | null;\r\n    saveGame: SaveGame | null;\r\n\r\n    // A sparse array keyed by prefab ID, specifying the type and index (in the typed game object array) of the game object.\r\n    normalizedIDs: NormalizedID[]\r\n}\r\nexport interface NormalizedID {\r\n    type: string;\r\n    index: number;\r\n}\r\n\r\n\r\nexport const defaultSaveEditorState: SaveEditorState = {\r\n    fileName: null,\r\n    isLoading: false,\r\n    isSaving: false,\r\n    loadError: null,\r\n    saveGame: null,\r\n\r\n    normalizedIDs: []\r\n};\r\n\r\nexport const saveEditorStateKey = \"saveEditor\";\r\n","\r\nimport { createAction } from \"../../../action-utils\";\r\n\r\nimport { Gender } from \"./interfaces\";\r\n\r\n\r\nexport const ACTION_DUPLICANT_RENAME = \"@save-editor/duplicants/rename\";\r\nexport const renameDuplicant = createAction(ACTION_DUPLICANT_RENAME, (x: {duplicantID: number, name: string}) => x);\r\nexport type RenameDuplicantAction = ReturnType<typeof renameDuplicant>;\r\n\r\n\r\nexport const ACTION_DUPLICANT_SKILL_SET_LEVEL = \"@save-editor/duplicants/skills/set-level\";\r\nexport const setDuplicantSkillLevel = createAction(ACTION_DUPLICANT_SKILL_SET_LEVEL, (x: {duplicantID: number, skillId: string, level: number}) => x);\r\nexport type SetDuplicantSkillLevelAction = ReturnType<typeof setDuplicantSkillLevel>;\r\n\r\nexport const ACTION_DUPLICANT_SKILL_SET_EXPERIENCE = \"@save-editor/duplicants/skills/set-experience\";\r\nexport const setDuplicantSkillExperience = createAction(ACTION_DUPLICANT_SKILL_SET_EXPERIENCE, (x: {duplicantID: number, skillId: string, experience: number}) => x);\r\nexport type SetDuplicantSkillExperienceAction = ReturnType<typeof setDuplicantSkillExperience>;\r\n\r\n\r\nexport const ACTION_DUPLICANT_TRAITS_SET = \"@save-editor/duplicants/traits/set\";\r\nexport const setDuplicantTraits = createAction(ACTION_DUPLICANT_TRAITS_SET, (x: {duplicantID: number, traitIDs: string[]}) => x);\r\nexport type SetDuplicantTraitsAction = ReturnType<typeof setDuplicantTraits>;\r\n\r\n\r\nexport const ACTION_DUPLICANT_EFFECTS_ADD = \"@save-editor/duplicants/effects/add\";\r\nexport const addDuplicantEffect = createAction(ACTION_DUPLICANT_EFFECTS_ADD, (x: {duplicantID: number, effectID: string, timeRemaining: number}) => x);\r\nexport type AddDuplicantEffectAction = ReturnType<typeof addDuplicantEffect>;\r\n\r\nexport const ACTION_DUPLICANT_EFFECTS_SETTIME = \"@save-editor/duplicants/effects/set-time\";\r\nexport const setDuplicantEffectTime = createAction(ACTION_DUPLICANT_EFFECTS_SETTIME, (x: {duplicantID: number, effectID: string, timeRemaining: number}) => x);\r\nexport type SetDuplicantEffectTimeAction = ReturnType<typeof setDuplicantEffectTime>;\r\n\r\nexport const ACTION_DUPLICANT_EFFECTS_REMOVE = \"@save-editor/duplicants/effects/remove\";\r\nexport const removeDuplicantEffect = createAction(ACTION_DUPLICANT_EFFECTS_REMOVE, (x: {duplicantID: number, effectID: string}) => x);\r\nexport type RemoveDuplicantEffectAction = ReturnType<typeof removeDuplicantEffect>;\r\n\r\n\r\nexport const ACTION_DUPLICANT_HEALTH_STATE_SET = \"@save-editor/duplicants/health/state/set\";\r\nexport const setDuplicantHealthState = createAction(ACTION_DUPLICANT_HEALTH_STATE_SET, (x: {duplicantID: number, healthState: number}) => x);\r\nexport type SetDuplicantHealthStateAction = ReturnType<typeof setDuplicantHealthState>;\r\n\r\n\r\nexport const ACTION_DUPLICANT_SCALE_SET = \"@save-editor/duplicants/scale/set\";\r\nexport const setDuplicantScale = createAction(ACTION_DUPLICANT_SCALE_SET, (x: {duplicantID: number, scaleX?: number, scaleY?: number}) => x);\r\nexport type SetDuplicantScaleAction = ReturnType<typeof setDuplicantScale>;\r\n\r\n\r\nexport const ACTION_DUPLICANT_GENDER_SET = \"@save-editor/duplicants/gender/set\";\r\nexport const setDuplicantGender = createAction(ACTION_DUPLICANT_GENDER_SET, (x: {duplicantID: number, gender: Gender}) => x);\r\nexport type SetDuplicantGenderAction = ReturnType<typeof setDuplicantGender>;\r\n\r\n\r\nexport const ACTION_DUPLICANT_VOICE_SET = \"@save-editor/duplicants/voice/set\";\r\nexport const setDuplicantVoice = createAction(ACTION_DUPLICANT_VOICE_SET, (x: {duplicantID: number, voiceIdx: number}) => x);\r\nexport type SetDuplicantVoiceAction = ReturnType<typeof setDuplicantVoice>;\r\n\r\n\r\n\r\n\r\nexport type DuplicantActions =\r\n    RenameDuplicantAction\r\n    | SetDuplicantSkillLevelAction\r\n    | SetDuplicantSkillExperienceAction\r\n    | SetDuplicantTraitsAction\r\n    | AddDuplicantEffectAction\r\n    | SetDuplicantEffectTimeAction\r\n    | RemoveDuplicantEffectAction\r\n    | SetDuplicantHealthStateAction\r\n    | SetDuplicantScaleAction\r\n    | SetDuplicantGenderAction\r\n    | SetDuplicantVoiceAction;\r\n","\r\nconst failureType = {\r\n    ACTION_INVALID: \"action-invalid\" as \"action-invalid\",\r\n    SAVEFILE_CORRUPT: \"savefile-corrupt\" as \"savefile-corrupt\",\r\n    STATE_CORRUPT: \"state-corrupt\" as \"state-corrupt\",\r\n    MISSING_BEHAVIOR: \"missing-behavior\" as \"missing-behavior\"\r\n};\r\nObject.freeze(failureType);\r\nObject.seal(failureType);\r\n\r\nexport type FailureType = (typeof failureType)[keyof typeof failureType];\r\nexport const FAILURE_TYPE: Readonly<typeof failureType> = failureType;\r\n\r\n\r\nexport function warning(message: string, failureType?: FailureType) {\r\n    // TODO: Log to user console.\r\n    console.warn(`(${failureType}):`, message);\r\n}\r\n\r\nexport function error(message: string, failureType?: FailureType) {\r\n    // TODO: Log to user console.\r\n    console.error(`(${failureType}):`, message);\r\n}","\r\nimport { Selector, createSelector, ParametricSelector } from \"reselect\";\r\nimport { GameObject, GameObjectBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"../../state\";\r\n\r\nimport { BehaviorName, getBehavior, MinionIdentityBehavior, KPrefabIDBehavior } from \"./behaviors\";\r\n\r\n\r\nexport const saveEditor = (state: AppState) => state.saveEditor;\r\n\r\n// TODO: Lots of data can be precalculated here, but then we have to update\r\n//  it when the game objects are modified.\r\n// May want to investigate normalizing the save file then de-normalizing it\r\n//  to save.  This is blocked currently by needing a very deeply nested value (KPrefabID) as the\r\n//  ID to the game object.\r\n\r\nconst saveGame = createSelector(saveEditor, saveEditor => saveEditor.saveGame);\r\n\r\nexport const gameObjects = createSelector(saveGame, saveGame => saveGame ? saveGame.body.gameObjects : null);\r\n\r\nexport function makeGetGameObjectsByType(type: string): Selector<AppState, GameObject[]> {\r\n    return createSelector(\r\n        gameObjects,\r\n        gameObjects => gameObjects ? gameObjects[type] || [] : []\r\n    );\r\n}\r\n\r\n// We can handle parametric or non-parametric input selectors.  We do not use the parameter, but createSelector will pass the params as required.\r\nexport function makeGetBehaviorByName<T extends GameObjectBehavior>(gameObjectSelector: Selector<AppState, GameObject | null>, behaviorName: BehaviorName<T>): Selector<AppState, T | null>;\r\nexport function makeGetBehaviorByName<Props, T extends GameObjectBehavior>(gameObjectSelector: ParametricSelector<AppState, Props, GameObject | null>, behaviorName: BehaviorName<T>): ParametricSelector<AppState, Props, T | null>;\r\nexport function makeGetBehaviorByName<T extends GameObjectBehavior>(\r\n    gameObjectSelector: (Selector<AppState, GameObject | null> | ParametricSelector<AppState, any, GameObject | null>),\r\n    behaviorName: BehaviorName<T>\r\n): ParametricSelector<AppState, any, T | null> {\r\n    return createSelector(\r\n        gameObjectSelector,\r\n        (gameObject) => (gameObject && gameObject.behaviors.find(x => x.name === behaviorName) as T) || null\r\n    );\r\n}","\r\nimport { createAction as createReduxAction } from \"redux-actions\";\r\n\r\n// We can do this better than the Action type of redux-actions:\r\n//  - Create a discriminated union on explicit 'type' types for use in reducers.\r\n//  - inferr the action typedef and payload shape using TS 2.8's ReturnType / infer keyword.\r\n// This gets us very close, but hides the parameter names for our payload creator.\r\n//  To get around this, we just use one argument that contains the payload.  This\r\n//  lets us expose the names as well as the types, at the cost of having to pass in data\r\n//  in object form.\r\n\r\n\r\nexport interface NamedAction<TName extends string, TPayload> {\r\n    type: TName;\r\n    payload: TPayload;\r\n}\r\n\r\n\r\nexport function createAction<TName extends string, TPayload, T1>(name: TName, payloadCreator: (arg1: T1) => TPayload): (arg1: T1) => NamedAction<TName, TPayload>;\r\nexport function createAction<TName extends string, TPayload>(name: TName, payloadCreator: (...args: any[]) => TPayload): (...args: any[]) => NamedAction<TName, TPayload> {\r\n    return createReduxAction(name, payloadCreator) as any;\r\n}\r\n","\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { createAction } from \"../../../action-utils\";\r\n\r\nexport const ACTION_SAVEFILE_LOAD = \"@save-editor/savefile/load\";\r\nexport const loadSavefile = createAction(ACTION_SAVEFILE_LOAD, (x: {file: File}) => x);\r\nexport type LoadSavefileAction = ReturnType<typeof loadSavefile>;\r\n\r\nexport const ACTION_SAVEFILE_SAVE = \"@save-editor/savefile/save\";\r\nexport const saveSavefile = createAction(ACTION_SAVEFILE_SAVE, (x: {fileName?: string}) => x);\r\nexport type SaveSavefileAction = ReturnType<typeof saveSavefile>;\r\n\r\nexport const ACTION_SAVEFILE_SAVE_START = \"@save-editor/savefile/save/start\";\r\nexport const saveSavefileStarted = createAction(ACTION_SAVEFILE_SAVE_START, () => {});\r\nexport type SaveSavefileStartedAction = ReturnType<typeof saveSavefileStarted>;\r\n\r\nexport const ACTION_SAVEFILE_SAVE_END = \"@save-editor/savefile/save/end\";\r\nexport const saveSavefileEnded = createAction(ACTION_SAVEFILE_SAVE_END, () => {});\r\nexport type SaveSavefileEndedAction = ReturnType<typeof saveSavefileEnded>;\r\n\r\n\r\nexport const ACTION_SAVEFILE_RECEIVED = \"@save-editor/savefile/received\";\r\nexport const savefileReceived = createAction(ACTION_SAVEFILE_RECEIVED, (x: {saveGame: SaveGame}) => x);\r\nexport type SavefileReceivedAction = ReturnType<typeof savefileReceived>;\r\n\r\nexport type SavefileActions = LoadSavefileAction | SaveSavefileAction | SaveSavefileStartedAction | SaveSavefileEndedAction | SavefileReceivedAction;\r\n","\r\nimport { SaveEditorState, NormalizedID } from \"./state\";\r\nimport { AnyAction } from \"redux\";\r\nimport { GameObject, GameObjectBehavior } from \"oni-save-parser\";\r\nimport { error, FAILURE_TYPE } from \"../../logging\";\r\nimport { BehaviorName } from \"./behaviors\";\r\n\r\n\r\nexport function modifyGameObject(\r\n    state: SaveEditorState,\r\n    action: AnyAction,\r\n    prefabID: number,\r\n    modifier: (gameObject: GameObject, normalizedId: NormalizedID) => GameObject\r\n) {\r\n    const saveGame = state.saveGame;\r\n    if (!saveGame) {\r\n        error(`Action \"${action.type}\" called before a save game is available.`, FAILURE_TYPE.ACTION_INVALID);\r\n        return state;\r\n    }\r\n\r\n    const location = state.normalizedIDs[prefabID];\r\n    if (!location) {\r\n        error(`Action \"${action.type}\" requested prefabID ${prefabID}, which is not in the normalized ID table.`, FAILURE_TYPE.ACTION_INVALID);\r\n        return state;\r\n    }\r\n\r\n    const {\r\n        type,\r\n        index\r\n    } = location;\r\n\r\n    if (type !== \"Minion\") {\r\n        error(`Action \"${action.type}\" requested prefabID ${prefabID}, which is not a duplicant.`, FAILURE_TYPE.ACTION_INVALID);\r\n        return state;\r\n    }\r\n\r\n    const gameObject = saveGame.body.gameObjects[type][index];\r\n    if (!gameObject) {\r\n        error(`Action \"${action.type}\" prefabID ${prefabID} mapped to prefab \"${type}\":${index}, which does not exist.`, FAILURE_TYPE.STATE_CORRUPT);\r\n        return state;\r\n    }\r\n\r\n    const newGameObject = modifier(gameObject, location);\r\n\r\n    // Aarrrgggh, normalize!\r\n    return {\r\n        ...state,\r\n        saveGame: {\r\n            ...saveGame,\r\n            body: {\r\n                ...saveGame.body,\r\n                gameObjects: {\r\n                    ...saveGame.body.gameObjects,\r\n                    [type]: [\r\n                        ...saveGame.body.gameObjects[type].slice(0, index),\r\n                        newGameObject,\r\n                        ...saveGame.body.gameObjects[type].slice(index + 1)\r\n                    ]\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function modifyBehavior<T extends GameObjectBehavior>(\r\n    state: SaveEditorState,\r\n    action: AnyAction,\r\n    prefabID: number,\r\n    behaviorName: BehaviorName<T>,\r\n    modifier: (behavior: T, normalizedId: NormalizedID) => T\r\n): SaveEditorState {\r\n    return modifyGameObject(\r\n        state,\r\n        action,\r\n        prefabID,\r\n        (gameObject, normalizedId) => {\r\n            const behaviorIndex = gameObject.behaviors.findIndex(x => x.name === behaviorName);\r\n            if (behaviorIndex === -1) {\r\n                error(`Action \"${action.type}\" prefabID ${prefabID} prefab \"${normalizedId.type}\":${normalizedId.index} does not have behavior \"${behaviorName}\".`, FAILURE_TYPE.SAVEFILE_CORRUPT);\r\n                return gameObject;\r\n            }\r\n            const behavior = gameObject.behaviors[behaviorIndex] as T;\r\n\r\n            const newBehavior = modifier(behavior, normalizedId);\r\n\r\n            const newGameObject: GameObject = {\r\n                ...gameObject,\r\n                behaviors: [\r\n                    ...gameObject.behaviors.slice(0, behaviorIndex),\r\n                    newBehavior,\r\n                    ...gameObject.behaviors.slice(behaviorIndex + 1)\r\n\r\n                ]\r\n            }\r\n            return newGameObject\r\n        }\r\n    );\r\n}\r\n","import { Accessory } from \"../../behaviors\";\r\n\r\n// TODO: move these to oni-save-parser\r\n\r\nconst ACCESSORY_PREFIX = \"Root.Accessories.\";\r\nconst TYPE_EXTRACTOR_REGEX = /^Root\\.Accessories\\.([a-zA-Z_]+)_(\\d\\d\\d)$/;\r\n\r\nexport function getIndexOfType(accessories: Accessory[], type: string): number {\r\n    return accessories.findIndex(acc => {\r\n        const guid = acc.guid.Guid;\r\n        const match = TYPE_EXTRACTOR_REGEX.exec(guid);\r\n        if (!match) return false;\r\n        return match[1] === type;\r\n    });\r\n}\r\n\r\nexport function getAccessoryType(accessoryID: string): string | null {\r\n    const match = TYPE_EXTRACTOR_REGEX.exec(accessoryID);\r\n    if (!match) return null;\r\n    return match[1];\r\n}\r\n\r\nexport function getAccessoryOrdinal(accessoryID: string): number | null {\r\n    const match = TYPE_EXTRACTOR_REGEX.exec(accessoryID);\r\n    if (!match) return null;\r\n    // These all start at 1, so its safe to assume null here if we\r\n    //  didn't parse a number.\r\n    return Number(match[2]) || null;\r\n}\r\n\r\nexport function makeAccessoryID(type: string, ordinal: number): string {\r\n    return `${ACCESSORY_PREFIX}${type}_${leftPad(ordinal, \"0\", 3)}`\r\n}\r\n\r\nexport function getAccessoryOfType(accessories: Accessory[], type: string): Accessory | null {\r\n    const index = getIndexOfType(accessories, type);\r\n    if (index === -1) return null;\r\n    return accessories[index];\r\n}\r\n\r\nfunction leftPad(str: any, pad: string, length: number): string {\r\n    str = String(str);\r\n    if (pad.length == 0) return str;\r\n\r\n    while (str.length < length) {\r\n        str = pad + str;\r\n    }\r\n\r\n    return str;\r\n}","\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport { fork } from \"redux-saga/effects\"\r\n\r\nimport saveEditorSaga from \"../services/save-editor/saga\";\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\nexport default sagaMiddleware;\r\n\r\nexport function runSaga() {\r\n    sagaMiddleware.run(function*() {\r\n        yield fork(saveEditorSaga);\r\n    });\r\n}","\r\nimport { createAction } from \"../../../../action-utils\";\r\n\r\n\r\nexport const ACTION_DUPLICANT_ROLE_CURRENT_SET = \"@save-editor/duplicants/role/current/set\";\r\nexport const setDuplicantCurrentRole = createAction(ACTION_DUPLICANT_ROLE_CURRENT_SET, (x: { duplicantID: number, roleID: string }) => x);\r\nexport type SetDuplicantCurrentRoleAction = ReturnType<typeof setDuplicantCurrentRole>;\r\n\r\nexport const ACTION_DUPLICANT_ROLE_TARGET_SET = \"@save-editor/duplicants/role/target/set\";\r\nexport const setDuplicantTargetRole = createAction(ACTION_DUPLICANT_ROLE_TARGET_SET, (x: { duplicantID: number, roleID: string }) => x);\r\nexport type SetDuplicantTargetRoleAction = ReturnType<typeof setDuplicantTargetRole>;\r\n\r\nexport const ACTION_DUPLICANT_ROLE_MASTERY_SET = \"@save-editor/duplicants/role/mastery/set\";\r\nexport const setDuplicantRoleMastery = createAction(ACTION_DUPLICANT_ROLE_MASTERY_SET, (x: { duplicantID: number, roleID: string, mastery: boolean }) => x);\r\nexport type SetDuplicantRoleMasteryAction = ReturnType<typeof setDuplicantRoleMastery>;\r\n\r\nexport const ACTION_DUPLICANT_ROLE_EXPERIENCE_SET = \"@save-editor/duplicants/role/experience/set\";\r\nexport const setDuplicantRoleExperience = createAction(ACTION_DUPLICANT_ROLE_EXPERIENCE_SET, (x: { duplicantID: number, roleID: string, experience: number }) => x);\r\nexport type SetDuplicantRoleExperienceAction = ReturnType<typeof setDuplicantRoleExperience>;\r\n\r\n\r\nexport type DuplicantResumeActions =\r\n    SetDuplicantCurrentRoleAction\r\n    | SetDuplicantTargetRoleAction\r\n    | SetDuplicantRoleMasteryAction\r\n    | SetDuplicantRoleExperienceAction;\r\n","\r\nimport { createAction } from \"../../../../action-utils\";\r\n\r\n\r\nexport const ACTION_DUPLICANT_APPEARANCE_EYES_SET = \"@save-editor/duplicants/appearance/eyes/set\";\r\nexport const setDuplicantEyes = createAction(ACTION_DUPLICANT_APPEARANCE_EYES_SET, (x: {duplicantID: number, accessoryID: string}) => x);\r\nexport type SetDuplicantEyesAction = ReturnType<typeof setDuplicantEyes>;\r\n\r\nexport const ACTION_DUPLICANT_APPEARANCE_HAIR_SET = \"@save-editor/duplicants/appearance/hair/set\";\r\nexport const setDuplicantHair = createAction(ACTION_DUPLICANT_APPEARANCE_HAIR_SET, (x: {duplicantID: number, accessoryID: string}) => x);\r\nexport type SetDuplicantHairAction = ReturnType<typeof setDuplicantHair>;\r\n\r\nexport const ACTION_DUPLICANT_APPEARANCE_HEAD_SET = \"@save-editor/duplicants/appearance/head/set\";\r\nexport const setDuplicantHead = createAction(ACTION_DUPLICANT_APPEARANCE_HEAD_SET, (x: {duplicantID: number, accessoryID: string}) => x);\r\nexport type SetDuplicantHeadAction = ReturnType<typeof setDuplicantHead>;\r\n\r\nexport const ACTION_DUPLICANT_APPEARANCE_MOUTH_SET = \"@save-editor/duplicants/appearance/mouth/set\";\r\nexport const setDuplicantMouth = createAction(ACTION_DUPLICANT_APPEARANCE_MOUTH_SET, (x: {duplicantID: number, accessoryID: string}) => x);\r\nexport type SetDuplicantMouthAction = ReturnType<typeof setDuplicantMouth>;\r\n\r\nexport const ACTION_DUPLICANT_APPEARANCE_BODY_SET = \"@save-editor/duplicants/appearance/body/set\";\r\nexport const setDuplicantBody = createAction(ACTION_DUPLICANT_APPEARANCE_BODY_SET, (x: {duplicantID: number, accessoryID: string}) => x);\r\nexport type SetDuplicantBodyAction = ReturnType<typeof setDuplicantBody>;\r\n\r\n\r\nexport type DuplicantAppearanceActions =\r\n    SetDuplicantEyesAction\r\n    | SetDuplicantHairAction\r\n    | SetDuplicantHeadAction\r\n    | SetDuplicantMouthAction\r\n    | SetDuplicantBodyAction;\r\n","\r\nimport { createSelector } from \"reselect\";\r\n\r\nimport { saveEditor } from \"../selectors\";\r\n\r\nexport const isSaveChosen = createSelector(saveEditor, saveEditor => Boolean(saveEditor.fileName != null));\r\nexport const saveFileName = createSelector(saveEditor, saveEditor => saveEditor.fileName);\r\nexport const isSaveLoaded = createSelector(saveEditor, saveEditor => Boolean(saveEditor.fileName != null && !saveEditor.isLoading));\r\nexport const isSaveLoading = createSelector(saveEditor, saveEditor => saveEditor.isLoading);\r\nexport const isSaveSaving = createSelector(saveEditor, saveEditor => saveEditor.isSaving);\r\nexport const isSaveEnabled = createSelector(saveEditor, saveEditor => Boolean(saveEditor.fileName && saveEditor.isLoading == false));\r\nexport const loadError = createSelector(saveEditor, saveEditor => saveEditor.loadError);\r\n","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"35e43e693e1352ae5117.worker.js\");\n};","\r\nimport { take, fork, call, put, select } from \"redux-saga/effects\";\r\nimport { saveAs } from \"file-saver\";\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\n\r\nimport {\r\n    ACTION_SAVEFILE_LOAD,\r\n    ACTION_SAVEFILE_SAVE,\r\n    LoadSavefileAction,\r\n    SaveSavefileAction,\r\n    savefileReceived,\r\n    saveSavefileStarted,\r\n    saveSavefileEnded\r\n} from \"./actions\";\r\n\r\nimport SaveLoadWorker from \"worker-loader!./save-loader.worker\";\r\nimport { LoadCommandData, SaveCommandData } from \"./save-loader.worker\";\r\nimport { Action } from \"redux\";\r\nimport { AppState } from \"../../../state\";\r\nimport { error } from \"../../../logging\";\r\n\r\n\r\nconst worker = new SaveLoadWorker();\r\n\r\nfunction* loadSaveFile(action: LoadSavefileAction) {\r\n    const {\r\n        file\r\n    } = action.payload;\r\n\r\n    const reader = new FileReader();\r\n    const loadGamePromise = new Promise<File>((accept, reject) => {\r\n        reader.onload = () => {\r\n            accept(reader.result);\r\n        };\r\n        reader.onerror = () => {\r\n            reject(reader.error);\r\n        };\r\n        reader.readAsArrayBuffer(file);\r\n    }).then(buffer => {\r\n        return new Promise((accept, reject) => {\r\n            worker.onerror = (e: ErrorEvent) => { reject(e.error) };\r\n            worker.onmessage = (e: MessageEvent) => {\r\n                const {\r\n                    saveGame,\r\n                    error\r\n                } = e.data;\r\n                if (error) reject(error);\r\n                else accept(saveGame);\r\n            };\r\n\r\n            const cmd: LoadCommandData = {\r\n                command: \"load\",\r\n                buffer: reader.result\r\n            };\r\n            worker.postMessage(cmd);\r\n        });\r\n    });\r\n\r\n    try {\r\n        const saveGame: SaveGame = yield call(() => loadGamePromise);\r\n        yield put(savefileReceived({ saveGame }));\r\n    }\r\n    catch (err) {\r\n        // TODO: either send with savefileReceived error key, or make a new action for this.\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nfunction* saveSavefile(action: SaveSavefileAction) {\r\n    const {\r\n        fileName\r\n    } = action.payload;\r\n\r\n    const state: AppState = yield select();\r\n\r\n    const saveGame = state.saveEditor.saveGame;\r\n    if (!saveGame) {\r\n        return;\r\n    }\r\n\r\n    yield put(saveSavefileStarted({}));\r\n\r\n    try {\r\n        const saveDataPromise = new Promise<ArrayBuffer>((accept, reject) => {\r\n            worker.onerror = (e: ErrorEvent) => { reject(e.error) };\r\n            worker.onmessage = (e: MessageEvent) => {\r\n                const {\r\n                    buffer,\r\n                    error\r\n                } = e.data;\r\n                if (error) reject(error);\r\n                else accept(buffer);\r\n            };\r\n\r\n            const cmd: SaveCommandData = {\r\n                command: \"save\",\r\n                save: saveGame\r\n            };\r\n            worker.postMessage(cmd);\r\n        });\r\n\r\n        const saveData: ArrayBuffer = yield call(() => saveDataPromise);\r\n        const blob = new Blob([saveData]);\r\n\r\n        saveAs(blob, fileName || state.saveEditor.fileName || \"my-file.sav\");\r\n    }\r\n    catch (e) {\r\n        error(\"Failed to save file: \" + e.message);\r\n    }\r\n\r\n    yield put(saveSavefileEnded({}));\r\n}\r\n\r\nfunction* handleSaveOrLoad() {\r\n    // Take a save or load, then block until we complete.\r\n    //  This will effectively ignore save/load calls happening while we are working.\r\n    while (true) {\r\n        const action: LoadSavefileAction | SaveSavefileAction = yield take([ACTION_SAVEFILE_LOAD, ACTION_SAVEFILE_SAVE]);\r\n        switch (action.type) {\r\n            case ACTION_SAVEFILE_LOAD:\r\n                yield call<LoadSavefileAction>(loadSaveFile, action);\r\n                continue;\r\n            case ACTION_SAVEFILE_SAVE:\r\n                yield call<SaveSavefileAction>(saveSavefile, action);\r\n                continue;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default function* () {\r\n    yield fork(handleSaveOrLoad);\r\n}\r\n","\r\nimport { fork } from \"redux-saga/effects\";\r\n\r\nimport saveFileSaga from \"./savefile/saga\";\r\n\r\nexport default function* () {\r\n    yield fork(saveFileSaga);\r\n}","import { AnyAction } from \"redux\";\r\n\r\nimport { SaveEditorState, defaultSaveEditorState } from \"../../state\";\r\n\r\nimport { modifyBehavior } from \"../../reducer-utils\";\r\n\r\nimport {\r\n    ACTION_DUPLICANT_ROLE_MASTERY_SET,\r\n    ACTION_DUPLICANT_ROLE_EXPERIENCE_SET,\r\n    DuplicantResumeActions,\r\n    ACTION_DUPLICANT_ROLE_TARGET_SET,\r\n    ACTION_DUPLICANT_ROLE_CURRENT_SET\r\n} from \"./actions\";\r\nimport { MinionResumeBehavior } from \"../../behaviors\";\r\n\r\n\r\nexport default function duplicantAccessoriesReducer(state: SaveEditorState = defaultSaveEditorState, _action: AnyAction): SaveEditorState {\r\n    const action = _action as DuplicantResumeActions;\r\n    switch(action.type) {\r\n        case ACTION_DUPLICANT_ROLE_CURRENT_SET: {\r\n            const {\r\n                duplicantID,\r\n                roleID,\r\n            } = action.payload;\r\n\r\n            return modifyBehavior(\r\n                state,\r\n                action,\r\n                duplicantID,\r\n                MinionResumeBehavior,\r\n                behavior => ({\r\n                    ...behavior,\r\n                    parsedData: {\r\n                        ...behavior.parsedData,\r\n                        currentRole: roleID\r\n                    }\r\n                })\r\n            );\r\n        }\r\n        case ACTION_DUPLICANT_ROLE_TARGET_SET: {\r\n            const {\r\n                duplicantID,\r\n                roleID,\r\n            } = action.payload;\r\n\r\n            return modifyBehavior(\r\n                state,\r\n                action,\r\n                duplicantID,\r\n                MinionResumeBehavior,\r\n                behavior => ({\r\n                    ...behavior,\r\n                    parsedData: {\r\n                        ...behavior.parsedData,\r\n                        targetRole: roleID\r\n                    }\r\n                })\r\n            );\r\n        }\r\n        case ACTION_DUPLICANT_ROLE_MASTERY_SET: {\r\n            const {\r\n                duplicantID,\r\n                roleID,\r\n                mastery\r\n            } = action.payload;\r\n\r\n            return modifyBehavior(\r\n                state,\r\n                action,\r\n                duplicantID,\r\n                MinionResumeBehavior,\r\n                behavior => ({\r\n                    ...behavior,\r\n                    parsedData: {\r\n                        ...behavior.parsedData,\r\n                        MasteryByRoleID: new Map<string, boolean>(Array.from(behavior.parsedData.MasteryByRoleID.entries()).concat([[roleID, mastery]]))\r\n                    }\r\n                })\r\n            );\r\n        }\r\n        case ACTION_DUPLICANT_ROLE_EXPERIENCE_SET: {\r\n            const {\r\n                duplicantID,\r\n                roleID,\r\n                experience\r\n            } = action.payload;\r\n\r\n            return modifyBehavior(\r\n                state,\r\n                action,\r\n                duplicantID,\r\n                MinionResumeBehavior,\r\n                behavior => ({\r\n                    ...behavior,\r\n                    parsedData: {\r\n                        ...behavior.parsedData,\r\n                        ExperienceByRoleID: new Map<string, number>(Array.from(behavior.parsedData.ExperienceByRoleID.entries()).concat([[roleID, experience]]))\r\n                    }\r\n                })\r\n            );\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}","\r\nimport { AnyAction } from \"redux\";\r\n\r\nimport { SaveEditorState, defaultSaveEditorState } from \"../../state\";\r\n\r\nimport { modifyBehavior } from \"../../reducer-utils\";\r\n\r\nimport { AccessorizerBehavior, Accessory } from \"../../behaviors\";\r\n\r\nimport { getIndexOfType, getAccessoryOrdinal, makeAccessoryID } from \"./utils\";\r\n\r\nimport {\r\n    ACTION_DUPLICANT_APPEARANCE_EYES_SET,\r\n    ACTION_DUPLICANT_APPEARANCE_HAIR_SET,\r\n    ACTION_DUPLICANT_APPEARANCE_HEAD_SET,\r\n    ACTION_DUPLICANT_APPEARANCE_MOUTH_SET,\r\n    ACTION_DUPLICANT_APPEARANCE_BODY_SET,\r\n    DuplicantAppearanceActions\r\n} from \"./actions\";\r\n\r\n\r\nexport default function duplicantAccessoriesReducer(state: SaveEditorState = defaultSaveEditorState, _action: AnyAction): SaveEditorState {\r\n    const action = _action as DuplicantAppearanceActions;\r\n    switch(action.type) {\r\n        case ACTION_DUPLICANT_APPEARANCE_EYES_SET: {\r\n            const {\r\n                duplicantID,\r\n                accessoryID\r\n            } = action.payload;\r\n\r\n            return modifyAccessory(\r\n                state,\r\n                action,\r\n                duplicantID,\r\n                \"eyes\",\r\n                accessoryID\r\n            );\r\n        }\r\n        case ACTION_DUPLICANT_APPEARANCE_HAIR_SET: {\r\n            const {\r\n                duplicantID,\r\n                accessoryID\r\n            } = action.payload;\r\n\r\n            state = modifyAccessory(\r\n                state,\r\n                action,\r\n                duplicantID,\r\n                \"hair\",\r\n                accessoryID\r\n            );\r\n\r\n            const ordinal = getAccessoryOrdinal(accessoryID);\r\n            state = modifyAccessory(\r\n                state,\r\n                action,\r\n                duplicantID,\r\n                \"hat_hair\",\r\n                makeAccessoryID(\"hat_hair\", ordinal || 1)\r\n            );\r\n\r\n            // TODO: Also hair_always?  Seems that way from MinionStartingStates CreateBodyData,\r\n            //  but saved dups have a DEFAULT here\r\n\r\n            return state;\r\n        }\r\n        case ACTION_DUPLICANT_APPEARANCE_HEAD_SET: {\r\n            const {\r\n                duplicantID,\r\n                accessoryID\r\n            } = action.payload;\r\n\r\n            return modifyAccessory(\r\n                state,\r\n                action,\r\n                duplicantID,\r\n                \"headshape\",\r\n                accessoryID\r\n            );\r\n        }\r\n        case ACTION_DUPLICANT_APPEARANCE_MOUTH_SET: {\r\n            const {\r\n                duplicantID,\r\n                accessoryID\r\n            } = action.payload;\r\n\r\n            return modifyAccessory(\r\n                state,\r\n                action,\r\n                duplicantID,\r\n                \"mouth\",\r\n                accessoryID\r\n            );\r\n        }\r\n        case ACTION_DUPLICANT_APPEARANCE_BODY_SET: {\r\n            const {\r\n                duplicantID,\r\n                accessoryID\r\n            } = action.payload;\r\n\r\n            state = modifyAccessory(\r\n                state,\r\n                action,\r\n                duplicantID,\r\n                \"body\",\r\n                accessoryID\r\n            );\r\n\r\n            const ordinal = getAccessoryOrdinal(accessoryID);\r\n            state = modifyAccessory(\r\n                state,\r\n                action,\r\n                duplicantID,\r\n                \"arm\",\r\n                makeAccessoryID(\"arm\", ordinal || 1)\r\n            );\r\n\r\n            return state;\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nfunction modifyAccessory(\r\n    state: SaveEditorState,\r\n    action: AnyAction,\r\n    duplicantID: number,\r\n    accessoryType: string,\r\n    accessoryID: string\r\n): SaveEditorState {\r\n    return modifyBehavior(\r\n        state,\r\n        action,\r\n        duplicantID,\r\n        AccessorizerBehavior,\r\n        behavior => {\r\n            const oldAccessories = behavior.parsedData!.accessories;\r\n            const accIndex = getIndexOfType(oldAccessories, accessoryType);\r\n            const newAccessory: Accessory = {\r\n                guid: {\r\n                    Guid: accessoryID\r\n                }\r\n            };\r\n            let accessories: Accessory[];\r\n            if (accIndex !== -1) {\r\n                accessories = [\r\n                    ...oldAccessories.slice(0, accIndex),\r\n                    newAccessory,\r\n                    ...oldAccessories.slice(accIndex + 1)\r\n                ];\r\n            }\r\n            else {\r\n                accessories = [\r\n                    ...oldAccessories,\r\n                    newAccessory\r\n                ];\r\n            }\r\n\r\n            return {\r\n                ...behavior,\r\n                parsedData: {\r\n                    ...behavior.parsedData,\r\n                    accessories\r\n                }\r\n            };\r\n        }\r\n    );\r\n}","\r\nimport { AnyAction } from \"redux\";\r\nimport { GameObjectBehavior, GameObject } from \"oni-save-parser\";\r\n\r\nimport { error, FAILURE_TYPE, warning } from \"../../../logging\";\r\n\r\nimport { SaveEditorState, defaultSaveEditorState, NormalizedID } from \"../state\";\r\n\r\nimport { modifyGameObject, modifyBehavior } from \"../reducer-utils\";\r\n\r\nimport {\r\n    MinionIdentityBehavior,\r\n    AIAttributeLevelsBehavior,\r\n    BehaviorName,\r\n    AITraitsBehavior,\r\n    AIEffectsBehavior,\r\n    HealthBehavior,\r\n    AccessorizerBehavior\r\n} from \"../behaviors\";\r\n\r\nimport {\r\n    ACTION_DUPLICANT_RENAME,\r\n    ACTION_DUPLICANT_SKILL_SET_LEVEL,\r\n    ACTION_DUPLICANT_SKILL_SET_EXPERIENCE,\r\n    ACTION_DUPLICANT_TRAITS_SET,\r\n    ACTION_DUPLICANT_EFFECTS_ADD,\r\n    ACTION_DUPLICANT_EFFECTS_SETTIME,\r\n    ACTION_DUPLICANT_EFFECTS_REMOVE,\r\n    ACTION_DUPLICANT_HEALTH_STATE_SET,\r\n    ACTION_DUPLICANT_SCALE_SET,\r\n    ACTION_DUPLICANT_GENDER_SET,\r\n    ACTION_DUPLICANT_VOICE_SET,\r\n    DuplicantActions\r\n} from \"./actions\";\r\n\r\nimport duplicantAppearanceReducer from \"./appearance/reducer\";\r\nimport duplicantResumeReducer from \"./resume/reducer\";\r\n\r\nexport default function duplicantsReducer(state: SaveEditorState = defaultSaveEditorState, action: AnyAction): SaveEditorState {\r\n    state = duplicantsRootReducer(state, action);\r\n    state = duplicantAppearanceReducer(state, action);\r\n    state = duplicantResumeReducer(state, action);\r\n    return state;\r\n}\r\n\r\nfunction duplicantsRootReducer(state: SaveEditorState = defaultSaveEditorState, _action: AnyAction) {\r\n    const action = _action as DuplicantActions;\r\n    switch (action.type) {\r\n        case ACTION_DUPLICANT_RENAME: {\r\n            const {\r\n                duplicantID,\r\n                name\r\n            } = action.payload;\r\n\r\n            return modifyBehavior(\r\n                state,\r\n                action,\r\n                duplicantID,\r\n                MinionIdentityBehavior,\r\n                (behavior) => {\r\n                    const newBehavior: MinionIdentityBehavior = {\r\n                        ...behavior,\r\n                        parsedData: {\r\n                            ...behavior.parsedData,\r\n                            name,\r\n                            // Not sure about this.  This is used to select the duplicant biography flavor text.\r\n                            //  If the value is null, it is set to NB\r\n                            // nameStringKey: \"NB\"\r\n                        }\r\n                    };\r\n                    return newBehavior;\r\n                }\r\n            );\r\n        }\r\n        case ACTION_DUPLICANT_SKILL_SET_LEVEL: {\r\n            const {\r\n                duplicantID,\r\n                skillId,\r\n                level\r\n            } = action.payload;\r\n\r\n            return modifyBehavior(\r\n                state,\r\n                action,\r\n                duplicantID,\r\n                AIAttributeLevelsBehavior,\r\n                (behavior, normalizedId) => {\r\n                    const levels = behavior.parsedData.saveLoadLevels;\r\n\r\n                    const skillIndex = levels.findIndex(x => x.attributeId === skillId);\r\n                    if (skillIndex === -1) {\r\n                        error(`Action \"${action.type}\" prefabID ${duplicantID} prefab \"${normalizedId.type}\":${normalizedId.index} behavior \"${AIAttributeLevelsBehavior}\" does not have skill ID ${skillId}.`, FAILURE_TYPE.ACTION_INVALID);\r\n                        return behavior;\r\n                    }\r\n\r\n                    const newBehavior: AIAttributeLevelsBehavior = {\r\n                        ...behavior,\r\n                        parsedData: {\r\n                            saveLoadLevels: [\r\n                                ...levels.slice(0, skillIndex),\r\n                                {\r\n                                    ...levels[skillIndex],\r\n                                    level: level\r\n                                },\r\n                                ...levels.slice(skillIndex + 1)\r\n                            ]\r\n                        }\r\n                    }\r\n\r\n                    return newBehavior;\r\n                }\r\n            );\r\n        }\r\n        case ACTION_DUPLICANT_SKILL_SET_EXPERIENCE: {\r\n            const {\r\n                duplicantID,\r\n                skillId,\r\n                experience\r\n            } = action.payload;\r\n\r\n            return modifyBehavior(\r\n                state,\r\n                action,\r\n                duplicantID,\r\n                AIAttributeLevelsBehavior,\r\n                (behavior, normalizedId) => {\r\n                    const levels = behavior.parsedData.saveLoadLevels;\r\n\r\n                    const skillIndex = levels.findIndex(x => x.attributeId === skillId);\r\n                    if (skillIndex === -1) {\r\n                        error(`Action \"${action.type}\" prefabID ${duplicantID} prefab \"${normalizedId.type}\":${normalizedId.index} behavior \"${AIAttributeLevelsBehavior}\" does not have skill ID ${skillId}.`, FAILURE_TYPE.ACTION_INVALID);\r\n                        return behavior;\r\n                    }\r\n\r\n                    const newBehavior: AIAttributeLevelsBehavior = {\r\n                        ...behavior,\r\n                        parsedData: {\r\n                            saveLoadLevels: [\r\n                                ...levels.slice(0, skillIndex),\r\n                                {\r\n                                    ...levels[skillIndex],\r\n                                    experience\r\n                                },\r\n                                ...levels.slice(skillIndex + 1)\r\n                            ]\r\n                        }\r\n                    }\r\n\r\n                    return newBehavior;\r\n                }\r\n            );\r\n        }\r\n        case ACTION_DUPLICANT_TRAITS_SET: {\r\n            const {\r\n                duplicantID,\r\n                traitIDs\r\n            } = action.payload;\r\n\r\n            return modifyBehavior(\r\n                state,\r\n                action,\r\n                duplicantID,\r\n                AITraitsBehavior,\r\n                (behavior, gameObjectIndex) => {\r\n                    const newBehavior: AITraitsBehavior = {\r\n                        ...behavior,\r\n                        parsedData: {\r\n                            ...behavior.parsedData,\r\n                            TraitIds: traitIDs\r\n                        }\r\n                    };\r\n                    return newBehavior;\r\n                }\r\n            );\r\n        }\r\n        case ACTION_DUPLICANT_EFFECTS_ADD: {\r\n            const {\r\n                duplicantID,\r\n                effectID,\r\n                timeRemaining\r\n            } = action.payload;\r\n\r\n            return modifyBehavior(\r\n                state,\r\n                action,\r\n                duplicantID,\r\n                AIEffectsBehavior,\r\n                (behavior, gameObjectIndex) => {\r\n                    const effects = behavior.parsedData.saveLoadEffects;\r\n\r\n                    const effectIndex = effects.findIndex(x => x.id === effectID);\r\n                    if (effectIndex !== -1) {\r\n                        return behavior;\r\n                    }\r\n\r\n                    const newBehavior: AIEffectsBehavior = {\r\n                        ...behavior,\r\n                        parsedData: {\r\n                            saveLoadEffects: [\r\n                                ...effects,\r\n                                {\r\n                                    id: effectID,\r\n                                    timeRemaining\r\n                                }\r\n                            ]\r\n                        }\r\n                    }\r\n\r\n                    return newBehavior;\r\n                }\r\n            );\r\n        }\r\n        case ACTION_DUPLICANT_EFFECTS_SETTIME: {\r\n            const {\r\n                duplicantID,\r\n                effectID,\r\n                timeRemaining\r\n            } = action.payload;\r\n\r\n            return modifyBehavior(\r\n                state,\r\n                action,\r\n                duplicantID,\r\n                AIEffectsBehavior,\r\n                (behavior, normalizedId) => {\r\n                    const effects = behavior.parsedData.saveLoadEffects;\r\n\r\n                    const effectIndex = effects.findIndex(x => x.id === effectID);\r\n                    if (effectIndex === -1) {\r\n                        error(`Action \"${action.type}\" prefabID ${duplicantID} prefab \"${normalizedId.type}\":${normalizedId.index} behavior \"${AIEffectsBehavior}\" does not have effect ID ${effectID}.`, FAILURE_TYPE.ACTION_INVALID);\r\n                        return behavior;\r\n                    }\r\n\r\n                    const newBehavior: AIEffectsBehavior = {\r\n                        ...behavior,\r\n                        parsedData: {\r\n                            saveLoadEffects: [\r\n                                ...effects.slice(0, effectIndex),\r\n                                {\r\n                                    ...effects[effectIndex],\r\n                                    timeRemaining\r\n                                },\r\n                                ...effects.slice(effectIndex + 1)\r\n                            ]\r\n                        }\r\n                    }\r\n\r\n                    return newBehavior;\r\n                }\r\n            );\r\n        }\r\n        case ACTION_DUPLICANT_EFFECTS_REMOVE: {\r\n            const {\r\n                duplicantID,\r\n                effectID\r\n            } = action.payload;\r\n\r\n            return modifyBehavior(\r\n                state,\r\n                action,\r\n                duplicantID,\r\n                AIEffectsBehavior,\r\n                (behavior) => {\r\n                    const effects = behavior.parsedData.saveLoadEffects;\r\n\r\n                    const effectIndex = effects.findIndex(x => x.id === effectID);\r\n                    if (effectIndex === -1) {\r\n                        return behavior;\r\n                    }\r\n\r\n                    const newBehavior: AIEffectsBehavior = {\r\n                        ...behavior,\r\n                        parsedData: {\r\n                            saveLoadEffects: [\r\n                                ...effects.slice(0, effectIndex),\r\n                                ...effects.slice(effectIndex + 1)\r\n                            ]\r\n                        }\r\n                    }\r\n\r\n                    return newBehavior;\r\n                }\r\n            );\r\n        }\r\n        case ACTION_DUPLICANT_HEALTH_STATE_SET: {\r\n            const {\r\n                duplicantID,\r\n                healthState\r\n            } = action.payload;\r\n\r\n            return modifyBehavior(\r\n                state,\r\n                action,\r\n                duplicantID,\r\n                HealthBehavior,\r\n                (behavior) => ({\r\n                    ...behavior,\r\n                    parsedData: {\r\n                        ...behavior.parsedData,\r\n                        State: healthState\r\n                    }\r\n                })\r\n            );\r\n        }\r\n        case ACTION_DUPLICANT_SCALE_SET: {\r\n            const {\r\n                duplicantID,\r\n                scaleX,\r\n                scaleY\r\n            } = action.payload;\r\n\r\n            return modifyGameObject(\r\n                state,\r\n                action,\r\n                duplicantID,\r\n                (gameObject) => ({\r\n                    ...gameObject,\r\n                    scale: {\r\n                        ...gameObject.scale,\r\n                        x: scaleX || gameObject.scale.x,\r\n                        y: scaleY || gameObject.scale.y\r\n                    }\r\n                })\r\n            );\r\n        }\r\n        case ACTION_DUPLICANT_GENDER_SET: {\r\n            const {\r\n                duplicantID,\r\n                gender\r\n            } = action.payload;\r\n\r\n            return modifyBehavior(\r\n                state,\r\n                action,\r\n                duplicantID,\r\n                MinionIdentityBehavior,\r\n                (behavior) => {\r\n                    const newBehavior: MinionIdentityBehavior = {\r\n                        ...behavior,\r\n                        parsedData: {\r\n                            ...behavior.parsedData,\r\n                            gender,\r\n                            // Update the string key, so the UI shows the appropriate value.\r\n                            genderStringKey: gender\r\n                        }\r\n                    };\r\n                    return newBehavior;\r\n                }\r\n            );\r\n        }\r\n        case ACTION_DUPLICANT_VOICE_SET: {\r\n            const {\r\n                duplicantID,\r\n                voiceIdx\r\n            } = action.payload;\r\n\r\n            // TODO: Export this range from oni-save-parser\r\n            if (voiceIdx < 0 || voiceIdx > 4) {\r\n                warning(`Action \"${ACTION_DUPLICANT_VOICE_SET}\" has invalid voice id ${voiceIdx}: must be between 0 and 4.`);\r\n            }\r\n\r\n            return modifyBehavior(\r\n                state,\r\n                action,\r\n                duplicantID,\r\n                MinionIdentityBehavior,\r\n                (behavior) => {\r\n                    const newBehavior: MinionIdentityBehavior = {\r\n                        ...behavior,\r\n                        parsedData: {\r\n                            ...behavior.parsedData,\r\n                            voiceIdx\r\n                        }\r\n                    };\r\n                    return newBehavior;\r\n                }\r\n            );\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","\r\nimport { AnyAction } from \"redux\";\r\nimport uuidV4 from \"uuid/v4\";\r\n\r\nimport { SaveEditorState, defaultSaveEditorState, NormalizedID } from \"../state\";\r\n\r\nimport {\r\n    SavefileActions,\r\n    ACTION_SAVEFILE_LOAD,\r\n    ACTION_SAVEFILE_RECEIVED,\r\n    ACTION_SAVEFILE_SAVE_START,\r\n    ACTION_SAVEFILE_SAVE_END\r\n} from \"./actions\";\r\n\r\nimport { getBehavior, KPrefabIDBehavior } from \"./../behaviors\";\r\nimport { warning, error, FAILURE_TYPE } from \"../../../logging\";\r\n\r\n\r\nexport default function saveFileReducer(state: SaveEditorState = defaultSaveEditorState, _action: AnyAction): SaveEditorState {\r\n    const action = _action as SavefileActions;\r\n    switch (action.type) {\r\n        case ACTION_SAVEFILE_LOAD: {\r\n            const {\r\n                file\r\n            } = action.payload;\r\n\r\n            // Also ignored in saga.\r\n            if (state.isSaving) return state;\r\n\r\n            return {\r\n                ...defaultSaveEditorState,\r\n                fileName: file.name,\r\n                isLoading: true\r\n            }\r\n        }\r\n        case ACTION_SAVEFILE_RECEIVED: {\r\n            const {\r\n                saveGame\r\n            } = action.payload;\r\n\r\n            // Build a normalization cache of game object PrefabIDs to the\r\n            //  type and array index of the object.\r\n            // We can save a lot of work by precaching this information,\r\n            //  and we (currently) do not create / delete / reorder any objects.\r\n            const normalizedIDs: NormalizedID[] = [];\r\n            for (let prefabType in saveGame.body.gameObjects) {\r\n                const prefabs = saveGame.body.gameObjects[prefabType];\r\n                for (let i = 0; i < prefabs.length; i++) {\r\n                    const idBehavior = getBehavior(prefabs[i], KPrefabIDBehavior);\r\n                    if (!idBehavior) {\r\n                        warning(`GameObject at \"${prefabs}\":${i} has no behavior \"${KPrefabIDBehavior}\".`, FAILURE_TYPE.MISSING_BEHAVIOR);\r\n                        continue;\r\n                    }\r\n                    if (!idBehavior.parsedData || isNaN(idBehavior.parsedData.InstanceID)) {\r\n                        error(`GameObject at \"${prefabType}\":${i} has invalid data in behavior \"${KPrefabIDBehavior}\".`, FAILURE_TYPE.SAVEFILE_CORRUPT);\r\n                        continue;\r\n                    }\r\n\r\n                    normalizedIDs[idBehavior.parsedData.InstanceID] = {\r\n                        type: prefabType,\r\n                        index: i\r\n                    };\r\n                }\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                isLoading: false,\r\n                saveGame: action.payload.saveGame,\r\n                normalizedIDs\r\n            };\r\n        }\r\n        case ACTION_SAVEFILE_SAVE_START:\r\n            return {\r\n                ...state,\r\n                isSaving: true\r\n            }\r\n        case ACTION_SAVEFILE_SAVE_END:\r\n            return {\r\n                ...state,\r\n                isSaving: false\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","\r\nimport { AnyAction } from \"redux\";\r\nimport { SaveEditorState, defaultSaveEditorState } from \"./state\";\r\n\r\nimport saveFileReducer from \"./savefile/reducer\";\r\nimport duplicantsReducer from \"./duplicants/reducer\";\r\n\r\n/**\r\n * Flat list of reducers to run against SaveEditorState\r\n * Reducers run in-order.\r\n * \r\n * We do not split into sub-states using combineReducers, since\r\n * these need access to all of the state at this level.\r\n * \r\n * These should be broken into sub-states when we are more normalized.\r\n */\r\nconst reducers = [\r\n    saveFileReducer,\r\n    duplicantsReducer\r\n];\r\n\r\nexport default function saveEditorReducer(state: SaveEditorState = defaultSaveEditorState, action: AnyAction): SaveEditorState {\r\n    for (let reducer of reducers) {\r\n        state = reducer(state, action);\r\n    }\r\n    return state;\r\n}\r\n","\r\nimport { combineReducers } from \"redux\";\r\n\r\nimport saveEditorReducer from \"../services/save-editor/reducer\";\r\nimport { saveEditorStateKey } from \"../services/save-editor/state\";\r\n\r\nconst reducer = combineReducers({\r\n    // TODO: Find a way to satisfy typings with discriminated union actions and combineReducers\r\n    [saveEditorStateKey]: saveEditorReducer as any\r\n});\r\n\r\nexport default reducer;","\r\nimport { applyMiddleware, createStore, Middleware } from \"redux\";\r\n\r\nimport reducer from \"./reducer\";\r\nimport { AppState, defaultState } from \"./state\";\r\n\r\nimport sagaMiddleware from \"./saga\";\r\n\r\nconst middleware: Middleware[] = [\r\n    sagaMiddleware\r\n];\r\n\r\nconst store = createStore(reducer, /* preloadedState, */ applyMiddleware(...middleware));\r\n\r\nexport default store;\r\n","\r\nimport * as React from \"react\";\r\n\r\nimport {\r\n    NonIdealState,\r\n    Text\r\n} from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\nclass DuplicantsPage extends React.Component {\r\n    render() {\r\n        return (\r\n            <NonIdealState className=\"ui-page ui-page-404\" visual={IconNames.ERROR}>\r\n                <div>\r\n                    <div className=\"ui-title\">I don't know how you got here...</div>\r\n                    <div className=\"ui-title-secondary\">But weasels were probably involved.</div>\r\n                </div>\r\n                <div className=\"ui-body\">\r\n                    <div>No idea what this page is supposed to be, sorry.</div>\r\n                    <div>Try choosing something else to edit.</div>\r\n                </div>\r\n            </NonIdealState>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DuplicantsPage","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","module.exports = \"\\r\\n### vNext\\r\\n\\r\\n- Edit Duplicants\\r\\n    - Current Job\\r\\n    - Target Job\\r\\n    - Job Experience\\r\\n    - Job Mastery\\r\\n\\r\\n### v1.1.0\\r\\n\\r\\n- Edit Duplicants\\r\\n    - Gender (data only; no visual effect)\\r\\n    - Voice\\r\\n    - Appearance\\r\\n- Dedicated load button (no more refreshes to edit new saves)\\r\\n\\r\\n### v1.0.0\\r\\n\\r\\nGround-up rewrite.\\r\\n\\r\\n- Edit Duplicants\\r\\n    - Name\\r\\n    - Size (width and height)\\r\\n    - Health Status (healthy, critical, incapacitated, invulnurable, ...)\\r\\n    - Skills (level and experience)\\r\\n    - Traits\\r\\n    - Status Effects\\r\\n- New Theme\\r\\n- Non-blocking file loading and saving.  Prevents browsers from killing the process when working with large saves.\\r\\n- Internal cleanup for mantainability going forward.\"","\r\nimport * as React from \"react\";\r\nimport Markdown from \"react-markdown\";\r\n\r\nconst changelog = require(\"../../../../../CHANGELOG.md\");\r\n\r\nexport default class ChangelogPage extends React.Component {\r\n    render() {\r\n        return <Markdown className=\"ui-page ui-page-changelog fill-parent\" source={changelog}/>\r\n    }\r\n}","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nimport { Dispatch } from \"../../../../../../../../state/utils\";\r\n\r\nimport { addDuplicantEffect, removeDuplicantEffect, setDuplicantEffectTime} from \"../../../../../../../../services/save-editor/duplicants/actions\";\r\n\r\nexport interface DispatchProps {\r\n    addEffect: typeof addDuplicantEffect;\r\n    removeEffect: typeof removeDuplicantEffect;\r\n    setEffectTime: typeof setDuplicantEffectTime;\r\n}\r\n\r\nexport default function mapDispatchToProps(dispatch: Dispatch): DispatchProps {\r\n    return bindActionCreators({\r\n        addEffect: addDuplicantEffect,\r\n        removeEffect: removeDuplicantEffect,\r\n        setEffectTime: setDuplicantEffectTime\r\n    }, dispatch);\r\n}","\r\nimport { createStructuredSelector } from \"../../../../../../../../state/utils\";\r\n\r\nimport { EffectInstance } from \"../../../../../../../../services/save-editor/behaviors\";\r\nimport { makeGetDuplicantEffects } from \"../../../../../../../../services/save-editor/duplicants/selectors\";\r\n\r\nimport Props from \"./props\";\r\n\r\nexport interface StateProps {\r\n    effects: EffectInstance[];\r\n}\r\n\r\nconst mapStateToProps = () => createStructuredSelector<Props, StateProps>({\r\n    effects: makeGetDuplicantEffects(\"duplicantID\")\r\n});\r\nexport default mapStateToProps;\r\n","\r\n// TODO: move to oni-save-parser\r\nconst EFFECTS: string[] = [\r\n    \"UncomfortableSleep\",\r\n    \"Sleep\",\r\n    \"NarcolepticSleep\",\r\n    \"RestfulSleep\",\r\n    \"AnewHope\",\r\n    \"Mourning\",\r\n    \"DisturbedSleep\",\r\n    \"NewCrewArrival\",\r\n    \"UnderWater\",\r\n    \"FullBladder\",\r\n    \"StressfulyEmptyingBladder\",\r\n    \"RedAlert\",\r\n    \"MentalBreak\",\r\n    \"CoolingDown\",\r\n    \"WarmingUp\",\r\n    \"Darkness\",\r\n    \"SteppedInContaminatedWater\",\r\n    \"WellFed\",\r\n    \"StaleFood\",\r\n    \"SmelledPutridOdour\",\r\n    \"Vomiting\",\r\n    \"DirtyHands\",\r\n    \"Unclean\",\r\n    \"LightWounds\",\r\n    \"ModerateWounds\",\r\n    \"SevereWounds\",\r\n    \"WasAttacked\",\r\n    \"SoreBack\",\r\n    \"WarmAir\",\r\n    \"ColdAir\",\r\n    \"Hypothermia\",\r\n    \"Hyperthermia\",\r\n\r\n    // Found in DB.cs\r\n    \"CenterOfAttention\"\r\n];\r\nexport default EFFECTS;","\r\nimport * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { NumericInput, MenuItem, Button } from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\nimport { Select, IItemRendererProps } from \"@blueprintjs/select\";\r\nconst StringSelect = Select.ofType<string>();\r\n\r\n\r\nimport EFFECTS from \"./effects\";\r\n\r\n\r\nimport DuplicantEffectsProps from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./selectors\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch\";\r\n\r\n\r\ntype Props = DuplicantEffectsProps & StateProps & DispatchProps;\r\nclass DuplicantEffects extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            effects\r\n        } = this.props;\r\n\r\n        const rows = effects.map(x =>\r\n            <DuplicantEffectRow\r\n                key={x.id}\r\n                id={x.id}\r\n                timeRemaining={x.timeRemaining}\r\n                onChangeTime={this._onEffectChangeTime}\r\n                onRemove={this._onEffectRemoved}\r\n            />);\r\n\r\n        return (\r\n            <div className={`ui-duplicant-effects fill-parent layout-vertical`}>\r\n                <div className=\"container-scroll layout-item-fill\">\r\n                    <table className=\"pt-html-table pt-html-table-striped fill-parent-width\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Effect</th>\r\n                                <th>Time Remaining (ms)</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {rows}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div>\r\n                    <StringSelect\r\n                        items={EFFECTS}\r\n                        itemPredicate={this._filterItem}\r\n                        itemRenderer={this._renderItem}\r\n                        onItemSelect={this._onEffectSelected}\r\n                        filterable={true}\r\n                        resetOnClose={true}\r\n                        resetOnSelect={true}\r\n                        popoverProps={{ minimal: true }}\r\n                    >\r\n                        <Button rightIcon=\"caret-down\" text=\"Add a new Effect\" />\r\n                    </StringSelect>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    private _filterItem(query: string, item: string) {\r\n        return item.toLowerCase().indexOf(query.toLowerCase()) !== -1;\r\n    }\r\n\r\n    @autobind()\r\n    private _renderItem(effect: string, itemProps: IItemRendererProps) {\r\n        const {\r\n            modifiers,\r\n            handleClick\r\n        } = itemProps;\r\n\r\n        if (!modifiers.matchesPredicate) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <MenuItem\r\n                active={modifiers.active}\r\n                key={effect}\r\n                onClick={handleClick}\r\n                text={effect}\r\n            />\r\n        );\r\n    };\r\n\r\n    @autobind()\r\n    private _onEffectSelected(effectID: string) {\r\n        const {\r\n            duplicantID,\r\n            addEffect\r\n        } = this.props;\r\n        addEffect({ duplicantID, effectID, timeRemaining: 5000 });\r\n    }\r\n\r\n    @autobind()\r\n    private _onEffectChangeTime(effectID: string, timeRemaining: number) {\r\n        const {\r\n            duplicantID,\r\n            setEffectTime\r\n        } = this.props;\r\n        setEffectTime({ duplicantID, effectID, timeRemaining });\r\n    }\r\n\r\n    @autobind()\r\n    private _onEffectRemoved(effectID: string) {\r\n        const {\r\n            duplicantID,\r\n            removeEffect\r\n        } = this.props;\r\n        removeEffect({ duplicantID, effectID });\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DuplicantEffects);\r\n\r\n\r\ninterface DuplicantEffectRowProps {\r\n    id: string;\r\n    timeRemaining: number;\r\n    onChangeTime(id: string, timeRemaining: number): void;\r\n    onRemove(id: string): void;\r\n}\r\n\r\nclass DuplicantEffectRow extends React.Component<DuplicantEffectRowProps> {\r\n    constructor(props: DuplicantEffectRowProps) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            id,\r\n            timeRemaining\r\n        } = this.props;\r\n\r\n        return (\r\n            <tr>\r\n                <td>{id}</td>\r\n                <td>\r\n                    <NumericInput\r\n                        value={timeRemaining}\r\n                        clampValueOnBlur={true}\r\n                        min={0}\r\n                        onValueChange={this._onTimeRemainingChange}\r\n                    />\r\n                </td>\r\n                <td>\r\n                    <Button icon={IconNames.SMALL_CROSS} onClick={this._onRemove} />\r\n                </td>\r\n            </tr>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onTimeRemainingChange(value: number) {\r\n        const {\r\n            id,\r\n            onChangeTime\r\n        } = this.props;\r\n\r\n        if (value < 0 || isNaN(value)) {\r\n            value = 0;\r\n        }\r\n\r\n        onChangeTime(id, value);\r\n    }\r\n\r\n    @autobind()\r\n    private _onRemove() {\r\n        const {\r\n            id,\r\n            onRemove\r\n        } = this.props;\r\n        onRemove(id);\r\n    }\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nimport { Dispatch } from \"../../../../../../../../../../state/utils\";\r\n\r\nimport {\r\n    setDuplicantCurrentRole,\r\n    setDuplicantTargetRole,\r\n    setDuplicantRoleMastery,\r\n    setDuplicantRoleExperience\r\n} from \"../../../../../../../../../../services/save-editor/duplicants/resume/actions\";\r\n\r\nexport interface DispatchProps {\r\n    setCurrentRole: typeof setDuplicantCurrentRole,\r\n    setTargetRole: typeof setDuplicantTargetRole,\r\n    setMastery: typeof setDuplicantRoleMastery;\r\n    setExperience: typeof setDuplicantRoleExperience;\r\n}\r\n\r\nexport default function mapDispatchToProps(dispatch: Dispatch): DispatchProps {\r\n    return bindActionCreators({\r\n        setCurrentRole: setDuplicantCurrentRole,\r\n        setTargetRole: setDuplicantTargetRole,\r\n        setMastery: setDuplicantRoleMastery,\r\n        setExperience: setDuplicantRoleExperience\r\n    }, dispatch);\r\n}\r\n","import { ParametricSelector, createSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"../../../../state\";\r\nimport { MinionResumeBehavior } from \"../../behaviors\";\r\n\r\nimport { makeGetBehaviorByName } from \"../../selectors\";\r\nimport { DuplicantByIDSelector, makeGetDuplicantByID } from \"../selectors\";\r\n\r\nexport interface JobStatus {\r\n    name: string;\r\n    mastery: boolean;\r\n    experience: number;\r\n}\r\n\r\nexport function makeGetDuplicantCurrentRole<Props>(source: (keyof Props) | DuplicantByIDSelector<Props>): ParametricSelector<AppState, Props, string | null> {\r\n    let selector: DuplicantByIDSelector<Props>;\r\n    if (typeof source === \"function\") {\r\n        selector = source;\r\n    }\r\n    else {\r\n        selector = makeGetDuplicantByID<Props>(source);\r\n    }\r\n\r\n    return createSelector(\r\n        makeGetBehaviorByName(selector, MinionResumeBehavior),\r\n        resumeBehavior => resumeBehavior ? resumeBehavior.parsedData.currentRole : null\r\n    );\r\n}\r\n\r\nexport function makeGetDuplicantTargetRole<Props>(source: (keyof Props) | DuplicantByIDSelector<Props>): ParametricSelector<AppState, Props, string | null> {\r\n    let selector: DuplicantByIDSelector<Props>;\r\n    if (typeof source === \"function\") {\r\n        selector = source;\r\n    }\r\n    else {\r\n        selector = makeGetDuplicantByID<Props>(source);\r\n    }\r\n\r\n    return createSelector(\r\n        makeGetBehaviorByName(selector, MinionResumeBehavior),\r\n        resumeBehavior => resumeBehavior ? resumeBehavior.parsedData.targetRole : null\r\n    );\r\n}\r\n\r\nexport function makeGetDuplicantRoleDetails<Props>(source: (keyof Props) | DuplicantByIDSelector<Props>): ParametricSelector<AppState, Props, JobStatus[]> {\r\n    let selector: DuplicantByIDSelector<Props>;\r\n    if (typeof source === \"function\") {\r\n        selector = source;\r\n    }\r\n    else {\r\n        selector = makeGetDuplicantByID<Props>(source);\r\n    }\r\n\r\n    return createSelector(\r\n        makeGetBehaviorByName(selector, MinionResumeBehavior),\r\n        resumeBehavior => {\r\n            if (!resumeBehavior) return [];\r\n            const {\r\n                ExperienceByRoleID,\r\n                MasteryByRoleID\r\n            } = resumeBehavior.parsedData;\r\n            const statusByKey: {[key: string]: JobStatus} = {};\r\n            for (let [key, value] of ExperienceByRoleID.entries()) {\r\n                statusByKey[key] = {\r\n                    name: key,\r\n                    experience: value,\r\n                    mastery: false\r\n                };\r\n            }\r\n            for (let [key, value] of MasteryByRoleID.entries()) {\r\n                statusByKey[key] = {\r\n                    name: key,\r\n                    experience: 0,\r\n                    ...(statusByKey[key] || {}),\r\n                    mastery: value\r\n                };\r\n            }\r\n            return Object.keys(statusByKey).map(x => statusByKey[x]);\r\n        }\r\n    );\r\n}\r\n","\r\nimport { createStructuredSelector } from \"../../../../../../../../../../state/utils\";\r\n\r\nimport {\r\n    makeGetDuplicantByID,\r\n} from \"../../../../../../../../../../services/save-editor/duplicants/selectors\";\r\nimport {\r\n    JobStatus,\r\n    makeGetDuplicantCurrentRole,\r\n    makeGetDuplicantTargetRole,\r\n    makeGetDuplicantRoleDetails\r\n} from \"../../../../../../../../../../services/save-editor/duplicants/resume/selectors\";\r\n\r\nimport Props from \"./props\";\r\nimport { Vector3 } from \"oni-save-parser/dts/interfaces\";\r\n\r\nexport interface StateProps {\r\n    currentRole: string | null;\r\n    targetRole: string | null;\r\n    roles: JobStatus[];\r\n}\r\n\r\nconst mapStateToProps = () => {\r\n    const dupSelector = makeGetDuplicantByID(\"duplicantID\");\r\n    return createStructuredSelector<Props, StateProps>({\r\n        currentRole: makeGetDuplicantCurrentRole(dupSelector),\r\n        targetRole: makeGetDuplicantTargetRole(dupSelector),\r\n        roles: makeGetDuplicantRoleDetails(dupSelector),\r\n    });\r\n}\r\nexport default mapStateToProps;\r\n","\r\nimport * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { NumericInput, Button, MenuItem } from \"@blueprintjs/core\";\r\nimport { Select, IItemRendererProps } from \"@blueprintjs/select\";\r\nconst StringSelect = Select.ofType<string>();\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\n\r\nimport DuplicantJobsPageProps from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./selectors\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch\";\r\n\r\n\r\ntype Props = DuplicantJobsPageProps & StateProps & DispatchProps;\r\nclass DuplicantJobsPage extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            currentRole,\r\n            targetRole,\r\n            roles\r\n        } = this.props;\r\n\r\n        // Might want to make a constant for this, but this is better for future compatibility.\r\n        const knownRoles = Array.from(new Set(roles.map(x => x.name)));\r\n\r\n        const rows = roles.map(x => (\r\n            <JobRow key={x.name} jobID={x.name} mastery={x.mastery} experience={x.experience} setMastery={this._setMastery} setExperience={this._setExperience} />\r\n        ));\r\n\r\n        return (\r\n            <div className={`ui-duplicant-jobs fill-parent container-scroll`}>\r\n                <div className=\"layout-vertical\">\r\n                    <div className=\"layout-horizontal\">\r\n                        <div className=\"ui-current-role pt-form-group pt-inline\">\r\n                            <label className=\"pt-label\">\r\n                                Current Role\r\n                            </label>\r\n                            <div className=\"pt-form-content\">\r\n                                <StringSelect\r\n                                    items={knownRoles}\r\n                                    itemPredicate={this._filterItem}\r\n                                    itemRenderer={this._renderItem}\r\n                                    onItemSelect={this._onCurrentRoleSelected}\r\n                                    filterable={true}\r\n                                    resetOnClose={true}\r\n                                    resetOnSelect={true}\r\n                                    popoverProps={{ minimal: true }}\r\n                                >\r\n                                    <Button rightIcon=\"caret-down\" text={currentRole || \"[Unknown]\"} />\r\n                                </StringSelect>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"ui-target-role pt-form-group pt-inline\">\r\n                            <label className=\"pt-label\">\r\n                                Target Role\r\n                            </label>\r\n                            <div className=\"pt-form-content\">\r\n                                <StringSelect\r\n                                    items={knownRoles}\r\n                                    itemPredicate={this._filterItem}\r\n                                    itemRenderer={this._renderItem}\r\n                                    onItemSelect={this._onTargetRoleSelected}\r\n                                    filterable={true}\r\n                                    resetOnClose={true}\r\n                                    resetOnSelect={true}\r\n                                    popoverProps={{ minimal: true }}\r\n                                >\r\n                                    <Button rightIcon=\"caret-down\" text={targetRole || \"[Unknown]\"} />\r\n                                </StringSelect>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <table className=\"pt-html-table pt-html-table-striped fill-parent-width layout-item\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Job Name</th>\r\n                                <th>Mastery</th>\r\n                                <th>Experience</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {rows}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private _filterItem(query: string, item: string) {\r\n        return item.toLowerCase().indexOf(query.toLowerCase()) !== -1;\r\n    }\r\n\r\n    @autobind()\r\n    private _renderItem(effect: string, itemProps: IItemRendererProps) {\r\n        const {\r\n            modifiers,\r\n            handleClick\r\n        } = itemProps;\r\n\r\n        if (!modifiers.matchesPredicate) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <MenuItem\r\n                active={modifiers.active}\r\n                key={effect}\r\n                onClick={handleClick}\r\n                text={effect}\r\n            />\r\n        );\r\n    };\r\n\r\n    @autobind()\r\n    private _onCurrentRoleSelected(roleID: string) {\r\n        const {\r\n            duplicantID,\r\n            setCurrentRole\r\n        } = this.props;\r\n        setCurrentRole({ duplicantID, roleID });\r\n    }\r\n\r\n    @autobind()\r\n    private _onTargetRoleSelected(roleID: string) {\r\n        const {\r\n            duplicantID,\r\n            setTargetRole\r\n        } = this.props;\r\n        setTargetRole({ duplicantID, roleID });\r\n    }\r\n\r\n    @autobind()\r\n    private _setMastery(roleID: string, mastery: boolean) {\r\n        const {\r\n            duplicantID,\r\n            setMastery\r\n        } = this.props;\r\n        setMastery({ duplicantID, roleID, mastery });\r\n    }\r\n\r\n    @autobind()\r\n    private _setExperience(roleID: string, experience: number) {\r\n        const {\r\n            duplicantID,\r\n            setExperience\r\n        } = this.props;\r\n        setExperience({ duplicantID, roleID, experience });\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DuplicantJobsPage);\r\n\r\n\r\ninterface JobRowProps {\r\n    jobID: string;\r\n    mastery: boolean;\r\n    experience: number;\r\n    setMastery(jobID: string, mastery: boolean): void;\r\n    setExperience(jobID: string, experience: number): void;\r\n}\r\nclass JobRow extends React.Component<JobRowProps> {\r\n    render() {\r\n        const {\r\n            jobID,\r\n            mastery,\r\n            experience\r\n        } = this.props;\r\n\r\n        return (\r\n            <tr>\r\n                <td>{jobID}</td>\r\n                <td>\r\n                    <label className=\"pt-control pt-checkbox\">\r\n                        <input type=\"checkbox\" checked={mastery} onChange={this._onSetMastery} />\r\n                        <span className=\"pt-control-indicator\"></span>\r\n                    </label>\r\n                </td>\r\n                <td>\r\n                    <NumericInput\r\n                        value={experience}\r\n                        clampValueOnBlur={true}\r\n                        min={0}\r\n                        onValueChange={this._onSetExperience}\r\n                    />\r\n                </td>\r\n            </tr>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    _onSetMastery(change: React.ChangeEvent<HTMLInputElement>) {\r\n        const checked = change.target.checked;\r\n        const {\r\n            jobID,\r\n            setMastery\r\n        } = this.props;\r\n        setMastery(jobID, checked);\r\n    }\r\n\r\n    @autobind()\r\n    private _onSetExperience(value: number) {\r\n        if (value < 0) {\r\n            value = 0;\r\n        }\r\n\r\n        const {\r\n            jobID,\r\n            setExperience\r\n        } = this.props;\r\n        setExperience(jobID, value);\r\n    }\r\n}","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\n\r\nimport {\r\n    Tabs,\r\n    Tab\r\n} from \"@blueprintjs/core\";\r\n\r\n\r\nimport DuplicantRolesPageProps from \"./props\";\r\n\r\n\r\nimport RolesPage from \"./pages/Roles\";\r\n\r\ntype Props = DuplicantRolesPageProps;\r\nclass DuplicantRolesPage extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            duplicantID\r\n        } = this.props;\r\n        return (\r\n            <div className=\"ui-duplicant-roles fill-parent\">\r\n                <Tabs className=\"fill-parent layout-horizontal\" vertical={true} renderActiveTabPanelOnly={true} id=\"DuplicantRolePages\">\r\n                    <Tab className=\"layout-item-fill\" id=\"roles\" title=\"Roles\" panel={<RolesPage duplicantID={duplicantID} />} />\r\n                    <Tab id=\"aptitudes\" title=\"Aptitudes\" disabled/>\r\n                </Tabs>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default DuplicantRolesPage;","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\n// TODO: move to oni-save-parser\r\nconst TRAITS: string[] = [\r\n    \"None\",\r\n    \"Stinky\",\r\n    \"Ellie\",\r\n    \"Joshua\",\r\n    \"Liam\",\r\n    \"CantResearch\",\r\n    \"CantBuild\",\r\n    \"CantCook\",\r\n    \"CantDig\",\r\n    \"Hemophobia\",\r\n    \"MedicalAid\",\r\n    \"ScaredyCat\",\r\n    \"MouthBreather\",\r\n    \"CalorieBurner\",\r\n    \"SmallBladder\",\r\n    \"Anemic\",\r\n    \"SlowLearner\",\r\n    \"NoodleArms\",\r\n    \"InteriorDecorator\",\r\n    \"Regeneration\",\r\n    \"DeeperDiversLungs\",\r\n    \"SunnyDisposition\",\r\n    \"RockCrusher\",\r\n    \"Uncultured\",\r\n    \"WeakImmuneSystem\",\r\n    \"IrritableBowel\",\r\n    \"Flatulence\",\r\n    \"Snorer\",\r\n    \"Narcolepsy\",\r\n    \"Twinkletoes\",\r\n    \"Greasemonkey\",\r\n    \"MoleHands\",\r\n    \"FastLearner\",\r\n    \"DiversLung\",\r\n    \"StrongArm\",\r\n    \"IronGut\",\r\n    \"StrongImmuneSystem\",\r\n    \"BedsideManner\",\r\n    \"Caring\",\r\n    \"Aggressive\",\r\n    \"UglyCrier\",\r\n    \"BingeEater\",\r\n    \"StressVomiter\",\r\n    \"EarlyBird\",\r\n    \"NightOwl\",\r\n    \"Claustrophobic\",\r\n    \"PrefersWarmer\",\r\n    \"PrefersColder\",\r\n    \"SensitiveFeet\",\r\n    \"Fashionable\",\r\n    \"Climacophobic\",\r\n    \"SolitarySleeper\",\r\n    \"Workaholic\"\r\n];\r\nexport default TRAITS;","\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nimport { Dispatch } from \"../../../../../../../../state/utils\";\r\n\r\nimport { setDuplicantTraits } from \"../../../../../../../../services/save-editor/duplicants/actions\";\r\n\r\nexport interface DispatchProps {\r\n    setTraits: typeof setDuplicantTraits\r\n}\r\n\r\nexport default function mapDispatchToProps(dispatch: Dispatch): DispatchProps {\r\n    return bindActionCreators({\r\n        setTraits: setDuplicantTraits\r\n    }, dispatch);\r\n}","\r\nimport { createStructuredSelector } from \"../../../../../../../../state/utils\";\r\n\r\nimport { makeGetDuplicantTraits } from \"../../../../../../../../services/save-editor/duplicants/selectors\";\r\n\r\nimport Props from \"./props\";\r\n\r\nexport interface StateProps {\r\n    traits: string[];\r\n}\r\n\r\nconst mapStateToProps = () => createStructuredSelector<Props, StateProps>({\r\n    traits: makeGetDuplicantTraits<Props>(\"duplicantID\")\r\n});\r\nexport default mapStateToProps;\r\n","\r\nimport * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { MenuItem, Intent } from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\nimport { MultiSelect, ItemRenderer, IItemRendererProps } from \"@blueprintjs/select\";\r\n\r\nimport DuplicantTraitsProps from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./selectors\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch\";\r\n\r\nimport TRAITS from \"./traits\";\r\n\r\n\r\nconst TraitMultiSelect = MultiSelect.ofType<string>();\r\n\r\ntype Props = DuplicantTraitsProps & StateProps & DispatchProps;\r\nclass DuplicantTraits extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            traits\r\n        } = this.props;\r\n\r\n\r\n        return (\r\n            <div className={`fill-parent ui-duplicant-traits`}>\r\n                <TraitMultiSelect\r\n                    className=\"fill-parent-width\"\r\n                    items={TRAITS}\r\n                    selectedItems={traits}\r\n                    onItemSelect={this._onTagSelected}\r\n                    itemPredicate={this._filterItem}\r\n                    itemRenderer={this._renderItem}\r\n                    tagRenderer={tag => tag}\r\n                    tagInputProps={{ onRemove: this._onTagRemoved }}\r\n                    noResults={<MenuItem disabled={true} text=\"No results.\" />}\r\n                    popoverProps={{ minimal: true }}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    @autobind()\r\n    private _onTagSelected(tag: string) {\r\n        const {\r\n            duplicantID,\r\n            traits,\r\n            setTraits\r\n        } = this.props;\r\n\r\n        if (traits.indexOf(tag) !== -1) {\r\n            return;\r\n        }\r\n\r\n        setTraits({ duplicantID, traitIDs: traits.concat(tag) });\r\n    }\r\n\r\n    @autobind()\r\n    private _onTagRemoved(tag: string) {\r\n        const {\r\n            duplicantID,\r\n            traits,\r\n            setTraits\r\n        } = this.props;\r\n\r\n        const index = traits.indexOf(tag);\r\n        if (index === -1) {\r\n            return;\r\n        }\r\n\r\n        const newTraits = traits.slice();\r\n        newTraits.splice(index, 1);\r\n\r\n        setTraits({ duplicantID, traitIDs: newTraits });\r\n    }\r\n\r\n    private _filterItem(query: string, trait: string) {\r\n        return trait.toLowerCase().indexOf(query.toLowerCase()) !== -1;\r\n    }\r\n\r\n    @autobind()\r\n    private _renderItem(trait: string, itemProps: IItemRendererProps) {\r\n        const {\r\n            modifiers,\r\n            handleClick\r\n        } = itemProps;\r\n\r\n        if (!modifiers.matchesPredicate) {\r\n            return null;\r\n        }\r\n\r\n        const {\r\n            traits\r\n        } = this.props;\r\n\r\n        const isSelected = traits.indexOf(trait) !== -1;\r\n\r\n        return (\r\n            <MenuItem\r\n                active={modifiers.active}\r\n                icon={isSelected ? IconNames.TICK : IconNames.BLANK}\r\n                key={trait}\r\n                onClick={handleClick}\r\n                text={trait}\r\n                shouldDismissPopover={false}\r\n            />\r\n        );\r\n    };\r\n\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DuplicantTraits);\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nimport { Dispatch } from \"../../../../../../../../state/utils\";\r\n\r\nimport { setDuplicantSkillLevel, setDuplicantSkillExperience } from \"../../../../../../../../services/save-editor/duplicants/actions\";\r\n\r\nexport interface DispatchProps {\r\n    setLevel: typeof setDuplicantSkillLevel;\r\n    setExperience: typeof setDuplicantSkillExperience;\r\n}\r\n\r\nexport default function mapDispatchToProps(dispatch: Dispatch): DispatchProps {\r\n    return bindActionCreators({\r\n        setLevel: setDuplicantSkillLevel,\r\n        setExperience: setDuplicantSkillExperience\r\n    }, dispatch);\r\n}\r\n","\r\nimport { createStructuredSelector } from \"../../../../../../../../state/utils\";\r\n\r\nimport { AttributeLevel } from \"../../../../../../../../services/save-editor/behaviors\";\r\nimport { makeGetDuplicantSkills } from \"../../../../../../../../services/save-editor/duplicants/selectors\";\r\n\r\nimport Props from \"./props\";\r\n\r\nexport interface StateProps {\r\n    skills: AttributeLevel[];\r\n}\r\n\r\nconst mapStateToProps = () => createStructuredSelector<Props, StateProps>({\r\n    skills: makeGetDuplicantSkills<Props>(\"duplicantID\")\r\n});\r\nexport default mapStateToProps;\r\n","\r\nimport * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { NumericInput } from \"@blueprintjs/core\";\r\n\r\nimport DuplicantSkillsProps from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./selectors\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch\";\r\n\r\n\r\ntype Props = DuplicantSkillsProps & StateProps & DispatchProps;\r\nclass DuplicantSkills extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            skills\r\n        } = this.props;\r\n\r\n        const rows = skills.map(x => \r\n            <DuplicantSkillRow\r\n                key={x.attributeId}\r\n                id={x.attributeId}\r\n                level={x.level}\r\n                experience={x.experience}\r\n                onChangeLevel={this._onChangeLevel}\r\n                onChangeExperience={this._onChangeExperience}\r\n        />);\r\n\r\n        return (\r\n            <div className={`ui-duplicant-skills fill-parent container-scroll`}>\r\n                <table className=\"pt-html-table pt-html-table-striped\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Skill</th>\r\n                            <th>Level</th>\r\n                            <th>Experience</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {rows}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    @autobind()\r\n    private _onChangeLevel(id: string, level: number) {\r\n        const {\r\n            duplicantID,\r\n            setLevel\r\n        } = this.props;\r\n        setLevel({duplicantID: duplicantID, skillId: id, level});\r\n    }\r\n\r\n    @autobind()\r\n    private _onChangeExperience(id: string, experience: number) {\r\n        const {\r\n            duplicantID,\r\n            setExperience\r\n        } = this.props;\r\n        setExperience({duplicantID: duplicantID, skillId: id, experience});\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DuplicantSkills);\r\n\r\n\r\ninterface DuplicantSkillRowProps {\r\n    id: string;\r\n    level: number;\r\n    experience: number;\r\n    onChangeLevel(id: string, level: number): void;\r\n    onChangeExperience(id: string, level: number): void;\r\n}\r\n\r\nclass DuplicantSkillRow extends React.Component<DuplicantSkillRowProps> {\r\n    render() {\r\n        const {\r\n            id,\r\n            level,\r\n            experience\r\n        } = this.props;\r\n\r\n        return (\r\n            <tr>\r\n                <td>{id}</td>\r\n                <td><NumericInput\r\n                    value={level}\r\n                    clampValueOnBlur={true}\r\n                    min={0}\r\n                    onValueChange={this._onLevelChange}\r\n                /></td>\r\n                <td><NumericInput\r\n                    value={experience}\r\n                    clampValueOnBlur={true}\r\n                    min={0}\r\n                    onValueChange={this._onExperienceChange}\r\n                /></td>\r\n            </tr>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onLevelChange(value: number) {\r\n        const {\r\n            id,\r\n            onChangeLevel\r\n        } = this.props;\r\n\r\n        value = Math.round(value);\r\n        if (value < 0 || isNaN(value)) {\r\n            value = 0;\r\n        }\r\n        \r\n        onChangeLevel(id, value);\r\n    }\r\n\r\n    @autobind()\r\n    private _onExperienceChange(value: number) {\r\n        const {\r\n            id,\r\n            onChangeExperience\r\n        } = this.props;\r\n\r\n        if (value < 0 || isNaN(value)) {\r\n            value = 0;\r\n        }\r\n\r\n        onChangeExperience(id, value);\r\n    }\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nimport { Dispatch } from \"../../../../../../../../state/utils\";\r\n\r\nimport {\r\n    setDuplicantEyes,\r\n    setDuplicantHair,\r\n    setDuplicantHead,\r\n    setDuplicantMouth,\r\n    setDuplicantBody\r\n} from \"../../../../../../../../services/save-editor/duplicants/appearance/actions\";\r\n\r\nexport interface DispatchProps {\r\n    setEyes: typeof setDuplicantEyes;\r\n    setHair: typeof setDuplicantHair;\r\n    setHead: typeof setDuplicantHead;\r\n    setMouth: typeof setDuplicantMouth;\r\n    setBody: typeof setDuplicantBody;\r\n}\r\n\r\nexport default function mapDispatchToProps(dispatch: Dispatch): DispatchProps {\r\n    return bindActionCreators({\r\n        setEyes: setDuplicantEyes,\r\n        setHair: setDuplicantHair,\r\n        setHead: setDuplicantHead,\r\n        setMouth: setDuplicantMouth,\r\n        setBody: setDuplicantBody,\r\n    }, dispatch);\r\n}\r\n","import { ParametricSelector, createSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"../../../../state\";\r\nimport { AccessorizerBehavior } from \"../../behaviors\";\r\n\r\nimport { makeGetBehaviorByName } from \"../../selectors\";\r\nimport { DuplicantByIDSelector, makeGetDuplicantByID } from \"../selectors\";\r\n\r\nimport { getAccessoryOfType } from \"./utils\";\r\n\r\n\r\nexport const makeGetDuplicantEyes = makeGetDuplicantAppearanceMaker(\"eyes\");\r\nexport const makeGetDuplicantHair = makeGetDuplicantAppearanceMaker(\"hair\");\r\nexport const makeGetDuplicantHead = makeGetDuplicantAppearanceMaker(\"headshape\");\r\nexport const makeGetDuplicantMouth = makeGetDuplicantAppearanceMaker(\"mouth\");\r\nexport const makeGetDuplicantBody = makeGetDuplicantAppearanceMaker(\"body\");\r\n\r\nfunction makeGetDuplicantAppearanceMaker(type: string) {\r\n    return function<Props>(source: (keyof Props) | DuplicantByIDSelector<Props>): ParametricSelector<AppState, Props, string | null> {\r\n        let selector: DuplicantByIDSelector<Props>;\r\n        if (typeof source === \"function\") {\r\n            selector = source;\r\n        }\r\n        else {\r\n            selector = makeGetDuplicantByID<Props>(source);\r\n        }\r\n    \r\n        return createSelector(\r\n            makeGetBehaviorByName(selector, AccessorizerBehavior),\r\n            accessorizerBehavior => {\r\n                if(!accessorizerBehavior) return null;\r\n                const accessory = getAccessoryOfType(accessorizerBehavior.parsedData.accessories, type);\r\n                if (!accessory) return null;\r\n                return accessory.guid.Guid;\r\n            }\r\n        );\r\n    }\r\n}","\r\nimport { createStructuredSelector } from \"../../../../../../../../state/utils\";\r\n\r\nimport { makeGetDuplicantByID } from \"../../../../../../../../services/save-editor/duplicants/selectors\";\r\nimport {\r\n    makeGetDuplicantEyes,\r\n    makeGetDuplicantHair,\r\n    makeGetDuplicantHead,\r\n    makeGetDuplicantMouth,\r\n    makeGetDuplicantBody\r\n} from \"../../../../../../../../services/save-editor/duplicants/appearance/selectors\";\r\n\r\nimport Props from \"./props\";\r\n\r\nexport interface StateProps {\r\n    eyes: string | null;\r\n    hair: string | null;\r\n    head: string | null;\r\n    mouth: string | null;\r\n    body: string | null;\r\n}\r\n\r\nconst mapStateToProps = () => {\r\n    const dupSelector = makeGetDuplicantByID(\"duplicantID\");\r\n    return createStructuredSelector<Props, StateProps>({\r\n        eyes: makeGetDuplicantEyes(dupSelector),\r\n        hair: makeGetDuplicantHair(dupSelector),\r\n        head: makeGetDuplicantHead(dupSelector),\r\n        mouth: makeGetDuplicantMouth(dupSelector),\r\n        body: makeGetDuplicantBody(dupSelector)\r\n    });\r\n}\r\nexport default mapStateToProps;\r\n","\r\n// TODO: move to oni-save-parser\r\n\r\nimport { makeAccessoryID } from \"./utils\";\r\n\r\nexport const EYES: string[] = [\r\n    1,\r\n    2,\r\n    3,\r\n    4,\r\n    5\r\n].map(x =>  makeAccessoryID(\"eyes\", x));\r\n\r\nexport const HEADS: string[] = [\r\n    1,\r\n    2,\r\n    3,\r\n    4\r\n].map(x => makeAccessoryID(\"headshape\", x));\r\n\r\nexport const MOUTHS: string[] = [\r\n    1,\r\n    2,\r\n    3,\r\n    4\r\n].map(x => makeAccessoryID(\"mouth\", x));\r\n\r\nexport const HAIRS: string[] = [\r\n    1,\r\n    2,\r\n    3,\r\n    4,\r\n    5,\r\n    6,\r\n    7,\r\n    8,\r\n    9,\r\n    10,\r\n    11,\r\n    12,\r\n    13,\r\n    14,\r\n    15,\r\n    16,\r\n    17,\r\n    18,\r\n    19,\r\n    20,\r\n    21,\r\n    22,\r\n    23,\r\n    27,\r\n    28,\r\n    29,\r\n    30,\r\n    31,\r\n    32,\r\n    33\r\n].map(x => makeAccessoryID(\"hair\", x));\r\n\r\nexport const BODIES: string[] = [\r\n    1,\r\n    2,\r\n    3,\r\n    4\r\n].map(x => makeAccessoryID(\"body\", x));\r\n","\r\nimport * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { Button, MenuItem } from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\nimport { Select, IItemRendererProps } from \"@blueprintjs/select\";\r\nconst StringSelect = Select.ofType<string>();\r\n\r\nimport { \r\n    EYES,\r\n    HAIRS,\r\n    HEADS,\r\n    MOUTHS,\r\n    BODIES\r\n} from \"../../../../../../../../services/save-editor/duplicants/appearance/accessories\";\r\n\r\n\r\nimport DuplicantAccessoryPageProps from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./selectors\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch\";\r\n\r\n\r\ntype Props = DuplicantAccessoryPageProps & StateProps & DispatchProps;\r\nclass DuplicantAccessoryPage extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            duplicantID,\r\n            eyes,\r\n            setEyes,\r\n\r\n            hair,\r\n            setHair,\r\n\r\n            head,\r\n            setHead,\r\n            \r\n            mouth,\r\n            setMouth,\r\n\r\n            body,\r\n            setBody,\r\n        } = this.props;\r\n\r\n        return (\r\n            <div className={`ui-duplicant-accessories fill-parent layout-vertical container-scroll`}>\r\n                <AppearanceGroup name=\"Eyes\" duplicantID={duplicantID} value={eyes} accessories={EYES} onSet={setEyes}/>\r\n                <AppearanceGroup name=\"Head\" duplicantID={duplicantID} value={head} accessories={HEADS} onSet={setHead}/>\r\n                <AppearanceGroup name=\"Hair\" duplicantID={duplicantID} value={hair} accessories={HAIRS} onSet={setHair}/>\r\n                <AppearanceGroup name=\"Mouth\" duplicantID={duplicantID} value={mouth} accessories={MOUTHS} onSet={setMouth}/>\r\n                <AppearanceGroup name=\"Body\" duplicantID={duplicantID} value={body} accessories={BODIES} onSet={setBody}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DuplicantAccessoryPage);\r\n\r\n\r\ninterface AppearanceGroupProps {\r\n    duplicantID: number;\r\n    name: string;\r\n    accessories: string[];\r\n    value: string | null;\r\n    onSet({duplicantID, accessoryID}: {duplicantID: number, accessoryID: string}): void\r\n}\r\nclass AppearanceGroup extends React.Component<AppearanceGroupProps> {\r\n    render() {\r\n        const {\r\n            name,\r\n            accessories,\r\n            value\r\n        } = this.props;\r\n        return (\r\n            <div className=\"pt-form-group pt-inline\">\r\n            <label className=\"pt-label\">\r\n                {name}\r\n            </label>\r\n            <div className=\"pt-form-content\">\r\n                <StringSelect\r\n                    items={accessories}\r\n                    itemRenderer={this._renderItem}\r\n                    onItemSelect={this._onSet}\r\n                    filterable={false}\r\n                    resetOnClose={true}\r\n                    resetOnSelect={true}\r\n                    popoverProps={{ minimal: true }}\r\n                >\r\n                    <Button rightIcon=\"caret-down\" text={value || \"[Accessory not Found]\"} />\r\n                </StringSelect>\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _renderItem(accessoryID: string, itemProps: IItemRendererProps) {\r\n        const {\r\n            modifiers,\r\n            handleClick\r\n        } = itemProps;\r\n\r\n        if (!modifiers.matchesPredicate) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <MenuItem\r\n                active={modifiers.active}\r\n                key={accessoryID}\r\n                onClick={handleClick}\r\n                text={accessoryID}\r\n            />\r\n        );\r\n    };\r\n\r\n    @autobind()\r\n    private _onSet(accessoryID: string) {\r\n        const {\r\n            duplicantID,\r\n            onSet\r\n        } = this.props;\r\n        onSet({duplicantID, accessoryID});\r\n    }\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nimport { Dispatch } from \"../../../../../../../../state/utils\";\r\n\r\nimport {\r\n    setDuplicantGender,\r\n    setDuplicantVoice,\r\n    setDuplicantScale,\r\n    setDuplicantHealthState,\r\n} from \"../../../../../../../../services/save-editor/duplicants/actions\";\r\n\r\nexport interface DispatchProps {\r\n    setGender: typeof setDuplicantGender;\r\n    setVoice: typeof setDuplicantVoice;\r\n    setScale: typeof setDuplicantScale;\r\n    setHealthState: typeof setDuplicantHealthState;\r\n}\r\n\r\nexport default function mapDispatchToProps(dispatch: Dispatch): DispatchProps {\r\n    return bindActionCreators({\r\n        setGender: setDuplicantGender,\r\n        setVoice: setDuplicantVoice,\r\n        setScale: setDuplicantScale,\r\n        setHealthState: setDuplicantHealthState\r\n    }, dispatch);\r\n}\r\n","\r\nimport { createStructuredSelector } from \"../../../../../../../../state/utils\";\r\n\r\nimport { AttributeLevel } from \"../../../../../../../../services/save-editor/behaviors\";\r\nimport { Gender } from \"../../../../../../../../services/save-editor/duplicants/interfaces\";\r\nimport {\r\n    makeGetDuplicantByID,\r\n    makeGetDuplicantGender,\r\n    makeGetDuplicantVoice,\r\n    makeGetDuplicantScale,\r\n    makeGetDuplicantHealthState\r\n} from \"../../../../../../../../services/save-editor/duplicants/selectors\";\r\n\r\nimport Props from \"./props\";\r\nimport { Vector3 } from \"oni-save-parser/dts/interfaces\";\r\n\r\nexport interface StateProps {\r\n    gender: Gender | null;\r\n    voiceIdx: number | null;\r\n    scale: Vector3 | null;\r\n    healthState: number | null;\r\n}\r\n\r\nconst mapStateToProps = () => {\r\n    const dupSelector = makeGetDuplicantByID(\"duplicantID\");\r\n    return createStructuredSelector<Props, StateProps>({\r\n        gender: makeGetDuplicantGender(dupSelector),\r\n        voiceIdx: makeGetDuplicantVoice(dupSelector),\r\n        scale: makeGetDuplicantScale(dupSelector),\r\n        healthState: makeGetDuplicantHealthState(dupSelector)\r\n    });\r\n}\r\nexport default mapStateToProps;\r\n","\r\nimport * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { Button, MenuItem, NumericInput } from \"@blueprintjs/core\";\r\nimport { Select, IItemRendererProps } from \"@blueprintjs/select\";\r\nconst StringSelect = Select.ofType<string>();\r\nconst NumberSelect = Select.ofType<number>();\r\n\r\n\r\nimport DuplicantGeneralProps from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./selectors\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch\";\r\nimport { Gender } from \"../../../../../../../../services/save-editor/duplicants/interfaces\";\r\n\r\n\r\n// TODO: export from oni-save-parser\r\nconst HEALTH_STATE: string[] = [\r\n    // The order of these is important!\r\n    //  The value is stored in-game as an int32 enum,\r\n    //  and the order of these correspond to the\r\n    //  enum's integer value.\r\n    \"Perfect\",\r\n    \"Alright\",\r\n    \"Scuffed\",\r\n    \"Injured\",\r\n    \"Critical\",\r\n    \"Incapacited\",\r\n    \"Dead\",\r\n    \"Invincible\"\r\n];\r\n\r\n\r\n// We only care about > 0\r\nconst MIN_SCALE = Number.EPSILON;\r\n\r\ntype Props = DuplicantGeneralProps & StateProps & DispatchProps;\r\nclass DuplicantGeneralPage extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            gender,\r\n            scale,\r\n            healthState,\r\n            voiceIdx\r\n        } = this.props;\r\n\r\n        const scaleX = scale ? scale.x : 1;\r\n        const scaleY = scale ? scale.y : 1;\r\n\r\n        let healthStateStr: string;\r\n        if (healthState != null && healthState >= 0 && healthState < HEALTH_STATE.length) {\r\n            healthStateStr = HEALTH_STATE[healthState];\r\n        }\r\n        else {\r\n            healthStateStr = `<Unknown Health State ${healthState}>`;\r\n        }\r\n\r\n        return (\r\n            <div className=\"fill-parent\">\r\n                <div className=\"pt-form-group pt-inline\">\r\n                    <label className=\"pt-label\">\r\n                        Gender\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <StringSelect\r\n                            // TODO: Export from oni-save-parser\r\n                            items={[\"MALE\", \"FEMALE\", \"NB\"]}\r\n                            itemRenderer={this._renderItem}\r\n                            onItemSelect={this._onGenderSelected}\r\n                            filterable={false}\r\n                            resetOnClose={true}\r\n                            resetOnSelect={true}\r\n                            popoverProps={{ minimal: true }}\r\n                        >\r\n                            <Button rightIcon=\"caret-down\" text={gender || \"MALE\"} />\r\n                        </StringSelect>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group pt-inline\">\r\n                    <label className=\"pt-label\">\r\n                        Voice\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <NumberSelect\r\n                            // TODO: get from oni-save-parser\r\n                            items={[0, 1, 2, 3, 4]}\r\n                            itemRenderer={this._renderItem}\r\n                            onItemSelect={this._onVoiceSelected}\r\n                            filterable={false}\r\n                            resetOnClose={true}\r\n                            resetOnSelect={true}\r\n                            popoverProps={{ minimal: true }}\r\n                        >\r\n                            <Button rightIcon=\"caret-down\" text={`Voice ${voiceIdx || 0}`} />\r\n                        </NumberSelect>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group pt-inline\">\r\n                    <label className=\"pt-label\">\r\n                        Scale\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <div className=\"pt-input-group\">\r\n                            <span>Horizontal</span>\r\n                            <NumericInput min={MIN_SCALE} clampValueOnBlur={true} value={scaleX} onValueChange={this._onScaleX} />\r\n                        </div>\r\n                        <div className=\"pt-input-group\">\r\n                            <span>Vertical</span>\r\n                            <NumericInput min={MIN_SCALE} clampValueOnBlur={true} value={scaleY} onValueChange={this._onScaleY} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group pt-inline\">\r\n                    <label className=\"pt-label\">\r\n                        Health State\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <StringSelect\r\n                            items={HEALTH_STATE}\r\n                            itemRenderer={this._renderItem}\r\n                            onItemSelect={this._onHealthStateSelected}\r\n                            filterable={false}\r\n                            resetOnClose={true}\r\n                            resetOnSelect={true}\r\n                            popoverProps={{ minimal: true }}\r\n                        >\r\n                            <Button rightIcon=\"caret-down\" text={healthStateStr} />\r\n                        </StringSelect>\r\n                        <div className=\"pt-form-helper-text\">The duplicant's current overall health condition.</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _renderItem(effect: string | number, itemProps: IItemRendererProps) {\r\n        const {\r\n            modifiers,\r\n            handleClick\r\n        } = itemProps;\r\n\r\n        if (!modifiers.matchesPredicate) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <MenuItem\r\n                active={modifiers.active}\r\n                key={effect}\r\n                onClick={handleClick}\r\n                text={effect}\r\n            />\r\n        );\r\n    };\r\n\r\n    @autobind()\r\n    private _onHealthStateSelected(healthState: string) {\r\n        const {\r\n            duplicantID,\r\n            setHealthState\r\n        } = this.props;\r\n\r\n        // Need to get the enum value of the display text.\r\n        const stateIndex = HEALTH_STATE.indexOf(healthState);\r\n        if (stateIndex === -1) {\r\n            return;\r\n        }\r\n\r\n        setHealthState({ duplicantID, healthState: stateIndex });\r\n    }\r\n\r\n    @autobind()\r\n    private _onGenderSelected(gender: string) {\r\n        const {\r\n            duplicantID,\r\n            setGender\r\n        } = this.props;\r\n        setGender({duplicantID, gender: gender as Gender});\r\n    }\r\n\r\n    @autobind()\r\n    private _onVoiceSelected(voiceIdx: number) {\r\n        const {\r\n            duplicantID,\r\n            setVoice\r\n        } = this.props;\r\n        setVoice({duplicantID, voiceIdx});\r\n    }\r\n\r\n    @autobind()\r\n    private _onScaleX(value: number) {\r\n        const {\r\n            duplicantID,\r\n            setScale\r\n        } = this.props;\r\n\r\n        // Negative numbers dont render; probably because sprite normal faces\r\n        //  away from game camera.\r\n        if (value === 0 || isNaN(value)) {\r\n            value = 1;\r\n        }\r\n\r\n        setScale({ duplicantID, scaleX: value });\r\n    }\r\n\r\n    @autobind()\r\n    private _onScaleY(value: number) {\r\n        const {\r\n            duplicantID,\r\n            setScale\r\n        } = this.props;\r\n\r\n        // Negative numbers dont render; probably because sprite normal faces\r\n        //  away from game camera.\r\n        if (value <= 0 || isNaN(value)) {\r\n            value = 1;\r\n        }\r\n\r\n        setScale({ duplicantID, scaleY: value });\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DuplicantGeneralPage);\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nimport { Dispatch } from \"../../../../../../state/utils\";\r\n\r\nimport { renameDuplicant } from \"../../../../../../services/save-editor/duplicants/actions\";\r\n\r\nexport interface DispatchProps {\r\n    renameDuplicant: typeof renameDuplicant;\r\n}\r\n\r\nexport default function mapDispatchToProps(dispatch: Dispatch): DispatchProps {\r\n    return bindActionCreators({\r\n        renameDuplicant\r\n    }, dispatch);\r\n}","\r\nimport { createStructuredSelector } from \"../../../../../../state/utils\";\r\n\r\nimport { MinionIdentityBehavior } from \"../../../../../../services/save-editor/behaviors\";\r\nimport { makeGetBehaviorByName } from \"../../../../../../services/save-editor/selectors\";\r\nimport { makeGetDuplicantByID } from \"../../../../../../services/save-editor/duplicants/selectors\";\r\n\r\nimport Props from \"./props\";\r\n\r\nexport interface StateProps {\r\n    identityBehavior: MinionIdentityBehavior | null;\r\n}\r\n\r\nconst mapStateToProps = () => createStructuredSelector<Props, StateProps>({\r\n    identityBehavior: makeGetBehaviorByName(makeGetDuplicantByID<Props>(\"duplicantID\"), MinionIdentityBehavior)\r\n});\r\nexport default mapStateToProps;\r\n","\r\nimport * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport {\r\n    EditableText,\r\n    Tabs,\r\n    Tab,\r\n    NonIdealState\r\n} from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\nimport { error, FAILURE_TYPE } from \"../../../../../../logging\";\r\n\r\n\r\nimport DuplicantEditorProps from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./selectors\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch\";\r\n\r\n\r\nimport GeneralPage from \"./pages/General\";\r\nimport AppearancePage from \"./pages/Appearance\";\r\nimport SkillsPage from \"./pages/Skills\";\r\nimport TraitsPage from \"./pages/Traits\";\r\nimport JobsPage from \"./pages/Jobs\";\r\nimport EffectsPage from \"./pages/Effects\";\r\n\r\n\r\ntype Props = DuplicantEditorProps & StateProps & DispatchProps;\r\ninterface State {\r\n    rename: string | null;\r\n}\r\nclass DuplicantEditor extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            rename: null\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            className,\r\n            duplicantID,\r\n            identityBehavior\r\n        } = this.props;\r\n\r\n        const {\r\n            rename\r\n        } = this.state;\r\n\r\n        if (!identityBehavior) {\r\n            error(\"Duplicant identity behavior missing\", FAILURE_TYPE.MISSING_BEHAVIOR);\r\n            return (\r\n                <NonIdealState visual={IconNames.ERROR}>\r\n                    Duplicant has no identity behavior.\r\n                </NonIdealState>\r\n            )\r\n        }\r\n        \r\n        const name = rename || identityBehavior.parsedData.name;\r\n        \r\n        return (\r\n            <div className={`ui-duplicant-editor layout-vertical ${className}`}>\r\n                <div className=\"layout-item\">\r\n                    <h1 className=\"ui-title\">\r\n                        <EditableText\r\n                            value={name}\r\n                            onChange={this._onNameChange}\r\n                            onConfirm={this._onRename}\r\n                        />\r\n                    </h1> <span className=\"pt-text-muted\">(click to edit name)</span>\r\n                </div>\r\n                <div className=\"layout-item-fill\">\r\n                    <Tabs id=\"DuplicantEditCategories\" className=\"ui-category-tabs fill-parent layout-vertical\" renderActiveTabPanelOnly={true}>\r\n                        <Tab className=\"layout-item-fill\" id=\"general\" title=\"General\" panel={<GeneralPage duplicantID={duplicantID} />} />\r\n                        <Tab className=\"layout-item-fill\" id=\"appearance\" title=\"Appearance\" panel={<AppearancePage duplicantID={duplicantID} />} />\r\n                        <Tab className=\"layout-item-fill\" id=\"skills\" title=\"Skills\" panel={<SkillsPage duplicantID={duplicantID}/>} />\r\n                        <Tab className=\"layout-item-fill\" id=\"traits\" title=\"Traits\" panel={<TraitsPage duplicantID={duplicantID}/>} />\r\n                        <Tab className=\"layout-item-fill\" id=\"jobs\" title=\"Jobs\" panel={<JobsPage duplicantID={duplicantID}/>} />\r\n                        <Tab className=\"layout-item-fill\" id=\"effects\" title=\"Effects\" panel={<EffectsPage duplicantID={duplicantID}/>} />\r\n                    </Tabs>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onNameChange(str: string) {\r\n        this.setState(s => ({\r\n            ...s,\r\n            rename: str\r\n        }));\r\n    }\r\n\r\n    @autobind()\r\n    private _onRename() {\r\n        const name = this.state.rename;\r\n        if (!name) return;\r\n        this.props.renameDuplicant({duplicantID: this.props.duplicantID, name});\r\n        this.setState(s => ({\r\n            ...s,\r\n            rename: null\r\n        }));\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(DuplicantEditor);\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport { GameObject } from \"oni-save-parser\";\r\n\r\nimport { createStructuredSelector } from \"../../../../../../state/utils\";\r\n\r\nimport { duplicantsIDs } from \"../../../../../../services/save-editor/duplicants/selectors\";\r\n\r\nexport interface StateProps {\r\n    duplicantsIDs: number[];\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector<StateProps>({\r\n    duplicantsIDs\r\n});\r\nexport default mapStateToProps;\r\n","\r\nimport { createSelector } from \"reselect\";\r\nimport { createStructuredSelector } from \"../../../../../../state/utils\";\r\n\r\nimport { MinionIdentityBehavior, MinionResumeBehavior } from \"../../../../../../services/save-editor/behaviors\";\r\nimport { makeGetBehaviorByName } from \"../../../../../../services/save-editor/selectors\";\r\nimport { makeGetDuplicantByID } from \"../../../../../../services/save-editor/duplicants/selectors\";\r\n\r\nimport Props from \"./props\";\r\n\r\nexport interface StateProps {\r\n    identityBehavior: MinionIdentityBehavior | null;\r\n    resumeBehavior: MinionResumeBehavior | null;\r\n}\r\n\r\nconst mapStateToProps = () => {\r\n    const duplicant = makeGetDuplicantByID<Props>(\"duplicantID\");\r\n    return createStructuredSelector<Props, StateProps>({\r\n        identityBehavior: makeGetBehaviorByName(duplicant, MinionIdentityBehavior),\r\n        resumeBehavior: makeGetBehaviorByName(duplicant, MinionResumeBehavior)\r\n    })\r\n};\r\nexport default mapStateToProps;\r\n","\r\nimport * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { GameObject } from \"oni-save-parser\";\r\n\r\nimport { Card } from \"@blueprintjs/core\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { error, FAILURE_TYPE } from \"../../../../../../logging\";\r\n\r\n\r\n\r\nimport DuplicantPortraitProps from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./selectors\";\r\n\r\n\r\ntype Props = DuplicantPortraitProps & StateProps;\r\nclass DuplicantPortrait extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            className,\r\n            identityBehavior,\r\n            resumeBehavior\r\n        } = this.props;\r\n\r\n        let outerClassName = `ui-duplicant-portrait ${className}`;\r\n\r\n        let name: string;\r\n        let role: string;\r\n\r\n        if (identityBehavior) {\r\n            name = identityBehavior.parsedData.name;\r\n        }\r\n        else {\r\n            error(\"Duplicant not found or identity behavior missing.\", FAILURE_TYPE.MISSING_BEHAVIOR);\r\n            name = \"[IDENTITY MISSING]\";\r\n        }\r\n\r\n        if (resumeBehavior) {\r\n            role = resumeBehavior.parsedData.currentRole\r\n        }\r\n        else {\r\n            error(\"resume behavior missing.\", FAILURE_TYPE.MISSING_BEHAVIOR);\r\n            role = \"[RESUME MISSING]\";\r\n        }\r\n\r\n        return (\r\n            <Card className={outerClassName} interactive={true} onClick={this._onClick}>\r\n                <h5 className=\"ui-duplicant-name\">{name}</h5>\r\n                {/* TODO render a picture.  Plenty of data in identity to do so.  Also see Accessorizer */}\r\n                <div className=\"ui-duplicant-role\">{role}</div>\r\n            </Card>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onClick() {\r\n        const {\r\n            duplicantID,\r\n            onClick\r\n        } = this.props;\r\n        if (onClick) onClick(duplicantID);\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(DuplicantPortrait);","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport DuplicantPortrait from \"../DuplicantPortrait\";\r\n\r\n\r\nimport mapStateToProps, { StateProps } from \"./selectors\";\r\n\r\n\r\nexport interface DuplicantsListProps {\r\n    className?: string;\r\n    selectedDuplicantID?: number | null;\r\n    onDuplicantClick?(duplicantID: number): void;\r\n}\r\n\r\ntype Props = DuplicantsListProps & StateProps;\r\nclass DuplicantsList extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            className,\r\n            duplicantsIDs,\r\n            selectedDuplicantID\r\n        } = this.props;\r\n\r\n        const elements = duplicantsIDs.map(x => <DuplicantPortrait key={x} className={x === selectedDuplicantID ? \"pt-active\" : \"\"} duplicantID={x} onClick={this._onDuplicantClick} />);\r\n\r\n        return (\r\n            <div className={`${className || ''} ui-duplicant-list`}>\r\n                <div className={`fill-parent layout-horizontal layout-wrap container-scroll`}>\r\n                    {elements}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onDuplicantClick(duplicantID: number) {\r\n        const {\r\n            onDuplicantClick\r\n        } = this.props;\r\n\r\n        if (onDuplicantClick) {\r\n            onDuplicantClick(duplicantID);\r\n        }\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(DuplicantsList);","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { NonIdealState } from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\n\r\nimport DuplicantsList from \"./components/DuplicantsList\";\r\nimport DuplicantEditor from \"./components/DuplicantEditor\";\r\n\r\n\r\ntype Props = {};\r\ninterface State {\r\n    selectedDuplicantID: number | null;\r\n}\r\nclass DuplicantsPage extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            selectedDuplicantID: null\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            selectedDuplicantID\r\n        } = this.state;\r\n\r\n        let content: React.ReactFragment;\r\n        if (selectedDuplicantID != null) {\r\n            content = <DuplicantEditor className=\"fill-parent\" duplicantID={selectedDuplicantID}/>\r\n        }\r\n        else {\r\n            content = (\r\n                <NonIdealState visual={IconNames.MUGSHOT}>\r\n                    Select a duplicant to edit\r\n                </NonIdealState>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className=\"ui-page ui-page-duplicants fill-parent layout-vertical\">\r\n                <DuplicantsList className=\"layout-item\" selectedDuplicantID={selectedDuplicantID} onDuplicantClick={this._onDuplicantSelected} />\r\n                <div className=\"layout-item-fill\">\r\n                    {content}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onDuplicantSelected(duplicantID: number) {\r\n        this.setState(s => ({\r\n            ...s,\r\n            selectedDuplicantID: duplicantID\r\n        }));\r\n    }\r\n}\r\n\r\nexport default DuplicantsPage\r\n\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport * as React from \"react\";\r\nimport { RouteComponentProps, withRouter } from \"react-router\";\r\nimport { Link, LinkProps } from \"react-router-dom\"\r\nimport { autobind } from \"core-decorators\";\r\n\r\nexport interface ActiveAwareLinkProps extends LinkProps {\r\n    exact?: boolean;\r\n}\r\ntype Props = ActiveAwareLinkProps & RouteComponentProps<{}>;\r\nclass ActiveAwareLink extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            to,\r\n            location,\r\n            children,\r\n            onClick,\r\n            className,\r\n            exact,\r\n\r\n            // Need to strip this out of passed props\r\n            staticContext,\r\n            ...other\r\n        } = this.props\r\n        const pathName = location.pathname;\r\n        let match: boolean;\r\n        \r\n        if (exact) match = to === pathName;\r\n        else match = pathName.startsWith(to.toString());\r\n\r\n        if (match) {\r\n            return <span className={`pt-active pt-intent-primary ${className || ''}`}>{children}</span>;\r\n        }\r\n\r\n        return <Link to={to} className={`${className || ''}`} {...other} onClick={this._onClick}>{children}</Link>;\r\n    }\r\n\r\n    @autobind()\r\n    private _onClick(event: React.MouseEvent<HTMLAnchorElement>) {\r\n        const {\r\n            exact,\r\n            location,\r\n            to,\r\n            onClick\r\n        } = this.props;\r\n        const pathName = location.pathname;\r\n\r\n        let match: boolean;\r\n        if (exact) match = to === pathName;\r\n        else match = pathName.startsWith(to.toString());\r\n\r\n        if (match) {\r\n            event.preventDefault();\r\n            return;\r\n        }\r\n\r\n        if (onClick) {\r\n            onClick(event);\r\n        }\r\n    }\r\n}\r\nexport default withRouter(ActiveAwareLink);","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { RouteComponentProps, Switch, Route, Redirect, withRouter } from \"react-router\";\r\n\r\nimport {\r\n    Card,\r\n    Elevation,\r\n    Menu,\r\n    MenuDivider\r\n} from \"@blueprintjs/core\";\r\n\r\nimport ActiveAwareLink from \"../../components/ActiveAwareLink\";\r\n\r\nimport DuplicantsPage from \"./pages/Duplicants\";\r\nimport ChangelogPage from \"./pages/Changelog\";\r\nimport Error404Page from \"./pages/404\";\r\n\r\n\r\nclass SaveEditorPageComponent extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className=\"ui-page ui-page-saveeditor fill-parent layout-horizontal\">\r\n                <div className=\"ui-nav-menu layout-item\">\r\n                    <ActiveAwareLink className=\"pt-menu-item\" to=\"/duplicants\" >Duplicants</ActiveAwareLink>\r\n                    <MenuDivider />\r\n                    <ActiveAwareLink className=\"pt-menu-item\" to=\"/changelog\" >Duplicity Changelog</ActiveAwareLink>\r\n                </div>\r\n                <div className=\"layout-item-fill\">\r\n                    <Switch>\r\n                        <Redirect exact from=\"/\" to=\"/duplicants\" />\r\n                        <Route path=\"/duplicants\" component={DuplicantsPage} />\r\n                        <Route path=\"/changelog\" component={ChangelogPage} />\r\n                        <Route exact path=\"/404\" component={Error404Page} />\r\n                        <Redirect to=\"/404\" />\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SaveEditorPageComponent;","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport * as React from \"react\";\r\n\r\nimport {\r\n    NonIdealState,\r\n    Spinner,\r\n    Text\r\n} from \"@blueprintjs/core\";\r\n\r\nexport default class LoadingSaveFilePageComponent extends React.Component {\r\n    render() {\r\n        return (\r\n            <NonIdealState>\r\n                <Text>Loading File</Text>\r\n                <div>\r\n                    <Spinner large={true}/>\r\n                </div>\r\n                <Text>TODO progress here</Text>\r\n            </NonIdealState>\r\n        );\r\n    }\r\n}","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nimport { Dispatch } from \"../../state/utils\";\r\n\r\nimport { loadSavefile } from \"../../services/save-editor/savefile/actions\";\r\n\r\nexport interface DispatchProps {\r\n    loadSavefile: typeof loadSavefile;\r\n}\r\n\r\nexport default function mapDispatchToProps(dispatch: Dispatch): DispatchProps {\r\n    return bindActionCreators({\r\n        loadSavefile\r\n    }, dispatch);\r\n}","\r\nexport interface StateProps {\r\n\r\n}\r\n\r\nexport default function(): StateProps {\r\n    return {};\r\n}\r\n","\r\nimport * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport {\r\n    NonIdealState,\r\n    Button,\r\n    Intent\r\n} from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./selectors\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch\";\r\n\r\n\r\nconst saveDescription = \"Oxygen Not Included saves can be found in your documents folder under\";\r\n\r\n// TODO: Show correct path based on user's OS.\r\nconst savePath = \"Klei/OxygenNotIncluded/save_files\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass NoSaveLoadedPageComponent extends React.Component<Props> {\r\n    private _input: HTMLInputElement | null = null;\r\n    \r\n    render() {\r\n        const {\r\n            loadSavefile\r\n        } = this.props;\r\n        return (\r\n            <NonIdealState\r\n                visual={IconNames.FLOPPY_DISK}\r\n                action={\r\n                    <Button intent={Intent.PRIMARY} onClick={this._onLoadClick}>Load a .sav file</Button>\r\n                }\r\n                description=\"No save has been loaded.\"\r\n            >\r\n                <div>{saveDescription} <code>{savePath}</code></div>\r\n                <input\r\n                    ref={el => this._input = el}\r\n                    style={{display: \"none\"}}\r\n                    className=\"pt-button pt-intent-primary\"\r\n                    type=\"file\"\r\n                    accept=\".sav\"\r\n                    onChange={this._onLoadFile}\r\n                />\r\n            </NonIdealState>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onLoadClick() {\r\n        if (!this._input) return;\r\n        this._input.click();\r\n    }\r\n\r\n    @autobind()\r\n    private _onLoadFile(change: React.ChangeEvent<HTMLInputElement>) {\r\n        const files = change.target.files;\r\n        if (!files || files.length === 0) return;\r\n        this.props.loadSavefile({file: files[0]});\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NoSaveLoadedPageComponent);","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport { Dispatch } from \"../../state/utils\";\r\n\r\nexport interface DispatchProps { }\r\n\r\nexport default function mapDispatchToProps(dispatch: Dispatch): DispatchProps {\r\n    return {}\r\n}","\r\nimport { createStructuredSelector } from \"../../state/utils\";\r\n\r\nimport {\r\n    loadError\r\n} from \"../../services/save-editor/savefile/selectors\";\r\n\r\n\r\nexport interface StateProps {\r\n    loadError: Error | null;\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector<StateProps>({\r\n    loadError\r\n});\r\nexport default mapStateToProps;\r\n","\r\nimport * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport {\r\n    NonIdealState,\r\n    Text\r\n} from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./selectors\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch\";\r\n\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass ErrorPageComponent extends React.Component<Props> {\r\n    render() {\r\n        let {\r\n            loadError\r\n        } = this.props;\r\n\r\n        if (!loadError) {\r\n            loadError = new Error(\"Well, this is weird... The Error page loaded, but there is no error.\");\r\n            loadError.stack = \"I really don't know what to do about this...\"\r\n        }\r\n\r\n        return (\r\n            <NonIdealState visual={IconNames.ERROR} description=\"An Error Occurred\">\r\n                <Text>{loadError.message}</Text>\r\n                <div>\r\n                    <code>{loadError.stack}</code>\r\n                </div>\r\n            </NonIdealState>\r\n        );\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ErrorPageComponent);","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nimport { Dispatch } from \"../../state/utils\";\r\n\r\nimport { loadSavefile, saveSavefile } from \"../../services/save-editor/savefile/actions\";\r\n\r\nexport interface DispatchProps {\r\n    loadSavefile: typeof loadSavefile;\r\n    saveSavefile: typeof saveSavefile;\r\n}\r\n\r\nexport default function mapDispatchToProps(dispatch: Dispatch): DispatchProps {\r\n    return bindActionCreators({\r\n        loadSavefile,\r\n        saveSavefile\r\n    }, dispatch);\r\n}","\r\nimport { createStructuredSelector } from \"../../state/utils\";\r\n\r\nimport {\r\n    saveFileName,\r\n    isSaveChosen,\r\n    isSaveLoading,\r\n    isSaveSaving,\r\n    isSaveEnabled,\r\n    loadError\r\n} from \"../../services/save-editor/savefile/selectors\";\r\n\r\n\r\nexport interface StateProps {\r\n    saveFileName: string | null;\r\n    isSaveChosen: boolean;\r\n    isSaveLoading: boolean;\r\n    isSaveSaving: boolean;\r\n    isSaveEnabled: boolean;\r\n    loadError: Error | null;\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector<StateProps>({\r\n    saveFileName,\r\n    isSaveChosen,\r\n    isSaveLoading,\r\n    isSaveSaving,\r\n    isSaveEnabled,\r\n    loadError\r\n});\r\nexport default mapStateToProps;\r\n\r\n// Was pretty sure this used to work, once upon a time.\r\n//export type StateProps = typeof mapStateToProps;\r\n","\r\nimport * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Route, Redirect, Switch, withRouter } from \"react-router\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport {\r\n    Navbar,\r\n    NavbarGroup,\r\n    NavbarHeading,\r\n    Text,\r\n    Dialog,\r\n    Button,\r\n    Alignment,\r\n    Spinner,\r\n    NonIdealState\r\n} from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./selectors\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch\";\r\n\r\nimport ErrorPage from \"../../pages/Error\";\r\nimport NoSaveLoadedPage from \"../../pages/NoSaveLoaded\";\r\nimport LoadingSaveFilePage from \"../../pages/LoadingSaveFile\";\r\nimport SaveEditorPage from \"../../pages/SaveEditor\";\r\n\r\ntype OwnProps = StateProps & DispatchProps;\r\nclass AppComponent extends React.Component<OwnProps> {\r\n    private _input: HTMLInputElement | null = null;\r\n\r\n    render() {\r\n        const {\r\n            saveFileName,\r\n            isSaveEnabled,\r\n            isSaveChosen,\r\n            isSaveLoading,\r\n            isSaveSaving,\r\n            loadError\r\n        } = this.props;\r\n\r\n        let rootComponent: React.ComponentType;\r\n        let requireExactPath = true;\r\n\r\n        if (loadError) {\r\n            // Show error screen\r\n            rootComponent = ErrorPage;\r\n        }\r\n        else if (!isSaveChosen) {\r\n            // Show file chooser.\r\n            rootComponent = NoSaveLoadedPage\r\n        }\r\n        else if (isSaveLoading) {\r\n            // Show loading screen.\r\n            rootComponent = LoadingSaveFilePage;\r\n        }\r\n        else {\r\n            // Show editor\r\n            rootComponent = SaveEditorPage;\r\n            requireExactPath = false;\r\n        }\r\n\r\n        return (\r\n            <div className=\"ui-app-root pt-app pt-dark fill-parent layout-vertical\">\r\n                <Navbar className=\"layout-item ui-app-navbar\">\r\n                    <NavbarGroup>\r\n                        <NavbarHeading>ONI Save Editor</NavbarHeading>\r\n                        <Text ellipsize={true}>{saveFileName || \"\"}</Text>\r\n                    </NavbarGroup>\r\n                    <NavbarGroup align={Alignment.RIGHT}>\r\n                        <Button icon={IconNames.UPLOAD} onClick={this._onLoadClick}>Load</Button>\r\n                        <Button icon={IconNames.FLOPPY_DISK} disabled={!isSaveEnabled} onClick={this._onSaveClick}>Save</Button>\r\n                        <input\r\n                            ref={el => this._input = el}\r\n                            style={{display: \"none\"}}\r\n                            className=\"pt-button pt-intent-primary\"\r\n                            type=\"file\"\r\n                            accept=\".sav\"\r\n                            onChange={this._onLoadFile}\r\n                        />\r\n                    </NavbarGroup>\r\n                </Navbar>\r\n                <div className=\"layout-item-fill\">\r\n                    <Switch>\r\n                        <Route exact={requireExactPath} path=\"/\" component={rootComponent}/>\r\n                        <Redirect to=\"/\"/>\r\n                    </Switch>\r\n                </div>\r\n                <Dialog isOpen={isSaveSaving} title=\"Saving File\" icon={IconNames.SAVED} isCloseButtonShown={false}>\r\n                    <NonIdealState>\r\n                        <div>\r\n                            <Spinner large={true}/>\r\n                        </div>\r\n                        <div>\r\n                            Saving <code>{saveFileName}</code>\r\n                        </div>\r\n                    </NonIdealState>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onSaveClick() {\r\n        this.props.saveSavefile({});\r\n    }\r\n\r\n    @autobind()\r\n    private _onLoadClick() {\r\n        if (!this._input) return;\r\n        this._input.click();\r\n    }\r\n\r\n    @autobind()\r\n    private _onLoadFile(change: React.ChangeEvent<HTMLInputElement>) {\r\n        const files = change.target.files;\r\n        if (!files || files.length === 0) return;\r\n        this.props.loadSavefile({file: files[0]});\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AppComponent);","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport * as React from \"react\";\r\n\r\nimport { hot } from \"react-hot-loader\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport App from \"./components/App\";\r\n\r\n// react-router wants to wrap every element we have in a new element.  Because composability!\r\n//  without wrapping this in a <Route/> from the outside, the PureComponent hot will not see\r\n//  any changes, and the broken context system is ignored.\r\n//  Every other library out their uses an external context store similar to the new react context\r\n//  pattern, but router just blames everyone else for honoring shouldComponentUpdate and says wontfix.\r\n// Might be better off removing route altogether and staying a SPA.\r\nexport default withRouter(hot(module)(App) as any);\r\n","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"html, body, #root {\\n  height: 100%;\\n  width: 100%; }\\n\\nbody {\\n  margin: 0;\\n  padding: 0; }\\n\\n.fill-parent, .fill-parent-width, .fill-parent-height {\\n  /* Fill parent to our outsides.*/\\n  box-sizing: border-box; }\\n\\n.fill-parent, .fill-parent-width {\\n  width: 100%; }\\n\\n.fill-parent, .fill-parent-height {\\n  height: 100%; }\\n\\n.layout-wrap {\\n  flex-wrap: wrap; }\\n\\n/*\\r\\n============================================================================\\r\\nHorizontal and Vertical Layouts\\r\\n============================================================================\\r\\n*/\\n/* Container for items that can fill up the available space, and optionally be constrained by it. */\\n.layout-vertical {\\n  display: flex;\\n  flex-direction: column; }\\n\\n.layout-horizontal {\\n  display: flex;\\n  flex-direction: row; }\\n\\n.layout-item, .layout-item-fill {\\n  box-sizing: border-box; }\\n\\n.layout-vertical > div, .layout-horizontal > div, .layout-vertical > .layout-item, .layout-horizontal > .layout-item {\\n  flex: none; }\\n\\n.layout-vertical > .layout-item-fill, .layout-horizontal > .layout-item-fill {\\n  flex: 1 1 auto; }\\n\\n.layout-vertical > .layout-item-constrain, .layout-horizontal > .layout-item-constrain {\\n  flex: 0 1 auto; }\\n\\n.layout-vertical > .layout-item-fill, .layout-vertical > .layout-item-constrain {\\n  /* Flex sets min-height to auto, we need to allow it to shrink down */\\n  min-height: 0;\\n  /*\\r\\n    Maintain some sort of inner css specified (vs actual?) value for height, so that \\r\\n    child elements can use height percentages and fill their parent (us)\\r\\n    */\\n  height: 100%; }\\n\\n.layout-horizontal > .layout-item-fill, .layout-horizontal > .layout-item-constrain {\\n  min-width: 0;\\n  width: 100%; }\\n\\n/*\\r\\n============================================================================\\r\\nContent Containers\\r\\n============================================================================\\r\\n*/\\n.container-scroll {\\n  overflow: auto; }\\n\\n/*\\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\\n */\\n.ui-app-root {\\n  background-color: #182026; }\\n\\n.pt-navbar.ui-app-navbar {\\n  background-color: #2965cc; }\\n  .pt-navbar.ui-app-navbar .pt-navbar-group .pt-button {\\n    margin: 0 4px; }\\n\\n.ui-page.ui-page-404 .ui-title {\\n  font-size: 20pt; }\\n\\n.ui-page.ui-page-404 .ui-title-secondary {\\n  font-size: 12pt; }\\n\\n.ui-page.ui-page-404 .ui-body {\\n  margin-top: 8px; }\\n\\n.ui-page.ui-page-saveeditor .ui-nav-menu {\\n  padding: 15px;\\n  background-color: #394b59; }\\n\\n.ui-page.ui-page-duplicants .ui-duplicant-list {\\n  background-color: #bfccd6;\\n  height: 340px; }\\n  .ui-page.ui-page-duplicants .ui-duplicant-list .ui-duplicant-portrait {\\n    width: 150px;\\n    height: 150px;\\n    margin: 10px;\\n    cursor: pointer; }\\n    .ui-page.ui-page-duplicants .ui-duplicant-list .ui-duplicant-portrait .ui-duplicant-name {\\n      text-align: center; }\\n    .ui-page.ui-page-duplicants .ui-duplicant-list .ui-duplicant-portrait .ui-duplicant-role {\\n      text-align: center; }\\n  .ui-page.ui-page-duplicants .ui-duplicant-list .ui-duplicant-portrait.pt-active {\\n    background-color: #f29d49; }\\n\\n.ui-page.ui-page-duplicants .ui-duplicant-editor {\\n  box-sizing: border-box;\\n  padding: 5px; }\\n  .ui-page.ui-page-duplicants .ui-duplicant-editor .ui-title {\\n    display: inline-block;\\n    width: auto; }\\n\\n.ui-page.ui-page-duplicants .ui-duplicant-skills .pt-html-table {\\n  width: 100%;\\n  max-height: 100%; }\\n\\n.ui-page.ui-page-duplicants .ui-duplicant-effects .pt-html-table {\\n  width: 100%;\\n  max-height: 100%; }\\n\\n.ui-page.ui-page-duplicants .ui-duplicant-jobs .ui-current-role, .ui-page.ui-page-duplicants .ui-duplicant-jobs .ui-target-role {\\n  padding: 5px; }\\n\\n.ui-page.ui-page-changelog {\\n  padding: 15px; }\\n\\n.pt-multi-select-popover .pt-menu, .pt-select-popover .pt-menu {\\n  max-width: 400px;\\n  max-height: 300px;\\n  overflow: auto; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./root.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./root.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./root.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\r\n import \"@blueprintjs/core/lib/css/blueprint.css\";\r\n import \"@blueprintjs/icons/lib/css/blueprint-icons.css\";\r\n\r\nimport \"./root.scss\";\r\n","\r\nimport * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport { HashRouter } from \"react-router-dom\";\r\n\r\nimport \"./css\";\r\n\r\n\r\nimport App from \"./app\";\r\n\r\nimport store from \"./state/store\";\r\n\r\nimport { runSaga } from \"./state/saga\";\r\nrunSaga();\r\n\r\n\r\nconst rootEl = document.getElementById(\"root\");\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <HashRouter>\r\n            <App />\r\n        </HashRouter>\r\n    </Provider>,\r\n    rootEl\r\n);\r\n"],"sourceRoot":""}