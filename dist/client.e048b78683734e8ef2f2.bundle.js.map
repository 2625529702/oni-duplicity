{"version":3,"sources":["webpack:///./src/services/save-editor/save-editor.ts","webpack:///./src/services/save-editor/store.ts","webpack:///./src/store.ts","webpack:///./CHANGELOG.md","webpack:///./src/pages/Changelog/component.tsx","webpack:///./src/pages/Changelog/index.ts","webpack:///./src/pages/404/component.tsx","webpack:///./src/pages/Error/component.tsx","webpack:///./src/pages/Error/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Effects/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Effects/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Jobs/pages/Roles/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Jobs/pages/Roles/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Jobs/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Jobs/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Traits/traits.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Traits/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Traits/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Skills/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Skills/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Appearance/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/Appearance/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/General/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/pages/General/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantPortrait/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantPortrait/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantsList/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantsList/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/index.ts","webpack:///./src/pages/SaveEditor/pages/General/component.tsx","webpack:///./src/pages/SaveEditor/pages/General/index.ts","webpack:///./src/pages/SaveEditor/components/LoadingSaveFile/component.tsx","webpack:///./src/pages/SaveEditor/components/LoadingSaveFile/index.ts","webpack:///./src/pages/SaveEditor/components/NoSaveLoaded/component.tsx","webpack:///./src/pages/SaveEditor/components/NoSaveLoaded/index.ts","webpack:///./src/pages/SaveEditor/component.tsx","webpack:///./src/pages/SaveEditor/index.ts","webpack:///./src/components/ActiveAwareLink/component.tsx","webpack:///./src/components/ActiveAwareLink/index.ts","webpack:///./src/components/AppNavMenu/component.tsx","webpack:///./src/components/AppNavMenu/index.ts","webpack:///./src/components/AppNavBar/component.tsx","webpack:///./src/components/AppNavBar/index.ts","webpack:///./src/services/save-editor/save-loader.worker.ts","webpack:///./src/services/save-editor/game-object-behavior.ts","webpack:///./src/services/save-editor/game-object.ts","webpack:///./src/utils.ts","webpack:///./src/components/App/component.tsx","webpack:///./src/components/App/index.ts","webpack:///./src/app.tsx","webpack:///./src/css/root.scss","webpack:///./src/css/root.scss?3097","webpack:///./src/css/index.ts","webpack:///./src/index.tsx","webpack:///./src/services/save-editor/index.tsx","webpack:///./src/logging/index.ts","webpack:///./src/pages/404/index.ts"],"names":["mobx_1","__webpack_require__","file_saver_1","utils_1","logging_1","game_object_1","save_loader_worker_1","__importDefault","worker","default","SaveEditorImpl","[object Object]","this","saveName","isSaveLoading","isSaveLoaded","isSaveSaving","loadError","_saveGame","_modelCache","Map","load","flow","file","clear","name","saveGame","parseSave","readFile","type","typedKeys","body","gameObjects","models","map","x","GameObjectModelImpl","set","e","error","message","save","data","writeSave","blob","Blob","saveAs","get","reader","FileReader","Promise","accept","reject","onload","result","onerror","readAsArrayBuffer","buffer","onmessage","cmd","command","postMessage","__decorate","observable","prototype","exports","save_editor_1","createStore","mobx","__importStar","configure","enforceActions","store_1","createStores","saveEditor","module","React","react_markdown_1","changelog","ChangelogPage","Component","createElement","className","source","component_1","core_1","icons_1","DuplicantsPage","NonIdealState","visual","IconNames","ERROR","ErrorPage","props","Error","stack","description","Text","mobx_react_1","core_decorators_1","oni_save_parser_1","select_1","StringSelect","Select","ofType","DuplicantEffects","duplicant","effectsBehavior","getBehavior","AIEffectsBehavior","rows","templateData","saveLoadEffects","DuplicantEffectRow","key","id","timeRemaining","onChangeTime","_onEffectChangeTime","onRemove","_onEffectRemoved","items","AI_EFFECT_IDS","itemPredicate","_filterItem","itemRenderer","_renderItem","onItemSelect","_onEffectSelected","filterable","resetOnClose","resetOnSelect","popoverProps","minimal","Button","rightIcon","text","query","item","toLowerCase","indexOf","effect","itemProps","modifiers","handleClick","matchesPredicate","MenuItem","active","onClick","effectID","effects","findIndex","push","find","index","splice","autobind","action","bound","observer","super","NumericInput","value","clampValueOnBlur","min","onValueChange","_onTimeRemainingChange","icon","SMALL_CROSS","_onRemove","isNaN","DuplicantJobsPage","resumeBehavior","MinionResumeBehavior","currentRole","targetRole","ExperienceByRoleID","MasteryByRoleID","knownRoles","Array","from","keys","experience","mastery","JobRow","jobID","setMastery","_setMastery","setExperience","_setExperience","_onCurrentRoleSelected","_onTargetRoleSelected","roleID","checked","onChange","_onSetMastery","_onSetExperience","change","target","Roles_1","DuplicantRolesPage","Tabs","vertical","renderActiveTabPanelOnly","Tab","title","panel","disabled","TRAITS","TraitMultiSelect","MultiSelect","traits_1","DuplicantTraits","traitsBehavior","AITraitsBehavior","traits","TraitIds","selectedItems","_onTagSelected","tagRenderer","tag","tagInputProps","_onTagRemoved","noResults","trait","isSelected","TICK","BLANK","shouldDismissPopover","DuplicantSkills","skillsBehavior","AIAttributeLevelsBehavior","saveLoadLevels","DuplicantSkillRow","attributeId","level","onChangeLevel","_onChangeLevel","onChangeExperience","_onChangeExperience","skill","_onLevelChange","_onExperienceChange","Math","round","oni_save_parser_2","DuplicantAccessoryPage","accessorizer","AccessorizerBehavior","accessories","eyesAccessory","getAccessoryOfType","headAccessory","hairAccessory","mouthAccessory","bodyAccessory","eyes","guid","Guid","head","hair","mouth","AppearanceGroup","ACCESSORIZER_EYE_GUIDS","onSet","_setEyes","ACCESSORIZER_HEAD_GUIDS","_setHead","ACCESSORIZER_HAIR_GUIDS","_setHair","ACCESSORIZER_MOUTH_GUIDS","_setMouth","ACCESSORIZER_BODY_GUIDS","_setBody","getIndexOfAccessoryType","_onSet","accessoryID","GenderSelect","NumberSelect","MIN_SCALE","Number","EPSILON","DuplicantGeneralPage","scaleX","scale","scaleY","y","healthBehavior","HealthBehavior","healthState","State","identityBehavior","MinionIdentityBehavior","gender","voiceIdx","healthStateStr","HEALTH_STATE_NAMES","length","MINION_IDENTITY_GENDERS","_onGenderSelected","_onVoiceSelected","_onScaleX","_onScaleY","_onHealthStateSelected","stateIndex","genderStringKey","General_1","Appearance_1","Skills_1","Traits_1","Jobs_1","Effects_1","DuplicantEditor","state","rename","FAILURE_TYPE","MISSING_BEHAVIOR","EditableText","_onNameChange","onConfirm","_onRename","str","setState","s","Object","assign","DuplicantPortrait","identity","resume","role","outerClassName","Card","interactive","_onClick","DuplicantPortrait_1","DuplicantsList","duplicants","selectedDuplicant","kPrefabID","elements","_onDuplicantClick","onDuplicantClick","DuplicantsList_1","DuplicantEditor_1","getGameObjects","content","MUGSHOT","_onDuplicantSelected","withSaveEditor","GeneralPage","clockBehavior","_getClockBehavior","cycle","immigrationBehavior","_getImmigrationBehavior","timeBeforeSpawn","bImmigrantAvailable","_onCycleChange","_nextSpawnChange","_spawnReadyChange","behavior","time","LoadingSaveFilePageComponent","Spinner","large","saveDescription","savePath","NoSaveLoadedPageComponent","_input","FLOPPY_DISK","intent","Intent","PRIMARY","_onLoadClick","ref","el","style","display","_onLoadFile","click","files","react_router_1","NoSaveLoaded_1","LoadingSaveFile_1","Duplicants_1","Error_1","_404_1","SaveEditorPageComponent","Switch","Redirect","exact","to","Route","path","component","withRouter","react_router_dom_1","ActiveAwareLink","_a","location","children","staticContext","other","__rest","pathName","pathname","match","matchPartialPath","toString","Link","event","preventDefault","startsWith","ActiveAwareLink_1","AppNavMenu","entries","links","_renderEntries","String","fragments","previousWasGroup","forEach","entry","i","rendered","_renderEntry","MenuDivider","isArray","unshift","subEntries","collapse","primaryLink","throwUnknownMenuEntry","AppNavBar","Navbar","NavbarGroup","NavbarHeading","ellipsize","align","Alignment","RIGHT","UPLOAD","_onSaveClick","Worker","p","GameObjectBehaviorModelImpl","_behavior","_observableTemplate","parsedData","toJS","game_object_behavior_1","gameObject","_behaviorCache","_gameObject","behaviors","array","idBehavior","KPrefabIDBehavior","InstanceID","NaN","behaviorName","obj","mobx_react_devtools_1","AppNavBar_1","AppNavMenu_1","SaveEditor_1","Changelog_1","AppComponent","Dialog","isOpen","SAVED","isCloseButtonShown","react_hot_loader_1","App_1","hot","options","hmr","transform","insertInto","undefined","locals","ReactDOM","app_1","rootEl","document","getElementById","render","Provider","HashRouter","WrappedComponent","WithSaveEditor","inject","failureType","ACTION_INVALID","SAVEFILE_CORRUPT","STATE_CORRUPT","warning","console","warn","freeze","seal"],"mappings":"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","file":"client.e048b78683734e8ef2f2.bundle.js","sourcesContent":["\r\nimport { observable, action, flow, computed } from \"mobx\";\r\nimport { createTransformer } from \"mobx-utils\";\r\nimport { saveAs } from \"file-saver\";\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { typedKeys } from \"@/utils\";\r\nimport { error } from \"@/logging\";\r\n\r\nimport { SaveEditor, GameObjectModel } from \"./interfaces\";\r\nimport { GameObjectModelImpl } from \"./game-object\";\r\n\r\nimport SaveLoadWorker from \"worker-loader!./save-loader.worker\";\r\nimport { LoadCommandData, SaveCommandData } from \"./save-loader.worker\";\r\nconst worker = new SaveLoadWorker();\r\n\r\n\r\nexport class SaveEditorImpl implements SaveEditor {\r\n    @observable\r\n    saveName: string | null = null;\r\n\r\n    @observable\r\n    isSaveLoading: boolean = false;\r\n\r\n    @observable\r\n    isSaveLoaded: boolean = false;\r\n\r\n    @observable\r\n    isSaveSaving: boolean = false;\r\n\r\n    @observable\r\n    loadError: Error | null = null;\r\n\r\n    private _saveGame: SaveGame | null = null;\r\n\r\n    /**\r\n     * Map of game object types to GameObjectModels in index order.\r\n     */\r\n    private _modelCache = new Map<string, GameObjectModelImpl[]>();\r\n\r\n    load: SaveEditor[\"load\"] = flow(function* (this: SaveEditorImpl, file: File) {\r\n        this.isSaveLoaded = false;\r\n        this.isSaveLoading = true;\r\n        this._modelCache.clear();\r\n        this.saveName = file.name;\r\n        try {\r\n            const data = yield readFile(file);\r\n            const saveGame: SaveGame = yield parseSave(data);\r\n            this._saveGame = saveGame;\r\n            for (let type of typedKeys(this._saveGame.body.gameObjects)) {\r\n                const models = this._saveGame.body.gameObjects[type].map(x => new GameObjectModelImpl(type, x));\r\n                this._modelCache.set(type, models);\r\n            }\r\n            this.isSaveLoaded = true;\r\n        }\r\n        catch (e) {\r\n            error(\"Failed to load file: \" + e.message);\r\n            this.loadError = e;\r\n        }\r\n        finally {\r\n            this.isSaveLoading = false;\r\n        }\r\n\r\n    });\r\n\r\n    save: SaveEditor[\"save\"] = flow(function*(this: SaveEditorImpl) {\r\n        if (!this._saveGame) return;\r\n        this.isSaveSaving = true;\r\n        try {\r\n            const data = yield writeSave(this._saveGame)\r\n            const blob = new Blob([data]);\r\n\r\n            saveAs(blob, this.saveName || \"my-file.sav\");\r\n        }\r\n        catch (e) {\r\n            error(\"Failed to save file: \" + e.message);\r\n            this.loadError = e;\r\n        }\r\n        finally {\r\n            this.isSaveSaving = false;\r\n        }\r\n    });\r\n\r\n    // TODO: Look at why this is generating new objects every time.  Might be because the source object isnt observable?\r\n    // getGameObjects: SaveEditor[\"getGameObjects\"] = createTransformer((type: string) => ((this._saveGame && this._saveGame.body.gameObjects[type]) || []).map(x => new GameObjectModelImpl(type, x)));\r\n    getGameObjects(type: string): GameObjectModel[] {\r\n        return this._modelCache.get(type) || [];\r\n    }\r\n}\r\n\r\n\r\nfunction readFile(file: File): Promise<ArrayBuffer> {\r\n    const reader = new FileReader();\r\n    return new Promise<ArrayBuffer>((accept, reject) => {\r\n        reader.onload = () => {\r\n            accept(reader.result);\r\n        };\r\n        reader.onerror = () => {\r\n            reject(reader.error);\r\n        };\r\n        reader.readAsArrayBuffer(file);\r\n    });\r\n}\r\n\r\nfunction parseSave(buffer: ArrayBuffer): Promise<SaveGame> {\r\n    return new Promise<SaveGame>((accept, reject) => {\r\n        worker.onerror = (e: ErrorEvent) => { reject(e.error) };\r\n        worker.onmessage = (e: MessageEvent) => {\r\n            const {\r\n                saveGame,\r\n                error\r\n            } = e.data;\r\n            if (error) reject(error);\r\n            else accept(saveGame);\r\n        };\r\n\r\n        const cmd: LoadCommandData = {\r\n            command: \"load\",\r\n            buffer: buffer\r\n        };\r\n        worker.postMessage(cmd);\r\n    });\r\n}\r\n\r\nfunction writeSave(saveGame: SaveGame): Promise<ArrayBuffer> {\r\n    return new Promise<ArrayBuffer>((accept, reject) => {\r\n        worker.onerror = (e: ErrorEvent) => { reject(e.error) };\r\n        worker.onmessage = (e: MessageEvent) => {\r\n            const {\r\n                buffer,\r\n                error\r\n            } = e.data;\r\n            if (error) reject(error);\r\n            else accept(buffer);\r\n        };\r\n\r\n        const cmd: SaveCommandData = {\r\n            command: \"save\",\r\n            save: saveGame\r\n        };\r\n        worker.postMessage(cmd);\r\n    });\r\n}\r\n","\r\nimport { SaveEditor } from \"./interfaces\";\r\nimport { SaveEditorImpl } from \"./save-editor\";\r\n\r\nexport function createStore(): SaveEditor {\r\n    return new SaveEditorImpl();\r\n}","\r\nimport * as mobx from \"mobx\";\r\nmobx.configure({\r\n    enforceActions: true\r\n});\r\n\r\nimport { createStore as createSaveEditorStore } from \"./services/save-editor/store\";\r\n\r\nexport function createStores() {\r\n    return {\r\n        saveEditor: createSaveEditorStore()\r\n    };\r\n}\r\n","module.exports = \"\\r\\n### v1.3.0\\r\\n- Edit current cycle.\\r\\n- Edit duplicant printer\\r\\n    - Next duplicant ready\\r\\n    - Time to next duplicant\\r\\n\\r\\n### v1.2.1\\r\\n- Fix save corruption when text with multi-byte accents are encountered.\\r\\n- Refactor URL layout to make way for future utilities.\\r\\n\\r\\n### v1.2.0\\r\\n\\r\\n- Edit Duplicants\\r\\n    - Current Job\\r\\n    - Target Job\\r\\n    - Job Experience\\r\\n    - Job Mastery\\r\\n\\r\\n### v1.1.0\\r\\n\\r\\n- Edit Duplicants\\r\\n    - Gender (data only; no visual effect)\\r\\n    - Voice\\r\\n    - Appearance\\r\\n- Dedicated load button (no more refreshes to edit new saves)\\r\\n\\r\\n### v1.0.0\\r\\n\\r\\nGround-up rewrite.\\r\\n\\r\\n- Edit Duplicants\\r\\n    - Name\\r\\n    - Size (width and height)\\r\\n    - Health Status (healthy, critical, incapacitated, invulnurable, ...)\\r\\n    - Skills (level and experience)\\r\\n    - Traits\\r\\n    - Status Effects\\r\\n- New Theme\\r\\n- Non-blocking file loading and saving.  Prevents browsers from killing the process when working with large saves.\\r\\n- Internal cleanup for mantainability going forward.\"","\r\nimport * as React from \"react\";\r\nimport Markdown from \"react-markdown\";\r\n\r\nconst changelog = require(\"@/../CHANGELOG.md\");\r\n\r\nexport default class ChangelogPage extends React.Component {\r\n    render() {\r\n        return <Markdown className=\"ui-page ui-page-changelog fill-parent\" source={changelog}/>\r\n    }\r\n}","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\n\r\nimport {\r\n    NonIdealState,\r\n    Text\r\n} from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\nclass DuplicantsPage extends React.Component {\r\n    render() {\r\n        return (\r\n            <NonIdealState className=\"ui-page ui-page-404\" visual={IconNames.ERROR}>\r\n                <div>\r\n                    <div className=\"ui-title\">I don't know how you got here...</div>\r\n                    <div className=\"ui-title-secondary\">But weasels were probably involved.</div>\r\n                </div>\r\n                <div className=\"ui-body\">\r\n                    <div>No idea what this page is supposed to be, sorry.</div>\r\n                    <div>Try choosing something else to edit.</div>\r\n                </div>\r\n            </NonIdealState>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DuplicantsPage","\r\nimport * as React from \"react\";\r\n\r\nimport {\r\n    NonIdealState,\r\n    Text\r\n} from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\n\r\nexport interface ErrorPageProps {\r\n    error: Error;\r\n}\r\ntype Props = ErrorPageProps;\r\nclass ErrorPage extends React.Component<Props> {\r\n    render() {\r\n        let {\r\n            error\r\n        } = this.props;\r\n\r\n        if (!error) {\r\n            error = new Error(\"Well, this is weird... The Error page loaded, but there is no error.\");\r\n            error.stack = \"I really don't know what to do about this...\"\r\n        }\r\n\r\n        return (\r\n            <NonIdealState visual={IconNames.ERROR} description=\"An Error Occurred\">\r\n                <Text>{error.message}</Text>\r\n                <div>\r\n                    <code>{error.stack}</code>\r\n                </div>\r\n            </NonIdealState>\r\n        );\r\n    }\r\n}\r\nexport default ErrorPage;","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport * as React from \"react\";\r\nimport { action } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\nimport { AI_EFFECT_IDS, AIEffectsBehavior } from \"oni-save-parser\";\r\n\r\nimport { NumericInput, MenuItem, Button } from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\nimport { Select, IItemRendererProps } from \"@blueprintjs/select\";\r\nconst StringSelect = Select.ofType<string>();\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\n\r\n\r\nexport interface DuplicantEffectsProps {\r\n    duplicant: GameObjectModel\r\n};\r\n\r\n\r\ntype Props = DuplicantEffectsProps;\r\n@observer\r\nclass DuplicantEffects extends React.Component<Props> {\r\n    render() {\r\n        const { duplicant } = this.props;\r\n\r\n        const effectsBehavior = duplicant.getBehavior(AIEffectsBehavior);\r\n        if (!effectsBehavior) return <div>Error: No AIEffectsBehavior found.</div>;\r\n        const effects = effectsBehavior.templateData.saveLoadEffects;\r\n\r\n        const rows = effects.map(x =>\r\n            <DuplicantEffectRow\r\n                key={x.id}\r\n                id={x.id}\r\n                timeRemaining={x.timeRemaining}\r\n                onChangeTime={this._onEffectChangeTime}\r\n                onRemove={this._onEffectRemoved}\r\n            />\r\n        );\r\n\r\n        return (\r\n            <div className={`ui-duplicant-effects fill-parent layout-vertical`}>\r\n                <div className=\"container-scroll layout-item-fill\">\r\n                    <table className=\"pt-html-table pt-html-table-striped fill-parent-width\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Effect</th>\r\n                                <th>Time Remaining (ms)</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {rows}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div>\r\n                    <StringSelect\r\n                        items={AI_EFFECT_IDS}\r\n                        itemPredicate={this._filterItem}\r\n                        itemRenderer={this._renderItem}\r\n                        onItemSelect={this._onEffectSelected}\r\n                        filterable={true}\r\n                        resetOnClose={true}\r\n                        resetOnSelect={true}\r\n                        popoverProps={{ minimal: true }}\r\n                    >\r\n                        <Button rightIcon=\"caret-down\" text=\"Add a new Effect\" />\r\n                    </StringSelect>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    private _filterItem(query: string, item: string) {\r\n        return item.toLowerCase().indexOf(query.toLowerCase()) !== -1;\r\n    }\r\n\r\n    @autobind()\r\n    private _renderItem(effect: string, itemProps: IItemRendererProps) {\r\n        const {\r\n            modifiers,\r\n            handleClick\r\n        } = itemProps;\r\n\r\n        if (!modifiers.matchesPredicate) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <MenuItem\r\n                active={modifiers.active}\r\n                key={effect}\r\n                onClick={handleClick}\r\n                text={effect}\r\n            />\r\n        );\r\n    };\r\n\r\n    @action.bound\r\n    private _onEffectSelected(effectID: string) {\r\n        const { duplicant } = this.props;\r\n        const effectsBehavior = duplicant.getBehavior(AIEffectsBehavior);\r\n        if (!effectsBehavior) return;\r\n        const effects = effectsBehavior.templateData.saveLoadEffects;\r\n\r\n        if (effects.findIndex(x => x.id === effectID) !== -1) return;\r\n\r\n        effects.push({\r\n            id: effectID,\r\n            timeRemaining: 5000\r\n        });\r\n    }\r\n\r\n    @action.bound\r\n    private _onEffectChangeTime(effectID: string, timeRemaining: number) {\r\n        const { duplicant } = this.props;\r\n        const effectsBehavior = duplicant.getBehavior(AIEffectsBehavior);\r\n        if (!effectsBehavior) return;\r\n        const effects = effectsBehavior.templateData.saveLoadEffects;\r\n\r\n        const effect = effects.find(x => x.id === effectID);\r\n        if (!effect) return;\r\n\r\n        effect.timeRemaining = timeRemaining;\r\n    }\r\n\r\n    @action.bound\r\n    private _onEffectRemoved(effectID: string) {\r\n        const { duplicant } = this.props;\r\n        const effectsBehavior = duplicant.getBehavior(AIEffectsBehavior);\r\n        if (!effectsBehavior) return;\r\n        const effects = effectsBehavior.templateData.saveLoadEffects;\r\n\r\n        const index = effects.findIndex(x => x.id === effectID);\r\n        if (index === -1) return;\r\n        effects.splice(index, 1);\r\n    }\r\n}\r\nexport default DuplicantEffects;\r\n\r\n\r\ninterface DuplicantEffectRowProps {\r\n    id: string;\r\n    timeRemaining: number;\r\n    onChangeTime(id: string, timeRemaining: number): void;\r\n    onRemove(id: string): void;\r\n}\r\n\r\nclass DuplicantEffectRow extends React.Component<DuplicantEffectRowProps> {\r\n    constructor(props: DuplicantEffectRowProps) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            id,\r\n            timeRemaining\r\n        } = this.props;\r\n\r\n        return (\r\n            <tr>\r\n                <td>{id}</td>\r\n                <td>\r\n                    <NumericInput\r\n                        value={timeRemaining}\r\n                        clampValueOnBlur={true}\r\n                        min={0}\r\n                        onValueChange={this._onTimeRemainingChange}\r\n                    />\r\n                </td>\r\n                <td>\r\n                    <Button icon={IconNames.SMALL_CROSS} onClick={this._onRemove} />\r\n                </td>\r\n            </tr>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onTimeRemainingChange(value: number) {\r\n        const {\r\n            id,\r\n            onChangeTime\r\n        } = this.props;\r\n\r\n        if (value < 0 || isNaN(value)) {\r\n            value = 0;\r\n        }\r\n\r\n        onChangeTime(id, value);\r\n    }\r\n\r\n    @autobind()\r\n    private _onRemove() {\r\n        const {\r\n            id,\r\n            onRemove\r\n        } = this.props;\r\n        onRemove(id);\r\n    }\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { action } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { NumericInput, Button, MenuItem } from \"@blueprintjs/core\";\r\nimport { Select, IItemRendererProps } from \"@blueprintjs/select\";\r\nconst StringSelect = Select.ofType<string>();\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\nimport { MinionResumeBehavior } from \"oni-save-parser\";\r\n\r\n\r\nexport interface DuplicantJobsPageProps {\r\n    duplicant: GameObjectModel;\r\n}\r\n\r\ntype Props = DuplicantJobsPageProps;\r\n@observer\r\nclass DuplicantJobsPage extends React.Component<Props> {\r\n    render() {\r\n        const { duplicant } = this.props;\r\n\r\n        const resumeBehavior = duplicant.getBehavior(MinionResumeBehavior);\r\n        if (!resumeBehavior) return <div>Error: GameObject lacks a MinionResumeBehavior.</div>;\r\n\r\n        const {\r\n            currentRole,\r\n            targetRole,\r\n            ExperienceByRoleID,\r\n            MasteryByRoleID\r\n        } = resumeBehavior.templateData;\r\n\r\n        // Might want to make a constant for this, but this is better for future compatibility.\r\n        const knownRoles = Array.from(ExperienceByRoleID.keys());\r\n\r\n        const rows = knownRoles.map(x => {\r\n            const experience = ExperienceByRoleID.get(x) || 0;\r\n            const mastery = MasteryByRoleID.get(x) || false;\r\n            return <JobRow key={x} jobID={x} mastery={mastery} experience={experience} setMastery={this._setMastery} setExperience={this._setExperience} />\r\n        });\r\n\r\n        return (\r\n            <div className={`ui-duplicant-jobs fill-parent container-scroll`}>\r\n                <div className=\"layout-vertical\">\r\n                    <div className=\"layout-horizontal\">\r\n                        <div className=\"ui-current-role pt-form-group pt-inline\">\r\n                            <label className=\"pt-label\">\r\n                                Current Role\r\n                            </label>\r\n                            <div className=\"pt-form-content\">\r\n                                <StringSelect\r\n                                    items={knownRoles}\r\n                                    itemPredicate={this._filterItem}\r\n                                    itemRenderer={this._renderItem}\r\n                                    onItemSelect={this._onCurrentRoleSelected}\r\n                                    filterable={true}\r\n                                    resetOnClose={true}\r\n                                    resetOnSelect={true}\r\n                                    popoverProps={{ minimal: true }}\r\n                                >\r\n                                    <Button rightIcon=\"caret-down\" text={currentRole || \"[Unknown]\"} />\r\n                                </StringSelect>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"ui-target-role pt-form-group pt-inline\">\r\n                            <label className=\"pt-label\">\r\n                                Target Role\r\n                            </label>\r\n                            <div className=\"pt-form-content\">\r\n                                <StringSelect\r\n                                    items={knownRoles}\r\n                                    itemPredicate={this._filterItem}\r\n                                    itemRenderer={this._renderItem}\r\n                                    onItemSelect={this._onTargetRoleSelected}\r\n                                    filterable={true}\r\n                                    resetOnClose={true}\r\n                                    resetOnSelect={true}\r\n                                    popoverProps={{ minimal: true }}\r\n                                >\r\n                                    <Button rightIcon=\"caret-down\" text={targetRole || \"[Unknown]\"} />\r\n                                </StringSelect>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <table className=\"pt-html-table pt-html-table-striped fill-parent-width layout-item\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Job Name</th>\r\n                                <th>Mastery</th>\r\n                                <th>Experience</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {rows}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private _filterItem(query: string, item: string) {\r\n        return item.toLowerCase().indexOf(query.toLowerCase()) !== -1;\r\n    }\r\n\r\n    @autobind()\r\n    private _renderItem(effect: string, itemProps: IItemRendererProps) {\r\n        const {\r\n            modifiers,\r\n            handleClick\r\n        } = itemProps;\r\n\r\n        if (!modifiers.matchesPredicate) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <MenuItem\r\n                active={modifiers.active}\r\n                key={effect}\r\n                onClick={handleClick}\r\n                text={effect}\r\n            />\r\n        );\r\n    };\r\n\r\n    @action.bound\r\n    private _onCurrentRoleSelected(roleID: string) {\r\n        const { duplicant } = this.props;\r\n        const resumeBehavior = duplicant.getBehavior(MinionResumeBehavior);\r\n        if (!resumeBehavior) return;\r\n        resumeBehavior.templateData.currentRole = roleID;\r\n    }\r\n\r\n    @action.bound\r\n    private _onTargetRoleSelected(roleID: string) {\r\n        const { duplicant } = this.props;\r\n        const resumeBehavior = duplicant.getBehavior(MinionResumeBehavior);\r\n        if (!resumeBehavior) return;\r\n        resumeBehavior.templateData.targetRole = roleID;\r\n    }\r\n\r\n    @action.bound\r\n    private _setMastery(roleID: string, mastery: boolean) {\r\n        const { duplicant } = this.props;\r\n        const resumeBehavior = duplicant.getBehavior(MinionResumeBehavior);\r\n        if (!resumeBehavior) return;\r\n        resumeBehavior.templateData.MasteryByRoleID.set(roleID, mastery);\r\n    }\r\n\r\n    @action.bound\r\n    private _setExperience(roleID: string, experience: number) {\r\n        const { duplicant } = this.props;\r\n        const resumeBehavior = duplicant.getBehavior(MinionResumeBehavior);\r\n        if (!resumeBehavior) return;\r\n        resumeBehavior.templateData.ExperienceByRoleID.set(roleID, experience);\r\n    }\r\n}\r\nexport default DuplicantJobsPage;\r\n\r\n\r\ninterface JobRowProps {\r\n    jobID: string;\r\n    mastery: boolean;\r\n    experience: number;\r\n    setMastery(jobID: string, mastery: boolean): void;\r\n    setExperience(jobID: string, experience: number): void;\r\n}\r\nclass JobRow extends React.Component<JobRowProps> {\r\n    render() {\r\n        const {\r\n            jobID,\r\n            mastery,\r\n            experience\r\n        } = this.props;\r\n\r\n        return (\r\n            <tr>\r\n                <td>{jobID}</td>\r\n                <td>\r\n                    <label className=\"pt-control pt-checkbox\">\r\n                        <input type=\"checkbox\" checked={mastery} onChange={this._onSetMastery} />\r\n                        <span className=\"pt-control-indicator\"></span>\r\n                    </label>\r\n                </td>\r\n                <td>\r\n                    <NumericInput\r\n                        value={experience}\r\n                        clampValueOnBlur={true}\r\n                        min={0}\r\n                        onValueChange={this._onSetExperience}\r\n                    />\r\n                </td>\r\n            </tr>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    _onSetMastery(change: React.ChangeEvent<HTMLInputElement>) {\r\n        const checked = change.target.checked;\r\n        const {\r\n            jobID,\r\n            setMastery\r\n        } = this.props;\r\n        setMastery(jobID, checked);\r\n    }\r\n\r\n    @autobind()\r\n    private _onSetExperience(value: number) {\r\n        if (value < 0) {\r\n            value = 0;\r\n        }\r\n\r\n        const {\r\n            jobID,\r\n            setExperience\r\n        } = this.props;\r\n        setExperience(jobID, value);\r\n    }\r\n}","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\n\r\nimport {\r\n    Tabs,\r\n    Tab\r\n} from \"@blueprintjs/core\";\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\n\r\nimport RolesPage from \"./pages/Roles\";\r\n\r\nexport interface DuplicantRolesPageProps {\r\n    duplicant: GameObjectModel;\r\n}\r\n\r\ntype Props = DuplicantRolesPageProps;\r\nclass DuplicantRolesPage extends React.Component<Props> {\r\n    render() {\r\n        const { duplicant } = this.props;\r\n        return (\r\n            <div className=\"ui-duplicant-roles fill-parent\">\r\n                <Tabs className=\"fill-parent layout-horizontal\" vertical={true} renderActiveTabPanelOnly={true} id=\"DuplicantRolePages\">\r\n                    <Tab className=\"layout-item-fill\" id=\"roles\" title=\"Roles\" panel={<RolesPage duplicant={duplicant} />} />\r\n                    <Tab id=\"aptitudes\" title=\"Aptitudes\" disabled/>\r\n                </Tabs>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default DuplicantRolesPage;","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\n// TODO: move to oni-save-parser\r\nconst TRAITS: string[] = [\r\n    \"None\",\r\n    \"Stinky\",\r\n    \"Ellie\",\r\n    \"Joshua\",\r\n    \"Liam\",\r\n    \"CantResearch\",\r\n    \"CantBuild\",\r\n    \"CantCook\",\r\n    \"CantDig\",\r\n    \"Hemophobia\",\r\n    \"MedicalAid\",\r\n    \"ScaredyCat\",\r\n    \"MouthBreather\",\r\n    \"CalorieBurner\",\r\n    \"SmallBladder\",\r\n    \"Anemic\",\r\n    \"SlowLearner\",\r\n    \"NoodleArms\",\r\n    \"InteriorDecorator\",\r\n    \"Regeneration\",\r\n    \"DeeperDiversLungs\",\r\n    \"SunnyDisposition\",\r\n    \"RockCrusher\",\r\n    \"Uncultured\",\r\n    \"WeakImmuneSystem\",\r\n    \"IrritableBowel\",\r\n    \"Flatulence\",\r\n    \"Snorer\",\r\n    \"Narcolepsy\",\r\n    \"Twinkletoes\",\r\n    \"Greasemonkey\",\r\n    \"MoleHands\",\r\n    \"FastLearner\",\r\n    \"DiversLung\",\r\n    \"StrongArm\",\r\n    \"IronGut\",\r\n    \"StrongImmuneSystem\",\r\n    \"BedsideManner\",\r\n    \"Caring\",\r\n    \"Aggressive\",\r\n    \"UglyCrier\",\r\n    \"BingeEater\",\r\n    \"StressVomiter\",\r\n    \"EarlyBird\",\r\n    \"NightOwl\",\r\n    \"Claustrophobic\",\r\n    \"PrefersWarmer\",\r\n    \"PrefersColder\",\r\n    \"SensitiveFeet\",\r\n    \"Fashionable\",\r\n    \"Climacophobic\",\r\n    \"SolitarySleeper\",\r\n    \"Workaholic\"\r\n];\r\nexport default TRAITS;","\r\nimport * as React from \"react\";\r\nimport { action } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { MenuItem, Intent } from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\nimport { MultiSelect, ItemRenderer, IItemRendererProps } from \"@blueprintjs/select\";\r\nconst TraitMultiSelect = MultiSelect.ofType<string>();\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\n\r\nimport TRAITS from \"./traits\";\r\nimport { AITraitsBehavior } from \"oni-save-parser\";\r\n\r\nexport interface DuplicantTraitsProps {\r\n    duplicant: GameObjectModel;\r\n};\r\n\r\n\r\ntype Props = DuplicantTraitsProps;\r\n@observer\r\nclass DuplicantTraits extends React.Component<Props> {\r\n    render() {\r\n        const { duplicant } = this.props;\r\n\r\n        const traitsBehavior = duplicant.getBehavior(AITraitsBehavior);\r\n        if (!traitsBehavior) return <div>Error: Game object lacks a AITraitsBehavior.</div>;\r\n        const traits = traitsBehavior.templateData.TraitIds;\r\n\r\n        return (\r\n            <div className={`fill-parent ui-duplicant-traits`}>\r\n                <TraitMultiSelect\r\n                    className=\"fill-parent-width\"\r\n                    items={TRAITS}\r\n                    selectedItems={traits}\r\n                    onItemSelect={this._onTagSelected}\r\n                    itemPredicate={this._filterItem}\r\n                    itemRenderer={this._renderItem}\r\n                    tagRenderer={tag => tag}\r\n                    tagInputProps={{ onRemove: this._onTagRemoved }}\r\n                    noResults={<MenuItem disabled={true} text=\"No results.\" />}\r\n                    popoverProps={{ minimal: true }}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    @action.bound\r\n    private _onTagSelected(tag: string) {\r\n        const { duplicant } = this.props;\r\n        const traitsBehavior = duplicant.getBehavior(AITraitsBehavior);\r\n        if (!traitsBehavior) return;\r\n        const traits = traitsBehavior.templateData.TraitIds;\r\n\r\n        if (traits.indexOf(tag) !== -1) {\r\n            return;\r\n        }\r\n\r\n        traits.push(tag);\r\n    }\r\n\r\n    @autobind()\r\n    private _onTagRemoved(tag: string) {\r\n        const { duplicant } = this.props;\r\n        const traitsBehavior = duplicant.getBehavior(AITraitsBehavior);\r\n        if (!traitsBehavior) return;\r\n        const traits = traitsBehavior.templateData.TraitIds;\r\n\r\n        const index = traits.indexOf(tag);\r\n        if (index === -1) return;\r\n\r\n        traits.splice(index, 1);\r\n    }\r\n\r\n    private _filterItem(query: string, trait: string) {\r\n        return trait.toLowerCase().indexOf(query.toLowerCase()) !== -1;\r\n    }\r\n\r\n    @autobind()\r\n    private _renderItem(trait: string, itemProps: IItemRendererProps) {\r\n        const {\r\n            modifiers,\r\n            handleClick\r\n        } = itemProps;\r\n\r\n        if (!modifiers.matchesPredicate) {\r\n            return null;\r\n        }\r\n\r\n        let isSelected = false;\r\n        \r\n        // TODO: Ensure that mobx is caching this stuff, as this is called for every item.\r\n        const traitsBehavior = this.props.duplicant.getBehavior(AITraitsBehavior);\r\n        if (traitsBehavior) {\r\n            const traits = traitsBehavior.templateData.TraitIds;\r\n            isSelected = traits.indexOf(trait) !== -1;\r\n        }\r\n\r\n        return (\r\n            <MenuItem\r\n                active={modifiers.active}\r\n                icon={isSelected ? IconNames.TICK : IconNames.BLANK}\r\n                key={trait}\r\n                onClick={handleClick}\r\n                text={trait}\r\n                shouldDismissPopover={false}\r\n            />\r\n        );\r\n    };\r\n\r\n}\r\nexport default DuplicantTraits;\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { action } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { NumericInput } from \"@blueprintjs/core\";\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\nimport { AIAttributeLevelsBehavior } from \"oni-save-parser\";\r\n\r\nexport interface DuplicantSkillsProps {\r\n    duplicant: GameObjectModel;\r\n};\r\n\r\n\r\ntype Props = DuplicantSkillsProps;\r\n@observer\r\nclass DuplicantSkills extends React.Component<Props> {\r\n    render() {\r\n        const { duplicant } = this.props;\r\n\r\n        const skillsBehavior = duplicant.getBehavior(AIAttributeLevelsBehavior);\r\n        if (!skillsBehavior) return <div>Error: Game object lacks a AIAttributeLevelsBehavior behavior.</div>;\r\n        const skills = skillsBehavior.templateData.saveLoadLevels;\r\n\r\n        const rows = skills.map(x => \r\n            <DuplicantSkillRow\r\n                key={x.attributeId}\r\n                id={x.attributeId}\r\n                level={x.level}\r\n                experience={x.experience}\r\n                onChangeLevel={this._onChangeLevel}\r\n                onChangeExperience={this._onChangeExperience}\r\n        />);\r\n\r\n        return (\r\n            <div className={`ui-duplicant-skills fill-parent container-scroll`}>\r\n                <table className=\"pt-html-table pt-html-table-striped\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Skill</th>\r\n                            <th>Level</th>\r\n                            <th>Experience</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {rows}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    @action.bound\r\n    private _onChangeLevel(id: string, level: number) {\r\n        const { duplicant } = this.props;\r\n        const skillsBehavior = duplicant.getBehavior(AIAttributeLevelsBehavior);\r\n        if (!skillsBehavior) return;\r\n        const skills = skillsBehavior.templateData.saveLoadLevels;\r\n        const skill = skills.find(x => x.attributeId === id);\r\n        if (!skill) return;\r\n        skill.level = level;\r\n    }\r\n\r\n    @action.bound\r\n    private _onChangeExperience(id: string, experience: number) {\r\n        const { duplicant } = this.props;\r\n        const skillsBehavior = duplicant.getBehavior(AIAttributeLevelsBehavior);\r\n        if (!skillsBehavior) return;\r\n        const skills = skillsBehavior.templateData.saveLoadLevels;\r\n        const skill = skills.find(x => x.attributeId === id);\r\n        if (!skill) return;\r\n        skill.experience = experience;\r\n    }\r\n}\r\nexport default DuplicantSkills;\r\n\r\n\r\ninterface DuplicantSkillRowProps {\r\n    id: string;\r\n    level: number;\r\n    experience: number;\r\n    onChangeLevel(id: string, level: number): void;\r\n    onChangeExperience(id: string, level: number): void;\r\n}\r\n\r\nclass DuplicantSkillRow extends React.Component<DuplicantSkillRowProps> {\r\n    render() {\r\n        const {\r\n            id,\r\n            level,\r\n            experience\r\n        } = this.props;\r\n\r\n        return (\r\n            <tr>\r\n                <td>{id}</td>\r\n                <td><NumericInput\r\n                    value={level}\r\n                    clampValueOnBlur={true}\r\n                    min={0}\r\n                    onValueChange={this._onLevelChange}\r\n                /></td>\r\n                <td><NumericInput\r\n                    value={experience}\r\n                    clampValueOnBlur={true}\r\n                    min={0}\r\n                    onValueChange={this._onExperienceChange}\r\n                /></td>\r\n            </tr>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onLevelChange(value: number) {\r\n        const {\r\n            id,\r\n            onChangeLevel\r\n        } = this.props;\r\n\r\n        value = Math.round(value);\r\n        if (value < 0 || isNaN(value)) {\r\n            value = 0;\r\n        }\r\n        \r\n        onChangeLevel(id, value);\r\n    }\r\n\r\n    @autobind()\r\n    private _onExperienceChange(value: number) {\r\n        const {\r\n            id,\r\n            onChangeExperience\r\n        } = this.props;\r\n\r\n        if (value < 0 || isNaN(value)) {\r\n            value = 0;\r\n        }\r\n\r\n        onChangeExperience(id, value);\r\n    }\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { getAccessoryOfType, getIndexOfAccessoryType } from \"oni-save-parser\";\r\n\r\nimport { Button, MenuItem } from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\nimport { Select, IItemRendererProps } from \"@blueprintjs/select\";\r\nconst StringSelect = Select.ofType<string>();\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\n\r\n\r\nimport { \r\n    ACCESSORIZER_EYE_GUIDS,\r\n    ACCESSORIZER_HAIR_GUIDS,\r\n    ACCESSORIZER_HEAD_GUIDS,\r\n    ACCESSORIZER_MOUTH_GUIDS,\r\n    ACCESSORIZER_BODY_GUIDS,\r\n    AccessorizerBehavior\r\n} from \"oni-save-parser\";\r\nimport { action } from \"mobx\";\r\n\r\n\r\nexport interface DuplicantAccessoryPageProps {\r\n    duplicant: GameObjectModel;\r\n};\r\n\r\ntype Props = DuplicantAccessoryPageProps;\r\n@observer\r\nclass DuplicantAccessoryPage extends React.Component<Props> {\r\n    render() {\r\n        const { duplicant } = this.props;\r\n        const accessorizer = duplicant.getBehavior(AccessorizerBehavior);\r\n        if (!accessorizer) return <div>Error: No AccessorizerBehavior found</div>;\r\n        const accessories = accessorizer.templateData.accessories;\r\n\r\n        const eyesAccessory = getAccessoryOfType(accessories, \"eyes\");\r\n        const headAccessory = getAccessoryOfType(accessories, \"headshape\");\r\n        const hairAccessory = getAccessoryOfType(accessories, \"hair\");\r\n        const mouthAccessory = getAccessoryOfType(accessories, \"mouth\");\r\n        const bodyAccessory = getAccessoryOfType(accessories, \"body\");\r\n\r\n        const eyes = eyesAccessory ? eyesAccessory.guid.Guid : \"[Error: Accessory Not Found]\";\r\n        const head = headAccessory ? headAccessory.guid.Guid : \"[Error: Accessory Not Found]\";\r\n        const hair = hairAccessory ? hairAccessory.guid.Guid : \"[Error: Accessory Not Found]\";\r\n        const mouth = mouthAccessory ? mouthAccessory.guid.Guid : \"[Error: Accessory Not Found]\";\r\n        const body = bodyAccessory ? bodyAccessory.guid.Guid : \"[Error: Accessory Not Found]\";\r\n\r\n        return (\r\n            <div className={`ui-duplicant-accessories fill-parent layout-vertical container-scroll`}>\r\n                <AppearanceGroup name=\"Eyes\" value={eyes} accessories={ACCESSORIZER_EYE_GUIDS} onSet={this._setEyes}/>\r\n                <AppearanceGroup name=\"Head\" value={head} accessories={ACCESSORIZER_HEAD_GUIDS} onSet={this._setHead}/>\r\n                <AppearanceGroup name=\"Hair\" value={hair} accessories={ACCESSORIZER_HAIR_GUIDS} onSet={this._setHair}/>\r\n                <AppearanceGroup name=\"Mouth\" value={mouth} accessories={ACCESSORIZER_MOUTH_GUIDS} onSet={this._setMouth}/>\r\n                <AppearanceGroup name=\"Body\" value={body} accessories={ACCESSORIZER_BODY_GUIDS} onSet={this._setBody}/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @action.bound\r\n    private _setEyes(value: string) {\r\n        const { duplicant } = this.props;\r\n        const accessorizer = duplicant.getBehavior(AccessorizerBehavior);\r\n        if (!accessorizer) return;\r\n        const accessories = accessorizer.templateData.accessories;\r\n        const index = getIndexOfAccessoryType(accessories, \"eyes\");\r\n        if (index == -1) return;\r\n        accessories[index].guid.Guid = value;\r\n    }\r\n\r\n    @action.bound\r\n    private _setHead(value: string) {\r\n        const { duplicant } = this.props;\r\n        const accessorizer = duplicant.getBehavior(AccessorizerBehavior);\r\n        if (!accessorizer) return;\r\n        const accessories = accessorizer.templateData.accessories;\r\n        const index = getIndexOfAccessoryType(accessories, \"headshape\");\r\n        if (index == -1) return;\r\n        accessories[index].guid.Guid = value;\r\n    }\r\n\r\n    @action.bound\r\n    private _setHair(value: string) {\r\n        const { duplicant } = this.props;\r\n        const accessorizer = duplicant.getBehavior(AccessorizerBehavior);\r\n        if (!accessorizer) return;\r\n        const accessories = accessorizer.templateData.accessories;\r\n        const index = getIndexOfAccessoryType(accessories, \"hair\");\r\n        if (index == -1) return;\r\n        accessories[index].guid.Guid = value;\r\n    }\r\n\r\n    @action.bound\r\n    private _setMouth(value: string) {\r\n        const { duplicant } = this.props;\r\n        const accessorizer = duplicant.getBehavior(AccessorizerBehavior);\r\n        if (!accessorizer) return;\r\n        const accessories = accessorizer.templateData.accessories;\r\n        const index = getIndexOfAccessoryType(accessories, \"mouth\");\r\n        if (index == -1) return;\r\n        accessories[index].guid.Guid = value;\r\n    }\r\n\r\n    @action.bound\r\n    private _setBody(value: string) {\r\n        const { duplicant } = this.props;\r\n        const accessorizer = duplicant.getBehavior(AccessorizerBehavior);\r\n        if (!accessorizer) return;\r\n        const accessories = accessorizer.templateData.accessories;\r\n        const index = getIndexOfAccessoryType(accessories, \"body\");\r\n        if (index == -1) return;\r\n        accessories[index].guid.Guid = value;\r\n    }\r\n}\r\nexport default DuplicantAccessoryPage;\r\n\r\n\r\ninterface AppearanceGroupProps {\r\n    name: string;\r\n    accessories: string[];\r\n    value: string | null;\r\n    onSet(accessoryID: string): void\r\n}\r\nclass AppearanceGroup extends React.Component<AppearanceGroupProps> {\r\n    render() {\r\n        const {\r\n            name,\r\n            accessories,\r\n            value\r\n        } = this.props;\r\n        return (\r\n            <div className=\"pt-form-group pt-inline\">\r\n            <label className=\"pt-label\">\r\n                {name}\r\n            </label>\r\n            <div className=\"pt-form-content\">\r\n                <StringSelect\r\n                    items={accessories}\r\n                    itemRenderer={this._renderItem}\r\n                    onItemSelect={this._onSet}\r\n                    filterable={false}\r\n                    resetOnClose={true}\r\n                    resetOnSelect={true}\r\n                    popoverProps={{ minimal: true }}\r\n                >\r\n                    <Button rightIcon=\"caret-down\" text={value || \"[Accessory not Found]\"} />\r\n                </StringSelect>\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _renderItem(accessoryID: string, itemProps: IItemRendererProps) {\r\n        const {\r\n            modifiers,\r\n            handleClick\r\n        } = itemProps;\r\n\r\n        if (!modifiers.matchesPredicate) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <MenuItem\r\n                active={modifiers.active}\r\n                key={accessoryID}\r\n                onClick={handleClick}\r\n                text={accessoryID}\r\n            />\r\n        );\r\n    };\r\n\r\n    @autobind()\r\n    private _onSet(accessoryID: string) {\r\n        const { onSet } = this.props;\r\n        onSet(accessoryID);\r\n    }\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport * as React from \"react\";\r\nimport { action } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\nimport { HEALTH_STATE_NAMES, MINION_IDENTITY_GENDERS, MinionGender, HealthBehavior, MinionIdentityBehavior } from \"oni-save-parser\";\r\n\r\nimport { Button, MenuItem, NumericInput } from \"@blueprintjs/core\";\r\nimport { Select, IItemRendererProps } from \"@blueprintjs/select\";\r\n\r\nconst GenderSelect = Select.ofType<MinionGender>();\r\nconst StringSelect = Select.ofType<string>();\r\nconst NumberSelect = Select.ofType<number>();\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\n\r\n\r\nexport interface DuplicantGeneralProps {\r\n    duplicant: GameObjectModel;\r\n};\r\n\r\n\r\n// We only care about > 0\r\nconst MIN_SCALE = Number.EPSILON;\r\n\r\ntype Props = DuplicantGeneralProps;\r\n@observer\r\nclass DuplicantGeneralPage extends React.Component<Props> {\r\n    render() {\r\n        const { duplicant } = this.props;\r\n\r\n        const scaleX = duplicant.scale.x;\r\n        const scaleY = duplicant.scale.y;\r\n\r\n        const healthBehavior = duplicant.getBehavior(HealthBehavior);\r\n        if (!healthBehavior) return <div>Error: HealthBehavior not found</div>;\r\n        const healthState = healthBehavior.templateData.State;\r\n\r\n        const identityBehavior = duplicant.getBehavior(MinionIdentityBehavior);\r\n        if (!identityBehavior) return <div>Error: MinionIdentityBehavior not found</div>;\r\n        const {\r\n            gender,\r\n            voiceIdx\r\n        } = identityBehavior.templateData;\r\n\r\n        let healthStateStr: string;\r\n        if (healthState != null && healthState >= 0 && healthState < HEALTH_STATE_NAMES.length) {\r\n            healthStateStr = HEALTH_STATE_NAMES[healthState];\r\n        }\r\n        else {\r\n            healthStateStr = `<Unknown Health State ${healthState}>`;\r\n        }\r\n\r\n        return (\r\n            <div className=\"fill-parent\">\r\n                <div className=\"pt-form-group pt-inline\">\r\n                    <label className=\"pt-label\">\r\n                        Gender\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <GenderSelect\r\n                            // TODO: Export from oni-save-parser\r\n                            items={MINION_IDENTITY_GENDERS}\r\n                            itemRenderer={this._renderItem}\r\n                            onItemSelect={this._onGenderSelected}\r\n                            filterable={false}\r\n                            resetOnClose={true}\r\n                            resetOnSelect={true}\r\n                            popoverProps={{ minimal: true }}\r\n                        >\r\n                            <Button rightIcon=\"caret-down\" text={gender || \"MALE\"} />\r\n                        </GenderSelect>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group pt-inline\">\r\n                    <label className=\"pt-label\">\r\n                        Voice\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <NumberSelect\r\n                            // TODO: get from oni-save-parser\r\n                            items={[0, 1, 2, 3, 4]}\r\n                            itemRenderer={this._renderItem}\r\n                            onItemSelect={this._onVoiceSelected}\r\n                            filterable={false}\r\n                            resetOnClose={true}\r\n                            resetOnSelect={true}\r\n                            popoverProps={{ minimal: true }}\r\n                        >\r\n                            <Button rightIcon=\"caret-down\" text={`Voice ${voiceIdx || 0}`} />\r\n                        </NumberSelect>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group pt-inline\">\r\n                    <label className=\"pt-label\">\r\n                        Scale\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <div className=\"pt-input-group\">\r\n                            <span>Horizontal</span>\r\n                            <NumericInput min={MIN_SCALE} clampValueOnBlur={true} value={scaleX} onValueChange={this._onScaleX} />\r\n                        </div>\r\n                        <div className=\"pt-input-group\">\r\n                            <span>Vertical</span>\r\n                            <NumericInput min={MIN_SCALE} clampValueOnBlur={true} value={scaleY} onValueChange={this._onScaleY} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group pt-inline\">\r\n                    <label className=\"pt-label\">\r\n                        Health State\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <StringSelect\r\n                            items={HEALTH_STATE_NAMES}\r\n                            itemRenderer={this._renderItem}\r\n                            onItemSelect={this._onHealthStateSelected}\r\n                            filterable={false}\r\n                            resetOnClose={true}\r\n                            resetOnSelect={true}\r\n                            popoverProps={{ minimal: true }}\r\n                        >\r\n                            <Button rightIcon=\"caret-down\" text={healthStateStr} />\r\n                        </StringSelect>\r\n                        <div className=\"pt-form-helper-text\">The duplicant's current overall health condition.</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _renderItem(effect: string | number, itemProps: IItemRendererProps) {\r\n        const {\r\n            modifiers,\r\n            handleClick\r\n        } = itemProps;\r\n\r\n        if (!modifiers.matchesPredicate) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <MenuItem\r\n                active={modifiers.active}\r\n                key={effect}\r\n                onClick={handleClick}\r\n                text={effect}\r\n            />\r\n        );\r\n    };\r\n\r\n    @action.bound\r\n    private _onHealthStateSelected(healthState: string) {\r\n        const { duplicant } = this.props;\r\n\r\n        const healthBehavior = duplicant.getBehavior(HealthBehavior);\r\n        if (!healthBehavior) return;\r\n\r\n        // Need to get the enum value of the display text.\r\n        const stateIndex = HEALTH_STATE_NAMES.indexOf(healthState);\r\n        if (stateIndex === -1) {\r\n            return;\r\n        }\r\n\r\n        healthBehavior.templateData.State = stateIndex;\r\n    }\r\n\r\n    @action.bound\r\n    private _onGenderSelected(gender: MinionGender) {\r\n        const { duplicant } = this.props;\r\n        const identityBehavior = duplicant.getBehavior(MinionIdentityBehavior);\r\n        if (!identityBehavior) return;\r\n        identityBehavior.templateData.gender = gender;\r\n        identityBehavior.templateData.genderStringKey = gender;\r\n    }\r\n\r\n    @action.bound\r\n    private _onVoiceSelected(voiceIdx: number) {\r\n        const { duplicant } = this.props;\r\n        const identityBehavior = duplicant.getBehavior(MinionIdentityBehavior);\r\n        if (!identityBehavior) return;\r\n        identityBehavior.templateData.voiceIdx = voiceIdx;\r\n    }\r\n\r\n    @action.bound\r\n    private _onScaleX(value: number) {\r\n        const { duplicant } = this.props;\r\n\r\n        // Negative numbers dont render; probably because sprite normal faces\r\n        //  away from game camera.\r\n        if (value === 0 || isNaN(value)) {\r\n            value = 1;\r\n        }\r\n\r\n        duplicant.scale.x = value;\r\n    }\r\n\r\n    @action.bound\r\n    private _onScaleY(value: number) {\r\n        const { duplicant } = this.props;\r\n\r\n        // Negative numbers dont render; probably because sprite normal faces\r\n        //  away from game camera.\r\n        if (value === 0 || isNaN(value)) {\r\n            value = 1;\r\n        }\r\n\r\n        duplicant.scale.y = value;\r\n    }\r\n}\r\nexport default DuplicantGeneralPage;\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { action } from \"mobx\";\r\nimport { autobind } from \"core-decorators\";\r\nimport { MinionIdentityBehavior } from \"oni-save-parser\";\r\n\r\nimport {\r\n    EditableText,\r\n    Tabs,\r\n    Tab,\r\n    NonIdealState\r\n} from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\nimport { error, FAILURE_TYPE } from \"@/logging\";\r\n\r\n\r\nexport interface DuplicantEditorProps {\r\n    className?: string;\r\n    duplicant: GameObjectModel;\r\n};\r\n\r\n\r\nimport GeneralPage from \"./pages/General\";\r\nimport AppearancePage from \"./pages/Appearance\";\r\nimport SkillsPage from \"./pages/Skills\";\r\nimport TraitsPage from \"./pages/Traits\";\r\nimport JobsPage from \"./pages/Jobs\";\r\nimport EffectsPage from \"./pages/Effects\";\r\n\r\n\r\ntype Props = DuplicantEditorProps;\r\ninterface State {\r\n    rename: string | null;\r\n}\r\nclass DuplicantEditor extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            rename: null\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            className,\r\n            duplicant,\r\n        } = this.props;\r\n\r\n        const {\r\n            rename\r\n        } = this.state;\r\n\r\n        const identityBehavior = duplicant.getBehavior(MinionIdentityBehavior);\r\n\r\n        if (!identityBehavior) {\r\n            error(\"Duplicant identity behavior missing\", FAILURE_TYPE.MISSING_BEHAVIOR);\r\n            return (\r\n                <NonIdealState visual={IconNames.ERROR}>\r\n                    Duplicant has no identity behavior.\r\n                </NonIdealState>\r\n            )\r\n        }\r\n        \r\n        const name = rename || identityBehavior.templateData.name;\r\n        \r\n        return (\r\n            <div className={`ui-duplicant-editor layout-vertical ${className}`}>\r\n                <div className=\"layout-item\">\r\n                    <h1 className=\"ui-title\">\r\n                        <EditableText\r\n                            value={name}\r\n                            onChange={this._onNameChange}\r\n                            onConfirm={this._onRename}\r\n                        />\r\n                    </h1> <span className=\"pt-text-muted\">(click to edit name)</span>\r\n                </div>\r\n                <div className=\"layout-item-fill\">\r\n                    <Tabs id=\"DuplicantEditCategories\" className=\"ui-category-tabs fill-parent layout-vertical\" renderActiveTabPanelOnly={true}>\r\n                        <Tab className=\"layout-item-fill\" id=\"general\" title=\"General\" panel={<GeneralPage duplicant={duplicant} />} />\r\n                        <Tab className=\"layout-item-fill\" id=\"appearance\" title=\"Appearance\" panel={<AppearancePage duplicant={duplicant} />} />\r\n                        <Tab className=\"layout-item-fill\" id=\"skills\" title=\"Skills\" panel={<SkillsPage duplicant={duplicant}/>} />\r\n                        <Tab className=\"layout-item-fill\" id=\"traits\" title=\"Traits\" panel={<TraitsPage duplicant={duplicant}/>} />\r\n                        <Tab className=\"layout-item-fill\" id=\"jobs\" title=\"Jobs\" panel={<JobsPage duplicant={duplicant}/>} />\r\n                        <Tab className=\"layout-item-fill\" id=\"effects\" title=\"Effects\" panel={<EffectsPage duplicant={duplicant}/>} />\r\n                    </Tabs>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onNameChange(str: string) {\r\n        this.setState(s => ({\r\n            ...s,\r\n            rename: str\r\n        }));\r\n    }\r\n\r\n    @action.bound\r\n    private _onRename() {\r\n        const { duplicant } = this.props;\r\n        const name = this.state.rename;\r\n        if (!name || name === \"\") return;\r\n        const identityBehavior = duplicant.getBehavior(MinionIdentityBehavior);\r\n        if (!identityBehavior) return;\r\n\r\n        identityBehavior.templateData.name = name;\r\n        this.setState(s => ({\r\n            ...s,\r\n            rename: null\r\n        }));\r\n    }\r\n}\r\nexport default DuplicantEditor;\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\n\r\nimport { Card } from \"@blueprintjs/core\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { error, FAILURE_TYPE } from \"@/logging\";\r\nimport { MinionIdentityBehavior, MinionResumeBehavior } from \"oni-save-parser\";\r\n\r\n\r\n\r\nexport interface DuplicantPortraitProps {\r\n    className?: string;\r\n    duplicant: GameObjectModel;\r\n    onClick?(duplicant: GameObjectModel): void;\r\n}\r\n\r\n\r\ntype Props = DuplicantPortraitProps;\r\n@observer\r\nclass DuplicantPortrait extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            className,\r\n            duplicant\r\n        } = this.props;\r\n\r\n        const identity = duplicant.getBehavior(MinionIdentityBehavior);\r\n        const resume = duplicant.getBehavior(MinionResumeBehavior);\r\n\r\n        let outerClassName = `ui-duplicant-portrait ${className}`;\r\n\r\n        let name: string;\r\n        let role: string;\r\n\r\n        if (identity) {\r\n            name = identity.templateData.name;\r\n        }\r\n        else {\r\n            error(\"Duplicant not found or identity behavior missing.\", FAILURE_TYPE.MISSING_BEHAVIOR);\r\n            name = \"[IDENTITY MISSING]\";\r\n        }\r\n\r\n        if (resume) {\r\n            role = resume.templateData.currentRole\r\n        }\r\n        else {\r\n            error(\"resume behavior missing.\", FAILURE_TYPE.MISSING_BEHAVIOR);\r\n            role = \"[RESUME MISSING]\";\r\n        }\r\n\r\n        return (\r\n            <Card className={outerClassName} interactive={true} onClick={this._onClick}>\r\n                <h5 className=\"ui-duplicant-name\">{name}</h5>\r\n                {/* TODO render a picture.  Plenty of data in identity to do so.  Also see Accessorizer */}\r\n                <div className=\"ui-duplicant-role\">{role}</div>\r\n            </Card>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onClick() {\r\n        const {\r\n            duplicant,\r\n            onClick\r\n        } = this.props;\r\n        if (onClick) onClick(duplicant);\r\n    }\r\n}\r\nexport default DuplicantPortrait;\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\n\r\nimport DuplicantPortrait from \"../DuplicantPortrait\";\r\n\r\n\r\nexport interface DuplicantsListProps {\r\n    className?: string;\r\n    duplicants: GameObjectModel[];\r\n    selectedDuplicant?: number | GameObjectModel | null;\r\n    onDuplicantClick?(duplicant: GameObjectModel): void;\r\n}\r\n\r\ntype Props = DuplicantsListProps;\r\n@observer\r\nclass DuplicantsList extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            className,\r\n            duplicants\r\n        } = this.props;\r\n\r\n        let selectedDuplicant = this.props.selectedDuplicant;\r\n        if (typeof selectedDuplicant === \"number\") {\r\n            selectedDuplicant = duplicants.find(x => x.kPrefabID === selectedDuplicant);\r\n        }\r\n\r\n        const elements = duplicants.map(x => <DuplicantPortrait key={x.kPrefabID} className={x === selectedDuplicant ? \"pt-active\" : \"\"} duplicant={x} onClick={this._onDuplicantClick} />);\r\n\r\n        return (\r\n            <div className={`${className || ''} ui-duplicant-list`}>\r\n                <div className={`fill-parent layout-horizontal layout-wrap container-scroll`}>\r\n                    {elements}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onDuplicantClick(duplicant: GameObjectModel) {\r\n        const {\r\n            onDuplicantClick\r\n        } = this.props;\r\n\r\n        if (onDuplicantClick) {\r\n            onDuplicantClick(duplicant);\r\n        }\r\n    }\r\n}\r\nexport default DuplicantsList;\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { NonIdealState } from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\nimport { SaveEditorProps, withSaveEditor, GameObjectModel } from \"@/services/save-editor\";\r\n\r\n\r\nimport DuplicantsList from \"./components/DuplicantsList\";\r\nimport DuplicantEditor from \"./components/DuplicantEditor\";\r\n\r\n\r\ntype Props = SaveEditorProps;\r\ninterface State {\r\n    selectedDuplicant: GameObjectModel | null;\r\n}\r\nclass DuplicantsPage extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            selectedDuplicant: null\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            selectedDuplicant\r\n        } = this.state;\r\n        const {\r\n            saveEditor\r\n        } = this.props;\r\n\r\n        const duplicants = saveEditor.getGameObjects(\"Minion\");\r\n\r\n        let content: React.ReactFragment;\r\n        if (selectedDuplicant != null) {\r\n            content = <DuplicantEditor className=\"fill-parent\" duplicant={selectedDuplicant}/>\r\n        }\r\n        else {\r\n            content = (\r\n                <NonIdealState visual={IconNames.MUGSHOT}>\r\n                    Select a duplicant to edit\r\n                </NonIdealState>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className=\"ui-page ui-page-duplicants fill-parent layout-vertical\">\r\n                <DuplicantsList className=\"layout-item\" duplicants={duplicants} selectedDuplicant={selectedDuplicant} onDuplicantClick={this._onDuplicantSelected} />\r\n                <div className=\"layout-item-fill\">\r\n                    {content}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onDuplicantSelected(duplicant: GameObjectModel) {\r\n        this.setState(s => ({\r\n            ...s,\r\n            selectedDuplicant: duplicant\r\n        }));\r\n    }\r\n}\r\n\r\nexport default withSaveEditor(DuplicantsPage);\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { action } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { NumericInput } from \"@blueprintjs/core\";\r\n\r\nimport { SaveEditorProps, withSaveEditor, GameObjectBehaviorModel } from \"@/services/save-editor\";\r\nimport { GameObjectBehavior } from \"oni-save-parser\";\r\n\r\ntype Props = SaveEditorProps;\r\nclass GeneralPage extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            saveEditor\r\n        } = this.props;\r\n\r\n        const clockBehavior = this._getClockBehavior();\r\n        if (!clockBehavior) return <div>Error: No GameClock behavior present in SaveGame object.</div>;\r\n        const cycle = clockBehavior.templateData.cycle;\r\n\r\n        const immigrationBehavior = this._getImmigrationBehavior();\r\n        if (!immigrationBehavior) return <div>Error: No Immigration behavior present in SaveGame object.</div>;\r\n        const {\r\n            timeBeforeSpawn,\r\n            bImmigrantAvailable\r\n        } = immigrationBehavior.templateData;\r\n\r\n        return (\r\n            <div className=\"ui-page ui-page-general fill-parent layout-vertical\">\r\n                <div className=\"pt-form-group\">\r\n                    <label className=\"pt-label\">\r\n                        <h5>World Time</h5>\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <div className=\"pt-input-group\">\r\n                            <span>Cycles</span>\r\n                            <NumericInput min={0} value={cycle} onValueChange={this._onCycleChange} clampValueOnBlur={true} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group\">\r\n                    <label className=\"pt-label\">\r\n                        <h5>Duplicant Spawner</h5>\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <div className=\"pt-input-group\">\r\n                            <span>Next Spawn</span>\r\n                            <NumericInput min={0} clampValueOnBlur={true} value={timeBeforeSpawn} onValueChange={this._nextSpawnChange} />\r\n                        </div>\r\n                        <div className=\"pt-input-group\">\r\n                            <label className=\"pt-control pt-checkbox\">\r\n                                <input type=\"checkbox\" checked={bImmigrantAvailable} onChange={this._spawnReadyChange} />\r\n                                <span className=\"pt-control-indicator\"></span>\r\n                                Spawn Ready\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @action.bound\r\n    private _onCycleChange(cycle: number) {\r\n        const behavior = this._getClockBehavior();\r\n        if (!behavior) return;\r\n        behavior.templateData.cycle = cycle;\r\n    }\r\n\r\n    @action.bound\r\n    private _nextSpawnChange(time: number) {\r\n        const behavior = this._getImmigrationBehavior();\r\n        if (!behavior) return;\r\n        behavior.templateData.timeBeforeSpawn = time;\r\n    }\r\n\r\n    @action.bound\r\n    private _spawnReadyChange(change: React.ChangeEvent<HTMLInputElement>) {\r\n        const behavior = this._getImmigrationBehavior();\r\n        if (!behavior) return;\r\n        behavior.templateData.bImmigrantAvailable = change.target.checked;\r\n    }\r\n\r\n    private _getClockBehavior(): GameObjectBehaviorModel<GameClockBehavior> | undefined {\r\n        const { saveEditor } = this.props;\r\n        const saveGame = saveEditor.getGameObjects(\"SaveGame\")[0];\r\n        if (!saveGame) return undefined;\r\n\r\n        return saveGame.getBehavior(\"GameClock\");\r\n    }\r\n\r\n    private _getImmigrationBehavior(): GameObjectBehaviorModel<ImmigrationBehavior> | undefined {\r\n        const { saveEditor } = this.props;\r\n        const saveGame = saveEditor.getGameObjects(\"SaveGame\")[0];\r\n        if (!saveGame) return undefined;\r\n\r\n        return saveGame.getBehavior(\"Immigration\");\r\n    }\r\n}\r\n\r\nexport default withSaveEditor(GeneralPage);\r\n\r\n// TODO: move to oni-save-parser\r\ninterface GameClockBehavior extends GameObjectBehavior {\r\n    name: \"GameClock\";\r\n    parsedData: {\r\n        cycle: number;\r\n    }\r\n}\r\ninterface ImmigrationBehavior extends GameObjectBehavior {\r\n    name: \"Immigration\";\r\n    parsedData: {\r\n        timeBeforeSpawn: number;\r\n        bImmigrantAvailable: boolean;\r\n    }\r\n}","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\n\r\nimport {\r\n    NonIdealState,\r\n    Spinner,\r\n    Text\r\n} from \"@blueprintjs/core\";\r\n\r\nexport default class LoadingSaveFilePageComponent extends React.Component {\r\n    render() {\r\n        return (\r\n            <NonIdealState>\r\n                <Text>Loading File</Text>\r\n                <div>\r\n                    <Spinner large={true}/>\r\n                </div>\r\n                <Text>TODO progress here</Text>\r\n            </NonIdealState>\r\n        );\r\n    }\r\n}","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport * as React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport {\r\n    NonIdealState,\r\n    Button,\r\n    Intent\r\n} from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\n\r\nimport { SaveEditorProps, withSaveEditor } from \"@/services/save-editor\";\r\n\r\n\r\nconst saveDescription = \"Oxygen Not Included saves can be found in your documents folder under\";\r\n// TODO: Show correct path based on user's OS.\r\nconst savePath = \"Klei/OxygenNotIncluded/save_files\";\r\n\r\ntype Props = SaveEditorProps;\r\n@observer\r\nclass NoSaveLoadedPageComponent extends React.Component<Props> {\r\n    private _input: HTMLInputElement | null = null;\r\n    \r\n    render() {\r\n        return (\r\n            <NonIdealState\r\n                visual={IconNames.FLOPPY_DISK}\r\n                action={\r\n                    <Button intent={Intent.PRIMARY} onClick={this._onLoadClick}>Load a .sav file</Button>\r\n                }\r\n                description=\"No save has been loaded.\"\r\n            >\r\n                <div>{saveDescription} <code>{savePath}</code></div>\r\n                <input\r\n                    ref={el => this._input = el}\r\n                    style={{display: \"none\"}}\r\n                    className=\"pt-button pt-intent-primary\"\r\n                    type=\"file\"\r\n                    accept=\".sav\"\r\n                    onChange={this._onLoadFile}\r\n                />\r\n            </NonIdealState>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onLoadClick() {\r\n        if (!this._input) return;\r\n        this._input.click();\r\n    }\r\n\r\n    @autobind()\r\n    private _onLoadFile(change: React.ChangeEvent<HTMLInputElement>) {\r\n        const files = change.target.files;\r\n        if (!files || files.length === 0) return;\r\n        this.props.saveEditor.load(files[0]);\r\n    }\r\n}\r\nexport default withSaveEditor(NoSaveLoadedPageComponent);\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport * as React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { Switch, Route, Redirect, RouteComponentProps, withRouter } from \"react-router\";\r\n\r\nimport {\r\n    Card,\r\n    Elevation,\r\n    Menu,\r\n    MenuDivider\r\n} from \"@blueprintjs/core\";\r\n\r\nimport { withSaveEditor, SaveEditorProps } from \"@/services/save-editor\";\r\n\r\nimport NoSaveLoadedPage from \"./components/NoSaveLoaded\";\r\nimport LoadingSaveFilePage from \"./components/LoadingSaveFile\";\r\n\r\nimport GeneralPage from \"./pages/General\";\r\nimport DuplicantsPage from \"./pages/Duplicants\";\r\n\r\nimport ErrorPage from \"../Error\";\r\nimport Error404Page from \"../404\";\r\n\r\ntype Props = SaveEditorProps & RouteComponentProps<any>;\r\n@observer\r\nclass SaveEditorPageComponent extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            saveEditor: {\r\n                loadError,\r\n                saveName,\r\n                isSaveLoading\r\n            }\r\n        } = this.props;\r\n\r\n        let rootComponent: React.ReactChild;\r\n\r\n        if (loadError) {\r\n            // Show error screen\r\n            return <ErrorPage error={loadError} />;\r\n        }\r\n\r\n        if (!saveName) {\r\n            return <NoSaveLoadedPage />\r\n        }\r\n\r\n        else if (isSaveLoading) {\r\n            return <LoadingSaveFilePage />;\r\n        }\r\n\r\n        return (\r\n            <div className=\"ui-page ui-page-saveeditor fill-parent\">\r\n                <Switch>\r\n                    <Redirect exact from=\"/editor\" to=\"/editor/duplicants\" />\r\n                    <Route exact path=\"/editor/general\" component={GeneralPage} />\r\n                    <Route exact path=\"/editor/duplicants\" component={DuplicantsPage} />\r\n                    <Route component={Error404Page} />\r\n                </Switch>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(withSaveEditor(SaveEditorPageComponent));","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport * as React from \"react\";\r\nimport { RouteComponentProps, withRouter } from \"react-router\";\r\nimport { Link, LinkProps } from \"react-router-dom\"\r\nimport { autobind } from \"core-decorators\";\r\n\r\nexport interface ActiveAwareLinkProps extends LinkProps {\r\n    exact?: boolean;\r\n}\r\ntype Props = ActiveAwareLinkProps & RouteComponentProps<{}>;\r\nclass ActiveAwareLink extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            to,\r\n            location,\r\n            children,\r\n            onClick,\r\n            className,\r\n            exact,\r\n\r\n            // Need to strip this out of passed props\r\n            staticContext,\r\n            ...other\r\n        } = this.props\r\n        const pathName = location.pathname;\r\n        let match: boolean;\r\n        \r\n        if (exact) match = to === pathName;\r\n        else match = matchPartialPath(pathName, to.toString());\r\n\r\n        if (match) {\r\n            return <span className={`pt-active pt-intent-primary ${className || \"\"}`}>{children}</span>;\r\n        }\r\n\r\n        return <Link to={to} className={className || \"\"} {...other} onClick={this._onClick}>{children}</Link>;\r\n    }\r\n\r\n    @autobind()\r\n    private _onClick(event: React.MouseEvent<HTMLAnchorElement>) {\r\n        const {\r\n            exact,\r\n            location,\r\n            to,\r\n            onClick\r\n        } = this.props;\r\n        const pathName = location.pathname;\r\n\r\n        let match: boolean;\r\n        if (exact) match = to === pathName;\r\n        else match = matchPartialPath(pathName, to.toString());\r\n\r\n        if (match) {\r\n            event.preventDefault();\r\n            return;\r\n        }\r\n\r\n        if (onClick) {\r\n            onClick(event);\r\n        }\r\n    }\r\n}\r\nexport default withRouter(ActiveAwareLink);\r\n\r\nfunction matchPartialPath(pathName: string, to: string): boolean {\r\n    if (pathName === to) return true;\r\n\r\n    if (!pathName.startsWith(to)) return false;\r\n\r\n    // Need to make sure we matched up to a path seperator.\r\n    if (pathName[to.length] !== '/') return false;\r\n    return true;\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { RouteComponentProps, withRouter } from \"react-router\";\r\n\r\nimport {\r\n    MenuDivider\r\n} from \"@blueprintjs/core\";\r\n\r\nimport ActiveAwareLink from \"../ActiveAwareLink\";\r\n\r\nimport { AppNavMenuProps } from \"./props\";\r\nimport { NavMenuEntry } from \"./interfaces\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nclass AppNavMenu extends React.Component<AppNavMenuProps & RouteComponentProps<any>> {\r\n    render() {\r\n        const {\r\n            className,\r\n            entries\r\n        } = this.props;\r\n\r\n        const links = this._renderEntries(entries);\r\n        return (\r\n            <div className={`ui-nav-menu ${className || \"\"}`}>\r\n                {links}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private _renderEntries(entries: NavMenuEntry[], key?: any): React.ReactChild[] {\r\n        key = key ? String(key) + \"-\" : \"\";\r\n\r\n        const fragments: React.ReactChild[] = [];\r\n        let previousWasGroup = false;\r\n\r\n        entries.forEach((entry, i) => {\r\n            const rendered = this._renderEntry(entry, key + i);\r\n            if (!rendered) return;\r\n            \r\n            if (previousWasGroup) {\r\n                fragments.push(<MenuDivider key={key + (i - 1) + \"-divider\"}/>)\r\n            }\r\n\r\n            if (Array.isArray(rendered)) {\r\n                fragments.push(...rendered);\r\n                previousWasGroup = rendered.length > 0;\r\n            }\r\n            else {\r\n                fragments.push(rendered);\r\n            }\r\n        });\r\n\r\n        return fragments;\r\n    }\r\n\r\n    private _renderEntry(entry: NavMenuEntry, key: any): React.ReactChild | React.ReactChild[] {\r\n        switch(entry.type) {\r\n            case \"group\": {\r\n                const rendered = this._renderEntries(entry.entries, key);\r\n                if (entry.name) {\r\n                    rendered.unshift(\r\n                        <div key={`${key}-header`} className=\"pt-menu-header\"><h6>{entry.name}</h6></div>\r\n                    );\r\n                }\r\n                return rendered;\r\n            }\r\n            case \"link\": {\r\n                const pathName = this.props.location.pathname;\r\n                const {\r\n                    name,\r\n                    path,\r\n                    subEntries,\r\n                    collapse\r\n                } = entry;\r\n                const primaryLink = <ActiveAwareLink key={key} exact={subEntries != null} className=\"pt-menu-item\" to={path}>{name}</ActiveAwareLink>;\r\n                if (!subEntries || (collapse && !matchPartialPath(pathName, path))) {\r\n                    return primaryLink;\r\n                }\r\n                else {\r\n                    return [\r\n                        primaryLink,\r\n                        <ul key={`${key}-list`}>\r\n                            {this._renderEntries(subEntries).map((x, i) => <li key={`${key}-${i}`}>{x}</li>)}\r\n                        </ul>\r\n                    ];\r\n                }\r\n            }\r\n            default: \r\n                return throwUnknownMenuEntry(entry);\r\n        }\r\n    }\r\n}\r\nexport default withRouter(AppNavMenu);\r\n\r\nfunction throwUnknownMenuEntry(entry: never): never {\r\n    throw new Error(`Unknown entry type \"${(entry as NavMenuEntry).type}\".`);\r\n}\r\n\r\n\r\nfunction matchPartialPath(pathName: string, to: string): boolean {\r\n    if (pathName === to) return true;\r\n\r\n    if (!pathName.startsWith(to)) return false;\r\n\r\n    // Need to make sure we matched up to a path seperator.\r\n    if (pathName[to.length] !== '/') return false;\r\n    return true;\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport {\r\n    Navbar,\r\n    NavbarGroup,\r\n    NavbarHeading,\r\n    Text,\r\n    Button,\r\n    Alignment\r\n} from \"@blueprintjs/core\";\r\n\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\nimport { SaveEditorProps, withSaveEditor } from \"@/services/save-editor\";\r\n\r\nimport { AppNavBarProps } from \"./props\";\r\n\r\ntype Props = AppNavBarProps & SaveEditorProps;\r\n@observer\r\nclass AppNavBar extends React.Component<Props> {\r\n    private _input: HTMLElement | null = null;\r\n\r\n    render() {\r\n        const {\r\n            className,\r\n            saveEditor: {\r\n                saveName,\r\n                isSaveLoaded\r\n            }\r\n        } = this.props;\r\n\r\n        return (\r\n            <Navbar className={`ui-app-navbar ${className || \"\"}`}>\r\n                <NavbarGroup>\r\n                    <NavbarHeading>ONI Save Editor</NavbarHeading>\r\n                    <Text ellipsize={true}>{saveName || \"\"}</Text>\r\n                </NavbarGroup>\r\n                <NavbarGroup align={Alignment.RIGHT}>\r\n                    <Button icon={IconNames.UPLOAD} onClick={this._onLoadClick}>Load</Button>\r\n                    <Button icon={IconNames.FLOPPY_DISK} disabled={!isSaveLoaded} onClick={this._onSaveClick}>Save</Button>\r\n                    <input\r\n                        ref={el => this._input = el}\r\n                        style={{ display: \"none\" }}\r\n                        className=\"pt-button pt-intent-primary\"\r\n                        type=\"file\"\r\n                        accept=\".sav\"\r\n                        onChange={this._onLoadFile}\r\n                    />\r\n                </NavbarGroup>\r\n            </Navbar>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onSaveClick() {\r\n        this.props.saveEditor.save();\r\n    }\r\n\r\n    @autobind()\r\n    private _onLoadClick() {\r\n        if (!this._input) return;\r\n        this._input.click();\r\n    }\r\n\r\n    @autobind()\r\n    private _onLoadFile(change: React.ChangeEvent<HTMLInputElement>) {\r\n        const files = change.target.files;\r\n        if (!files || files.length === 0) return;\r\n        this.props.saveEditor.load(files[0]);\r\n    }\r\n}\r\nexport default withSaveEditor(AppNavBar);","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"e97a2938147240462db6.worker.js\");\n};","\r\nimport { GameObjectBehaviorModel } from \"./interfaces\";\r\nimport { GameObjectBehavior } from \"oni-save-parser\";\r\nimport { typedKeys } from \"utils\";\r\nimport { observable, toJS } from \"mobx\";\r\n\r\nexport class GameObjectBehaviorModelImpl implements GameObjectBehaviorModel {\r\n    private _observableTemplate: any;\r\n\r\n    get name(): string {\r\n        return this._behavior.name;\r\n    }\r\n\r\n    get templateData(): any {\r\n        return this._observableTemplate;\r\n    }\r\n\r\n    set templateData(value: any) {\r\n        this._observableTemplate = observable(value, {}, {\r\n            name: \"GameObjectBehaviorModelImpl._observableTemplate\"\r\n        });\r\n        this._behavior.parsedData = toJS(value);\r\n    }\r\n\r\n    constructor(private _behavior: GameObjectBehavior) {\r\n        this._observableTemplate = observable(_behavior.parsedData);\r\n    }\r\n}","\r\nimport { observable } from \"mobx\";\r\nimport { createTransformer } from \"mobx-utils\";\r\n\r\nimport {\r\n    GameObject,\r\n    Vector3,\r\n    KPrefabIDBehavior,\r\n    BehaviorName,\r\n    GameObjectBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { GameObjectModel, GameObjectBehaviorModel } from \"./interfaces\";\r\n\r\nimport { GameObjectBehaviorModelImpl } from \"./game-object-behavior\";\r\n\r\nexport class GameObjectModelImpl implements GameObjectModel {\r\n    readonly type: string;\r\n\r\n    readonly kPrefabID: number;\r\n\r\n    @observable\r\n    readonly scale: Vector3;\r\n\r\n    private _gameObject: GameObject;\r\n\r\n    private _behaviorCache = new Map<string, GameObjectBehaviorModel[]>();\r\n\r\n    constructor(type: string, gameObject: GameObject) {\r\n        this.type = type;\r\n        this._gameObject = gameObject;\r\n\r\n        // Set scale to the ref of the game object scale, so\r\n        //  changing it will apply directly.\r\n        this.scale = gameObject.scale;\r\n\r\n        for (let behavior of gameObject.behaviors) {\r\n            let array = this._behaviorCache.get(behavior.name);\r\n            if (!array) {\r\n                array = [];\r\n                this._behaviorCache.set(behavior.name, array);\r\n            }\r\n            array.push(new GameObjectBehaviorModelImpl(behavior));\r\n        }\r\n\r\n        const idBehavior = this.getBehavior(KPrefabIDBehavior);\r\n        if (idBehavior) {\r\n            this.kPrefabID = idBehavior.templateData.InstanceID;\r\n        }\r\n        else {\r\n            this.kPrefabID = NaN;\r\n        }\r\n\r\n\r\n    }\r\n\r\n    // TODO: Look at why this is generating new objects every time.  Might be because the source object isnt observable?\r\n    /*\r\n    getBehavior: GameObjectModel[\"getBehavior\"] = createTransformer((behaviorName: string) => {\r\n        const behavior = this._gameObject.behaviors.find(x => x.name === behaviorName);\r\n        if (!behavior) return undefined;\r\n        return new GameObjectBehaviorModelImpl(behavior);\r\n    });\r\n    */\r\n    getBehavior<TBehavior extends GameObjectBehavior>(behaviorName: BehaviorName<TBehavior>): GameObjectBehaviorModel<TBehavior> | undefined {\r\n        const entries = this._behaviorCache.get(behaviorName);\r\n        if (entries) return entries[0] as any;\r\n        return undefined;\r\n    }\r\n\r\n    /*\r\n    getAllBehaviors: GameObjectModel[\"getAllBehaviors\"] = createTransformer((behaviorName: string) => {\r\n        return this._gameObject.behaviors.filter(x => x.name === behaviorName).map(x => new GameObjectBehaviorModelImpl(x));\r\n    });\r\n    */\r\n\r\n    getAllBehaviors<TBehavior extends GameObjectBehavior>(behaviorName: BehaviorName<TBehavior>): GameObjectBehaviorModel<TBehavior>[] {\r\n        return this._behaviorCache.get(behaviorName) || [] as any;\r\n    }\r\n}\r\n","\r\nexport function typedKeys<T>(obj: T): (keyof T)[] {\r\n    return Object.keys(obj) as any;\r\n}","\r\nimport * as React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { Route, Redirect, Switch, RouteComponentProps, withRouter } from \"react-router\";\r\n\r\nimport {\r\n    Dialog,\r\n    Spinner,\r\n    NonIdealState\r\n} from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\nimport DevTools from \"mobx-react-devtools\";\r\n\r\n\r\nimport { SaveEditorProps, withSaveEditor } from \"@/services/save-editor\";\r\n\r\nimport AppNavBar from \"../AppNavBar\";\r\nimport AppNavMenu from \"../AppNavMenu\";\r\n\r\nimport SaveEditorPage from \"../../pages/SaveEditor\";\r\nimport ChangelogPage from \"../../pages/Changelog\";\r\nimport Error404Page from \"../../pages/404\";\r\nimport { NavMenuEntry } from \"../AppNavMenu/interfaces\";\r\n\r\ntype Props = SaveEditorProps & RouteComponentProps<any>;\r\n@observer\r\nclass AppComponent extends React.Component<Props> {\r\n    private _input: HTMLInputElement | null = null;\r\n\r\n    render() {\r\n        const {\r\n            saveEditor: {\r\n                isSaveSaving,\r\n                saveName\r\n            }\r\n        } = this.props;\r\n\r\n        // TODO: This should be defined elsewhere, probably alongside static route configuration.\r\n        const navMenuEntries: NavMenuEntry[] = [\r\n            {\r\n                // Save Editor\r\n                type: \"link\",\r\n                path: \"/editor\",\r\n                name: \"Save Editor\",\r\n                subEntries: [\r\n                    {\r\n                        type: \"link\",\r\n                        path: \"/editor/general\",\r\n                        name: \"General\"\r\n                    },\r\n                    {\r\n                        type: \"link\",\r\n                        path: \"/editor/duplicants\",\r\n                        name: \"Duplicants\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                // Utility items\r\n                type: \"group\",\r\n                entries: [\r\n                    \r\n                ]\r\n            },\r\n            {\r\n                type: \"link\",\r\n                path: \"/changelog\",\r\n                name: \"Duplicity Changelog\"\r\n            }\r\n        ];\r\n\r\n        return (\r\n            <div className=\"ui-app-root pt-app pt-dark fill-parent layout-vertical\">\r\n                <AppNavBar className=\"layout-item\"/>\r\n                <div className=\"layout-item-fill layout-horizontal\">\r\n                    <AppNavMenu className=\"layout-item\" entries={navMenuEntries} />\r\n                    <div className=\"layout-item-fill\">\r\n                        <Switch>\r\n                            <Route path=\"/editor\" component={SaveEditorPage}/>\r\n                            <Route exact path=\"/404\" component={Error404Page}/>\r\n                            <Route exact path=\"/changelog\" component={ChangelogPage} />\r\n                            <Redirect exact from=\"/\" to=\"/editor\"/>\r\n                            <Route component={Error404Page}/>\r\n                        </Switch>\r\n                    </div>\r\n                    <div>\r\n                        <DevTools/>\r\n                    </div>\r\n                </div>\r\n                <Dialog isOpen={isSaveSaving} title=\"Saving File\" icon={IconNames.SAVED} isCloseButtonShown={false}>\r\n                    <NonIdealState>\r\n                        <div>\r\n                            <Spinner large={true}/>\r\n                        </div>\r\n                        <div>\r\n                            Saving <code>{saveName}</code>\r\n                        </div>\r\n                    </NonIdealState>\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n// Need withRouter to force update.  Yes, we need one on either side of ../App.tsx\r\nexport default withRouter(withSaveEditor(AppComponent));","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\n\r\nimport { hot } from \"react-hot-loader\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport App from \"./components/App\";\r\n\r\n// react-router wants to wrap every element we have in a new element.  Because composability!\r\n//  without wrapping this in a <Route/> from the outside, the PureComponent hot will not see\r\n//  any changes, and the broken context system is ignored.\r\n//  Every other library out their uses an external context store similar to the new react context\r\n//  pattern, but router just blames everyone else for honoring shouldComponentUpdate and says wontfix.\r\n// Might be better off removing route altogether and staying a SPA.\r\nexport default withRouter(hot(module)(App) as any);\r\n","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"html, body, #root {\\n  height: 100%;\\n  width: 100%; }\\n\\nbody {\\n  margin: 0;\\n  padding: 0; }\\n\\n.fill-parent, .fill-parent-width, .fill-parent-height {\\n  /* Fill parent to our outsides.*/\\n  box-sizing: border-box; }\\n\\n.fill-parent, .fill-parent-width {\\n  width: 100%; }\\n\\n.fill-parent, .fill-parent-height {\\n  height: 100%; }\\n\\n.layout-wrap {\\n  flex-wrap: wrap; }\\n\\n/*\\r\\n============================================================================\\r\\nHorizontal and Vertical Layouts\\r\\n============================================================================\\r\\n*/\\n/* Container for items that can fill up the available space, and optionally be constrained by it. */\\n.layout-vertical {\\n  display: flex;\\n  flex-direction: column; }\\n\\n.layout-horizontal {\\n  display: flex;\\n  flex-direction: row; }\\n\\n.layout-item, .layout-item-fill {\\n  box-sizing: border-box; }\\n\\n.layout-vertical > div, .layout-horizontal > div, .layout-vertical > .layout-item, .layout-horizontal > .layout-item {\\n  flex: none; }\\n\\n.layout-vertical > .layout-item-fill, .layout-horizontal > .layout-item-fill {\\n  flex: 1 1 auto; }\\n\\n.layout-vertical > .layout-item-constrain, .layout-horizontal > .layout-item-constrain {\\n  flex: 0 1 auto; }\\n\\n.layout-vertical > .layout-item-fill, .layout-vertical > .layout-item-constrain {\\n  /* Flex sets min-height to auto, we need to allow it to shrink down */\\n  min-height: 0;\\n  /*\\r\\n    Maintain some sort of inner css specified (vs actual?) value for height, so that \\r\\n    child elements can use height percentages and fill their parent (us)\\r\\n    */\\n  height: 100%; }\\n\\n.layout-horizontal > .layout-item-fill, .layout-horizontal > .layout-item-constrain {\\n  min-width: 0;\\n  width: 100%; }\\n\\n/*\\r\\n============================================================================\\r\\nContent Containers\\r\\n============================================================================\\r\\n*/\\n.container-scroll {\\n  overflow: auto; }\\n\\n/*\\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\\n */\\n.ui-app-root {\\n  background-color: #182026; }\\n\\n.pt-navbar.ui-app-navbar {\\n  background-color: #2965cc; }\\n  .pt-navbar.ui-app-navbar .pt-navbar-group .pt-button {\\n    margin: 0 4px; }\\n\\n.ui-nav-menu {\\n  padding: 15px;\\n  background-color: #394b59; }\\n\\n.ui-page-404 .ui-title {\\n  font-size: 20pt; }\\n\\n.ui-page-404 .ui-title-secondary {\\n  font-size: 12pt; }\\n\\n.ui-page-404 .ui-body {\\n  margin-top: 8px; }\\n\\n.ui-page-general {\\n  padding: 15px; }\\n\\n.ui-page-duplicants .ui-duplicant-list {\\n  background-color: #bfccd6;\\n  height: 340px; }\\n  .ui-page-duplicants .ui-duplicant-list .ui-duplicant-portrait {\\n    width: 150px;\\n    height: 150px;\\n    margin: 10px;\\n    cursor: pointer; }\\n    .ui-page-duplicants .ui-duplicant-list .ui-duplicant-portrait .ui-duplicant-name {\\n      text-align: center; }\\n    .ui-page-duplicants .ui-duplicant-list .ui-duplicant-portrait .ui-duplicant-role {\\n      text-align: center; }\\n  .ui-page-duplicants .ui-duplicant-list .ui-duplicant-portrait.pt-active {\\n    background-color: #f29d49; }\\n\\n.ui-page-duplicants .ui-duplicant-editor {\\n  box-sizing: border-box;\\n  padding: 5px; }\\n  .ui-page-duplicants .ui-duplicant-editor .ui-title {\\n    display: inline-block;\\n    width: auto; }\\n\\n.ui-page-duplicants .ui-duplicant-skills .pt-html-table {\\n  width: 100%;\\n  max-height: 100%; }\\n\\n.ui-page-duplicants .ui-duplicant-effects .pt-html-table {\\n  width: 100%;\\n  max-height: 100%; }\\n\\n.ui-page-duplicants .ui-duplicant-jobs .ui-current-role, .ui-page-duplicants .ui-duplicant-jobs .ui-target-role {\\n  padding: 5px; }\\n\\n.ui-page-changelog {\\n  padding: 15px; }\\n\\n.pt-multi-select-popover .pt-menu, .pt-select-popover .pt-menu {\\n  max-width: 400px;\\n  max-height: 300px;\\n  overflow: auto; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./root.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./root.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./root.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\r\n import \"@blueprintjs/core/lib/css/blueprint.css\";\r\n import \"@blueprintjs/icons/lib/css/blueprint-icons.css\";\r\n\r\nimport \"./root.scss\";\r\n","\r\nimport * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport { Provider } from \"mobx-react\";\r\n\r\nimport { HashRouter } from \"react-router-dom\";\r\n\r\nimport \"./css\";\r\nimport App from \"./app\";\r\nimport { createStores } from \"./store\";\r\n\r\nconst rootEl = document.getElementById(\"root\");\r\n\r\nReactDOM.render(\r\n    <Provider {...createStores()}>\r\n        <HashRouter>\r\n            <App />\r\n        </HashRouter>\r\n    </Provider>,\r\n    rootEl\r\n);\r\n","\r\nimport * as React from \"react\";\r\nimport { observer, inject } from \"mobx-react\";\r\nimport { SaveEditor } from \"./interfaces\";\r\n\r\nexport * from \"./interfaces\";\r\n\r\nexport { SaveEditorImpl } from \"./save-editor\";\r\n\r\nexport interface SaveEditorProps {\r\n    saveEditor: SaveEditor;\r\n}\r\n\r\ntype Omit<T, K extends keyof T> = T extends any ? Pick<T, Exclude<keyof T, K>> : never;\r\nexport function withSaveEditor<TProps extends SaveEditorProps>(WrappedComponent: React.ComponentClass<TProps>): React.ComponentClass<Omit<TProps, \"saveEditor\">> {\r\n    @inject(\"saveEditor\")\r\n    class WithSaveEditor extends React.Component<Omit<TProps, \"saveEditor\">> {\r\n        render() {\r\n            return (\r\n                <WrappedComponent {...this.props as any} />\r\n            );\r\n        }\r\n\r\n        private _setObserver() {\r\n\r\n        }\r\n    };\r\n    return WithSaveEditor;\r\n}\r\n","\r\nconst failureType = {\r\n    ACTION_INVALID: \"action-invalid\" as \"action-invalid\",\r\n    SAVEFILE_CORRUPT: \"savefile-corrupt\" as \"savefile-corrupt\",\r\n    STATE_CORRUPT: \"state-corrupt\" as \"state-corrupt\",\r\n    MISSING_BEHAVIOR: \"missing-behavior\" as \"missing-behavior\"\r\n};\r\nObject.freeze(failureType);\r\nObject.seal(failureType);\r\n\r\nexport type FailureType = (typeof failureType)[keyof typeof failureType];\r\nexport const FAILURE_TYPE: Readonly<typeof failureType> = failureType;\r\n\r\n\r\nexport function warning(message: string, failureType?: FailureType) {\r\n    // TODO: Log to user console.\r\n    console.warn(`(${failureType}):`, message);\r\n}\r\n\r\nexport function error(message: string, failureType?: FailureType) {\r\n    // TODO: Log to user console.\r\n    console.error(`(${failureType}):`, message);\r\n}","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n"],"sourceRoot":""}