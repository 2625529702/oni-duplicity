{"version":3,"sources":["webpack:///./src/style/index.ts","webpack:///./src/components/Text.tsx","webpack:///./src/state/index.ts","webpack:///./src/selectors/oni-save.ts","webpack:///./src/utils.ts","webpack:///./src/selectors/selected-path.ts","webpack:///./src/components/Flex.tsx","webpack:///./src/style/styled.ts","webpack:///./src/services/save-structure/index.ts","webpack:///./src/components/NonIdealState.tsx","webpack:///./src/reducer/behaviors/utils.ts","webpack:///./src/components/Box.ts","webpack:///./src/components/FormGroup.tsx","webpack:///./src/components/NumericInput.tsx","webpack:///./src/selectors/behaviors/utils.ts","webpack:///./src/pages/SaveEditor/components/fields/NumericField.tsx","webpack:///./src/components/Input.tsx","webpack:///./src/pages/SaveEditor/components/fields/connect-field/index.ts","webpack:///./src/components/SaveStructureLink/index.ts","webpack:///./src/style/theme/index.ts","webpack:///./src/actions/behaviors/set-currentobject-behavior-value.ts","webpack:///./src/actions/receive-onisave.ts","webpack:///./src/components/DataTable/index.ts","webpack:///./src/style/intent.ts","webpack:///./src/selectors/game-object.ts","webpack:///./src/selectors/selected-value.ts","webpack:///./src/pages/SaveEditor/components/editors/components/EditorContainer.tsx","webpack:///./src/components/CheckInput.tsx","webpack:///./src/i18n/index.ts","webpack:///./src/runtime-env.ts","webpack:///./src/style/styles/intent-color.ts","webpack:///./src/services/save-structure/structure/root.ts","webpack:///./src/services/save-structure/structure/matchers.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/default.ts","webpack:///./src/services/save-structure/structure/gameObjects/behaviors/default.ts","webpack:///./src/actions/modify-onisave.ts","webpack:///./src/actions/onisave-parse-progress.ts","webpack:///./src/actions/select-path.ts","webpack:///./src/components/Button.ts","webpack:///./src/components/EditModeCondition/index.ts","webpack:///./src/selectors/edit-mode.ts","webpack:///./src/keys.ts","webpack:///./src/math.ts","webpack:///./src/components/Icon.tsx","webpack:///./src/pages/SaveEditor/components/fields/from-typeinfo.tsx","webpack:///./src/style/theme/borders.ts","webpack:///./src/style/theme/colors.ts","webpack:///./src/style/theme/radii.ts","webpack:///./src/style/theme/space.ts","webpack:///./src/style/styles/intent-fill.ts","webpack:///./src/style/styles/text.ts","webpack:///./src/actions/behaviors/modify-currentobject-behavior-array.ts","webpack:///./src/reducer/game-object/utils.ts","webpack:///./src/services/save-structure/utils.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/index.ts","webpack:///./src/services/save-structure/structure/gameObjects/behaviors/storage.ts","webpack:///./src/format.ts","webpack:///./src/actions/behaviors/set-accessory.ts","webpack:///./src/actions/behaviors/set-element-disease.ts","webpack:///./src/actions/behaviors/set-health-state.ts","webpack:///./src/actions/behaviors/set-identity-gender.ts","webpack:///./src/actions/behaviors/set-modifier-amount.ts","webpack:///./src/actions/behaviors/set-traits-trait.ts","webpack:///./src/actions/game-object/set-scale.ts","webpack:///./src/actions/dismiss-error.ts","webpack:///./src/actions/set-editmode.ts","webpack:///./src/actions/set-language.ts","webpack:///./src/actions/load-onisave.ts","webpack:///./src/services/save-serializer/index.ts","webpack:///./src/actions/save-onisave.ts","webpack:///./src/selectors/loading-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/DefaultGameObjectEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/components/EditorHeader.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/components/GameObjectHeader/index.ts","webpack:///./src/components/NullableInput.tsx","webpack:///./src/components/TextInput.tsx","webpack:///./src/components/SelectInput.tsx","webpack:///./src/components/Select.tsx","webpack:///./src/components/DataTable/DataTable.tsx","webpack:///./src/components/Table.ts","webpack:///./src/components/Portrait/index.ts","webpack:///./src/index.tsx","webpack:///./src/i18n/i18n.ts","webpack:///./src/style/style.css?c716","webpack:///./src/style/style.css","webpack:///./src/style/styles/index.ts","webpack:///./src/style/styles/border.ts","webpack:///./src/style/theme/theme.ts","webpack:///./src/style/theme/font-sizes.ts","webpack:///./src/style/styles/intent-border.ts","webpack:///./src/style/styles/intent.ts","webpack:///./src/style/styles/link.ts","webpack:///./src/style/styles/vertical-align.ts","webpack:///./src/root.tsx","webpack:///./src/store/index.ts","webpack:///./src/store/store.ts","webpack:///./src/reducer/index.ts","webpack:///./src/reducer/behaviors/index.ts","webpack:///./src/reducer/behaviors/modify-currentobject-behavior-array.ts","webpack:///./src/services/save-structure/structure/index.ts","webpack:///./src/services/save-structure/structure/gameObjects/index.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/variants.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/minion.ts","webpack:///./src/services/save-structure/structure/gameObjects/behaviors/index.ts","webpack:///./src/services/save-structure/structure/gameObjects/behaviors/primary-element.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/geyser.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/utils.ts","webpack:///./src/services/save-structure/structure/utils.ts","webpack:///./src/reducer/behaviors/set-accessory.ts","webpack:///./src/reducer/behaviors/set-currentobject-behavior-value.ts","webpack:///./src/reducer/behaviors/set-element-disease.ts","webpack:///./src/reducer/behaviors/set-health-state.ts","webpack:///./src/reducer/behaviors/set-identity-gender.ts","webpack:///./src/reducer/behaviors/set-modifier-amount.ts","webpack:///./src/reducer/behaviors/set-traits-trait.ts","webpack:///./src/reducer/game-object/index.ts","webpack:///./src/reducer/game-object/set-scale.ts","webpack:///./src/reducer/dismiss-error.ts","webpack:///./src/reducer/modify-onisave.ts","webpack:///./src/reducer/onisave-parse-progress.ts","webpack:///./src/reducer/receive-onisave.ts","webpack:///./src/reducer/select-path.ts","webpack:///./src/reducer/set-editmode.ts","webpack:///./src/reducer/set-language.ts","webpack:///./src/saga/index.ts","webpack:///./src/saga/load-onisave.ts","webpack:///./src/services/save-serializer/worker-instance.ts","webpack:///./src/services/save-serializer/worker-messages.ts","webpack:///./src/services/save-serializer/save-serializer.worker.ts","webpack:///./src/saga/save-onisave.ts","webpack:///./src/store/devtool-sanitizer.ts","webpack:///./src/App/index.ts","webpack:///./src/App/App.tsx","webpack:///./src/App/derived-state.ts","webpack:///./src/selectors/error.ts","webpack:///./src/App/events.ts","webpack:///./src/pages/NoSave/index.ts","webpack:///./src/pages/NoSave/NoSave.tsx","webpack:///./src/components/Code.ts","webpack:///./src/pages/Error/index.ts","webpack:///./src/pages/Error/Error.tsx","webpack:///./src/pages/Loading/index.ts","webpack:///./src/pages/Loading/Loading.tsx","webpack:///./src/pages/Loading/derived-state.ts","webpack:///./src/selectors/loading-message.ts","webpack:///./src/pages/SaveEditor/index.ts","webpack:///./src/pages/SaveEditor/SaveEditor.tsx","webpack:///./src/pages/SaveEditor/derived-state.ts","webpack:///./src/components/SelectedPathBreadcrumb/index.ts","webpack:///./src/components/SelectedPathBreadcrumb/SelectedPathBreadcrumb.tsx","webpack:///./src/components/SelectedPathBreadcrumb/derived-state.ts","webpack:///./src/selectors/selected-path-breadcrumb.ts","webpack:///./src/components/SaveStructureLink/SaveStructureLink.tsx","webpack:///./src/components/SaveStructureLink/events.ts","webpack:///./src/components/SelectedPathBreadcrumb/components/BreadcrumbContainer.ts","webpack:///./src/components/ResizePanel/index.ts","webpack:///./src/components/ResizePanel/ResizePanel.tsx","webpack:///./src/components/ResizePanel/components/ResizeHandle.tsx","webpack:///./src/components/ResizePanel/components/ResizeHandleVisual.tsx","webpack:///./src/pages/SaveEditor/components/editors/index.ts","webpack:///./src/pages/SaveEditor/components/editors/from-saveitem.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/from-type.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/DefaultGameObjectEditor/DefaultGameObjectEditor.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/DefaultGameObjectEditor/derived-state.ts","webpack:///./src/components/EditModeCondition/EditModeCondition.tsx","webpack:///./src/components/EditModeCondition/derived-state.ts","webpack:///./src/pages/SaveEditor/components/fields/connect-field/derived-state.tsx","webpack:///./src/pages/SaveEditor/components/fields/connect-field/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/components/GameObjectHeader/GameObjectHeader.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/components/GameObjectHeader/derived-state.ts","webpack:///./src/components/Toolbar.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/components/GameObjectHeader/components/GameObjectHeaderContainer.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/MinionEditor.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/derived-state.ts","webpack:///./src/components/VerticalTabs/index.ts","webpack:///./src/components/VerticalTabs/VerticalTabs.tsx","webpack:///./src/components/VerticalTabs/components/TabContent.tsx","webpack:///./src/components/VerticalTabs/components/VerticalTabItem.ts","webpack:///./src/components/VerticalTabs/components/Tab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEditableName.tsx","webpack:///./src/pages/SaveEditor/components/fields/EditableTextField.tsx","webpack:///./src/components/EditableText/index.ts","webpack:///./src/components/EditableText/EditableText.tsx","webpack:///./src/components/EditableText/components/EditableTextDisplay.tsx","webpack:///./src/components/EditableText/components/EditableTextInput.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAppearanceTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAppearanceTab/MinionAppearanceTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAppearanceTab/derived-state.ts","webpack:///./src/selectors/behaviors/minion-identity.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAppearanceTab/events.ts","webpack:///./src/components/TextAutocompleteInput.tsx","webpack:///./src/components/Autocomplete.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAptitudesTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAptitudesTab/MinionAptitudesTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAptitudesTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAptitudesTab/events.ts","webpack:///./src/components/DataTable/rowDataEnhancer.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEffectsTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEffectsTab/MinionEffectsTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEffectsTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEffectsTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionHealthTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionHealthTab/MinionHealthTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionHealthTab/derived-state.ts","webpack:///./src/selectors/behaviors/health.ts","webpack:///./src/selectors/behaviors/primary-element.ts","webpack:///./src/selectors/behaviors/minion-modifiers.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionHealthTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionJobsTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionJobsTab/MinionJobsTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionJobsTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionJobsTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionSkillsTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionSkillsTab/MinionSkillsTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionSkillsTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionSkillsTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionTraitsTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionTraitsTab/MinionTraitsTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionTraitsTab/derived-state.ts","webpack:///./src/selectors/behaviors/ai-traits.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionTraitsTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionPositionTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionPositionTab/MinionPositionTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionPositionTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/DefaultObjectEditor.tsx","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/components/DefaultObjectEditorContainer.tsx","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/components/EditorField.tsx","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/events.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/SaveRootEditor.tsx","webpack:///./src/components/InfoText.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/SaveRootEditorContainer.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/SaveGameTitle.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/index.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/DuplicantsList.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantPortrait/index.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantPortrait/DuplicantPortrait.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantPortrait/derived-state.tsx","webpack:///./src/components/Portrait/Portrait.ts","webpack:///./src/components/Portrait/PortraitHeader.ts","webpack:///./src/components/Portrait/PortraitFooter.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantsListContainer.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantsListContent.ts","webpack:///./src/pages/SaveEditor/components/editors/TemplateObjectEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/TemplateObjectEditor/TemplateObjectEditor.tsx","webpack:///./src/pages/SaveEditor/components/editors/TemplateObjectEditor/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/TemplateObjectEditor/components/TemplateObjectEditorContainer.ts","webpack:///./src/pages/SaveEditor/components/fields/ArrayLikeField.tsx","webpack:///./src/pages/SaveEditor/components/fields/CheckField.tsx","webpack:///./src/pages/SaveEditor/components/fields/ColorField.tsx","webpack:///./src/pages/SaveEditor/components/fields/DictionaryField.tsx","webpack:///./src/pages/SaveEditor/components/fields/EnumerationField.tsx","webpack:///./src/pages/SaveEditor/components/fields/TextField.tsx","webpack:///./src/pages/SaveEditor/components/fields/Vector2Field.tsx","webpack:///./src/pages/SaveEditor/components/fields/Vector2IField.tsx","webpack:///./src/pages/SaveEditor/components/fields/Vector3Field.tsx","webpack:///./src/pages/SaveEditor/components/editors/GameObjectGroupList/index.ts","webpack:///./src/pages/SaveEditor/components/editors/GameObjectGroupList/GameObjectGroupList.tsx","webpack:///./src/pages/SaveEditor/components/editors/GameObjectGroupList/derived-state.tsx","webpack:///./src/pages/SaveEditor/components/editors/GameObjectList/index.ts","webpack:///./src/pages/SaveEditor/components/editors/GameObjectList/GameObjectList.tsx","webpack:///./src/pages/SaveEditor/components/editors/GameObjectList/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/GameObjectList/components/GameObjectListContent.tsx","webpack:///./src/pages/SaveEditor/components/SaveEditorContainer.tsx","webpack:///./src/pages/SaveEditor/components/ContentContainer.tsx","webpack:///./src/pages/SaveEditor/components/EditorContainer.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/Sidebar.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SidebarContainer.tsx","webpack:///./src/components/Panel.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/EditorModeSelector/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/EditorModeSelector/EditorModeSelector.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/EditorModeSelector/events.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/SaveStructureTree.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureTreeContainer.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/SaveStructureItem.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/derived-state.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/events.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemContainer.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemHeader/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemHeader/SaveStructureItemHeader.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemHeader/components/Expander.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemHeader/components/ItemText.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemContent.tsx","webpack:///./src/components/Separator.tsx","webpack:///./src/App/components/AppContainer.tsx","webpack:///./src/App/components/AppContent.tsx","webpack:///./src/App/components/NavBar/index.ts","webpack:///./src/App/components/NavBar/NavBar.tsx","webpack:///./src/App/components/NavBar/events.ts","webpack:///./src/App/components/NavBar/components/NavBarContainer.tsx","webpack:///./src/App/components/NavBar/components/NavBarGroup.tsx","webpack:///./src/App/components/NavBar/components/NavBarTitleText.ts","webpack:///./src/App/components/NavBar/components/SettingsButton.tsx","webpack:///./src/components/DropdownMenuButton/index.ts","webpack:///./src/components/DropdownMenuButton/DropdownMenuButton.tsx","webpack:///./src/components/DropdownMenuButton/components/DropdownMenuContainer.tsx","webpack:///./src/components/DropdownMenuButton/components/DropdownMenuPanel.tsx","webpack:///./src/components/Menu/index.ts","webpack:///./src/components/Menu/Menu.tsx","webpack:///./src/App/components/NavBar/components/LanguageMenuButton/index.ts","webpack:///./src/App/components/NavBar/components/LanguageMenuButton/LanguageMenuButton.tsx","webpack:///./src/App/components/NavBar/components/LanguageMenuButton/events.ts","webpack:///./src/App/components/NavBar/components/LanguageMenuButton/derived-state.ts","webpack:///./src/selectors/language.ts"],"names":["__webpack_require__","styled_1","__importDefault","exports","default","__export","styled_2","ThemeProvider","injectGlobal","css","styled_system_1","style_1","style_2","utils_1","Text","text","alignSelf","justifySelf","space","displayName","attachProps","H4","withComponent","Label","Div","defaultAppState","language","loadingState","loadingProgressMessage","error","oniSave","selectedPath","editMode","Object","freeze","state","lodash_es_1","component","subComponents","c","forEach","key","Box_1","FlexItem","extend","props","grow","shrink","fillParent","constrain","Flex","alignContent","justifyContent","direction","Item","styledComponents","__importStar","styled","keyframes","React","Text_1","Header","NonIdealState","intent","header","children","createElement","width","height","border","borderRadius","borderColor","Color","HintIntent","p","mx","mt","Intent","Default","Hint","Primary","oni_save_parser_1","produceFromBehavior","behaviorName","producer","produceFromGameObject","gameObject","behavior","getBehavior","Box","intentBorder","defaultProps","intentIsBg","Flex_1","Component","[object Object]","label","inline","fontSize","this","mb","mr","px","core_decorators_1","keys_1","math_1","Input_1","NumericInput","super","_input","createRef","editValue","validationMessage","value","minValue","maxValue","precision","currentValue","step","isFloatingPoint","innerRef","type","min","max","onChange","_onValueChange","onKeyPress","_onInputKeyPress","onBlur","_onInputBlur","e","target","numberValue","parseFloat","setCustomValidity","setState","Enter","_commitEdit","onCommit","current","isNaN","newValue","clamp","__decorate","autobind","reselect_1","game_object_1","createCurrentGameObjectBehaviorPropertySelector","valueSelector","valueSelectFunc","Array","isArray","get","behaviorSelector","getCurrentGameObjectBehaviorSelector","createSelector","memoize","getCurrentGameObjectBehaviorPropertySelector","behaviorPath","join","NumericInput_1","connect_field_1","inputStyle","getTheme","colors","bg","panel","borders","secondary","primary","dangerous","Input","react_redux_1","derived_state_1","events_1","connect","SaveStructureLink_1","colors_1","getThemeColor","borders_1","getThemeBorder","radii_1","getThemeRadius","space_1","getThemeSpace","ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE","setCurrentObjectBehaviorValue","path","payload","ACTION_RECEIVE_ONISAVE_BEGIN","receiveOniSaveBegin","operation","clearExisting","ACTION_RECEIVE_ONISAVE_ERROR","receiveOniSaveError","ACTION_RECEIVE_ONISAVE_SUCCESS","receiveOniSaveSuccess","DataTable_1","lodash_1","isIntent","str","includes","save_structure_1","selected_path_1","oni_save_1","getGameObjectPathInSelection","found","getLastSaveItemOfType","getSelectedGameObject","getSelectedGameObjectPosition","position","getSelectedGameObjectScale","scale","selectedValueSelector","saveGame","length","getSaveItemEditValue","EditorHeader_1","EditorContainer","CheckInput","checked","i18n_1","platform_1","osPlatform","os","family","OSType","test","isProd","intent_1","theme_1","intentColorOf","fromIntent","intentColorFromProps","intentColor","of","defaultAdvancedField","$advanced","saveStructure","$type","$uiPathName","obj","gameInfo","baseName","templates","world","settings","version","gameObjects","gameData","$subType","gasConduitFlow","liquidConduitFlow","simActiveRegionMin","simActiveRegionMax","fallingWater","unstableGround","worldDetail","customGameSettings","gameObjectIs","isObject","name","behaviorIs","behaviors_1","defaultGameObject","idBehavior","KPrefabIDBehavior","templateData","InstanceID","x","toFixed","y","behaviors","map","_","i","*","defaultBehaviorTemplateDataObj","template","find","item","subPath","slice","part","member","fields","properties","typeInfo","code","getTypeCode","info","SerializationTypeCode","UserDefined","templateName","LIST_TYPES","indexOf","subTypes","arrayTypeInfo","Dictionary","keys","filter","defaultBehavior","push","extraData","$uiChildren","ACTION_ONISAVE_MODIFY","modifyOniSave","ACTION_ONISAVE_PARSE_PROGRESS","parseProgress","message","ACTION_SELECT_PATH","selectPath","Button","intentFill","verticalAlign","fontSizes","m","EditModeCondition_1","Esc","createClamp","clampArray","clampInt8","Int8Array","clampUInt8","Uint8Array","clampInt16","Int16Array","clampUInt16","Uint16Array","clampInt32","Int32Array","clampUInt32","Uint32Array","clampSingle","Float32Array","clampDouble","Float64Array","CLAMPS_BY_PRECISION","int8","uint8","int16","uint16","int32","uint32","single","double","clamper","Error","compare","a","b","sortAscending","react_fontawesome_1","free_solid_svg_icons_1","free_brands_svg_icons_1","CleanFontAwesomeIcon","_a","__rest","FontAwesomeIcon","assign","Icon","createIcon","icon","GithubIcon","faGithubSquare","LanguageIcon","faLanguage","PencilIcon","faPencilAlt","SettingsIcon","faCog","Github","Language","Pencil","Settings","ArrayLikeField_1","CheckField_1","ColorField_1","DictionaryField_1","EnumerationField_1","NumericField_1","TextField_1","Vector2Field_1","Vector2IField_1","Vector3Field_1","short","subType","Boolean","Byte","Colour","Double","Enumeration","enumerationName","HashSet","Int16","Int32","Int64","Dangerous","List","Pair","SByte","Queue","Single","String","UInt16","UInt32","UInt64","Vector2","Vector2I","Vector3","handleUnknownType","themeGet","contrast","DefaultIntentContrast","DefaultIntent","PrimaryIntentContrast","PrimaryIntent","Secondary","SecondaryIntentContrast","SecondaryIntent","DangerousIntentContrast","DangerousIntent","HintIntentContrast","hint","navbar","separator","color","radii","radius","intentFillOf","intentFillFromProps","undefined","intent_color_1","wordWrap","style","prop","cssProperty","wordBreak","whiteSpace","fontWeight","ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM","insertCurrentObjectBehaviorArrayValue","index","ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM","removeCurrentObjectBehaviorArrayValue","ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX","removeCurrentObjectBehaviorArrayIndex","isCurrentObjectBehaviorArrayAction","action","immer_1","structure_1","isImplicitChild","resolveValueSelector","selector","getSaveItemType","def","getSaveStructureDef","foundPath","pair","walkSaveStructurePath","getLastSaveItemOfSubType","pairSubType","getSaveItemTitle","nameSource","nameProducer","getSaveItemBreadcrumb","breadcrumbs","structurePath","defPath","title","getSaveItemChildPaths","uiChildren","defKeys","saveGamePath","collectAutoChildPaths","childDef","advancedProducer","checkEditMode","collectChildPaths","variants_1","gameObjectVariantInfos","getGameObjectVariants","matchers_1","gameObjectTypes_1","default_1","storageBehaviorStoredObject","$variants","initStorageBehaviorHack","storageBehaviorExtraData","storageBehavior","$match","StorageBehavior","POSITION_PRECISION","formatPositionValue","v","toPrecision","formatPosition","formatSimHash","hash","SimHashes","formatDisease","diseaseId","ACTION_SET_ACCESSORY","setAccessory","accessoryType","accessoryName","ACTION_PRIMARY_ELEMENT_SET_DISEASE","setPrimaryElementDisease","diseaseCount","ACTION_HEALTH_SET_STATE","setHealthStatus","ACTION_MINION_IDENTITY_SET_GENDER","setIdentityGender","gender","ACTION_MINION_MODIFIER_SET_VALUE","setModifierValue","amountType","ACTION_TRAITS_SET","setTrait","traitId","isSet","ACTION_GAME_OBJECT_SET_SCALE","setGameObjectScale","ACTION_DISMISS_ERROR","dismissError","ACTION_SET_EDITMODE","setEditMode","ACTION_SET_LANGUAGE","setLanguage","ACTION_ONISAVE_LOAD","loadOniSave","file","ACTION_ONISAVE_SAVE","saveOniSave","fileName","DefaultGameObjectEditor_1","EditorHeader","pb","GameObjectHeader_1","CheckInput_1","NullableInput","isNotNull","className","renderNull","element","renderInput","defaultValue","resolve","_onNotNullChecked","TextInput","_inputRef","isValid","minLength","maxLength","_setEditValue","validation","_validate","Select_1","SelectInput","options","clearable","SelectElement","Select","rest","_onChange","griddle_react_1","Table_1","rowDataEnhancer_1","defaultComponents","Layout","Table","Pagination","Filter","SettingsWrapper","placeholder","setFilter","TableHeading","TableBody","NoResults","visibleRows","columnTitles","columnIds","TableHeadingCell","headingCells","columnId","THead","TR","Row","griddleKey","onClick","onMouseEnter","onMouseLeave","Cell","TD","DataTable","data","columns","plugins","LocalPlugin","components","enableSettings","pageProperties","pageSize","RowDefinition","columnToDef","column","id","property","cell","filterable","sortable","sortMethod","colId","ColumnDefinition","customHeadingComponent","isValidElement","toElement","customComponent","table","thead","PanelBackground","TH","th","TBody","tbody","tr","td","Portrait_1","ReactDOM","react_modal_1","root_1","rootEl","document","getElementById","setAppElement","render","i18next_1","react_i18next_1","runtime_env_1","use","reactI18nextModule","init","fallbackLng","ns","defaultNS","resources","en","common","zh","debug","interpolation","escapeValue","react","wait","content","module","hmr","transform","insertInto","locals","borderFromProps","font_sizes_1","theme","getThemeProp","getter","val","borderOf","intent_fill_1","intentFromProps","isBg","text_1","link","react_hot_loader_1","store_1","App_1","hot","I18nextProvider","i18n","Provider","store","createStore","redux_1","redux_saga_1","reducer_1","saga_1","devtool_sanitizer_1","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","actionSanitizer","stateSanitizer","compose","sagaMiddleware","applyMiddleware","run","reduce_reducers_1","dismiss_error_1","modify_onisave_1","onisave_parse_progress_1","receive_onisave_1","select_path_1","set_editmode_1","set_language_1","reducers","modify_currentobject_behavior_array_1","set_accessory_1","set_currentobject_behavior_value_1","set_element_disease_1","set_health_state_1","set_identity_gender_1","set_modifier_amount_1","set_traits_trait_1","state_1","array","splice","storage_1","gameObjectGroupsStructure","group","gameObjectsStructure","gameObjectVariantInfo","minionGameObject","identityBehavior","MinionIdentityBehavior","gameObjectMatcher","gameObjectStructure","primary_element_1","primaryElementBehavior","PrimaryElementBehavior","format_1","geyserGameObject","startsWith","setStructure","structure","set","gameObjectTypeInfos","gameObjectPath","defaultVariant","variants","rootVariant","subStructure","variant","save","iter","result","next","done","AccessorizerBehavior","accessories","accessoryIndex","getIndexOfAccessoryType","newAccessory","Accessory","diseaseID","HealthBehavior","State","genderStringKey","MinionModifiersBehavior","amount","amounts","AITraitsBehavior","TraitIds","findIndex","set_scale_1","z","draft","lang","changeLanguage","effects_1","load_onisave_1","save_onisave_1","fork","save_serializer_1","handleOniSaveLoad","put","loadChannel","eventChannel","emitter","parseSave","then","END","catch","createLoadChannel","call","readFile","msg","take","reader","FileReader","Promise","accept","reject","onload","onerror","readAsArrayBuffer","takeEvery","worker_messages_1","worker","onProgress","promise","unhook","onmessage","RESPONSE_PROGRESS","RESPONSE_PARSE_SUCCESS","RESPONSE_PARSE_ERROR","jsonToError","postMessage","writeSave","RESPONSE_WRITE_SUCCESS","RESPONSE_WRITE_ERROR","sendProgress","parseSaveSuccess","parseSaveError","errorToJson","stack","writeSaveSuccess","writeSaveError","Worker","file_saver_1","handleOniSaveWrite","saveName","select","saveChannel","blob","Blob","createSaveChannel","saveAs","sanitizeSave","streamed","NoSave_1","Error_1","Loading_1","SaveEditor_1","AppContainer_1","AppContent_1","NavBar_1","onDismissError","onDismiss","error_1","stateSelectors","mapStateToProps","createStructuredSelector","mapDispatchToProps","NonIdealState_1","Code_1","SaveFilePaths","windows","mac","linux","unknown","NoSave","Trans","i18nKey","defaults","values","translate","Code","Button_1","ErrorPage","Loading","loadingProgressMessageSelector","loading_state_1","loading_message_1","structuredSelector","SelectedPathBreadcrumb_1","ResizePanel_1","editors_1","SaveEditorContainer_1","ContentContainer_1","EditorContainer_1","Sidebar_1","Separator_1","ObjectEditor","editorFromSaveItem","BreadcrumbContainer_1","breadcrumb","links","isFinal","selectedPathBreadcrumbSelector","SaveStructureLink","Link","_onClick","BreadcrumbContainer","div","ResizeHandle_1","ResizePanel","defaultWidth","onResize","_onResize","delta","s","react_draggable_1","ResizeHandleVisual_1","ResizeHandle","isResizing","DraggableCore","onStart","_onStart","onStop","_onStop","onDrag","_onDrag","d","deltaX","ResizeHandleVisual","DefaultSeparator","game_objects_1","DefaultObjectEditor_1","SaveRootEditor_1","TemplateObjectEditor_1","GameObjectGroupList_1","GameObjectList_1","itemType","isFlatList","editorFromGameObjectType","MinionEditor_1","FormGroup_1","gameObjectName","selected_value_1","selectedValue","prefabIdBehavior","prefabId","currentEditMode","re_reselect_1","itemValue","dispatch","writeTo","Toolbar_1","GameObjectHeaderContainer_1","primaryElement","Group","align","ElementID","toolbarItem","ToolbarLabel","ToolbarGroup","Toolbar","bgColor","GameObjectHeaderContainer","VerticalTabs_1","MinionEditableName_1","MinionAppearanceTab_1","MinionAptitudesTab_1","MinionEffectsTab_1","MinionHealthTab_1","MinionJobsTab_1","MinionSkillsTab_1","MinionTraitsTab_1","MinionPositionTab_1","minionNamePath","Tab","tabKey","behaviorIndex","TabContent_1","VerticalTabItem_1","Tab_1","VerticalTabs","selectedKey","tabs","Children","tabItems","tab","isSelected","_onTabItemClick","bind","TabContent","pl","VerticalTabItem","Fragment","EditableTextField_1","MinionHeader","EditableText_1","EditableTextDisplay_1","EditableTextInput_1","Icon_1","EditableText","autoFocus","_onEditableChange","onKeyUp","_onEditableKeyUp","onFocus","_onEditableFocus","_onEditableBlur","_onTextClick","_commit","_reset","EditableTextDisplay","EditableTextInput","NullableInput_1","TextInput_1","TextAutocompleteInput_1","SelectInput_1","TDText","NoAccessory","NoAccessoryMouth","MinionAppearanceTab","onSetGender","AccessoryTypes","_renderAccessoryField","genderOpts","MINION_IDENTITY_GENDERS","ident","_setScaleX","_setScaleY","onSetScale","onSetAccessory","editGroup","_renderAccessorySelector","AccessoriesByType","accessoryNames","items","minion_identity_1","accessorizerBehavior","getSelectedGameObjectGender","accessory","getAccessoryOfType","getAccessoryName","createAccessorySelector","getSelectedGameObjectIdentityBehavior","Autocomplete_1","TextAutocompleteInput","getItemValue","onSelect","_onValueSelect","selectOnBlur","onSet","react_autocomplete_1","AutocompleteItem","Autocomplete","inputProps","ref","convertProps","renderItem","isHighlighted","renderMenu","styles","elements","AutocompleteMenu","aptitudes","setAptitude","rowData","sort","aptitudesSelector","MinionResumeBehavior","hstr","aptitude","roleId","MinionRoleGroup","roleHash","enhancedWithRowData","rowMap","toJSON","rowDataSelector","effects","onSetEffectData","AI_EFFECT_IDS","effectId","effectIndex","effect","timeRemaining","AIEffectsBehavior","EffectsPath","MinionHealthTab","healthState","onHealthStatusChanged","hitpoints","onHitpointsChanged","stamina","onStaminaChanged","calories","onCaloriesChanged","breath","onBreathChanged","stress","onStressChanged","bladder","onBladderChanged","surfaceDiseaseId","surfaceDiseaseCount","immuneLevel","onImmuneLevelChanged","foodPoisoning","onFoodPoisoningChanged","coldBrain","onColdBrainChanged","heatRash","onHeatRashChanged","slimeLung","onSlimeLungChanged","spores","onSporesChanged","sunburn","onSunburnChanged","HealthState","parseInt","Perfect","_onSurfaceDiseaseIdCommit","_onSurfaceDiseaseCountCommit","onSurfaceDiseaseChanged","health_1","minion_modifiers_1","getSelectedGameObjectHealthState","getSelectedGameObjectElementDiseaseId","getSelectedGameObjectElementDiseaseCount","getSelectedGameObjectModifierValueSelector","getSelectedGameObjectHealthBehavior","getSelectedGameObjectElementBehavior","getSelectedGameObjectModifiersBehavior","amountId","level","jobs","setExperience","setMastery","experienceIndex","masteryIndex","masteriesSelector","experienceSelector","masteries","experience","mastery","skills","setSkillLevel","setSkillExperience","AIAttributeLevelsBehavior","traits","onSetTrait","rows","AI_TRAIT_IDS","trait","some","getSelectedGameObjectTraits","MinionPositionTab","DefaultObjectEditorContainer_1","EditorField_1","DefaultObjectEditor","fieldElements","field","_renderFieldRow","propKey","_onFieldChange","onModify","DefaultObjectEditorContainer","EditorField","JSON","stringify","parse","isPrimitive","structuredSelectors","primitiveTypes","valType","InfoText_1","SaveRootEditorContainer_1","SaveGameTitle_1","DuplicantsList_1","_renderContent","numGameObjects","reduce","count","numberOfCycles","numberOfDuplicants","SaveRootEditorContainer","SaveGameTitle","DuplicantPortrait_1","DuplicantsListContainer_1","DuplicantsListContent_1","duplicantsSetPath","duplicantIndexes","duplicantPortraits","gameObjectIndex","minionSet","range","arrivalCycle","Footer","generateCacheKey","duplicants","duplicantIdentity","identBehavior","gameSave","groupIndex","arrivalTime","PortraitHeader_1","PortraitFooter_1","Portrait","PortraitHeader","PortraitFooter","DuplicantsListContainer","DuplicantsListContent","TemplateObjectEditorContainer_1","from_typeinfo_1","fieldRows","FieldEditor","foundRoot","rootTemplatePath","templatePath","SerializationTypeInfo","typeCode","keyValueIndex","Number","TemplateObjectEditorContainer","ArrayLikeField","ValueElement","ColorField","DictionaryField","EnumerationField","enumeration","prototype","hasOwnProperty","EnumerationsByName","getEnumeration","_onSelectInputChange","Vector2Field","Vector2IField","Vector3Field","gameObjectGroups","edit_mode_1","GameObjectListContent_1","gameObjectItems","portraits","gameObjectPaths","GroupListContent","SaveEditorContainer","ContentContainer","SidebarContainer_1","EditorModeSelector_1","SaveStructureTree_1","Sidebar","Panel_1","SidebarContainer","Panel","EditorModeSelector","htmlFor","_onAdvancedModeChange","SaveStructureTreeContainer_1","SaveStructureItem_1","_containerRef","saveItemPath","scrollContainer","SaveStructureTreeContainer","dom_scroll_into_view_1","SaveStructureItemContainer_1","SaveStructureItemHeader_1","SaveStructureItemContent_1","SaveStructureItemComponent","_ref","isExpanded","selectionStatus","_scrollIntoView","oldProps","childPaths","isExpandable","titleIntent","valueElement","childPath","SaveStructureItem","expandable","expanded","onExpandToggle","_onExpandToggle","htmlElement","allowHorizontalScroll","onlyScrollIfNeeded","offsetBottom","offsetTop","string_natural_compare_1","cacheKeyGenerator","itemPathSelector","itemPath","every","aTitle","bTitle","SaveStructureItemContainer","Expander_1","ItemText_1","SaveStructureItemHeaderContainer","span","SaveStructureItemHeader","viewBox","fill","ItemText","SaveStructureItemContent","Separator","AppContainer","NavBarContainer_1","NavBarGroup_1","NavBarTitleText_1","SettingsButton_1","NavBar","onLoadTestData","el","display","_onLoadFileInput","_onLoadFileClick","_onSaveFileClick","href","click","files","onLoad","onSave","ext","endsWith","withExtension","save_game_json_1","NavBarContainer","NavBarGroup","NavBarTitleText","DropdownMenuButton_1","LanguageMenuButton_1","button","DropdownMenuContainer_1","DropdownMenuPanel_1","Menu_1","DropdownMenu","isOpen","_toggleDropdown","_renderDropDown","_closeDropdown","DropdownMenuContainer","DropdownMenuPanel","MenuItemWrapper","expandedLeft","expandedRight","MenuContainer","ul","menuItems","child","onSetLanguage"],"mappings":"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","file":"client.920629a47af23127f5ee.bundle.js","sourcesContent":["import \"./style.css\";\r\n\r\nimport styled from \"./styled\";\r\nexport default styled;\r\n\r\nexport * from \"./styles\";\r\nexport * from \"./theme\";\r\n\r\nexport * from \"./intent\";\r\n\r\nexport {\r\n  ThemeProvider,\r\n  ThemeProps,\r\n  ThemedOuterStyledProps,\r\n  injectGlobal,\r\n  css\r\n} from \"./styled\";\r\n","import {\r\n  AlignSelfProps,\r\n  JustifySelfProps,\r\n  SpaceProps,\r\n  alignSelf,\r\n  justifySelf,\r\n  space\r\n} from \"styled-system\";\r\n\r\nimport styled from \"@/style\";\r\n\r\nimport { TextProps as TextStyleProps, text } from \"@/style\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nexport type TextProps = TextStyleProps &\r\n  AlignSelfProps &\r\n  JustifySelfProps &\r\n  SpaceProps;\r\nconst Text = styled<TextProps, \"span\">(\"span\")`\r\n  ${text};\r\n  ${alignSelf};\r\n  ${justifySelf};\r\n  ${space};\r\n`;\r\nText.displayName = \"Text\";\r\nexport default attachProps(Text, {\r\n  H4: Text.withComponent(\"h4\") as StyledWithComponentTag<\"h4\", TextProps>,\r\n  Label: Text.withComponent(\"label\") as StyledWithComponentTag<\r\n    \"label\",\r\n    TextProps\r\n  >,\r\n  Div: Text.withComponent(\"div\") as StyledWithComponentTag<\"div\", TextProps>\r\n});\r\n","import { SaveGame } from \"oni-save-parser\";\r\nimport { EditMode } from \"@/services/save-structure\";\r\n\r\nexport type LoadingState = \"idle\" | \"loading\" | \"saving\" | \"ready\";\r\n\r\nexport interface AppState {\r\n  language: string;\r\n  loadingState: LoadingState;\r\n  loadingProgressMessage: string | null;\r\n  error: Error | null;\r\n  oniSave: SaveGame | null;\r\n  selectedPath: string[];\r\n  editMode: EditMode;\r\n}\r\nexport const defaultAppState: Readonly<AppState> = {\r\n  language: \"en\",\r\n  loadingState: \"idle\" as \"idle\",\r\n  loadingProgressMessage: null,\r\n  error: null,\r\n  oniSave: null,\r\n  selectedPath: [],\r\n  editMode: \"normal\"\r\n};\r\nObject.freeze(defaultAppState);\r\n","import { AppState } from \"@/state\";\r\n\r\nconst oniSaveSelector = (state: AppState) => state.oniSave;\r\nexport default oniSaveSelector;\r\n","import { forEach } from \"lodash-es\";\r\n\r\nexport function attachProps<\r\n  TTarget,\r\n  TSubComponents extends Record<string, any>\r\n>(component: TTarget, subComponents: TSubComponents): TTarget & TSubComponents {\r\n  const c = component as any;\r\n  forEach(subComponents, (component, key) => {\r\n    c[key] = component;\r\n  });\r\n  return c as any;\r\n}\r\n","import { AppState } from \"@/state\";\r\n\r\nconst selectedPathSelector = (state: AppState) => state.selectedPath;\r\nexport default selectedPathSelector;\r\n","import { attachProps } from \"@/utils\";\r\n\r\nimport Box, { BoxProps } from \"@/components/Box\";\r\n\r\nimport {\r\n  AlignContentProps,\r\n  JustifyContentProps,\r\n  alignContent,\r\n  justifyContent\r\n} from \"styled-system\";\r\n\r\nexport interface FlexItemProps extends BoxProps {\r\n  grow?: boolean;\r\n  shrink?: boolean;\r\n  fillParent?: boolean;\r\n  constrain?: \"row\" | \"column\";\r\n}\r\n\r\nconst FlexItem = Box.extend<FlexItemProps>`\r\n  ${props => props.grow && \"flex-grow: 1\"};\r\n  ${props => props.shrink && \"flex-shrink: 1\"};\r\n  ${props =>\r\n    props.fillParent &&\r\n    (props.constrain ? \"flex: 0 1 auto\" : \"flex: 1 1 auto\")};\r\n  ${props =>\r\n    props.constrain &&\r\n    (props.constrain === \"row\"\r\n      ? [\"min-width: 0;\", \"width: 100%;\"]\r\n      : [\"min-height: 0;\", \"height: 100%;\"])};\r\n  ${props => props.shrink && \"min-height: 0;\"};\r\n  flex-basis: auto;\r\n  box-sizing: border-box;\r\n`;\r\nFlexItem.displayName = \"FlexItem\";\r\n\r\nexport interface FlexProps\r\n  extends BoxProps,\r\n    AlignContentProps,\r\n    JustifyContentProps {\r\n  direction: \"row\" | \"column\";\r\n}\r\n\r\nconst Flex = Box.extend<FlexProps>`\r\n  display: flex;\r\n  ${alignContent};\r\n  ${justifyContent};\r\n  flex-direction: ${props => props.direction};\r\n  align-items: stretch;\r\n`;\r\nFlex.displayName = \"Flex\";\r\n\r\nexport default attachProps(Flex, {\r\n  Item: FlexItem\r\n});\r\n","import * as styledComponents from \"styled-components\";\r\nimport {\r\n  ThemedStyledComponentsModule,\r\n  ThemedOuterStyledProps as _ThemedOuterStyledProps\r\n} from \"styled-components\";\r\n\r\nimport { Theme } from \"./theme\";\r\n\r\nconst {\r\n  default: styled,\r\n  css,\r\n  injectGlobal,\r\n  keyframes,\r\n  ThemeProvider\r\n} = styledComponents as ThemedStyledComponentsModule<Theme>;\r\n\r\nexport type ThemeProps = {\r\n  theme?: Theme;\r\n};\r\nexport type ThemedOuterStyledProps<P> = _ThemedOuterStyledProps<P, Theme>;\r\n\r\nexport { css, injectGlobal, keyframes, ThemeProvider };\r\nexport default styled;\r\n","export * from \"./utils\";\r\nexport * from \"./types\";\r\n","import * as React from \"react\";\r\nimport { IntentProps, Border, Radius, Intent, Space, Color } from \"@/style\";\r\n\r\nimport Box from \"@/components/Box\";\r\nimport Text from \"@/components/Text\";\r\n\r\nexport interface NonIdealStatProps extends IntentProps {\r\n  header?: React.ReactNode;\r\n}\r\n\r\nconst Header = Text.H4.extend`\r\n  margin-top: 0;\r\n  width: auto;\r\n`;\r\nHeader.displayName = \"Header\";\r\nconst NonIdealState: React.SFC<NonIdealStatProps> = ({\r\n  intent,\r\n  header,\r\n  children\r\n}) => (\r\n  <Box width=\"100%\" height=\"100%\">\r\n    <Box\r\n      width=\"75%\"\r\n      intent={intent}\r\n      border={Border.Thick}\r\n      borderRadius={Radius.Medium}\r\n      borderColor={Color.HintIntent}\r\n      p={Space.Medium}\r\n      mx=\"auto\"\r\n      mt={Space.Large}\r\n    >\r\n      {header && (\r\n        <Header\r\n          intent={\r\n            intent === Intent.Default || intent === Intent.Hint\r\n              ? Intent.Primary\r\n              : intent\r\n          }\r\n        >\r\n          {header}\r\n        </Header>\r\n      )}\r\n      {children}\r\n    </Box>\r\n  </Box>\r\n);\r\nNonIdealState.displayName = \"NonIdealState\";\r\nexport default NonIdealState;\r\n","import { BehaviorName, GameObjectBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { produceFromGameObject } from \"@/reducer/game-object/utils\";\r\n\r\nexport function produceFromBehavior<TBehav extends GameObjectBehavior>(\r\n  state: AppState,\r\n  behaviorName: BehaviorName<TBehav>,\r\n  producer: (behavior: TBehav) => void\r\n): AppState {\r\n  return produceFromGameObject(state, gameObject => {\r\n    const behavior = getBehavior(gameObject, behaviorName);\r\n    if (!behavior) {\r\n      return;\r\n    }\r\n\r\n    return producer(behavior);\r\n  });\r\n}\r\n","import {\r\n  AlignSelfProps,\r\n  JustifySelfProps,\r\n  WidthProps,\r\n  HeightProps,\r\n  SpaceProps,\r\n  alignSelf,\r\n  justifySelf,\r\n  width,\r\n  height,\r\n  space\r\n} from \"styled-system\";\r\n\r\nimport styled, {\r\n  BorderProps,\r\n  IntentBorderProps,\r\n  intentBorder,\r\n  IntentProps,\r\n  border,\r\n  intent\r\n} from \"@/style\";\r\n\r\nexport type BoxProps = AlignSelfProps &\r\n  JustifySelfProps &\r\n  WidthProps &\r\n  HeightProps &\r\n  SpaceProps &\r\n  BorderProps &\r\n  IntentBorderProps &\r\n  IntentProps;\r\n\r\nconst Box = styled<BoxProps, \"div\">(\"div\")`\r\n  ${alignSelf};\r\n  ${justifySelf};\r\n  ${width};\r\n  ${height};\r\n  ${space};\r\n  ${border};\r\n  /* ${intentBorder}; */\r\n  ${intent};\r\n  box-sizing: border-box;\r\n`;\r\nBox.displayName = \"Box\";\r\nBox.defaultProps = {\r\n  intentIsBg: false\r\n};\r\nexport default Box;\r\n","import * as React from \"react\";\r\nimport { FontSizeProps } from \"styled-system\";\r\n\r\nimport { Intent, Space } from \"@/style\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\nimport Box from \"@/components/Box\";\r\nimport Text from \"@/components/Text\";\r\n\r\nexport interface FormGroupProps extends FontSizeProps {\r\n  label: string;\r\n  inline?: boolean;\r\n  intent?: Intent;\r\n}\r\ntype Props = FormGroupProps;\r\nexport default class FormGroup extends React.Component<Props> {\r\n  render() {\r\n    const { label, intent, inline, fontSize } = this.props;\r\n\r\n    let children = this.props.children;\r\n\r\n    return (\r\n      <Flex direction={inline ? \"row\" : \"column\"} mb={Space.Small}>\r\n        <Text.Label\r\n          alignSelf=\"baseline\"\r\n          fontSize={fontSize}\r\n          mr={inline ? Space.Small : Space.None}\r\n          intent={intent}\r\n        >\r\n          {label}\r\n        </Text.Label>\r\n        <Box\r\n          width=\"100%\"\r\n          alignSelf=\"baseline\"\r\n          px={inline ? Space.None : Space.Medium}\r\n        >\r\n          {children}\r\n        </Box>\r\n      </Flex>\r\n    );\r\n  }\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Keys from \"@/keys\";\r\n\r\nimport { NumberPrecision, clamp, isFloatingPoint } from \"@/math\";\r\n\r\nimport Input from \"@/components/Input\";\r\n\r\nexport interface NumericInputProps {\r\n  value: number;\r\n  minValue?: number;\r\n  maxValue?: number;\r\n  precision?: NumberPrecision;\r\n  onCommit(value: number): void;\r\n}\r\n\r\ntype Props = NumericInputProps;\r\ninterface State {\r\n  editValue: string | null;\r\n  validationMessage: string | null;\r\n}\r\nexport default class NumericInput extends React.Component<Props, State> {\r\n  private _input = React.createRef<HTMLInputElement>();\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      editValue: null,\r\n      validationMessage: null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { value, minValue, maxValue, precision } = this.props;\r\n    const { editValue } = this.state;\r\n\r\n    const currentValue = editValue != null ? editValue : value;\r\n\r\n    const step = isFloatingPoint(precision || \"int32\") ? \"any\" : 1;\r\n\r\n    return (\r\n      <Input\r\n        innerRef={this._input}\r\n        type=\"number\"\r\n        min={minValue}\r\n        max={maxValue}\r\n        value={currentValue}\r\n        onChange={this._onValueChange}\r\n        onKeyPress={this._onInputKeyPress}\r\n        onBlur={this._onInputBlur}\r\n        step={step}\r\n      />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const { minValue, maxValue } = this.props;\r\n    const editValue = e.target.value;\r\n    const numberValue = parseFloat(editValue);\r\n    let validationMessage: string | null = null;\r\n\r\n    if (maxValue != null && numberValue > maxValue) {\r\n      validationMessage = `Value must be less than ${maxValue}`;\r\n    } else if (minValue != null && numberValue < minValue) {\r\n      validationMessage = `Value must be greater than ${minValue}`;\r\n    }\r\n\r\n    e.target.setCustomValidity(validationMessage || \"\");\r\n\r\n    this.setState({\r\n      editValue,\r\n      validationMessage\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _onInputKeyPress(e: React.KeyboardEvent<HTMLInputElement>) {\r\n    if (e.key === Keys.Enter) {\r\n      this._commitEdit();\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onInputBlur() {\r\n    this._commitEdit();\r\n  }\r\n\r\n  private _commitEdit() {\r\n    const { editValue, validationMessage } = this.state;\r\n    const { precision = \"int32\", onCommit } = this.props;\r\n\r\n    // Reset validation\r\n    if (validationMessage && this._input.current) {\r\n      this._input.current.setCustomValidity(\"\");\r\n    }\r\n\r\n    this.setState({\r\n      editValue: null,\r\n      validationMessage: null\r\n    });\r\n\r\n    if (!editValue || validationMessage) {\r\n      return;\r\n    }\r\n\r\n    const numberValue = parseFloat(editValue);\r\n    if (isNaN(numberValue)) {\r\n      return;\r\n    }\r\n\r\n    const newValue = clamp(precision, numberValue);\r\n    if (isNaN(newValue)) {\r\n      return;\r\n    }\r\n\r\n    onCommit(newValue);\r\n  }\r\n}\r\n","import { createSelector, Selector } from \"reselect\";\r\n\r\nimport { memoize, get } from \"lodash-es\";\r\n\r\nimport { BehaviorName, GameObjectBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport getSelectedGameObject from \"@/selectors/game-object\";\r\n\r\nfunction createCurrentGameObjectBehaviorSelector<T extends GameObjectBehavior>(\r\n  behaviorName: BehaviorName<T>\r\n): Selector<AppState, T | null> {\r\n  return createSelector(getSelectedGameObject, gameObject => {\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n\r\n    return getBehavior(gameObject, behaviorName) || null;\r\n  });\r\n}\r\n\r\n// Using an inline function breaks the inference of the behavior.\r\nexport const getCurrentGameObjectBehaviorSelector = memoize(\r\n  createCurrentGameObjectBehaviorSelector\r\n) as typeof createCurrentGameObjectBehaviorSelector;\r\n\r\nexport function createCurrentGameObjectBehaviorPropertySelector<\r\n  T extends GameObjectBehavior,\r\n  TResult\r\n>(\r\n  behaviorName: BehaviorName<T>,\r\n  valueSelector: string[] | Selector<T, TResult>\r\n): Selector<AppState, TResult | null> {\r\n  let valueSelectFunc: Selector<T, TResult>;\r\n  if (Array.isArray(valueSelector)) {\r\n    valueSelectFunc = behavior => get(behavior, valueSelector);\r\n  } else {\r\n    valueSelectFunc = valueSelector;\r\n  }\r\n\r\n  const behaviorSelector = getCurrentGameObjectBehaviorSelector(behaviorName);\r\n  return createSelector(behaviorSelector, behavior => {\r\n    if (!behavior) {\r\n      return null;\r\n    }\r\n    return valueSelectFunc(behavior);\r\n  });\r\n}\r\n\r\ntype getCGOBByPath = <T extends GameObjectBehavior, TResult>(\r\n  behaviorName: BehaviorName<T>,\r\n  valuePath: string[]\r\n) => Selector<AppState, TResult>;\r\n\r\nexport const getCurrentGameObjectBehaviorPropertySelector = memoize(\r\n  createCurrentGameObjectBehaviorPropertySelector,\r\n  (behaviorName: string, behaviorPath: string[]) =>\r\n    [behaviorName, behaviorPath.join(\".\")].join(\"::\")\r\n) as getCGOBByPath;\r\n","import NumericInput from \"@/components/NumericInput\";\r\n\r\nimport connectEditorField from \"./connect-field\";\r\n\r\nexport default connectEditorField()(NumericInput);\r\n","import { WidthProps, width } from \"styled-system\";\r\n\r\nimport styled, { TextProps, getTheme, text, css } from \"@/style\";\r\n\r\n// Note: Should extend TextCssProps, but doing so causes some odd typing issues\r\n//  Props will somehow demand but refuse 'ref'\r\nexport interface InputStyleProps extends TextProps, WidthProps {}\r\n\r\nexport const inputStyle = css<InputStyleProps>`\r\n  ${text};\r\n  ${width};\r\n  padding: 2px;\r\n  background-color: ${props => getTheme(props).colors.bg.panel};\r\n  border: ${props => getTheme(props).borders[1]};\r\n  border-color: ${props => getTheme(props).colors.intent.secondary};\r\n  &:focus {\r\n    border-color: ${props => getTheme(props).colors.intent.primary};\r\n    outline: none;\r\n  }\r\n  &:invalid {\r\n    border-color: ${props => getTheme(props).colors.intent.dangerous};\r\n  }\r\n`;\r\n\r\nconst Input = styled<InputStyleProps, \"input\">(\"input\")`\r\n  ${inputStyle};\r\n`;\r\nInput.displayName = \"Input\";\r\n\r\nexport type InputProps = StyledComponentProps<typeof Input>;\r\nexport default Input;\r\n","import { connect } from \"react-redux\";\r\n\r\nexport * from \"./props\";\r\n\r\nimport { EditorFieldProps } from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\nimport { AppState } from \"@/state\";\r\n\r\nexport type InjectedProps = StateProps & DispatchProps;\r\n\r\nexport default function connectEditorField() {\r\n  return connect<StateProps, DispatchProps, EditorFieldProps, AppState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  );\r\n}\r\n","export * from \"./props\";\r\nimport SaveStructureLink from \"./SaveStructureLink\";\r\nexport default SaveStructureLink;\r\n","export * from \"./theme\";\r\n\r\nexport { Color, getThemeColor } from \"./colors\";\r\nexport { Border, getThemeBorder } from \"./borders\";\r\nexport { FontSize } from \"./font-sizes\";\r\nexport { Radius, getThemeRadius } from \"./radii\";\r\nexport { Space, getThemeSpace } from \"./space\";\r\n","import { GameObjectBehavior, BehaviorName } from \"oni-save-parser\";\r\n\r\nexport const ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE =\r\n  \"oni-save/current-object/behaviors/set-value\";\r\nexport function setCurrentObjectBehaviorValue<T extends GameObjectBehavior>(\r\n  behaviorName: BehaviorName<T>,\r\n  path: string[],\r\n  value: any\r\n) {\r\n  return {\r\n    type: ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE as typeof ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE,\r\n    payload: { behaviorName, path, value }\r\n  };\r\n}\r\nexport type SetCurrentObjectBehaviorValueAction<\r\n  T extends GameObjectBehavior = GameObjectBehavior\r\n> = {\r\n  type: typeof ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE;\r\n  payload: {\r\n    behaviorName: BehaviorName<T>;\r\n    path: string[];\r\n    value: any;\r\n  };\r\n};\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nexport const ACTION_RECEIVE_ONISAVE_BEGIN = \"oni-save/receive:begin\";\r\nexport const receiveOniSaveBegin = (\r\n  operation: \"loading\" | \"saving\",\r\n  clearExisting?: boolean\r\n) => ({\r\n  type: ACTION_RECEIVE_ONISAVE_BEGIN as typeof ACTION_RECEIVE_ONISAVE_BEGIN,\r\n  payload: { operation, clearExisting }\r\n});\r\nexport type ReceiveOniSaveBeginAction = ReturnType<typeof receiveOniSaveBegin>;\r\n\r\nexport const ACTION_RECEIVE_ONISAVE_ERROR = \"oni-save/receive:error\";\r\nexport const receiveOniSaveError = (error: Error) => ({\r\n  type: ACTION_RECEIVE_ONISAVE_ERROR as typeof ACTION_RECEIVE_ONISAVE_ERROR,\r\n  payload: error\r\n});\r\nexport type ReceiveOniSaveErrorAction = ReturnType<typeof receiveOniSaveError>;\r\n\r\nexport const ACTION_RECEIVE_ONISAVE_SUCCESS = \"oni-save/receive:success\";\r\nexport const receiveOniSaveSuccess = (oniSave: SaveGame) => ({\r\n  type: ACTION_RECEIVE_ONISAVE_SUCCESS as typeof ACTION_RECEIVE_ONISAVE_SUCCESS,\r\n  payload: oniSave\r\n});\r\nexport type ReceiveOniSaveSuccessAction = ReturnType<\r\n  typeof receiveOniSaveSuccess\r\n>;\r\n\r\nexport type ReceiveOniSaveAction =\r\n  | ReceiveOniSaveBeginAction\r\n  | ReceiveOniSaveErrorAction\r\n  | ReceiveOniSaveSuccessAction;\r\n","import DataTable from \"./DataTable\";\r\nexport default DataTable;\r\nexport * from \"./DataTable\";\r\n","import { includes } from \"lodash\";\r\n\r\nexport enum Intent {\r\n  Default = \"default\",\r\n  Primary = \"primary\",\r\n  Secondary = \"secondary\",\r\n  Dangerous = \"dangerous\",\r\n  Hint = \"hint\"\r\n}\r\n\r\nexport function isIntent(str: string | null | undefined): str is Intent {\r\n  return includes(Intent, str);\r\n}\r\n","import { createSelector } from \"reselect\";\r\n\r\nimport { GameObject } from \"oni-save-parser\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { getLastSaveItemOfType } from \"@/services/save-structure\";\r\n\r\nimport selectedPath from \"./selected-path\";\r\nimport oniSave from \"./oni-save\";\r\n\r\n/**\r\n * Gets the path to the deepest game object in the selected path.\r\n *\r\n */\r\nexport const getGameObjectPathInSelection = createSelector(\r\n  selectedPath,\r\n  oniSave,\r\n  (path, oniSave) => {\r\n    if (!path || !oniSave) {\r\n      return null;\r\n    }\r\n\r\n    const found = getLastSaveItemOfType(\"game-object\", path, oniSave);\r\n    if (!found) {\r\n      return null;\r\n    }\r\n    return found.path;\r\n  }\r\n);\r\n\r\nexport const getSelectedGameObject = createSelector(\r\n  oniSave,\r\n  getGameObjectPathInSelection,\r\n  (oniSave, path) => {\r\n    if (!oniSave || !path) {\r\n      return null;\r\n    }\r\n\r\n    return get(oniSave, path) as GameObject;\r\n  }\r\n);\r\n\r\nexport const getSelectedGameObjectPosition = createSelector(\r\n  getSelectedGameObject,\r\n  gameObject => {\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n    return gameObject.position;\r\n  }\r\n);\r\n\r\nexport const getSelectedGameObjectScale = createSelector(\r\n  getSelectedGameObject,\r\n  gameObject => {\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n    return gameObject.scale;\r\n  }\r\n);\r\n\r\nexport default getSelectedGameObject;\r\n","import { createSelector } from \"reselect\";\r\n\r\nimport { getSaveItemEditValue } from \"@/services/save-structure\";\r\n\r\nimport selectedPath from \"./selected-path\";\r\nimport oniSave from \"./oni-save\";\r\n\r\nconst selectedValueSelector = createSelector(\r\n  oniSave,\r\n  selectedPath,\r\n  (saveGame, selectedPath) => {\r\n    if (!saveGame) {\r\n      return null;\r\n    }\r\n\r\n    if (selectedPath.length === 0) {\r\n      return saveGame;\r\n    }\r\n\r\n    return getSaveItemEditValue(selectedPath, saveGame);\r\n  }\r\n);\r\nexport default selectedValueSelector;\r\n","import * as React from \"react\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport EditorHeader from \"./EditorHeader\";\r\nimport { Space } from \"@/style\";\r\n\r\nexport interface EditorContainerProps {\r\n  header: React.ReactNode;\r\n}\r\nconst EditorContainer: React.SFC<EditorContainerProps> = ({\r\n  header,\r\n  children\r\n}) => (\r\n  <Flex direction=\"column\" width=\"100%\" height=\"100%\">\r\n    <EditorHeader>{header}</EditorHeader>\r\n    <Flex.Item fillParent constrain=\"column\" p={Space.Small}>\r\n      {children}\r\n    </Flex.Item>\r\n  </Flex>\r\n);\r\nEditorContainer.displayName = \"EditorContainer\";\r\nexport default EditorContainer;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Input from \"@/components/Input\";\r\n\r\nexport interface CheckInputProps {\r\n  value: boolean;\r\n  onCommit(value: boolean): void;\r\n}\r\n\r\ntype Props = CheckInputProps;\r\nexport default class CheckInput extends React.Component<Props> {\r\n  render() {\r\n    const { value } = this.props;\r\n    return (\r\n      <Input type=\"checkbox\" checked={value} onChange={this._onValueChange} />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const { onCommit } = this.props;\r\n    const value = e.target.checked;\r\n    onCommit(value);\r\n  }\r\n}\r\n","import i18n from \"./i18n\";\r\nexport default i18n;\r\n","import platform from \"platform\";\r\n\r\nconst OS_WINDOWS = /windows/i;\r\nconst OS_MAC = /Mac|iOS|(OS\\ X)/;\r\nconst OS_LINUX = /linux/i;\r\n\r\nexport type OSType = \"windows\" | \"mac\" | \"linux\" | \"unknown\";\r\n\r\nconst osPlatform = (platform.os && platform.os.family) || \"unknown\";\r\nexport const OSType: OSType = OS_WINDOWS.test(osPlatform)\r\n  ? \"windows\"\r\n  : OS_MAC.test(osPlatform)\r\n    ? \"mac\"\r\n    : OS_LINUX.test(osPlatform)\r\n      ? \"linux\"\r\n      : \"unknown\";\r\n\r\nexport const isProd: boolean = process.env.NODE_ENV === \"production\";\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Intent } from \"../intent\";\r\n\r\nimport { Color, getThemeColor } from \"../theme\";\r\n\r\nexport interface IntentColorProps {\r\n  intent?: Intent;\r\n}\r\n\r\nconst intentColorOf = (intent: Intent) => css`\r\n  color: ${getThemeColor(Color.fromIntent(intent))};\r\n`;\r\n\r\nconst intentColorFromProps = css<IntentColorProps>`\r\n  ${props => intentColorOf(props.intent || Intent.Default)};\r\n`;\r\n\r\nexport const intentColor = attachProps(intentColorFromProps, {\r\n  of: intentColorOf\r\n});\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nimport gameObjectsStructure from \"./gameObjects\";\r\nimport { SaveStructureDef } from \"./types\";\r\n\r\n// The default 'any' makes this useful for variables, but useless for asignment.\r\n//  This is because type 'any' includes all fields, and overrides our selective\r\n//  exclusion of $-prefix fields\r\nconst defaultAdvancedField: SaveStructureDef<{}> = { $advanced: true };\r\n\r\nconst saveStructure: SaveStructureDef<SaveGame> = {\r\n  $type: \"save-root\",\r\n  $uiPathName: (obj: SaveGame) => obj.header.gameInfo.baseName || \"Save Game\",\r\n\r\n  /**\r\n   * Version info and precalculated values.\r\n   * Changing this stuff can confuse the game or display bad data\r\n   * for the loading screen.\r\n   */\r\n  header: defaultAdvancedField,\r\n\r\n  /**\r\n   * Data templates for the rest of the save.  Changing anything in here\r\n   * is guarenteed to result in a corrupt save.\r\n   */\r\n  templates: defaultAdvancedField,\r\n\r\n  /**\r\n   * World width and height, and opaque engine data we do not understand.\r\n   * Contents of the worldmap and state of the fluid/gas/electrical networks\r\n   * live in here.\r\n   */\r\n  world: defaultAdvancedField,\r\n\r\n  /**\r\n   * Settings for the master game object handler.\r\n   * None of these are related to user-settings, and changing them\r\n   * will most likely result in an immediately or eventually corrupt save.\r\n   */\r\n  settings: defaultAdvancedField,\r\n\r\n  /**\r\n   * Game version info.  Should mirror the same data\r\n   * stored in header.\r\n   * Should never be touched, as ONI makes decisions on how to load the file\r\n   * based on this.\r\n   */\r\n  version: defaultAdvancedField,\r\n\r\n  /**\r\n   * Game objects.  These are the interesting bits\r\n   */\r\n  gameObjects: gameObjectsStructure,\r\n\r\n  /**\r\n   * Another blob of generalized non-object-specific game data\r\n   */\r\n  gameData: {\r\n    $type: \"template-object\",\r\n    $subType: \"Game+GameSaveData\",\r\n    $advanced: true,\r\n\r\n    /**\r\n     * Presumably tracks the flow of material through the gas conduits.\r\n     * I am reasonably sure this also ties into native game data,\r\n     * and changing this will probably get the engine into an\r\n     * inconsistant state.\r\n     */\r\n    gasConduitFlow: defaultAdvancedField,\r\n\r\n    /**\r\n     * Presumably tracks the flow of material through the loquid conduits.\r\n     * I am reasonably sure this also ties into native game data,\r\n     * and changing this will probably get the engine into an\r\n     * inconsistant state.\r\n     */\r\n    liquidConduitFlow: defaultAdvancedField,\r\n\r\n    /**\r\n     * Probably deals with limiting the area of the map that the game is running logic for.\r\n     */\r\n    simActiveRegionMin: defaultAdvancedField,\r\n\r\n    /**\r\n     * Probably deals with limiting the area of the map that the game is running logic for.\r\n     */\r\n    simActiveRegionMax: defaultAdvancedField,\r\n\r\n    fallingWater: defaultAdvancedField,\r\n\r\n    unstableGround: defaultAdvancedField,\r\n\r\n    /**\r\n     * While this does contain (multiple) worldgen seeds,\r\n     *  all seeds are the same and reflect the definitivie chosen seed in customGameSettings.\r\n     * It also has a bunch of polygons indicating regions of the overworld.  Not sure what it represents,\r\n     *  might be biome regions.\r\n     */\r\n    worldDetail: defaultAdvancedField,\r\n\r\n    customGameSettings: defaultAdvancedField\r\n  }\r\n};\r\nexport default saveStructure;\r\n","import { isObject } from \"lodash-es\";\r\nimport { GameObjectBehavior, GameObjectGroup } from \"oni-save-parser\";\r\n\r\nexport function gameObjectIs(type: string): (obj: GameObjectGroup) => boolean {\r\n  return obj => isObject(obj) && obj.name === type;\r\n}\r\n\r\nexport function behaviorIs(type: string): (obj: GameObjectBehavior) => boolean {\r\n  return obj => isObject(obj) && obj.name === type;\r\n}\r\n","import { GameObject, KPrefabIDBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\n\r\nimport behavior from \"../behaviors\";\r\n\r\nexport const defaultGameObject: SaveStructureDef<GameObject> = {\r\n  $type: \"game-object\",\r\n\r\n  $uiPathName(obj: GameObject) {\r\n    const idBehavior = getBehavior(obj, KPrefabIDBehavior);\r\n    const id =\r\n      (idBehavior &&\r\n        idBehavior.templateData &&\r\n        idBehavior.templateData.InstanceID) ||\r\n      \"[malformed]\";\r\n    const pos = `(${obj.position.x.toFixed(0)}, ${obj.position.y.toFixed(0)})`;\r\n    return `#${id} ${pos}`;\r\n  },\r\n\r\n  $uiChildren(gameObject: GameObject) {\r\n    const { behaviors } = gameObject;\r\n    if (!behaviors) {\r\n      return [];\r\n    }\r\n\r\n    return behaviors.map((_, i) => [\"behaviors\", `${i}`]);\r\n  },\r\n\r\n  behaviors: {\r\n    $uiPathName: false,\r\n    \"*\": behavior\r\n  }\r\n};\r\n","import {\r\n  GameObjectBehavior,\r\n  SaveGame,\r\n  getTypeCode,\r\n  SerializationTypeCode,\r\n  TypeTemplate,\r\n  TypeInfo,\r\n  LIST_TYPES\r\n} from \"oni-save-parser\";\r\n\r\nimport { get, isObject } from \"lodash-es\";\r\n\r\nimport { getLastSaveItemOfType } from \"../../../utils\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\n\r\nconst defaultBehaviorTemplateDataObj: SaveStructureDef<{}> = {\r\n  $type: \"template-object\",\r\n  $subType(_: any, path: string[], saveGame: SaveGame) {\r\n    const found = getLastSaveItemOfType(\"game-object-behavior\", path, saveGame);\r\n    if (!found) {\r\n      return null;\r\n    }\r\n\r\n    const { templates } = saveGame;\r\n\r\n    // Check that the template exists\r\n    let template: TypeTemplate | undefined = templates.find(\r\n      x => x.name === found.item.name\r\n    );\r\n    if (!template) {\r\n      return null;\r\n    }\r\n\r\n    // +1 for templateData\r\n    const subPath = path.slice(found.path.length + 1);\r\n\r\n    // Chase the path up the template to see if we have entered\r\n    //  any sub-templates.\r\n\r\n    for (let i = 0; i < subPath.length; i++) {\r\n      const part = subPath[i];\r\n\r\n      const member =\r\n        template.fields.find(x => x.name === part) ||\r\n        template.properties.find(x => x.name === part);\r\n      if (!member) {\r\n        break;\r\n      }\r\n\r\n      const typeInfo: TypeInfo = member.type;\r\n      const code = getTypeCode(typeInfo.info);\r\n\r\n      if (code === SerializationTypeCode.UserDefined) {\r\n        template = templates.find(x => x.name === typeInfo.templateName);\r\n        if (template == null) {\r\n          // Unknown template.\r\n          return null;\r\n        }\r\n      } else if (LIST_TYPES.indexOf(code) !== -1) {\r\n        i++;\r\n\r\n        if (\r\n          getTypeCode(typeInfo.subTypes![0].info) ===\r\n          SerializationTypeCode.UserDefined\r\n        ) {\r\n          const arrayTypeInfo = typeInfo.subTypes![0];\r\n          template = templates.find(x => x.name === arrayTypeInfo.templateName);\r\n          if (template == null) {\r\n            // Unknown template.\r\n            return null;\r\n          }\r\n        }\r\n      } else if (code === SerializationTypeCode.Dictionary) {\r\n        i++;\r\n        if (\r\n          getTypeCode(typeInfo.subTypes![1].info) ===\r\n          SerializationTypeCode.UserDefined\r\n        ) {\r\n          const arrayTypeInfo = typeInfo.subTypes![1];\r\n          template = templates.find(x => x.name === arrayTypeInfo.templateName);\r\n          if (template == null) {\r\n            // Unknown template.\r\n            return null;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return template.name;\r\n  },\r\n\r\n  $uiPathName: false,\r\n\r\n  $uiChildren(value: any) {\r\n    let keys = (isObject(value) && Object.keys(value)) || [];\r\n    keys = keys.filter(x => isObject(value[x]));\r\n    if (keys.length === 0) {\r\n      return false;\r\n    }\r\n    return keys.map(x => [x]);\r\n  }\r\n};\r\ndefaultBehaviorTemplateDataObj[\"*\"] = defaultBehaviorTemplateDataObj;\r\n\r\nexport const defaultBehavior: SaveStructureDef<GameObjectBehavior> = {\r\n  $type: \"game-object-behavior\",\r\n  $subType(value: GameObjectBehavior) {\r\n    return value.name;\r\n  },\r\n\r\n  $advanced: true,\r\n\r\n  $uiPathName(behavior: GameObjectBehavior) {\r\n    return behavior.name;\r\n  },\r\n\r\n  $uiChildren(behavior: GameObjectBehavior) {\r\n    const children: string[][] = [];\r\n    if (\r\n      behavior.templateData &&\r\n      Object.keys(behavior.templateData).length > 0\r\n    ) {\r\n      // forEach(behavior.templateData, (_, key) => {\r\n      //   if (isObject(behavior.templateData[key])) {\r\n      //     children.push([\"templateData\", key]);\r\n      //   }\r\n      // });\r\n      children.push([\"templateData\"]);\r\n    }\r\n    if (behavior.extraData) {\r\n      children.push([\"extraData\"]);\r\n    }\r\n    return children.length > 0 ? children : false;\r\n  },\r\n\r\n  templateData: {\r\n    $uiPathName: false,\r\n    $type: \"template-object\",\r\n    $subType(_: any, path: string[], saveGame: SaveGame) {\r\n      const gameObject = get(saveGame, path.slice(0, -1)) as GameObjectBehavior;\r\n      return gameObject ? gameObject.name : null;\r\n    },\r\n\r\n    $uiChildren(value: any) {\r\n      return Object.keys(value)\r\n        .filter(x => isObject(value[x]))\r\n        .map(x => [x]);\r\n    },\r\n\r\n    \"*\": defaultBehaviorTemplateDataObj\r\n  } as SaveStructureDef<{}>\r\n};\r\n","export const ACTION_ONISAVE_MODIFY = \"oni-save/modify\";\r\nexport const modifyOniSave = (path: string[], value: any) => ({\r\n  type: ACTION_ONISAVE_MODIFY as typeof ACTION_ONISAVE_MODIFY,\r\n  payload: { path, value }\r\n});\r\nexport type ModifyOniSaveAction = ReturnType<typeof modifyOniSave>;\r\n","export const ACTION_ONISAVE_PARSE_PROGRESS = \"onisave/parse-progress\";\r\nexport const parseProgress = (message: string) => ({\r\n  type: ACTION_ONISAVE_PARSE_PROGRESS as typeof ACTION_ONISAVE_PARSE_PROGRESS,\r\n  payload: { message }\r\n});\r\nexport type ParseProgressAction = ReturnType<typeof parseProgress>;\r\n","export const ACTION_SELECT_PATH = \"editor/select-path\";\r\nexport const selectPath = (path: string[]) => ({\r\n  type: ACTION_SELECT_PATH as typeof ACTION_SELECT_PATH,\r\n  payload: path\r\n});\r\nexport type SelectPathAction = ReturnType<typeof selectPath>;\r\n","import * as React from \"react\";\r\n\r\nimport { SpaceProps, space } from \"styled-system\";\r\n\r\nimport styled, {\r\n  Space,\r\n  FontSize,\r\n  Radius,\r\n  VerticalAlignProps,\r\n  getThemeRadius,\r\n  verticalAlign\r\n} from \"@/style\";\r\n\r\nimport { Intent, getTheme, intentFill } from \"@/style\";\r\n\r\nexport interface ButtonProps extends SpaceProps, VerticalAlignProps {\r\n  intent?: Intent;\r\n  onClick?(e: React.MouseEvent<HTMLDivElement>): void;\r\n}\r\n\r\nconst Button = styled<ButtonProps, \"button\">(\"button\")`\r\n  ${intentFill};\r\n  ${verticalAlign};\r\n  ${space} border: none;\r\n  user-select: none;\r\n  border-radius: ${getThemeRadius(Radius.Button)}px;\r\n  font-size: ${props => getTheme(props).fontSizes[FontSize.Button]}px;\r\n  cursor: pointer;\r\n`;\r\nButton.displayName = \"Button\";\r\nButton.defaultProps = {\r\n  intent: Intent.Default,\r\n  m: Space.Small\r\n};\r\n\r\nexport default Button;\r\n","import EditModeCondition from \"./EditModeCondition\";\r\nexport default EditModeCondition;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst editModeSelector = (state: AppState) => state.editMode;\r\nexport default editModeSelector;\r\n","const Keys = {\r\n  Enter: \"Enter\",\r\n  Esc: \"Escape\"\r\n};\r\n\r\nexport default Keys;\r\n","interface ConstrainedArrayConstructor {\r\n  new (length: number): {\r\n    [value: number]: number;\r\n  };\r\n}\r\n\r\nfunction createClamp(\r\n  type: ConstrainedArrayConstructor\r\n): (value: number) => number {\r\n  const clampArray = new type(1);\r\n  return (value: number) => {\r\n    clampArray[0] = value;\r\n    return clampArray[0];\r\n  };\r\n}\r\n\r\nexport type NumberPrecision =\r\n  | \"int8\"\r\n  | \"uint8\"\r\n  | \"int16\"\r\n  | \"uint16\"\r\n  | \"int32\"\r\n  | \"uint32\"\r\n  | \"single\"\r\n  | \"double\";\r\n\r\nexport const clampInt8 = createClamp(Int8Array);\r\nexport const clampUInt8 = createClamp(Uint8Array);\r\n\r\nexport const clampInt16 = createClamp(Int16Array);\r\nexport const clampUInt16 = createClamp(Uint16Array);\r\n\r\nexport const clampInt32 = createClamp(Int32Array);\r\nexport const clampUInt32 = createClamp(Uint32Array);\r\n\r\nexport const clampSingle = createClamp(Float32Array);\r\nexport const clampDouble = createClamp(Float64Array);\r\n\r\nconst CLAMPS_BY_PRECISION: Record<\r\n  NumberPrecision,\r\n  (value: number) => number\r\n> = {\r\n  int8: clampInt8,\r\n  uint8: clampUInt8,\r\n  int16: clampInt16,\r\n  uint16: clampUInt16,\r\n  int32: clampInt32,\r\n  uint32: clampUInt32,\r\n  single: clampSingle,\r\n  double: clampDouble\r\n};\r\n\r\nexport function clamp(precision: NumberPrecision, value: number): number {\r\n  const clamper = CLAMPS_BY_PRECISION[precision];\r\n  if (!clamper) {\r\n    throw new Error(`Unknown precision \"${precision}\".`);\r\n  }\r\n\r\n  return clamper(value);\r\n}\r\n\r\nexport function isFloatingPoint(\r\n  precision: NumberPrecision\r\n): precision is \"single\" | \"double\" {\r\n  return precision === \"single\" || precision === \"double\";\r\n}\r\n\r\nexport function compare(a: number, b: number, sortAscending?: boolean) {\r\n  if (a > b) return sortAscending ? 1 : -1;\r\n  if (a < b) return sortAscending ? -1 : 1;\r\n  return 0;\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport { FontSizeProps, SpaceProps, fontSize, space } from \"styled-system\";\r\n\r\nimport {\r\n  FontAwesomeIcon,\r\n  Props as FontAwesomeIconProps\r\n} from \"@fortawesome/react-fontawesome\";\r\n\r\nimport {\r\n  faCog,\r\n  faLanguage,\r\n  faPencilAlt,\r\n  IconDefinition\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faGithubSquare } from \"@fortawesome/free-brands-svg-icons\";\r\n\r\nimport styled, {\r\n  IntentColorProps,\r\n  VerticalAlignProps,\r\n  Space,\r\n  intentColor,\r\n  verticalAlign\r\n} from \"@/style\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nexport type IconProps = FontAwesomeIconProps &\r\n  IntentColorProps &\r\n  SpaceProps &\r\n  VerticalAlignProps &\r\n  FontSizeProps;\r\nconst CleanFontAwesomeIcon: React.SFC<IconProps> = ({\r\n  verticalAlign,\r\n  ...props\r\n}) => <FontAwesomeIcon {...props} />;\r\nconst Icon = styled<IconProps>(CleanFontAwesomeIcon)`\r\n  ${intentColor};\r\n  ${fontSize};\r\n  ${verticalAlign};\r\n  ${space};\r\n`;\r\nIcon.defaultProps = {\r\n  m: Space.Small\r\n};\r\n\r\nfunction createIcon(\r\n  icon: IconDefinition\r\n): React.SFC<Omit<IconProps, \"icon\" | \"ref\">> {\r\n  return props => <Icon {...props} icon={icon} />;\r\n}\r\n\r\nconst GithubIcon = createIcon(faGithubSquare);\r\nconst LanguageIcon = createIcon(faLanguage);\r\nconst PencilIcon = createIcon(faPencilAlt);\r\nconst SettingsIcon = createIcon(faCog);\r\n\r\nexport default attachProps(Icon, {\r\n  Github: GithubIcon,\r\n  Language: LanguageIcon,\r\n  Pencil: PencilIcon,\r\n  Settings: SettingsIcon\r\n});\r\n","import * as React from \"react\";\r\n\r\nimport { TypeInfo, SerializationTypeCode, getTypeCode } from \"oni-save-parser\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport ArrayLikeField from \"./ArrayLikeField\";\r\nimport CheckField from \"./CheckField\";\r\nimport ColorField from \"./ColorField\";\r\nimport DictionaryField from \"./DictionaryField\";\r\nimport EnumerationField from \"./EnumerationField\";\r\nimport NumericField from \"./NumericField\";\r\nimport TextField from \"./TextField\";\r\nimport Vector2Field from \"./Vector2Field\";\r\nimport Vector2IField from \"./Vector2IField\";\r\nimport Vector3Field from \"./Vector3Field\";\r\n\r\nexport default function getFieldElementClass(\r\n  typeInfo: TypeInfo,\r\n  short?: boolean\r\n): React.ComponentType<EditorFieldProps> {\r\n  const code = getTypeCode(typeInfo.info);\r\n  switch (code) {\r\n    case SerializationTypeCode.Array:\r\n      return (props: EditorFieldProps) =>\r\n        short ? (\r\n          <SaveStructureLink intent={Intent.Primary} path={props.path}>\r\n            [Edit Array]\r\n          </SaveStructureLink>\r\n        ) : (\r\n          <ArrayLikeField {...props} subType={typeInfo.subTypes![0]} />\r\n        );\r\n    case SerializationTypeCode.Boolean:\r\n      return (props: EditorFieldProps) => <CheckField {...props} />;\r\n    case SerializationTypeCode.Byte:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} minValue={0} maxValue={0xff} />\r\n      );\r\n    case SerializationTypeCode.Colour:\r\n      return (props: EditorFieldProps) => <ColorField {...props} />;\r\n    case SerializationTypeCode.Dictionary:\r\n      return (props: EditorFieldProps) =>\r\n        short ? (\r\n          <SaveStructureLink intent={Intent.Primary} path={props.path}>\r\n            [Edit Dictionary]\r\n          </SaveStructureLink>\r\n        ) : (\r\n          <DictionaryField subType={typeInfo.subTypes![1]} {...props} />\r\n        );\r\n    case SerializationTypeCode.Double:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"double\" />\r\n      );\r\n    case SerializationTypeCode.Enumeration:\r\n      return (props: EditorFieldProps) => (\r\n        <EnumerationField {...props} enumerationName={typeInfo.templateName!} />\r\n      );\r\n    case SerializationTypeCode.HashSet:\r\n      return (props: EditorFieldProps) =>\r\n        short ? (\r\n          <SaveStructureLink intent={Intent.Primary} path={props.path}>\r\n            [Edit HashSet]\r\n          </SaveStructureLink>\r\n        ) : (\r\n          <ArrayLikeField {...props} subType={typeInfo.subTypes![0]} />\r\n        );\r\n    case SerializationTypeCode.Int16:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"int16\" />\r\n      );\r\n    case SerializationTypeCode.Int32:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"int32\" />\r\n      );\r\n    case SerializationTypeCode.Int64:\r\n      return () => <Text intent={Intent.Dangerous}>TODO Int64</Text>;\r\n    case SerializationTypeCode.List:\r\n      return (props: EditorFieldProps) =>\r\n        short ? (\r\n          <SaveStructureLink intent={Intent.Primary} path={props.path}>\r\n            [Edit Array]\r\n          </SaveStructureLink>\r\n        ) : (\r\n          <ArrayLikeField {...props} subType={typeInfo.subTypes![0]} />\r\n        );\r\n    case SerializationTypeCode.Pair:\r\n      return () => <Text intent={Intent.Dangerous}>TODO Pair</Text>;\r\n    case SerializationTypeCode.SByte:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} minValue={-128} maxValue={127} />\r\n      );\r\n    case SerializationTypeCode.Queue:\r\n      return (props: EditorFieldProps) => (\r\n        <ArrayLikeField {...props} subType={typeInfo.subTypes![0]} />\r\n      );\r\n    case SerializationTypeCode.Single:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"single\" />\r\n      );\r\n    case SerializationTypeCode.String:\r\n      return (props: EditorFieldProps) => <TextField {...props} />;\r\n    case SerializationTypeCode.UInt16:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"uint16\" />\r\n      );\r\n    case SerializationTypeCode.UInt32:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"uint32\" />\r\n      );\r\n    case SerializationTypeCode.UInt64:\r\n      return () => <Text intent={Intent.Dangerous}>TODO UInt64</Text>;\r\n    case SerializationTypeCode.UserDefined:\r\n      return (props: EditorFieldProps) => (\r\n        <SaveStructureLink intent={Intent.Primary} path={props.path}>\r\n          [{typeInfo.templateName || \"Edit Object\"}]\r\n        </SaveStructureLink>\r\n      );\r\n    case SerializationTypeCode.Vector2:\r\n      return Vector2Field;\r\n    case SerializationTypeCode.Vector2I:\r\n      return Vector2IField;\r\n    case SerializationTypeCode.Vector3:\r\n      return Vector3Field;\r\n    default:\r\n      return handleUnknownType(code);\r\n  }\r\n}\r\n\r\nfunction handleUnknownType(type: never): never {\r\n  throw new Error(`Type code \"${type}\" is unknown.`);\r\n}\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { ThemeProps } from \"../styled\";\r\n\r\nexport const enum Border {\r\n  None,\r\n  Normal,\r\n  Thick\r\n}\r\n\r\nexport const borders = [0, \"1px solid\", \"2px solid\"];\r\n\r\nexport function getThemeBorder(border: Border): (props: ThemeProps) => string {\r\n  return themeGet(\"borders.\" + border, \"borders.\" + Border.Normal);\r\n}\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { Intent } from \"../intent\";\r\nimport { ThemeProps } from \"../styled\";\r\n\r\nconst intentColors: Record<Intent, string> = {\r\n  default: \"#86BBD8\",\r\n  primary: \"#FFB238\",\r\n  secondary: \"#658E27\",\r\n  dangerous: \"#F34213\",\r\n  hint: \"#86BBD8\"\r\n};\r\n\r\nconst intentContrastColors: Record<Intent, string> = {\r\n  default: \"black\",\r\n  primary: \"black\",\r\n  secondary: \"black\",\r\n  dangerous: \"white\",\r\n  hint: \"black\"\r\n};\r\n\r\nconst backgroundColors = {\r\n  default: \"#313a57\", //\"#3A435E\",\r\n  navbar: \"#355d95\", //\"#313E50\",\r\n\r\n  // TODO: This is used for inputs as well.  make an input background.\r\n  panel: \"#36444f\" //\"#455561\",\r\n};\r\n\r\nexport enum Color {\r\n  DefaultIntent = \"intent.default\",\r\n  PrimaryIntent = \"intent.primary\",\r\n\r\n  // TODO: THis is used as borders everywhere.  Make a borderColors section.\r\n  SecondaryIntent = \"intent.secondary\",\r\n  DangerousIntent = \"intent.dangerous\",\r\n  HintIntent = \"intent.hint\",\r\n\r\n  DefaultIntentContrast = \"intent.contrast.default\",\r\n  PrimaryIntentContrast = \"intent.contrast.primary\",\r\n  SecondaryIntentContrast = \"intent.contrast.secondary\",\r\n  DangerousIntentContrast = \"intent.contrast.dangerous\",\r\n  HintIntentContrast = \"intent.contrast.hint\",\r\n\r\n  DefaultBackground = \"bg.default\",\r\n  NavbarBackground = \"bg.navbar\",\r\n  PanelBackground = \"bg.panel\",\r\n\r\n  DefaultSeparator = \"separator\"\r\n}\r\nexport namespace Color {\r\n  export function fromIntent(intent: Intent, contrast?: boolean) {\r\n    switch (intent) {\r\n      default:\r\n        return contrast ? Color.DefaultIntentContrast : Color.DefaultIntent;\r\n      case Intent.Primary:\r\n        return contrast ? Color.PrimaryIntentContrast : Color.PrimaryIntent;\r\n      case Intent.Secondary:\r\n        return contrast ? Color.SecondaryIntentContrast : Color.SecondaryIntent;\r\n      case Intent.Dangerous:\r\n        return contrast ? Color.DangerousIntentContrast : Color.DangerousIntent;\r\n      case Intent.Hint:\r\n        return contrast ? Color.HintIntentContrast : Color.HintIntent;\r\n    }\r\n  }\r\n}\r\n\r\nexport const colors = {\r\n  intent: {\r\n    ...intentColors,\r\n    contrast: intentContrastColors\r\n  },\r\n  bg: backgroundColors,\r\n\r\n  separator: \"#6C6F7F\"\r\n};\r\n\r\nexport function getThemeColor(color: Color): (props: ThemeProps) => string {\r\n  return themeGet(\"colors.\" + color, \"colors.\" + Color.DefaultIntent);\r\n}\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { ThemeProps } from \"../styled\";\r\n\r\nexport const enum Radius {\r\n  None = 0,\r\n\r\n  Small = 1,\r\n  Button = 1,\r\n\r\n  Medium = 2,\r\n  Large = 3\r\n}\r\n\r\nexport const radii = [0, 2, 4, 8];\r\n\r\nexport function getThemeRadius(radius: Radius): (props: ThemeProps) => string {\r\n  return themeGet(\"radii.\" + radius, \"radii.\" + Radius.None);\r\n}\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { ThemeProps } from \"../styled\";\r\n\r\nexport const enum Space {\r\n  None,\r\n  Small,\r\n  Medium,\r\n  Large\r\n}\r\n\r\nexport const space = [0, 4, 8, 12];\r\n\r\nexport function getThemeSpace(space: Space): (props: ThemeProps) => string {\r\n  return themeGet(\"space.\" + space, \"space.\" + Space.None);\r\n}\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Intent } from \"../intent\";\r\n\r\nimport { Color, getThemeColor } from \"../theme\";\r\n\r\nexport interface IntentFillProps {\r\n  intent?: Intent;\r\n}\r\n\r\nconst intentFillOf = (intent: Intent) => css`\r\n  color: ${getThemeColor(Color.fromIntent(intent, true))};\r\n  background-color: ${getThemeColor(Color.fromIntent(intent))};\r\n`;\r\n\r\nconst intentFillFromProps = css<IntentFillProps>`\r\n  ${props => (props.intent ? intentFillOf(props.intent) : undefined)};\r\n`;\r\n\r\nexport const intentFill = attachProps(intentFillFromProps, {\r\n  of: intentFillOf\r\n});\r\n","import * as CSS from \"csstype\";\r\n\r\nimport {\r\n  FontSizeProps,\r\n  FontWeightProps,\r\n  fontSize,\r\n  fontWeight,\r\n  style\r\n} from \"styled-system\";\r\n\r\nimport { css } from \"../styled\";\r\n\r\nimport { IntentColorProps, intentColor } from \"./intent-color\";\r\n\r\nexport interface WordWrapProps {\r\n  wordWrap?: CSS.WordWrapProperty;\r\n}\r\nexport const wordWrap = style({\r\n  prop: \"wordWrap\",\r\n  cssProperty: \"word-wrap\"\r\n});\r\n\r\nexport interface WordBreakProps {\r\n  wordBreak?: CSS.WordBreakProperty;\r\n}\r\nexport const wordBreak = style({\r\n  prop: \"wordBreak\",\r\n  cssProperty: \"word-break\"\r\n});\r\n\r\nexport interface WhitespaceProps {\r\n  whiteSpace?: CSS.WhiteSpaceProperty;\r\n}\r\nexport const whiteSpace = style({\r\n  prop: \"whiteSpace\",\r\n  cssProperty: \"white-space\"\r\n});\r\n\r\nexport type TextProps = IntentColorProps &\r\n  FontSizeProps &\r\n  FontWeightProps &\r\n  WordWrapProps &\r\n  WordBreakProps &\r\n  WhitespaceProps;\r\n\r\nexport const text = css<TextProps>`\r\n  ${intentColor};\r\n  ${fontSize};\r\n  ${fontWeight};\r\n  ${wordWrap};\r\n  ${wordBreak};\r\n  ${whiteSpace};\r\n`;\r\n","import { Action } from \"redux\";\r\nimport { GameObjectBehavior, BehaviorName } from \"oni-save-parser\";\r\n\r\nexport const ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM =\r\n  \"oni-save/current-object/behaviors/modify-array/insert-item\";\r\nexport function insertCurrentObjectBehaviorArrayValue<\r\n  T extends GameObjectBehavior\r\n>(behaviorName: BehaviorName<T>, path: string[], value: any, index?: number) {\r\n  return {\r\n    type: ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM as typeof ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM,\r\n    payload: { behaviorName, path, value, index }\r\n  };\r\n}\r\nexport type InsertCurrentObjectBehaviorArrayValueAction = ReturnType<\r\n  typeof insertCurrentObjectBehaviorArrayValue\r\n>;\r\n\r\nexport const ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM =\r\n  \"oni-save/current-object/behaviors/modify-array/remove-item\";\r\nexport function removeCurrentObjectBehaviorArrayValue<\r\n  T extends GameObjectBehavior\r\n>(behaviorName: BehaviorName<T>, path: string[], value: any) {\r\n  return {\r\n    type: ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM as typeof ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM,\r\n    payload: { behaviorName, path, value }\r\n  };\r\n}\r\nexport type RemoveCurrentObjectBehaviorArrayValueAction<\r\n  T extends GameObjectBehavior = GameObjectBehavior\r\n> = ReturnType<typeof removeCurrentObjectBehaviorArrayValue>;\r\n\r\nexport const ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX =\r\n  \"oni-save/current-object/behaviors/modify-array/remove-index\";\r\nexport function removeCurrentObjectBehaviorArrayIndex<\r\n  T extends GameObjectBehavior\r\n>(behaviorName: BehaviorName<T>, path: string[], index: number) {\r\n  return {\r\n    type: ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX as typeof ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX,\r\n    payload: { behaviorName, path, index }\r\n  };\r\n}\r\nexport type RemoveCurrentObjectBehaviorArrayValueIndex<\r\n  T extends GameObjectBehavior = GameObjectBehavior\r\n> = ReturnType<typeof removeCurrentObjectBehaviorArrayIndex>;\r\n\r\nexport type CurrentObjectBehaviorArrayAction =\r\n  | InsertCurrentObjectBehaviorArrayValueAction\r\n  | RemoveCurrentObjectBehaviorArrayValueAction\r\n  | RemoveCurrentObjectBehaviorArrayValueIndex;\r\n\r\nexport function isCurrentObjectBehaviorArrayAction(\r\n  action: Action\r\n): action is CurrentObjectBehaviorArrayAction {\r\n  switch (action.type) {\r\n    case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM:\r\n    case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM:\r\n    case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX:\r\n      return true;\r\n    default:\r\n      return false;\r\n  }\r\n}\r\n","import produce from \"immer\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { GameObject } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getGameObjectPathInSelection } from \"@/selectors/game-object\";\r\n\r\nexport function produceFromGameObject(\r\n  state: AppState,\r\n  producer: (gameObject: GameObject) => void\r\n): AppState {\r\n  if (state.loadingState !== \"ready\") {\r\n    return state;\r\n  }\r\n\r\n  const path = getGameObjectPathInSelection(state);\r\n  if (!path) {\r\n    return state;\r\n  }\r\n\r\n  return produce(state, state => {\r\n    const gameObject: GameObject = get(state.oniSave, path);\r\n    if (!gameObject) {\r\n      return;\r\n    }\r\n\r\n    return producer(gameObject);\r\n  });\r\n}\r\n","import {\r\n  SaveGame,\r\n  GameObjectBehavior,\r\n  GameObject,\r\n  GameObjectGroup\r\n} from \"oni-save-parser\";\r\n\r\nimport { get, isObject } from \"lodash-es\";\r\n\r\nimport { EditMode, SaveItemBreadcrumb } from \"./types\";\r\n\r\nimport {\r\n  SaveStructureDef,\r\n  getSaveStructureDef,\r\n  walkSaveStructurePath,\r\n  ValueSelector,\r\n  SaveStructureItemType,\r\n  SaveStructurePrimaryType\r\n} from \"./structure\";\r\n\r\nexport function getSaveItemType(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): SaveStructureItemType | null {\r\n  const def = getSaveStructureDef(path, saveGame);\r\n  const type = (def && def.$type) || null;\r\n  if (type == null) {\r\n    return null;\r\n  }\r\n  let subType = (def && def.$subType) || null;\r\n  if (subType) {\r\n    subType = resolveValueSelector(subType, path, saveGame);\r\n  }\r\n  return {\r\n    type,\r\n    subType: subType || undefined\r\n  };\r\n}\r\n\r\nexport interface FoundSaveItem<T> {\r\n  path: string[];\r\n  item: T;\r\n}\r\n/**\r\n * Gets the deepest save item of the given type\r\n */\r\nexport function getLastSaveItemOfType(\r\n  type: \"game-object-group\",\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): FoundSaveItem<GameObjectGroup> | undefined;\r\nexport function getLastSaveItemOfType(\r\n  type: \"game-object\",\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): FoundSaveItem<GameObject> | undefined;\r\nexport function getLastSaveItemOfType(\r\n  type: \"game-object-behavior\",\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): FoundSaveItem<GameObjectBehavior> | undefined;\r\nexport function getLastSaveItemOfType<T = any>(\r\n  type: SaveStructurePrimaryType,\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): FoundSaveItem<T> | undefined;\r\nexport function getLastSaveItemOfType<T>(\r\n  type: SaveStructurePrimaryType,\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): FoundSaveItem<T> | undefined {\r\n  let foundPath: string[] | undefined;\r\n  for (const pair of walkSaveStructurePath(path, saveGame)) {\r\n    if (pair.def.$type === type) {\r\n      foundPath = pair.path;\r\n    }\r\n  }\r\n\r\n  if (foundPath) {\r\n    const item = foundPath.length > 0 ? get(saveGame, foundPath) : saveGame;\r\n    return {\r\n      path: foundPath,\r\n      item\r\n    };\r\n  }\r\n\r\n  return undefined;\r\n}\r\n\r\nexport function getLastSaveItemOfSubType<T>(\r\n  type: SaveStructurePrimaryType,\r\n  subType: string,\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): FoundSaveItem<T> | undefined {\r\n  let foundPath: string[] | undefined;\r\n  for (const pair of walkSaveStructurePath(path, saveGame)) {\r\n    const pairSubType = pair.def.$subType\r\n      ? resolveValueSelector(pair.def.$subType, pair.path, saveGame)\r\n      : null;\r\n    if (pair.def.$type === type && pairSubType === subType) {\r\n      foundPath = pair.path;\r\n    }\r\n  }\r\n\r\n  if (foundPath) {\r\n    const item = foundPath.length > 0 ? get(saveGame, foundPath) : saveGame;\r\n    return {\r\n      path: foundPath,\r\n      item\r\n    };\r\n  }\r\n\r\n  return undefined;\r\n}\r\n\r\n// const GAME_OBJECT_GROUP_PATH_ROOT = [\"gameObjects\", \"*\"];\r\n// export function getPathGameObjectGroup(\r\n//   path: string[],\r\n//   saveGame: SaveGame\r\n// ): GameObjectGroup | null {\r\n//   if (path.length < GAME_OBJECT_GROUP_PATH_ROOT.length) {\r\n//     return null;\r\n//   }\r\n\r\n//   path = path.slice(0, GAME_OBJECT_GROUP_PATH_ROOT.length);\r\n\r\n//   if (\r\n//     !path.every((x, i) => comparePathMatch(x, i, GAME_OBJECT_GROUP_PATH_ROOT))\r\n//   ) {\r\n//     return null;\r\n//   }\r\n\r\n//   return get(saveGame, path);\r\n// }\r\n\r\n// const GAME_OBJECT_PATH_ROOT = [\"gameObjects\", \"*\", \"gameObject\", \"*\"];\r\n// export function getPathGameObject(\r\n//   path: string[],\r\n//   saveGame: SaveGame\r\n// ): GameObject | null {\r\n//   if (path.length < GAME_OBJECT_PATH_ROOT.length) {\r\n//     return null;\r\n//   }\r\n\r\n//   path = path.slice(0, GAME_OBJECT_PATH_ROOT.length);\r\n\r\n//   if (!path.every((x, i) => comparePathMatch(x, i, GAME_OBJECT_PATH_ROOT))) {\r\n//     return null;\r\n//   }\r\n\r\n//   return get(saveGame, path);\r\n// }\r\n\r\n// const GAME_OBJECT_BEHAVIOR_PATH_ROOT = [\r\n//   \"gameObjects\",\r\n//   \"*\",\r\n//   \"gameObject\",\r\n//   \"*\",\r\n//   \"behaviors\",\r\n//   \"*\"\r\n// ];\r\n// export function getPathBehavior(\r\n//   path: string[],\r\n//   saveGame: SaveGame\r\n// ): GameObjectBehavior | null {\r\n//   if (path.length < GAME_OBJECT_BEHAVIOR_PATH_ROOT.length) {\r\n//     return null;\r\n//   }\r\n\r\n//   path = path.slice(0, GAME_OBJECT_BEHAVIOR_PATH_ROOT.length);\r\n\r\n//   if (\r\n//     !path.every((x, i) =>\r\n//       comparePathMatch(x, i, GAME_OBJECT_BEHAVIOR_PATH_ROOT)\r\n//     )\r\n//   ) {\r\n//     return null;\r\n//   }\r\n\r\n//   return get(saveGame, path);\r\n// }\r\n\r\n// function comparePathMatch(part: string, index: number, match: string[]) {\r\n//   if (match[index] === \"*\") return true;\r\n//   if (part === match[index]) return true;\r\n//   return false;\r\n// }\r\n\r\nexport function getSaveItemTitle(path: string[], saveGame: SaveGame): string {\r\n  const def = getSaveStructureDef(path, saveGame);\r\n  let nameSource: string | false | undefined;\r\n  if (def) {\r\n    const nameProducer = def.$uiPathName;\r\n    if (nameProducer) {\r\n      nameSource = resolveValueSelector(nameProducer, path, saveGame);\r\n    }\r\n  }\r\n\r\n  // TODO: Object might opt out of a path entry with uiPathName: false\r\n  //  What do we do in this case?\r\n  //  For now, we just return the absolute path.\r\n  return nameSource || path[path.length - 1];\r\n}\r\n\r\nexport function getSaveItemBreadcrumb(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): SaveItemBreadcrumb[] {\r\n  const breadcrumbs: SaveItemBreadcrumb[] = [];\r\n  for (const structurePath of walkSaveStructurePath(path, saveGame)) {\r\n    const { def, path: defPath } = structurePath;\r\n    let title: string | false = false;\r\n    const nameProducer = def.$uiPathName;\r\n    if (nameProducer) {\r\n      title = resolveValueSelector(nameProducer, defPath, saveGame);\r\n    } else if (nameProducer === false) {\r\n      // Opting out of a path entry.\r\n      continue;\r\n    } else {\r\n      title = defPath[defPath.length - 1];\r\n    }\r\n\r\n    if (title) {\r\n      breadcrumbs.push({\r\n        title,\r\n        path: defPath\r\n      });\r\n    }\r\n  }\r\n\r\n  return breadcrumbs;\r\n}\r\n\r\nexport function getSaveItemEditValue(path: string[], saveGame: SaveGame) {\r\n  return path.length > 0 ? get(saveGame, path) : saveGame;\r\n}\r\n\r\nexport function getSaveItemChildPaths(\r\n  path: string[],\r\n  saveGame: SaveGame,\r\n  editMode: EditMode\r\n): string[][] {\r\n  const def = getSaveStructureDef(path, saveGame);\r\n  const childPaths = collectChildPaths(path, saveGame, def, editMode);\r\n  return childPaths;\r\n}\r\n\r\n/**\r\n * Determine the child values for the given value.\r\n * @param path The path to the value whose children to determine\r\n * @param saveGame The oni save game structure\r\n * @param def The definition of the value whose children to determine\r\n * @param editMode The current edit mode.\r\n * @returns A collection of absolute save game paths for the child values of this value.\r\n */\r\nfunction collectChildPaths(\r\n  path: string[],\r\n  saveGame: SaveGame,\r\n  def: SaveStructureDef | null,\r\n  editMode: EditMode\r\n): string[][] {\r\n  let uiChildren = def ? def.$uiChildren : null;\r\n\r\n  const value = path.length > 0 ? get(saveGame, path) : saveGame;\r\n\r\n  if (uiChildren) {\r\n    uiChildren = resolveValueSelector(uiChildren, path, saveGame);\r\n  }\r\n\r\n  if (uiChildren === false) {\r\n    // Explicitly no children.\r\n    return [];\r\n  }\r\n\r\n  if (uiChildren == null && def) {\r\n    // TODO: Not sure if this is a good idea, trying it out.\r\n    // Explicit structure children are candidates for children.\r\n\r\n    // Only process def if it is not advanced, or we are in advanced mode.\r\n    // Determine the save structure keys we can work off of.\r\n    const defKeys: string[] = Object.keys(def).filter(x => x[0] !== \"$\");\r\n    if (defKeys.indexOf(\"*\") !== -1) {\r\n      // Def knows about all child keys.  Probably an array or map.\r\n      uiChildren = Object.keys(value).map(x => [x]);\r\n    } else if (defKeys.length > 0) {\r\n      // We have known child keys, offer them up.\r\n      uiChildren = defKeys.map(x => [x]);\r\n    }\r\n  }\r\n\r\n  // Failed to find any children, attempt to auto-determine them.\r\n  if (uiChildren == null) {\r\n    uiChildren = collectAutoChildPaths(path, saveGame, editMode);\r\n  }\r\n\r\n  // Make the path absolute\r\n  uiChildren = uiChildren ? uiChildren.map(x => [...path, ...x]) : [];\r\n\r\n  if (uiChildren) {\r\n    // Check for editMode visibility.\r\n    uiChildren = uiChildren.filter(path => {\r\n      const childDef = getSaveStructureDef(path, saveGame);\r\n      return checkEditMode(path, saveGame, childDef, editMode);\r\n    });\r\n  }\r\n\r\n  return uiChildren;\r\n}\r\n\r\nfunction checkEditMode(\r\n  path: string[],\r\n  saveGame: SaveGame,\r\n  def: SaveStructureDef | null,\r\n  editMode: EditMode\r\n): boolean {\r\n  if (editMode === \"advanced\") {\r\n    return true;\r\n  }\r\n\r\n  let advancedProducer = def && def.$advanced;\r\n  if (advancedProducer == null) {\r\n    // Unknown objects are implicitly advanced.\r\n    return true;\r\n  }\r\n  let advanced = resolveValueSelector(advancedProducer, path, saveGame);\r\n\r\n  return !advanced;\r\n}\r\n\r\nfunction collectAutoChildPaths(\r\n  saveGamePath: string[],\r\n  oniSave: SaveGame,\r\n  editMode: EditMode\r\n): string[][] {\r\n  if (editMode !== \"advanced\") {\r\n    // Do not auto-determine anything when not in advanced mode.\r\n    return [];\r\n  }\r\n\r\n  const value = saveGamePath.length > 0 ? get(oniSave, saveGamePath) : oniSave;\r\n  let uiChildren: string[][] | null = null;\r\n  if (isObject(value)) {\r\n    // Target is an object, offer up all child objects.\r\n    uiChildren = Object.keys(value)\r\n      .filter(x => isImplicitChild(value[x]))\r\n      .map(x => [x]);\r\n  } else if (Array.isArray(value)) {\r\n    // Target is an array, offer up all array items.\r\n    uiChildren = value.filter(isImplicitChild).map((_, i) => [`${i}`]);\r\n  }\r\n\r\n  return uiChildren || [];\r\n}\r\n\r\nfunction isImplicitChild(value: any): boolean {\r\n  return isObject(value);\r\n}\r\n\r\nfunction resolveValueSelector<T>(\r\n  selector: ValueSelector<T>,\r\n  path: string[],\r\n  oniSave: SaveGame\r\n): T {\r\n  if (typeof selector === \"function\") {\r\n    const value = path.length > 0 ? get(oniSave, path) : oniSave;\r\n    return selector(value, path, oniSave);\r\n  }\r\n  return selector as T;\r\n}\r\n","import gameObjectVariantInfo from \"./variants\";\r\n\r\nexport const gameObjectVariantInfos = gameObjectVariantInfo;\r\n\r\nexport { getGameObjectVariants } from \"./utils\";\r\n","import { StorageBehavior, StoredGameObject } from \"oni-save-parser\";\r\n\r\nimport { forEach, isObject } from \"lodash-es\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\nimport { behaviorIs } from \"../../matchers\";\r\n\r\nimport {\r\n  getGameObjectVariants,\r\n  gameObjectVariantInfos\r\n} from \"../gameObjectTypes\";\r\n\r\nimport { defaultBehavior } from \"./default\";\r\n\r\nconst storageBehaviorStoredObject: SaveStructureDef<StoredGameObject> = {\r\n  $type: \"game-object\",\r\n  $uiPathName(obj: StoredGameObject, path: string[]) {\r\n    const index = path[path.length - 1];\r\n    return `${obj.name} (${index})`;\r\n  },\r\n  $variants: []\r\n};\r\n\r\n// We cannot do this until we finish the getGameObjectVariants call\r\n//  for the game object group handler.\r\nexport function initStorageBehaviorHack() {\r\n  // Set this up after we create the object, to allow for circular dependencies.\r\n  storageBehaviorStoredObject.$variants = getGameObjectVariants(\r\n    gameObjectVariantInfos,\r\n    null\r\n  );\r\n}\r\n\r\nconst storageBehaviorExtraData: SaveStructureDef<\r\n  StorageBehavior[\"extraData\"]\r\n> = {\r\n  $type: \"game-object-list\",\r\n  $uiPathName: \"Stored Items\",\r\n\r\n  \"*\": storageBehaviorStoredObject\r\n};\r\n\r\nexport const storageBehavior: SaveStructureDef<StorageBehavior> = {\r\n  ...(defaultBehavior as any),\r\n\r\n  $match: behaviorIs(StorageBehavior),\r\n\r\n  $uiChildren(behavior: StorageBehavior) {\r\n    const children: string[][] = [];\r\n    if (\r\n      behavior.templateData &&\r\n      Object.keys(behavior.templateData).length > 0\r\n    ) {\r\n      forEach(behavior.templateData, (_, key) => {\r\n        // Have to wipe the type here because lodash is being obstinate.\r\n        //  It explicitly calls out that key must be string because 'the type may have properties not defined in the type'.\r\n        //  Not sure why we have a type system if we aren't going to bother using it.\r\n        if (isObject((behavior.templateData as any)[key])) {\r\n          // As of the CU, all of these fields are value fields,\r\n          //  so this does not execute.\r\n          // Leaving it in for future-proofing.\r\n          children.push([\"templateData\", key]);\r\n        }\r\n      });\r\n    }\r\n\r\n    if (behavior.extraData) {\r\n      // extraData is aray of gameObjects stored in this storage.\r\n      children.push([\"extraData\"]);\r\n    }\r\n    return children.length > 0 ? children : false;\r\n  },\r\n\r\n  extraData: storageBehaviorExtraData\r\n};\r\n","import { Vector3, SimHashes, HashedString } from \"oni-save-parser\";\r\n\r\nconst POSITION_PRECISION = 4;\r\n\r\nexport function formatPositionValue(v: number): string {\r\n  return v.toPrecision(POSITION_PRECISION);\r\n}\r\n\r\nexport function formatPosition(p: Vector3) {\r\n  return `(${formatPositionValue(p.x)}, ${formatPositionValue(p.y)})`;\r\n}\r\n\r\nexport function formatSimHash(hash: SimHashes): string {\r\n  return SimHashes[hash];\r\n}\r\n\r\nexport function formatDisease(diseaseId: HashedString): string {\r\n  // TODO: Look up from oni-save-parser\r\n  return `Disease(${diseaseId.hash})`;\r\n}\r\n","import { AccessoryType } from \"oni-save-parser\";\r\n\r\nexport const ACTION_SET_ACCESSORY = \"behaviors/accessorizer/set-accessory\";\r\nexport const setAccessory = (\r\n  accessoryType: AccessoryType,\r\n  accessoryName: string | null\r\n) => ({\r\n  type: ACTION_SET_ACCESSORY as typeof ACTION_SET_ACCESSORY,\r\n  payload: { accessoryType, accessoryName }\r\n});\r\nexport type SetAccessoryAction = ReturnType<typeof setAccessory>;\r\n","import { HashedString } from \"oni-save-parser\";\r\n\r\nexport const ACTION_PRIMARY_ELEMENT_SET_DISEASE =\r\n  \"oni-save/behaviors/primary-element/set-disease\";\r\nexport const setPrimaryElementDisease = (\r\n  diseaseId: HashedString,\r\n  diseaseCount: number\r\n) => ({\r\n  type: ACTION_PRIMARY_ELEMENT_SET_DISEASE as typeof ACTION_PRIMARY_ELEMENT_SET_DISEASE,\r\n  payload: { diseaseId, diseaseCount }\r\n});\r\nexport type SetPrimaryElementDiseaseAction = ReturnType<\r\n  typeof setPrimaryElementDisease\r\n>;\r\n","import { HealthState } from \"oni-save-parser\";\r\n\r\nexport const ACTION_HEALTH_SET_STATE = \"oni-save/behaviors/health/set-state\";\r\nexport const setHealthStatus = (state: HealthState) => ({\r\n  type: ACTION_HEALTH_SET_STATE as typeof ACTION_HEALTH_SET_STATE,\r\n  payload: state\r\n});\r\nexport type SetHealthStateAction = ReturnType<typeof setHealthStatus>;\r\n","import { MinionGender } from \"oni-save-parser\";\r\n\r\nexport const ACTION_MINION_IDENTITY_SET_GENDER =\r\n  \"oni-save/behaviors/minion-identity/set-gender\";\r\nexport const setIdentityGender = (gender: MinionGender) => ({\r\n  type: ACTION_MINION_IDENTITY_SET_GENDER as typeof ACTION_MINION_IDENTITY_SET_GENDER,\r\n  payload: gender\r\n});\r\nexport type SetMinionIdentityGenderAction = ReturnType<\r\n  typeof setIdentityGender\r\n>;\r\n","export const ACTION_MINION_MODIFIER_SET_VALUE =\r\n  \"oni-save/behaviors/minion-modifier/set-value\";\r\nexport const setModifierValue = (amountType: string, value: number) => ({\r\n  type: ACTION_MINION_MODIFIER_SET_VALUE as typeof ACTION_MINION_MODIFIER_SET_VALUE,\r\n  payload: { amountType, value }\r\n});\r\nexport type SetMinionModifierValueAction = ReturnType<typeof setModifierValue>;\r\n","export const ACTION_TRAITS_SET = \"oni-save/behaviors/ai-traits/set-trait\";\r\nexport const setTrait = (traitId: string, isSet: boolean) => ({\r\n  type: ACTION_TRAITS_SET as typeof ACTION_TRAITS_SET,\r\n  payload: { traitId, isSet }\r\n});\r\nexport type SetTraitAction = ReturnType<typeof setTrait>;\r\n","import { Vector3 } from \"oni-save-parser\";\r\n\r\nexport const ACTION_GAME_OBJECT_SET_SCALE = \"game-object/set-scale\";\r\nexport const setGameObjectScale = (scale: Vector3) => ({\r\n  type: ACTION_GAME_OBJECT_SET_SCALE as typeof ACTION_GAME_OBJECT_SET_SCALE,\r\n  payload: scale\r\n});\r\nexport type SetGameObjectScaleAction = ReturnType<typeof setGameObjectScale>;\r\n","export const ACTION_DISMISS_ERROR = \"dismiss-error\";\r\nexport const dismissError = () => ({\r\n  type: ACTION_DISMISS_ERROR as typeof ACTION_DISMISS_ERROR\r\n});\r\nexport type DismissErrorAction = ReturnType<typeof dismissError>;\r\n","import { EditMode } from \"@/services/save-structure\";\r\n\r\nexport const ACTION_SET_EDITMODE = \"editor/set-editmode\";\r\nexport const setEditMode = (editMode: EditMode) => ({\r\n  type: ACTION_SET_EDITMODE as typeof ACTION_SET_EDITMODE,\r\n  payload: editMode\r\n});\r\nexport type SetEditModeAction = ReturnType<typeof setEditMode>;\r\n","export const ACTION_SET_LANGUAGE = \"app/set-language\";\r\nexport const setLanguage = (language: string) => ({\r\n  type: ACTION_SET_LANGUAGE as typeof ACTION_SET_LANGUAGE,\r\n  payload: language\r\n});\r\nexport type SetLanguageAction = ReturnType<typeof setLanguage>;\r\n","export const ACTION_ONISAVE_LOAD = \"oni-save/load\";\r\nexport const loadOniSave = (file: File) => ({\r\n  type: ACTION_ONISAVE_LOAD as typeof ACTION_ONISAVE_LOAD,\r\n  payload: file\r\n});\r\nexport type LoadOniSaveAction = ReturnType<typeof loadOniSave>;\r\n","export * from \"./worker-instance\";\r\n","export const ACTION_ONISAVE_SAVE = \"oni-save/save\";\r\nexport const saveOniSave = (fileName: string) => ({\r\n  type: ACTION_ONISAVE_SAVE as typeof ACTION_ONISAVE_SAVE,\r\n  payload: fileName\r\n});\r\nexport type SaveOniSaveAction = ReturnType<typeof saveOniSave>;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst loadingStateSelector = (state: AppState) => state.loadingState;\r\nexport default loadingStateSelector;\r\n","import DefaultGameObjectEditor from \"./DefaultGameObjectEditor\";\r\nexport default DefaultGameObjectEditor;\r\n","import * as React from \"react\";\r\n\r\nimport { FontSize, Space } from \"@/style\";\r\n\r\nimport Box from \"@/components/Box\";\r\nimport Text from \"@/components/Text\";\r\n\r\nconst EditorHeader: React.SFC = ({ children }) => (\r\n  <Box width=\"100%\" alignSelf=\"baseline\" pb={Space.Small}>\r\n    <Text fontSize={FontSize.Heading} fontWeight=\"bold\">\r\n      {children}\r\n    </Text>\r\n  </Box>\r\n);\r\nEditorHeader.displayName = \"EditorHeader\";\r\nexport default EditorHeader;\r\n","import GameObjectHeader from \"./GameObjectHeader\";\r\nexport default GameObjectHeader;\r\n","import * as React from \"react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\nimport CheckInput from \"@/components/CheckInput\";\r\n\r\nexport interface InputCompatibleProps<T = any> {\r\n  value: T;\r\n  onCommit(value: any): void;\r\n}\r\nexport interface NullableInputProps<T = any> {\r\n  className?: string;\r\n  renderInput(props: InputCompatibleProps<T>): React.ReactNode;\r\n  renderNull?: React.ReactNode | (() => React.ReactNode);\r\n  value: T | null;\r\n  defaultValue: T | (() => T);\r\n  onCommit(value: T | null): void;\r\n}\r\ntype Props = NullableInputProps;\r\ninterface State {\r\n  isNotNull: boolean;\r\n}\r\nexport default class NullableInput extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = {\r\n      isNotNull: this.props.value !== null\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(props: Props) {\r\n    let isNotNull = props.value !== null;\r\n    if (isNotNull !== this.state.isNotNull) {\r\n      this.setState({\r\n        isNotNull\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isNotNull } = this.state;\r\n    const { className, renderNull } = this.props;\r\n\r\n    let element: React.ReactNode | null = null;\r\n    if (isNotNull) {\r\n      const { renderInput, onCommit, defaultValue } = this.props;\r\n      const value = this.props.value || resolve(defaultValue);\r\n      element = renderInput({ value, onCommit });\r\n    } else if (renderNull) {\r\n      element = resolve(renderNull);\r\n    }\r\n\r\n    return (\r\n      <Flex className={className} direction=\"row\">\r\n        <CheckInput value={isNotNull} onCommit={this._onNotNullChecked} />\r\n        {element && (\r\n          <Flex.Item grow shrink>\r\n            {element}\r\n          </Flex.Item>\r\n        )}\r\n      </Flex>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onNotNullChecked(value: boolean) {\r\n    const { defaultValue, onCommit } = this.props;\r\n    this.setState({\r\n      isNotNull: value\r\n    });\r\n    if (value) {\r\n      onCommit(defaultValue);\r\n    } else {\r\n      onCommit(null);\r\n    }\r\n  }\r\n}\r\n\r\nfunction resolve<T>(value: T | (() => T)): T {\r\n  if (typeof value === \"function\") {\r\n    return value();\r\n  }\r\n  return value;\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Keys from \"@/keys\";\r\n\r\nimport Input from \"@/components/Input\";\r\n\r\nexport interface TextInputProps {\r\n  value: string;\r\n  minLength?: number;\r\n  maxLength?: number;\r\n  onCommit(value: string): void;\r\n}\r\n\r\ntype Props = TextInputProps;\r\ninterface State {\r\n  editValue: string | null;\r\n  isValid: boolean;\r\n}\r\nexport default class TextInput extends React.Component<Props, State> {\r\n  private _inputRef = React.createRef<HTMLInputElement>();\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      editValue: null,\r\n      isValid: true\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { value, minLength, maxLength } = this.props;\r\n    const { editValue } = this.state;\r\n\r\n    const currentValue = editValue != null ? editValue : value;\r\n\r\n    return (\r\n      <Input\r\n        innerRef={this._inputRef}\r\n        type=\"text\"\r\n        minLength={minLength}\r\n        maxLength={maxLength}\r\n        value={currentValue}\r\n        onChange={this._onValueChange}\r\n        onKeyPress={this._onInputKeyPress}\r\n        onBlur={this._onInputBlur}\r\n      />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const value = e.target.value;\r\n    this._setEditValue(value);\r\n  }\r\n\r\n  @autobind()\r\n  private _onInputKeyPress(e: React.KeyboardEvent<HTMLInputElement>) {\r\n    if (e.key === Keys.Enter) {\r\n      this._commitEdit();\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onInputBlur() {\r\n    this._commitEdit();\r\n  }\r\n\r\n  private _setEditValue(value: string) {\r\n    const validation = this._validate(value);\r\n    const isValid = !validation;\r\n\r\n    if (this._inputRef.current) {\r\n      this._inputRef.current.setCustomValidity(validation || \"\");\r\n    }\r\n\r\n    this.setState({\r\n      editValue: value,\r\n      isValid\r\n    });\r\n  }\r\n\r\n  private _commitEdit() {\r\n    const { editValue, isValid } = this.state;\r\n    const { onCommit } = this.props;\r\n\r\n    this.setState({\r\n      editValue: null\r\n    });\r\n\r\n    if (!editValue || !isValid) {\r\n      return;\r\n    }\r\n\r\n    onCommit(editValue);\r\n  }\r\n\r\n  private _validate(value: string): string | null {\r\n    const { minLength, maxLength } = this.props;\r\n    if (minLength != null && (!value || value.length < minLength)) {\r\n      return `Value must be at least ${minLength} characters.`;\r\n    }\r\n\r\n    if (maxLength != null && value.length > maxLength) {\r\n      return `Value must be less than ${maxLength} characters.`;\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport Select, { SelectProps, Option } from \"@/components/Select\";\r\n\r\nexport type SelectInputProps = Omit<\r\n  SelectProps,\r\n  \"value\" | \"options\" | \"onChange\"\r\n> & {\r\n  value: any;\r\n  options: Option<any>[];\r\n  onCommit(value: any): void;\r\n};\r\n\r\ntype Props = SelectInputProps;\r\nexport default class SelectInput extends React.Component<Props> {\r\n  static defaultProps = {\r\n    clearable: false\r\n  };\r\n\r\n  render() {\r\n    const { value, options, onCommit, ...props } = this.props;\r\n\r\n    return (\r\n      <Select {...props} value={value} options={options} onChange={onCommit} />\r\n    );\r\n  }\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport styled from \"@/style\";\r\n\r\nimport { InputStyleProps, inputStyle } from \"@/components/Input\";\r\n\r\nconst SelectElement = styled<InputStyleProps, \"select\">(\"select\")`\r\n  ${inputStyle};\r\n`;\r\n\r\nexport interface Option<T extends string | number = string | number> {\r\n  label?: string;\r\n  value: T;\r\n}\r\nexport interface SelectProps<T extends string | number = string | number>\r\n  extends InputStyleProps {\r\n  options: Option<T>[];\r\n  value: T;\r\n  onChange(value: T): void;\r\n}\r\n\r\nexport default class Select extends React.Component<SelectProps> {\r\n  render() {\r\n    const { options, value, children, onChange, ...rest } = this.props;\r\n    return (\r\n      <SelectElement {...rest} value={value} onChange={this._onChange}>\r\n        {options.map(x => (\r\n          <option key={x.value} value={x.value}>\r\n            {x.label}\r\n          </option>\r\n        ))}\r\n      </SelectElement>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onChange(e: React.ChangeEvent<HTMLSelectElement>) {\r\n    const { onChange } = this.props;\r\n    const value = e.target.value;\r\n    onChange(value);\r\n  }\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport Griddle, {\r\n  components,\r\n  RowDefinition,\r\n  ColumnDefinition,\r\n  GriddleComponents,\r\n  plugins\r\n} from \"griddle-react\";\r\n\r\nimport { Space } from \"@/style\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\nimport Input from \"@/components/Input\";\r\nimport Table from \"@/components/Table\";\r\nimport Text from \"@/components/Text\";\r\n\r\nimport enhancedWithRowData from \"./rowDataEnhancer\";\r\n\r\nexport interface DataTableColumn {\r\n  id?: string;\r\n  header?: string | React.ReactChild;\r\n  property?: string;\r\n  // accessor?: (rowData: any) => any;\r\n  cell?: React.ComponentType<components.CellProps & { rowData: any }>;\r\n\r\n  //Can this column be filtered\r\n  filterable?: boolean;\r\n\r\n  //Can this column be sorted\r\n  sortable?: boolean;\r\n\r\n  //What sort method this column uses\r\n  sortMethod?: (data: any[], column: string, sortAscending?: boolean) => any[];\r\n}\r\n\r\nexport interface DataTableProps {\r\n  data: any[];\r\n  columns: DataTableColumn[];\r\n}\r\n\r\nconst defaultComponents: GriddleComponents = {\r\n  Layout: ({ Table, Pagination, Filter, SettingsWrapper }) => (\r\n    <Flex direction=\"column\" m={Space.Small}>\r\n      <Flex direction=\"row\">\r\n        <Flex.Item grow constrain=\"row\">\r\n          <Filter style={{ width: \"100%\" }} />\r\n        </Flex.Item>\r\n        <Pagination />\r\n      </Flex>\r\n      <Table />\r\n      <Pagination />\r\n    </Flex>\r\n  ),\r\n  Filter: ({ placeholder, style, className, setFilter }) => (\r\n    <Input\r\n      type=\"text\"\r\n      name=\"filter\"\r\n      placeholder={placeholder}\r\n      style={style}\r\n      className={className}\r\n      onChange={e => setFilter && setFilter(e.target.value)}\r\n    />\r\n  ),\r\n  Table: props => {\r\n    // Note: There is some loading logic and child properties in here\r\n    //  that were not typed and are going unused.\r\n    const { TableHeading, TableBody, NoResults, visibleRows } = props;\r\n    if (visibleRows === 0) {\r\n      return <NoResults />;\r\n    }\r\n    return (\r\n      <Table>\r\n        <TableHeading />\r\n        <TableBody />\r\n      </Table>\r\n    );\r\n  },\r\n  TableHeading: props => {\r\n    const { columnTitles, columnIds, TableHeadingCell } = props;\r\n\r\n    const headingCells =\r\n      columnIds &&\r\n      columnTitles &&\r\n      columnTitles.map((title, i) => (\r\n        <TableHeadingCell\r\n          key={columnIds[i]}\r\n          title={title}\r\n          columnId={columnIds[i]}\r\n        />\r\n      ));\r\n\r\n    return (\r\n      <Table.THead>\r\n        <Table.TR>{headingCells}</Table.TR>\r\n      </Table.THead>\r\n    );\r\n  },\r\n  Row: props => {\r\n    const {\r\n      griddleKey,\r\n      onClick,\r\n      onMouseEnter,\r\n      onMouseLeave,\r\n      style,\r\n      className,\r\n      columnIds,\r\n      Cell\r\n    } = props;\r\n    return (\r\n      <Table.TR\r\n        key={griddleKey}\r\n        onClick={onClick}\r\n        onMouseEnter={onMouseEnter}\r\n        onMouseLeave={onMouseLeave}\r\n        style={style}\r\n        className={className}\r\n      >\r\n        {columnIds &&\r\n          columnIds.map(c => (\r\n            <Cell\r\n              key={`${c}-${griddleKey}`}\r\n              griddleKey={griddleKey}\r\n              columnId={c}\r\n              style={style}\r\n              className={className}\r\n            />\r\n          ))}\r\n      </Table.TR>\r\n    );\r\n  },\r\n  Cell: props => {\r\n    const { value, ...rest } = props;\r\n    return <Table.TD {...rest}>{value}</Table.TD>;\r\n  }\r\n};\r\nconst DataTable: React.SFC<DataTableProps> = ({ data, columns }) => (\r\n  <Griddle\r\n    data={data}\r\n    plugins={[plugins.LocalPlugin]}\r\n    components={defaultComponents}\r\n    enableSettings={false}\r\n    pageProperties={{\r\n      pageSize: 100\r\n    }}\r\n  >\r\n    <RowDefinition>{columns.map(columnToDef)}</RowDefinition>\r\n  </Griddle>\r\n);\r\nDataTable.displayName = \"DataTable\";\r\nexport default DataTable;\r\n\r\nfunction columnToDef(column: DataTableColumn): React.ReactElement<any> {\r\n  const {\r\n    id,\r\n    header,\r\n    property,\r\n    cell,\r\n    filterable,\r\n    sortable,\r\n    sortMethod\r\n  } = column;\r\n  if (id == null && property == null) {\r\n    throw new Error(\r\n      \"At least one of 'id' or 'property' must be defined in a DataTableColumn.\"\r\n    );\r\n  }\r\n\r\n  const colId = (id || property)!;\r\n\r\n  return (\r\n    <ColumnDefinition\r\n      key={colId}\r\n      id={colId}\r\n      customHeadingComponent={header ? () => toElement(header) : undefined}\r\n      customComponent={cell ? enhancedWithRowData(cell) : undefined}\r\n      filterable={filterable}\r\n      sortable={sortable}\r\n      sortMethod={sortMethod as any} // Typedefs are wrong: should return array\r\n    />\r\n  );\r\n}\r\nfunction toElement(value: string | React.ReactChild): React.ReactElement<{}> {\r\n  if (React.isValidElement(value)) {\r\n    return value;\r\n  }\r\n  return <Text>{value}</Text>;\r\n}\r\n","import styled, {\r\n  intent,\r\n  text,\r\n  Intent,\r\n  Border,\r\n  getThemeColor,\r\n  Color,\r\n  getThemeBorder\r\n} from \"@/style\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nconst Table = styled.table`\r\n  border-left: ${getThemeBorder(Border.Normal)};\r\n  border-right: ${getThemeBorder(Border.Normal)};\r\n  border-bottom: ${getThemeBorder(Border.Normal)};\r\n  border-color: ${getThemeColor(Color.fromIntent(Intent.Secondary))};\r\n  border-spacing: 0;\r\n  border-collapse: collapse;\r\n`;\r\n\r\nexport default attachProps(Table, {\r\n  THead: styled.thead`\r\n    background-color: ${getThemeColor(Color.PanelBackground)};\r\n  `,\r\n  TH: styled.th`\r\n    ${intent.of(Intent.Secondary)};\r\n  `,\r\n  TBody: styled.tbody``,\r\n  TR: styled.tr`\r\n    ${text};\r\n\r\n    :hover {\r\n      background-color: ${getThemeColor(Color.PanelBackground)};\r\n    }\r\n  `,\r\n  TD: styled.td`\r\n    ${text};\r\n\r\n    padding: 2px;\r\n\r\n    position: relative;\r\n\r\n    tr:not(:first-child) > & {\r\n      :before {\r\n        position: absolute;\r\n        content: \"\";\r\n        top: 0;\r\n        left: 0;\r\n        width: 4px;\r\n        height: 3px;\r\n        border-top: ${getThemeBorder(Border.Normal)};\r\n        border-color: ${getThemeColor(Color.fromIntent(Intent.Secondary))};\r\n      }\r\n\r\n      :first-child:before {\r\n        width: 7px;\r\n      }\r\n\r\n      :after {\r\n        position: absolute;\r\n        content: \"\";\r\n        top: 0;\r\n        right: 0;\r\n        width: 4px;\r\n        height: 3px;\r\n        border-top: ${getThemeBorder(Border.Normal)};\r\n        border-color: ${getThemeColor(Color.fromIntent(Intent.Secondary))};\r\n      }\r\n\r\n      :last-child:after {\r\n        width: 7px;\r\n      }\r\n    }\r\n  `\r\n});\r\n","import Portrait from \"./Portrait\";\r\nexport default Portrait;\r\n","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\n\r\nimport Modal from \"react-modal\";\r\n\r\nimport \"./i18n\";\r\n\r\nimport \"./style\";\r\n\r\nimport Root from \"./root\";\r\n\r\nconst rootEl = document.getElementById(\"root\");\r\nif (rootEl) {\r\n  Modal.setAppElement(rootEl);\r\n  ReactDOM.render(<Root />, rootEl);\r\n}\r\n","import i18n from \"i18next\";\r\n// import LanguageDetector from \"i18next-browser-languagedetector\";\r\nimport { reactI18nextModule } from \"react-i18next\";\r\n\r\nimport { isProd } from \"@/runtime-env\";\r\n\r\n// TODO: Use backends to save on file space\r\n//  Deferring until I get a chance to focus on splitting the bundles.\r\n// import Backend from \"i18next-xhr-backend\";\r\n\r\ni18n\r\n  // .use(LanguageDetector)\r\n  .use(reactI18nextModule)\r\n  .init({\r\n    fallbackLng: \"en\",\r\n\r\n    // have a common namespace used around the full app\r\n    ns: [\"common\", \"oni\"],\r\n    defaultNS: \"common\",\r\n\r\n    resources: {\r\n      en: {\r\n        common: require(\"./translations/en/common.json\")\r\n      },\r\n      zh: {\r\n        common: require(\"./translations/zh/common.json\")\r\n      }\r\n    },\r\n\r\n    debug: !isProd,\r\n\r\n    interpolation: {\r\n      escapeValue: false // not needed for react!!\r\n    },\r\n\r\n    react: {\r\n      wait: true\r\n    }\r\n  });\r\n\r\nexport default i18n;\r\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js!./style.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./style.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./style.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"* {\\r\\n  font-family: \\\"Titillium Web\\\", sans-serif;\\r\\n}\\r\\n\\r\\nhtml,\\r\\nbody,\\r\\n#root {\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  margin: 0;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n","export * from \"./border\";\r\nexport * from \"./intent-border\";\r\nexport * from \"./intent-color\";\r\nexport * from \"./intent-fill\";\r\nexport * from \"./intent\";\r\nexport * from \"./link\";\r\nexport * from \"./text\";\r\nexport * from \"./vertical-align\";\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Border, Color, Radius } from \"../theme\";\r\n\r\nimport { getThemeBorder, getThemeRadius, getThemeColor } from \"../theme\";\r\n\r\nexport interface BorderProps {\r\n  border?: Border;\r\n  borderColor?: Color;\r\n  borderRadius?: Radius;\r\n}\r\n\r\nconst borderOf = (type: Border, color: Color, radius?: Radius) => css`\r\n  border: ${getThemeBorder(type)};\r\n  border-color: ${getThemeColor(color)};\r\n  ${radius ? `border-radius: ${getThemeRadius(radius)}` : undefined};\r\n`;\r\n\r\nconst borderFromProps = css<BorderProps>`\r\n  ${props =>\r\n    props.border != null\r\n      ? `border: ${getThemeBorder(props.border)(props)}`\r\n      : undefined};\r\n\r\n  ${props =>\r\n    props.borderColor != null\r\n      ? `border-color: ${getThemeColor(props.borderColor)(props)}`\r\n      : undefined};\r\n\r\n  ${props =>\r\n    props.borderRadius != null\r\n      ? `border-radius: ${getThemeRadius(props.borderRadius)(props)}px`\r\n      : undefined};\r\n`;\r\n\r\nexport const border = attachProps(borderFromProps, {\r\n  of: borderOf\r\n});\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { borders } from \"./borders\";\r\nimport { colors } from \"./colors\";\r\nimport { fontSizes } from \"./font-sizes\";\r\nimport { radii } from \"./radii\";\r\nimport { space } from \"./space\";\r\nimport { ThemeProps } from \"@/style/styled\";\r\n\r\nexport const theme = {\r\n  borders,\r\n  colors,\r\n  fontSizes,\r\n  radii,\r\n  space\r\n};\r\n\r\nexport type Theme = typeof theme;\r\n\r\nexport function getTheme(props: any): Theme {\r\n  return props.theme || theme;\r\n}\r\n\r\nexport function getThemeProp<T>(\r\n  getter: ((theme: Theme) => T) | string,\r\n  defaultValue?: T\r\n): (props: ThemeProps) => string | undefined {\r\n  return (props: ThemeProps) => {\r\n    if (typeof getter === \"string\") {\r\n      return themeGet(getter, defaultValue as any);\r\n    }\r\n\r\n    const val = getter(getTheme(props));\r\n    if (val === undefined) {\r\n      return defaultValue;\r\n    }\r\n    return val;\r\n  };\r\n}\r\n","export const enum FontSize {\r\n  Hint = 0,\r\n  Small = 0,\r\n\r\n  Button = 1,\r\n\r\n  Default = 2,\r\n  HeadingMinor = 3,\r\n  Heading = 4\r\n}\r\nexport const fontSizes = [12, 14, 16, 20, 24, 32, 48, 64, 96, 128];\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Intent } from \"../intent\";\r\n\r\nimport {\r\n  Border,\r\n  Color,\r\n  Radius,\r\n  getThemeBorder,\r\n  getThemeRadius,\r\n  getThemeColor\r\n} from \"../theme\";\r\n\r\nexport interface IntentBorderProps {\r\n  intent?: Intent;\r\n}\r\n\r\nconst borderOf = (intent: Intent) => css`\r\n  border: ${getThemeBorder(Border.Normal)};\r\n  border-color: ${getThemeColor(Color.fromIntent(intent))};\r\n  ${intent !== Intent.Default\r\n    ? `border-radius: ${getThemeRadius(Radius.Medium)}`\r\n    : undefined};\r\n`;\r\n\r\nconst borderFromProps = css<IntentBorderProps>`\r\n  ${props => (props.intent ? borderOf(props.intent) : undefined)};\r\n`;\r\n\r\nexport const intentBorder = attachProps(borderFromProps, {\r\n  of: borderOf\r\n});\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Intent } from \"../intent\";\r\n\r\nimport { intentColor, IntentColorProps } from \"./intent-color\";\r\nimport { intentFill } from \"./intent-fill\";\r\n\r\nexport interface IntentProps extends IntentColorProps {\r\n  intentIsBg?: boolean;\r\n}\r\n\r\nconst intentOf = (intent: Intent, isBg: boolean = false) => css`\r\n  ${isBg ? intentFill.of(intent) : intentColor.of(intent)};\r\n`;\r\n\r\nconst intentFromProps = css<IntentProps>`\r\n  ${props => {\r\n    if (props.intent == null) {\r\n      return undefined;\r\n    }\r\n    return props.intentIsBg ? intentFill : intentColor;\r\n  }};\r\n`;\r\n\r\nexport const intent = attachProps(intentFromProps, {\r\n  of: intentOf\r\n});\r\n","import { TextProps, text } from \"./text\";\r\nimport { css } from \"../styled\";\r\n\r\nexport interface LinkProps extends TextProps {}\r\n\r\nexport const link = css<LinkProps>`\r\n  ${text};\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n`;\r\n","import { VerticalAlignProperty } from \"csstype\";\r\n\r\nimport { style } from \"styled-system\";\r\n\r\nexport interface VerticalAlignProps {\r\n  verticalAlign?: VerticalAlignProperty<string | 0>;\r\n}\r\nexport const verticalAlign = style({\r\n  prop: \"verticalAlign\",\r\n  cssProperty: \"vertical-align\"\r\n});\r\n","import * as React from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport { Provider } from \"react-redux\";\r\nimport { I18nextProvider } from \"react-i18next\";\r\n\r\nimport { ThemeProvider, theme } from \"@/style\";\r\n\r\nimport store from \"./store\";\r\n\r\nimport i18n from \"./i18n\";\r\n\r\nimport App from \"./App\";\r\n\r\nconst Root: React.SFC = () => (\r\n  <I18nextProvider i18n={i18n}>\r\n    <Provider store={store}>\r\n      <ThemeProvider theme={theme}>\r\n        <App />\r\n      </ThemeProvider>\r\n    </Provider>\r\n  </I18nextProvider>\r\n);\r\n\r\nexport default hot(module)(Root);\r\n","import { createStore } from \"./store\";\r\n\r\nconst store = createStore();\r\nexport default store;\r\n","import {\r\n  compose,\r\n  createStore as createReduxStore,\r\n  applyMiddleware\r\n} from \"redux\";\r\n\r\nimport createSagaMiddleware from \"redux-saga\";\r\n\r\nimport reducer from \"@/reducer\";\r\nimport saga from \"@/saga\";\r\n\r\nimport { actionSanitizer, stateSanitizer } from \"./devtool-sanitizer\";\r\n\r\nexport function createStore() {\r\n  const composeEnhancers =\r\n    (window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ &&\r\n      window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\r\n        actionSanitizer,\r\n        stateSanitizer\r\n      })) ||\r\n    compose;\r\n\r\n  const sagaMiddleware = createSagaMiddleware();\r\n\r\n  const store = createReduxStore(\r\n    reducer,\r\n    composeEnhancers(applyMiddleware(sagaMiddleware))\r\n  );\r\n  sagaMiddleware.run(saga);\r\n  return store;\r\n}\r\n","import { Reducer } from \"redux\";\r\nimport reduceReducers from \"reduce-reducers\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport behaviorsReducer from \"./behaviors\";\r\nimport gameObjectReducer from \"./game-object\";\r\n\r\nimport dismissErrorReducer from \"./dismiss-error\";\r\nimport modifyOniSave from \"./modify-onisave\";\r\nimport parseProgressReducer from \"./onisave-parse-progress\";\r\nimport receiveOniSaveReducer from \"./receive-onisave\";\r\nimport selectPathReducer from \"./select-path\";\r\nimport setEditModeReducer from \"./set-editmode\";\r\nimport setLanguageReducer from \"./set-language\";\r\n\r\nconst reducers: Reducer<AppState, any>[] = [\r\n  behaviorsReducer,\r\n  gameObjectReducer,\r\n  dismissErrorReducer,\r\n  modifyOniSave,\r\n  parseProgressReducer,\r\n  receiveOniSaveReducer,\r\n  selectPathReducer,\r\n  setEditModeReducer,\r\n  setLanguageReducer\r\n];\r\n\r\nexport default reduceReducers<AppState, any>(...reducers);\r\n","import reduceReducers from \"reduce-reducers\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport modifyCurrentObjectBehaviorArray from \"./modify-currentobject-behavior-array\";\r\nimport setAccessoryReducer from \"./set-accessory\";\r\nimport setCurrentObjectBehaviorValueReducer from \"./set-currentobject-behavior-value\";\r\nimport setElementDiseaseReducer from \"./set-element-disease\";\r\nimport setHealthStateReducer from \"./set-health-state\";\r\nimport setIdentityGenderReducer from \"./set-identity-gender\";\r\nimport setModifierAmountReducer from \"./set-modifier-amount\";\r\nimport setTraitReducer from \"./set-traits-trait\";\r\n\r\nconst reducers = [\r\n  modifyCurrentObjectBehaviorArray,\r\n  setAccessoryReducer,\r\n  setCurrentObjectBehaviorValueReducer,\r\n  setElementDiseaseReducer,\r\n  setHealthStateReducer,\r\n  setIdentityGenderReducer,\r\n  setModifierAmountReducer,\r\n  setTraitReducer\r\n];\r\n\r\nexport default reduceReducers<AppState, any>(...reducers);\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  isCurrentObjectBehaviorArrayAction,\r\n  ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM,\r\n  ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM,\r\n  ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX\r\n} from \"@/actions/behaviors/modify-currentobject-behavior-array\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function modifyCurrentObjectBehaviorArray(\r\n  state: AppState = defaultAppState,\r\n  action: AnyAction\r\n): AppState {\r\n  if (!isCurrentObjectBehaviorArrayAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  const { behaviorName, path } = action.payload;\r\n\r\n  return produceFromBehavior(state, behaviorName, behavior => {\r\n    const array = get(behavior, path) as any[];\r\n    switch (action.type) {\r\n      case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM: {\r\n        const { value, index } = action.payload;\r\n        if (index != null) {\r\n          array.splice(index, 0, value);\r\n        } else {\r\n          array.push(value);\r\n        }\r\n        return;\r\n      }\r\n      case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM: {\r\n        const { value } = action.payload;\r\n        const index = array.indexOf(value);\r\n        if (index >= 0) {\r\n          array.splice(index, 1);\r\n        }\r\n        return;\r\n      }\r\n      case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX: {\r\n        const { index } = action.payload;\r\n        if (index < 0 || index >= array.length) {\r\n          return;\r\n        }\r\n        array.splice(index, 1);\r\n        return;\r\n      }\r\n    }\r\n  });\r\n}\r\n","export * from \"./root\";\r\nexport * from \"./types\";\r\nexport * from \"./utils\";\r\n\r\nimport saveStructure from \"./root\";\r\nexport default saveStructure;\r\n","import { GameObjectGroup, SaveGame } from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../types\";\r\n\r\nimport {\r\n  getGameObjectVariants,\r\n  gameObjectVariantInfos\r\n} from \"./gameObjectTypes\";\r\n\r\nimport { initStorageBehaviorHack } from \"../gameObjects/behaviors/storage\";\r\n\r\nconst gameObjectGroupsStructure: SaveStructureDef<GameObjectGroup> = {\r\n  $type: \"game-object-group\",\r\n\r\n  $uiPathName(group: GameObjectGroup) {\r\n    return group.name;\r\n  },\r\n\r\n  $uiChildren(group: GameObjectGroup) {\r\n    return group.gameObjects.map((_, i) => [\"gameObjects\", `${i}`]);\r\n  },\r\n\r\n  // This will be populated after object instantiation, to\r\n  //  allow us to define circular references for nested\r\n  //  game objects in the Storage behavior.\r\n  $variants: []\r\n};\r\n\r\n// We want to handle each game object type uniquely,\r\n//  but their uniqueness is keyed off the name of this group.\r\n// To handle this, we provide variants that match off the group's name.\r\ngameObjectGroupsStructure.$variants = getGameObjectVariants(\r\n  gameObjectVariantInfos,\r\n  [\"gameObjects\", \"*\"]\r\n);\r\n\r\n// Need to wait until after getGameObjectVariants completes\r\ninitStorageBehaviorHack();\r\n\r\nconst gameObjectsStructure: SaveStructureDef<SaveGame[\"gameObjects\"]> = {\r\n  $type: \"game-object-group-list\",\r\n\r\n  // gameObjects is an array, so we use the fallback key to\r\n  //  handle all items.\r\n  \"*\": gameObjectGroupsStructure\r\n};\r\nexport default gameObjectsStructure;\r\n","import * as minion from \"./minion\";\r\nimport * as geyser from \"./geyser\";\r\n\r\nconst gameObjectVariantInfo = [minion, geyser];\r\nexport default gameObjectVariantInfo;\r\n","import {\r\n  GameObject,\r\n  MinionIdentityBehavior,\r\n  getBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\nimport { gameObjectIs } from \"../../matchers\";\r\n\r\nimport { defaultGameObject } from \"./default\";\r\n\r\nconst minionGameObject: SaveStructureDef<GameObject> = {\r\n  ...defaultGameObject,\r\n\r\n  $subType: \"Minion\",\r\n\r\n  $uiPathName: (obj: GameObject) => {\r\n    const identityBehavior = getBehavior(obj, MinionIdentityBehavior);\r\n    const name =\r\n      (identityBehavior &&\r\n        identityBehavior.templateData &&\r\n        identityBehavior.templateData.name) ||\r\n      \"[malformed]\";\r\n    return name;\r\n  }\r\n};\r\n\r\nexport const gameObjectMatcher = gameObjectIs(\"Minion\");\r\nexport const gameObjectStructure = minionGameObject;\r\n\r\nexport default minionGameObject;\r\n","import { GameObjectBehavior } from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../../../structure\";\r\n\r\nimport { defaultBehavior } from \"./default\";\r\nimport { primaryElementBehavior } from \"./primary-element\";\r\nimport { storageBehavior } from \"./storage\";\r\n\r\nconst behavior: SaveStructureDef<GameObjectBehavior> = {\r\n  $variants: [storageBehavior, primaryElementBehavior, defaultBehavior]\r\n};\r\nexport default behavior;\r\n","import { PrimaryElementBehavior } from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\nimport { behaviorIs } from \"../../matchers\";\r\n\r\nimport { defaultBehavior } from \"./default\";\r\n\r\nexport const primaryElementBehavior: SaveStructureDef<\r\n  PrimaryElementBehavior\r\n> = {\r\n  ...defaultBehavior,\r\n  $match: behaviorIs(PrimaryElementBehavior)\r\n};\r\n","import {\r\n  GameObject,\r\n  getBehavior,\r\n  KPrefabIDBehavior,\r\n  GameObjectGroup\r\n} from \"oni-save-parser\";\r\n\r\nimport { formatPosition } from \"@/format\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\n\r\nimport { defaultGameObject } from \"./default\";\r\n\r\nconst geyserGameObject: SaveStructureDef<GameObject> = {\r\n  ...defaultGameObject,\r\n\r\n  $subType: \"geyser\",\r\n\r\n  $uiPathName: (obj: GameObject) => {\r\n    const idBehavior = getBehavior(obj, KPrefabIDBehavior);\r\n    const id =\r\n      (idBehavior &&\r\n        idBehavior.templateData &&\r\n        idBehavior.templateData.InstanceID) ||\r\n      \"[malformed]\";\r\n\r\n    return `#${id} ${formatPosition(obj.position)}`;\r\n  }\r\n};\r\n\r\nexport const gameObjectMatcher = (obj: GameObjectGroup) =>\r\n  obj.name.startsWith(\"GeyserGeneric_\");\r\nexport const gameObjectStructure = geyserGameObject;\r\n\r\nexport default geyserGameObject;\r\n","import { set } from \"lodash-es\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\n\r\nimport { defaultGameObject } from \"./default\";\r\n\r\nimport { GameObjectTypeInfo } from \"./types\";\r\n\r\nexport function getGameObjectVariants(\r\n  gameObjectTypeInfos: GameObjectTypeInfo[],\r\n  gameObjectPath: string[] | null\r\n): SaveStructureDef<{}>[] {\r\n  const defaultVariant: SaveStructureDef<{}> = {\r\n    $advanced: true\r\n  };\r\n  setStructure(defaultVariant, gameObjectPath, defaultGameObject);\r\n\r\n  const variants = gameObjectTypeInfos.map(info => {\r\n    const rootVariant: SaveStructureDef<{}> = {\r\n      $match: info.gameObjectMatcher\r\n    };\r\n    setStructure(rootVariant, gameObjectPath, info.gameObjectStructure);\r\n    return rootVariant;\r\n  });\r\n\r\n  // Add default as last item\r\n  variants.push(defaultVariant);\r\n  return variants;\r\n}\r\n\r\nfunction setStructure(\r\n  obj: any,\r\n  path: string[] | null,\r\n  structure: SaveStructureDef\r\n) {\r\n  if (path && path.length > 0) {\r\n    // Collapse the intermediate paths.\r\n    for (let i = 1; i < path.length; i++) {\r\n      set(obj, [...path.slice(0, i), \"$uiPathName\"], false);\r\n    }\r\n    set(obj, path, structure);\r\n  } else {\r\n    // Use a one-value rootVariant to ensure we get a reference,\r\n    //  to mantain recursive support.\r\n    Object.assign(obj, structure);\r\n  }\r\n}\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { isObject } from \"lodash-es\";\r\n\r\nimport saveStructure from \"./root\";\r\nimport { SaveStructureDef } from \"./types\";\r\n\r\nexport function getSaveStructureDef(\r\n  saveGamePath: string[],\r\n  save: SaveGame\r\n): SaveStructureDef | null {\r\n  // TODO: Seems like there would be a builtin utility for this\r\n  const iter = walkSaveStructurePath(saveGamePath, save);\r\n  let result: IteratorResult<any>;\r\n  do {\r\n    result = iter.next();\r\n  } while (!result.done);\r\n  return result.value;\r\n}\r\n\r\n/**\r\n * Walks through a path of a save game, returning the save structure objects in order.\r\n * @param saveGamePath The path to walk the save structure tree to\r\n * @param saveGame The save game to walk.\r\n */\r\nexport function* walkSaveStructurePath(\r\n  saveGamePath: string[],\r\n  saveGame: SaveGame\r\n): IterableIterator<{ def: SaveStructureDef; path: string[] }> {\r\n  let structure: SaveStructureDef = saveStructure;\r\n  let value: any = saveGame;\r\n\r\n  yield {\r\n    def: saveStructure,\r\n    path: []\r\n  };\r\n\r\n  for (let i = 0; i < saveGamePath.length; i++) {\r\n    const key = saveGamePath[i];\r\n\r\n    let subStructure: SaveStructureDef | undefined;\r\n    if (isObject(structure)) {\r\n      subStructure =\r\n        Object.keys(structure).indexOf(key) !== -1\r\n          ? structure[key]\r\n          : structure[\"*\"];\r\n    }\r\n\r\n    if (!subStructure) {\r\n      return null;\r\n    }\r\n\r\n    // Pick the value before searching for variants.\r\n    value = value[key];\r\n\r\n    // Try to pick a variant if possible.\r\n    if (subStructure.$variants) {\r\n      const variant = subStructure.$variants.find(\r\n        x => !x.$match || x.$match(value)\r\n      );\r\n      if (variant) {\r\n        subStructure = {\r\n          ...subStructure,\r\n          ...variant\r\n        } as SaveStructureDef;\r\n      }\r\n    }\r\n\r\n    structure = subStructure;\r\n\r\n    yield {\r\n      def: structure,\r\n      path: saveGamePath.slice(0, i + 1)\r\n    };\r\n  }\r\n\r\n  return structure;\r\n}\r\n\r\n// export function getChildStructures(def: SaveStructureDef): SaveStructureDef[] {\r\n//   return Object.keys(def)\r\n//     .filter(x => x[0] !== \"$\")\r\n//     .map(x => def[x]) as SaveStructureDef[];\r\n// }\r\n","import {\r\n  AccessorizerBehavior,\r\n  Accessory,\r\n  getIndexOfAccessoryType\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_SET_ACCESSORY,\r\n  SetAccessoryAction\r\n} from \"@/actions/behaviors/set-accessory\";\r\nimport { produceFromBehavior } from \"@/reducer/behaviors/utils\";\r\n\r\nexport default function setAccessoryReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetAccessoryAction\r\n): AppState {\r\n  if (action.type !== ACTION_SET_ACCESSORY) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, AccessorizerBehavior, behavior => {\r\n    const { accessoryName, accessoryType } = action.payload;\r\n    const { accessories } = behavior.templateData;\r\n\r\n    const accessoryIndex = getIndexOfAccessoryType(accessories, accessoryType);\r\n\r\n    if (accessoryName === null) {\r\n      // Remove\r\n      accessories.splice(accessoryIndex, 1);\r\n      return;\r\n    }\r\n\r\n    const newAccessory = Accessory(accessoryName);\r\n\r\n    if (accessoryIndex === -1) {\r\n      // Add\r\n      accessories.push(newAccessory);\r\n    } else {\r\n      // Replace\r\n      accessories[accessoryIndex] = newAccessory;\r\n    }\r\n  });\r\n}\r\n","import { set } from \"lodash-es\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE,\r\n  SetCurrentObjectBehaviorValueAction\r\n} from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setCurrentObjectBehaviorValueReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetCurrentObjectBehaviorValueAction\r\n): AppState {\r\n  if (action.type !== ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE) {\r\n    return state;\r\n  }\r\n\r\n  const { behaviorName, path, value } = action.payload;\r\n\r\n  return produceFromBehavior(state, behaviorName, behavior => {\r\n    set(behavior, path, value);\r\n  });\r\n}\r\n","import { PrimaryElementBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_PRIMARY_ELEMENT_SET_DISEASE,\r\n  SetPrimaryElementDiseaseAction\r\n} from \"@/actions/behaviors/set-element-disease\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setElementDiseaseReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetPrimaryElementDiseaseAction\r\n): AppState {\r\n  if (action.type !== ACTION_PRIMARY_ELEMENT_SET_DISEASE) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, PrimaryElementBehavior, behavior => {\r\n    const { diseaseId, diseaseCount } = action.payload;\r\n    behavior.templateData.diseaseID = diseaseId;\r\n    behavior.templateData.diseaseCount = diseaseCount;\r\n  });\r\n}\r\n","import { HealthBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_HEALTH_SET_STATE,\r\n  SetHealthStateAction\r\n} from \"@/actions/behaviors/set-health-state\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setHealthStateReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetHealthStateAction\r\n): AppState {\r\n  if (action.type !== ACTION_HEALTH_SET_STATE) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, HealthBehavior, behavior => {\r\n    behavior.templateData.State = action.payload;\r\n  });\r\n}\r\n","import { MinionIdentityBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_MINION_IDENTITY_SET_GENDER,\r\n  SetMinionIdentityGenderAction\r\n} from \"@/actions/behaviors/set-identity-gender\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setIdentityGenderReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetMinionIdentityGenderAction\r\n): AppState {\r\n  if (action.type !== ACTION_MINION_IDENTITY_SET_GENDER) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, MinionIdentityBehavior, behavior => {\r\n    behavior.templateData.gender = action.payload;\r\n    behavior.templateData.genderStringKey = action.payload;\r\n  });\r\n}\r\n","import { MinionModifiersBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_MINION_MODIFIER_SET_VALUE,\r\n  SetMinionModifierValueAction\r\n} from \"@/actions/behaviors/set-modifier-amount\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setModifierAmountReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetMinionModifierValueAction\r\n): AppState {\r\n  if (action.type !== ACTION_MINION_MODIFIER_SET_VALUE) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, MinionModifiersBehavior, behavior => {\r\n    const { amountType, value } = action.payload;\r\n    if (!behavior.extraData) {\r\n      return;\r\n    }\r\n    const amount = behavior.extraData.amounts.find(x => x.name === amountType);\r\n    if (!amount) {\r\n      return;\r\n    }\r\n    amount.value.value = value;\r\n  });\r\n}\r\n","import { AITraitsBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_TRAITS_SET,\r\n  SetTraitAction\r\n} from \"@/actions/behaviors/set-traits-trait\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setTraitReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetTraitAction\r\n): AppState {\r\n  if (action.type !== ACTION_TRAITS_SET) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, AITraitsBehavior, behavior => {\r\n    const { traitId, isSet } = action.payload;\r\n    const { TraitIds } = behavior.templateData;\r\n    const index = TraitIds.findIndex(x => x === traitId);\r\n    if (index !== -1) {\r\n      if (!isSet) {\r\n        TraitIds.splice(index, 1);\r\n      }\r\n    } else {\r\n      if (isSet) {\r\n        TraitIds.push(traitId);\r\n      }\r\n    }\r\n  });\r\n}\r\n","import reduceReducers from \"reduce-reducers\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport setGameObjectScaleReducer from \"./set-scale\";\r\n\r\nconst reducers = [setGameObjectScaleReducer];\r\n\r\nexport default reduceReducers<AppState, any>(...reducers);\r\n","import { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_GAME_OBJECT_SET_SCALE,\r\n  SetGameObjectScaleAction\r\n} from \"@/actions/game-object/set-scale\";\r\n\r\nimport { produceFromGameObject } from \"./utils\";\r\n\r\nexport default function setGameObjectScaleReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetGameObjectScaleAction\r\n): AppState {\r\n  if (action.type !== ACTION_GAME_OBJECT_SET_SCALE) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromGameObject(state, gameObject => {\r\n    const { x, y, z } = action.payload;\r\n    gameObject.scale.x = x;\r\n    gameObject.scale.y = y;\r\n    gameObject.scale.z = z;\r\n  });\r\n}\r\n","import { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_DISMISS_ERROR,\r\n  DismissErrorAction\r\n} from \"@/actions/dismiss-error\";\r\n\r\nexport default function dismissErrorReducer(\r\n  state: AppState = defaultAppState,\r\n  action: DismissErrorAction\r\n): AppState {\r\n  if (action.type !== ACTION_DISMISS_ERROR) {\r\n    return state;\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    error: null\r\n  };\r\n}\r\n","import produce from \"immer\";\r\n\r\nimport { set } from \"lodash-es\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_ONISAVE_MODIFY,\r\n  ModifyOniSaveAction\r\n} from \"../actions/modify-onisave\";\r\n\r\nexport default function modifyOniSaveReducer(\r\n  state: AppState = defaultAppState,\r\n  action: ModifyOniSaveAction\r\n): AppState {\r\n  if (action.type !== ACTION_ONISAVE_MODIFY) {\r\n    return state;\r\n  }\r\n\r\n  const { loadingState, oniSave } = state;\r\n  if (loadingState !== \"ready\" || !oniSave) {\r\n    return state;\r\n  }\r\n\r\n  const { path, value } = action.payload;\r\n\r\n  return produce(state, draft => {\r\n    set(draft.oniSave!, path, value);\r\n  });\r\n}\r\n","import { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_ONISAVE_PARSE_PROGRESS,\r\n  ParseProgressAction\r\n} from \"@/actions/onisave-parse-progress\";\r\n\r\nexport default function parseProgressReducer(\r\n  state: AppState = defaultAppState,\r\n  action: ParseProgressAction\r\n): AppState {\r\n  if (action.type !== ACTION_ONISAVE_PARSE_PROGRESS) {\r\n    return state;\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    loadingProgressMessage: action.payload.message\r\n  };\r\n}\r\n","import {\r\n  ReceiveOniSaveAction,\r\n  ACTION_RECEIVE_ONISAVE_BEGIN,\r\n  ACTION_RECEIVE_ONISAVE_ERROR,\r\n  ACTION_RECEIVE_ONISAVE_SUCCESS\r\n} from \"../actions/receive-onisave\";\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nexport default function receiveOniSaveReducer(\r\n  state: AppState = defaultAppState,\r\n  action: ReceiveOniSaveAction\r\n): AppState {\r\n  switch (action.type) {\r\n    case ACTION_RECEIVE_ONISAVE_BEGIN:\r\n      return {\r\n        ...state,\r\n        error: null,\r\n        loadingState: action.payload.operation,\r\n        loadingProgressMessage: null,\r\n        selectedPath: [],\r\n        oniSave: action.payload.clearExisting ? null : state.oniSave\r\n      };\r\n    case ACTION_RECEIVE_ONISAVE_ERROR:\r\n      state = {\r\n        ...state,\r\n        loadingState: \"idle\",\r\n        selectedPath: [],\r\n        error: action.payload\r\n      };\r\n      break;\r\n    case ACTION_RECEIVE_ONISAVE_SUCCESS:\r\n      state = {\r\n        ...state,\r\n        loadingState: \"ready\",\r\n        loadingProgressMessage: null,\r\n        error: null,\r\n        selectedPath: [],\r\n        oniSave: action.payload\r\n      };\r\n  }\r\n\r\n  return state;\r\n}\r\n","import { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport { ACTION_SELECT_PATH, SelectPathAction } from \"@/actions/select-path\";\r\n\r\nexport default function selectPathReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SelectPathAction\r\n): AppState {\r\n  if (action.type !== ACTION_SELECT_PATH) {\r\n    return state;\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    selectedPath: action.payload\r\n  };\r\n}\r\n","import { ACTION_SET_EDITMODE, SetEditModeAction } from \"@/actions/set-editmode\";\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nexport default function setEditMode(\r\n  state: AppState = defaultAppState,\r\n  action: SetEditModeAction\r\n): AppState {\r\n  if (action.type !== ACTION_SET_EDITMODE) {\r\n    return state;\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    editMode: action.payload\r\n  };\r\n}\r\n","import { Action } from \"redux\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\nimport { ACTION_SET_LANGUAGE, SetLanguageAction } from \"@/actions/set-language\";\r\nimport i18n from \"@/i18n\";\r\n\r\nexport default function setLanguageReducer(\r\n  state: AppState = defaultAppState,\r\n  action: Action\r\n): AppState {\r\n  if (action.type !== ACTION_SET_LANGUAGE) {\r\n    return state;\r\n  }\r\n\r\n  const lang = (action as SetLanguageAction).payload;\r\n\r\n  i18n.changeLanguage(lang);\r\n\r\n  return {\r\n    ...state,\r\n    language: lang\r\n  };\r\n}\r\n","import { fork } from \"redux-saga/effects\";\r\n\r\nimport loadOniSaveSaga from \"./load-onisave\";\r\nimport saveOniSaveSaga from \"./save-onisave\";\r\n\r\nexport default function* saga() {\r\n  yield fork(loadOniSaveSaga);\r\n  yield fork(saveOniSaveSaga);\r\n}\r\n","import { eventChannel, END } from \"redux-saga\";\r\nimport { call, put, takeEvery, take } from \"redux-saga/effects\";\r\n\r\nimport { ACTION_ONISAVE_LOAD, LoadOniSaveAction } from \"@/actions/load-onisave\";\r\n\r\nimport {\r\n  receiveOniSaveBegin,\r\n  receiveOniSaveError,\r\n  receiveOniSaveSuccess\r\n} from \"@/actions/receive-onisave\";\r\nimport { parseProgress } from \"@/actions/onisave-parse-progress\";\r\n\r\nimport { parseSave } from \"@/services/save-serializer\";\r\n\r\nexport default function* saveEditorSaga() {\r\n  yield takeEvery(ACTION_ONISAVE_LOAD, handleOniSaveLoad);\r\n}\r\n\r\nfunction* handleOniSaveLoad(action: LoadOniSaveAction) {\r\n  const file = action.payload;\r\n\r\n  yield put(receiveOniSaveBegin(\"loading\", true));\r\n\r\n  const data: ArrayBuffer = yield call(readFile, file);\r\n\r\n  const loadChannel = createLoadChannel(data);\r\n\r\n  while (true) {\r\n    const msg = yield take(loadChannel);\r\n    if (msg.type === \"progress\") {\r\n      yield put(parseProgress(msg.message));\r\n      continue;\r\n    } else if (msg.type === \"success\") {\r\n      yield put(receiveOniSaveSuccess(msg.saveGame));\r\n      return;\r\n    } else if (msg.type === \"error\") {\r\n      yield put(receiveOniSaveError(msg.error));\r\n      return;\r\n    }\r\n  }\r\n}\r\n\r\nfunction createLoadChannel(data: ArrayBuffer) {\r\n  return eventChannel(emitter => {\r\n    function onProgress(message: string) {\r\n      emitter({\r\n        type: \"progress\",\r\n        message\r\n      });\r\n    }\r\n\r\n    parseSave(data, onProgress)\r\n      .then(saveGame => {\r\n        emitter({\r\n          type: \"success\",\r\n          saveGame\r\n        });\r\n        emitter(END);\r\n      })\r\n      .catch(error => {\r\n        emitter({\r\n          type: \"error\",\r\n          error\r\n        });\r\n        emitter(END);\r\n      });\r\n\r\n    //This is the cancellation func.\r\n    // TODO: We can support cancellation in oni-save-parser rather easily.\r\n    return () => {};\r\n  });\r\n}\r\n\r\nfunction readFile(file: File): Promise<ArrayBuffer> {\r\n  const reader = new FileReader();\r\n  return new Promise<ArrayBuffer>((accept, reject) => {\r\n    reader.onload = () => {\r\n      accept(reader.result as ArrayBuffer);\r\n    };\r\n    reader.onerror = () => {\r\n      reject(reader.error);\r\n    };\r\n    reader.readAsArrayBuffer(file);\r\n  });\r\n}\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nimport {\r\n  RESPONSE_PROGRESS,\r\n  RESPONSE_PARSE_ERROR,\r\n  RESPONSE_PARSE_SUCCESS,\r\n  RESPONSE_WRITE_ERROR,\r\n  RESPONSE_WRITE_SUCCESS,\r\n  SaveParserResultEvent,\r\n  parseSave as parseSaveCommand,\r\n  writeSave as writeSaveCommand,\r\n  jsonToError\r\n} from \"./worker-messages\";\r\n\r\nimport SaveLoadWorker from \"worker-loader!./save-serializer.worker\";\r\n\r\nconst worker = new SaveLoadWorker();\r\n\r\nexport function parseSave(\r\n  data: ArrayBuffer,\r\n  onProgress?: (message: string) => void\r\n): Promise<SaveGame> {\r\n  const promise = new Promise<SaveGame>((accept, reject) => {\r\n    const unhook = () => {\r\n      worker.onerror = null;\r\n      worker.onmessage = null;\r\n    };\r\n\r\n    worker.onerror = error => reject(error);\r\n    worker.onmessage = (message: SaveParserResultEvent) => {\r\n      const { data } = message;\r\n      switch (data.type) {\r\n        case RESPONSE_PROGRESS:\r\n          onProgress && onProgress(data.message);\r\n          break;\r\n        case RESPONSE_PARSE_SUCCESS:\r\n          unhook();\r\n          accept(data.saveGame);\r\n          break;\r\n        case RESPONSE_PARSE_ERROR:\r\n          unhook();\r\n          reject(jsonToError(data.error));\r\n          break;\r\n      }\r\n    };\r\n  });\r\n\r\n  worker.postMessage(parseSaveCommand(data));\r\n\r\n  return promise;\r\n}\r\n\r\nexport function writeSave(\r\n  saveGame: SaveGame,\r\n  onProgress?: (message: string) => void\r\n): Promise<ArrayBuffer> {\r\n  const promise = new Promise<ArrayBuffer>((accept, reject) => {\r\n    const unhook = () => {\r\n      worker.onerror = null;\r\n      worker.onmessage = null;\r\n    };\r\n\r\n    worker.onerror = error => reject(error);\r\n    worker.onmessage = (message: SaveParserResultEvent) => {\r\n      const { data } = message;\r\n      switch (data.type) {\r\n        case RESPONSE_PROGRESS:\r\n          onProgress && onProgress(data.message);\r\n          break;\r\n        case RESPONSE_WRITE_SUCCESS:\r\n          unhook();\r\n          accept(data.data);\r\n          break;\r\n        case RESPONSE_WRITE_ERROR:\r\n          unhook();\r\n          reject(jsonToError(data.error));\r\n          break;\r\n      }\r\n    };\r\n  });\r\n\r\n  worker.postMessage(writeSaveCommand(saveGame));\r\n\r\n  return promise;\r\n}\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nexport const RESPONSE_PROGRESS = \"progress\";\r\nexport const sendProgress = (message: string) => ({\r\n  type: RESPONSE_PROGRESS as typeof RESPONSE_PROGRESS,\r\n  message\r\n});\r\nexport type ProgressResponse = ReturnType<typeof sendProgress>;\r\n\r\nconst COMMAND_PARSE = \"parse-save\";\r\nexport const parseSave = (data: ArrayBuffer) => ({\r\n  type: COMMAND_PARSE as typeof COMMAND_PARSE,\r\n  data\r\n});\r\nexport type ParseSaveCommand = ReturnType<typeof parseSave>;\r\n\r\nexport const RESPONSE_PARSE_SUCCESS = \"parse-save:success\";\r\nexport const parseSaveSuccess = (saveGame: SaveGame) => ({\r\n  type: RESPONSE_PARSE_SUCCESS as typeof RESPONSE_PARSE_SUCCESS,\r\n  saveGame\r\n});\r\nexport type ParseSaveSuccessResponse = ReturnType<typeof parseSaveSuccess>;\r\n\r\nexport const RESPONSE_PARSE_ERROR = \"parse-save:error\";\r\nexport const parseSaveError = (error: Error) => ({\r\n  type: RESPONSE_PARSE_ERROR as typeof RESPONSE_PARSE_ERROR,\r\n  error: errorToJson(error)\r\n});\r\nexport type ParseSaveErrorResponse = ReturnType<typeof parseSaveError>;\r\n\r\nexport type ParseSaveResponse =\r\n  | ParseSaveSuccessResponse\r\n  | ParseSaveErrorResponse\r\n  | ProgressResponse;\r\n\r\nconst COMMAND_WRITE = \"write-save\";\r\nexport const writeSave = (saveGame: SaveGame) => ({\r\n  type: COMMAND_WRITE as typeof COMMAND_WRITE,\r\n  saveGame\r\n});\r\nexport type WriteSaveCommand = ReturnType<typeof writeSave>;\r\n\r\nexport const RESPONSE_WRITE_SUCCESS = \"write-save:success\";\r\nexport const writeSaveSuccess = (data: ArrayBuffer) => ({\r\n  type: RESPONSE_WRITE_SUCCESS as typeof RESPONSE_WRITE_SUCCESS,\r\n  data\r\n});\r\nexport type WriteSaveSuccessResponse = ReturnType<typeof writeSaveSuccess>;\r\n\r\nexport const RESPONSE_WRITE_ERROR = \"write-save:error\";\r\nexport const writeSaveError = (error: Error) => ({\r\n  type: RESPONSE_WRITE_ERROR as typeof RESPONSE_WRITE_ERROR,\r\n  error: errorToJson(error)\r\n});\r\nexport type WriteSaveErrorResponse = ReturnType<typeof writeSaveError>;\r\n\r\nexport type WriteSaveResult =\r\n  | WriteSaveSuccessResponse\r\n  | WriteSaveErrorResponse\r\n  | ProgressResponse;\r\n\r\nexport type SaveParserCommand = ParseSaveCommand | WriteSaveCommand;\r\nexport type SaveParserResponse = ParseSaveResponse | WriteSaveResult;\r\n\r\nexport interface SaveParserCommandEvent extends MessageEvent {\r\n  data: SaveParserCommand;\r\n}\r\n\r\nexport interface SaveParserResultEvent extends MessageEvent {\r\n  data: SaveParserResponse;\r\n}\r\n\r\nexport interface ErrorJson {\r\n  name: string;\r\n  message: string;\r\n  stack?: string;\r\n}\r\nexport function errorToJson(e: Error): ErrorJson {\r\n  return {\r\n    name: e.name,\r\n    message: e.message,\r\n    stack: e.stack\r\n  };\r\n}\r\nexport function jsonToError(obj: ErrorJson): Error {\r\n  const e = new Error(obj.message);\r\n  e.name = obj.name;\r\n  e.stack = obj.stack;\r\n  return e;\r\n}\r\n","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"e341672810719035e241.worker.js\");\n};","import { eventChannel, END } from \"redux-saga\";\r\nimport { put, select, takeEvery, take } from \"redux-saga/effects\";\r\n\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { saveAs } from \"file-saver\";\r\n\r\nimport { ACTION_ONISAVE_SAVE, SaveOniSaveAction } from \"@/actions/save-onisave\";\r\n\r\nimport {\r\n  receiveOniSaveBegin,\r\n  receiveOniSaveError,\r\n  receiveOniSaveSuccess\r\n} from \"@/actions/receive-onisave\";\r\n\r\nimport { parseProgress } from \"@/actions/onisave-parse-progress\";\r\n\r\nimport { writeSave } from \"@/services/save-serializer\";\r\n\r\nimport oniSaveSelector from \"@/selectors/oni-save\";\r\n\r\nexport default function* saveEditorSaga() {\r\n  yield takeEvery(ACTION_ONISAVE_SAVE, handleOniSaveWrite);\r\n}\r\n\r\nfunction* handleOniSaveWrite(action: SaveOniSaveAction) {\r\n  const saveName = action.payload;\r\n\r\n  const saveGame: SaveGame | null = yield select(oniSaveSelector);\r\n  if (!saveGame) {\r\n    return;\r\n  }\r\n\r\n  yield put(receiveOniSaveBegin(\"saving\"));\r\n\r\n  const saveChannel = createSaveChannel(saveGame);\r\n\r\n  while (true) {\r\n    const msg = yield take(saveChannel);\r\n    if (msg.type === \"progress\") {\r\n      yield put(parseProgress(msg.message));\r\n      continue;\r\n    } else if (msg.type === \"success\") {\r\n      saveAs(msg.blob, saveName);\r\n      yield put(receiveOniSaveSuccess(saveGame));\r\n      return;\r\n    } else if (msg.type === \"error\") {\r\n      yield put(receiveOniSaveError(msg.error));\r\n      return;\r\n    }\r\n  }\r\n}\r\n\r\nfunction createSaveChannel(saveGame: SaveGame) {\r\n  return eventChannel(emitter => {\r\n    function onProgress(message: string) {\r\n      emitter({\r\n        type: \"progress\",\r\n        message\r\n      });\r\n    }\r\n\r\n    writeSave(saveGame, onProgress)\r\n      .then(data => {\r\n        const blob = new Blob([data]);\r\n        emitter({\r\n          type: \"success\",\r\n          blob\r\n        });\r\n        emitter(END);\r\n      })\r\n      .catch(error => {\r\n        emitter({\r\n          type: \"error\",\r\n          error\r\n        });\r\n        emitter(END);\r\n      });\r\n\r\n    //This is the cancellation func.\r\n    // TODO: We can support cancellation in oni-save-parser rather easily.\r\n    return () => {};\r\n  });\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { ACTION_RECEIVE_ONISAVE_SUCCESS } from \"@/actions/receive-onisave\";\r\nimport { AppState } from \"@/state\";\r\n\r\nexport function actionSanitizer(action: AnyAction): AnyAction {\r\n  if (action.type === ACTION_RECEIVE_ONISAVE_SUCCESS) {\r\n    return {\r\n      ...action,\r\n      payload: sanitizeSave(action.payload)\r\n    };\r\n  }\r\n  return action;\r\n}\r\n\r\nexport function stateSanitizer(state: AppState): any {\r\n  return {\r\n    ...state,\r\n    oniSave: state.oniSave ? sanitizeSave(state.oniSave) : null\r\n  };\r\n}\r\n\r\nfunction sanitizeSave(save: SaveGame): any {\r\n  return {\r\n    ...save,\r\n    world: {\r\n      ...save.world,\r\n      streamed: \"~snip~\"\r\n    }\r\n  };\r\n}\r\n","import App from \"./App\";\r\nexport default App;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport i18n from \"@/i18n\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NoSave from \"@/pages/NoSave\";\r\nimport ErrorPage from \"@/pages/Error\";\r\nimport Loading from \"@/pages/Loading\";\r\nimport SaveEditor from \"@/pages/SaveEditor\";\r\n\r\nimport AppContainer from \"./components/AppContainer\";\r\nimport AppContent from \"./components/AppContent\";\r\nimport NavBarContainer from \"./components/NavBar\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass App extends React.Component<Props> {\r\n  render() {\r\n    const { error, loadingState, onDismissError } = this.props;\r\n\r\n    let element: JSX.Element;\r\n\r\n    if (error) {\r\n      element = <ErrorPage error={error} onDismiss={onDismissError} />;\r\n    } else {\r\n      switch (loadingState) {\r\n        case \"idle\":\r\n          element = <NoSave />;\r\n          break;\r\n        case \"loading\":\r\n        case \"saving\":\r\n          element = <Loading />;\r\n          break;\r\n        case \"ready\":\r\n          element = <SaveEditor />;\r\n          break;\r\n        default:\r\n          element = <div>???</div>;\r\n          break;\r\n      }\r\n    }\r\n\r\n    return (\r\n      <AppContainer>\r\n        <NavBarContainer />\r\n        <AppContent>{element}</AppContent>\r\n      </AppContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(App);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport error from \"@/selectors/error\";\r\nimport loadingState from \"@/selectors/loading-state\";\r\n\r\nconst stateSelectors = {\r\n  loadingState,\r\n  error\r\n};\r\nexport type StateProps = StructuredStateProps<typeof stateSelectors>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  stateSelectors\r\n);\r\nexport default mapStateToProps;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst errorSelector = (state: AppState) => state.error;\r\nexport default errorSelector;\r\n","import { dismissError } from \"@/actions/dismiss-error\";\r\n\r\nconst mapDispatchToProps = {\r\n  onDismissError: dismissError\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import NoSave from \"./NoSave\";\r\nexport default NoSave;\r\n","import * as React from \"react\";\r\n\r\nimport { Trans, translate } from \"react-i18next\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport { OSType } from \"@/runtime-env\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport Text from \"@/components/Text\";\r\nimport Code from \"@/components/Code\";\r\n\r\nconst SaveFilePaths: Record<OSType, string | null> = {\r\n  windows: \"Documents/Klei/OxygenNotIncluded/save_files\",\r\n  mac: null,\r\n  linux: \"~/.config/unity3d/Klei/Oxygen Not Included/save_files\",\r\n  unknown: null\r\n};\r\n\r\nconst NoSave: React.SFC = () => (\r\n  <NonIdealState intent={Intent.Hint} header={\"No File Loaded\"}>\r\n    <Text intent={Intent.Hint}>\r\n      <div>\r\n        <Trans i18nKey=\"save-file.instructions\">\r\n          Load a save using the controls on the upper left.\r\n        </Trans>\r\n      </div>\r\n      {SaveFilePaths[OSType] && (\r\n        <div>\r\n          <Trans\r\n            i18nKey=\"save-file.save-location\"\r\n            defaults=\"Save files can be found at <0>{{path}}</0>\"\r\n            values={{ path: SaveFilePaths[OSType] }}\r\n            components={[<Code />]}\r\n          />\r\n        </div>\r\n      )}\r\n    </Text>\r\n  </NonIdealState>\r\n);\r\nNoSave.displayName = \"NoSavePage\";\r\nexport default translate()(NoSave);\r\n","import { FontSizeProps, fontSize } from \"styled-system\";\r\n\r\nimport styled, {\r\n  BorderProps,\r\n  IntentBorderProps,\r\n  border,\r\n  intentBorder,\r\n  Intent,\r\n  Radius,\r\n  FontSize\r\n} from \"@/style\";\r\n\r\nexport interface CodeStyleProps\r\n  extends FontSizeProps,\r\n    BorderProps,\r\n    IntentBorderProps {}\r\n\r\nconst Code = styled<CodeStyleProps, \"code\">(\"code\")`\r\n  ${fontSize};\r\n  ${intentBorder};\r\n  ${border};\r\n\r\n  margin: 0 4px;\r\n  padding: 1px 2px;\r\n  box-sizing: border-box;\r\n  font-family: monospace;\r\n`;\r\nCode.displayName = \"Code\";\r\n\r\nCode.defaultProps = {\r\n  fontSize: FontSize.Default,\r\n  intent: Intent.Hint,\r\n  borderRadius: Radius.Small\r\n};\r\n\r\nexport default Code;\r\n","import ErrorPage from \"./Error\";\r\nexport default ErrorPage;\r\n","import * as React from \"react\";\r\nimport { Trans, translate } from \"react-i18next\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\nimport Button from \"@/components/Button\";\r\nimport Text from \"@/components/Text\";\r\nimport { Intent } from \"@/style\";\r\n\r\nexport interface ErrorProps {\r\n  error: Error;\r\n  onDismiss(): void;\r\n}\r\n\r\nconst ErrorPage: React.SFC<ErrorProps> = ({ error, onDismiss }) => (\r\n  <Flex direction=\"column\" width=\"100%\" height=\"100%\">\r\n    <Flex.Item grow>\r\n      <Text intent={Intent.Dangerous}>\r\n        <h2>Error</h2>\r\n        <code>{error.stack || error.message || String(error)}</code>\r\n      </Text>\r\n    </Flex.Item>\r\n    <Flex.Item>\r\n      <Button intent={Intent.Primary} onClick={onDismiss}>\r\n        <Trans i18nKey=\"close-dialog\">Close</Trans>\r\n      </Button>\r\n    </Flex.Item>\r\n  </Flex>\r\n);\r\nErrorPage.displayName = \"Error\";\r\nexport default translate()(ErrorPage);\r\n","import Loading from \"./Loading\";\r\nexport default Loading;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Trans, translate } from \"react-i18next\";\r\n\r\nimport { Intent, Space } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport Box from \"@/components/Box\";\r\n\r\ntype Props = StateProps;\r\nconst Loading: React.SFC<Props> = ({\r\n  loadingState,\r\n  loadingProgressMessageSelector\r\n}) => (\r\n  <Box p={Space.Large}>\r\n    <Text intent={Intent.Primary}>\r\n      {loadingState === \"loading\" ? (\r\n        <Trans i18nKey=\"save-file.loading\">Loading</Trans>\r\n      ) : (\r\n        <Trans i18nKey=\"save-file.saving\">Saving</Trans>\r\n      )}\r\n    </Text>\r\n    <br />\r\n    <Text intent={Intent.Secondary}>{loadingProgressMessageSelector}</Text>\r\n  </Box>\r\n);\r\nLoading.displayName = \"LoadingPage\";\r\nexport default connect(mapStateToProps)(translate()(Loading));\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport loadingState from \"@/selectors/loading-state\";\r\nimport loadingProgressMessageSelector from \"@/selectors/loading-message\";\r\n\r\nconst structuredSelector = {\r\n  loadingState,\r\n  loadingProgressMessageSelector\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst loadingProgressMessageSelector = (state: AppState) =>\r\n  state.loadingProgressMessage;\r\nexport default loadingProgressMessageSelector;\r\n","import SaveEditor from \"./SaveEditor\";\r\nexport default SaveEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport SelectedPathBreadcrumb from \"@/components/SelectedPathBreadcrumb\";\r\nimport ResizePanel from \"@/components/ResizePanel\";\r\n\r\nimport { editorFromSaveItem } from \"./components/editors\";\r\n\r\nimport SaveEditorContainer from \"./components/SaveEditorContainer\";\r\nimport ContentContainer from \"./components/ContentContainer\";\r\nimport EditorContainer from \"./components/EditorContainer\";\r\n\r\nimport Sidebar from \"./components/Sidebar\";\r\nimport Separator from \"@/components/Separator\";\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport { Intent } from \"@/style\";\r\n\r\ntype Props = StateProps;\r\nclass SaveEditor extends React.Component<Props> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selectedPath: null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { selectedPath, oniSave } = this.props;\r\n\r\n    if (!oniSave) {\r\n      return (\r\n        <SaveEditorContainer>\r\n          <NonIdealState intent={Intent.Dangerous}>\r\n            <Trans i18nKey=\"save-file.not-loaded\">\r\n              No save has been loaded\r\n            </Trans>\r\n          </NonIdealState>\r\n        </SaveEditorContainer>\r\n      );\r\n    }\r\n\r\n    const ObjectEditor = editorFromSaveItem(selectedPath, oniSave);\r\n\r\n    return (\r\n      <SaveEditorContainer>\r\n        <ResizePanel>\r\n          <Sidebar />\r\n        </ResizePanel>\r\n        <ContentContainer>\r\n          <SelectedPathBreadcrumb />\r\n          <Separator width=\"100%\" />\r\n          <EditorContainer>\r\n            <ObjectEditor />\r\n          </EditorContainer>\r\n        </ContentContainer>\r\n      </SaveEditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(SaveEditor);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\n\r\nconst stateSelectors = {\r\n  oniSave,\r\n  selectedPath\r\n};\r\nexport type StateProps = StructuredStateProps<typeof stateSelectors>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  stateSelectors\r\n);\r\nexport default mapStateToProps;\r\n","import SelectedPathBreadcrumb from \"./SelectedPathBreadcrumb\";\r\nexport default SelectedPathBreadcrumb;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\n\r\nimport BreadcrumbContainer from \"./components/BreadcrumbContainer\";\r\n\r\ntype Props = StateProps;\r\nclass SelectedPathBreadcrumb extends React.Component<Props> {\r\n  render() {\r\n    const { breadcrumb } = this.props;\r\n    let links: React.ReactNode[] = [];\r\n    for (let i = 0; i < breadcrumb.length; i++) {\r\n      let isFinal = i + 1 === breadcrumb.length;\r\n      const x = breadcrumb[i];\r\n      const key = x.path.join(\".\");\r\n      links.push(\r\n        <SaveStructureLink\r\n          intent={isFinal ? Intent.Primary : Intent.Secondary}\r\n          key={key}\r\n          path={x.path}\r\n        >\r\n          {x.title}\r\n        </SaveStructureLink>\r\n      );\r\n      if (!isFinal) {\r\n        links.push(<Text key={`${key}:sep`}>{\" > \"}</Text>);\r\n      }\r\n    }\r\n    return <BreadcrumbContainer>{links}</BreadcrumbContainer>;\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(SelectedPathBreadcrumb);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport breadcrumb from \"@/selectors/selected-path-breadcrumb\";\r\n\r\nconst structuredSelector = {\r\n  breadcrumb\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { createSelector } from \"reselect\";\r\n\r\nimport { getSaveItemBreadcrumb } from \"@/services/save-structure\";\r\n\r\nimport selectedPath from \"./selected-path\";\r\nimport oniSave from \"./oni-save\";\r\n\r\nconst selectedPathBreadcrumbSelector = createSelector(\r\n  selectedPath,\r\n  oniSave,\r\n  (selectedPath, oniSave) =>\r\n    oniSave ? getSaveItemBreadcrumb(selectedPath, oniSave) : []\r\n);\r\nexport default selectedPathBreadcrumbSelector;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport styled from \"@/style\";\r\n\r\nimport { LinkProps, link } from \"@/style\";\r\n\r\nimport { SaveStructureLinkProps } from \"./props\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\ntype Props = SaveStructureLinkProps & DispatchProps;\r\nclass SaveStructureLink extends React.Component<Props> {\r\n  render() {\r\n    const { intent, children } = this.props;\r\n    return (\r\n      <Link intent={intent} onClick={this._onClick}>\r\n        {children}\r\n      </Link>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onClick() {\r\n    const { path, onClick } = this.props;\r\n    onClick(path);\r\n  }\r\n}\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(SaveStructureLink);\r\n\r\nconst Link = styled<LinkProps, \"span\">(\"span\")`\r\n  ${link};\r\n`;\r\n","import { selectPath } from \"@/actions/select-path\";\r\n\r\nconst mapDispatchToProps = {\r\n  onClick: selectPath\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import styled, { Space } from \"@/style\";\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst BreadcrumbContainer = styled.div`\r\n  margin-bottom: ${props => getTheme(props).space[Space.Small]}px;\r\n`;\r\nBreadcrumbContainer.displayName = \"BreadcrumbContainer\";\r\nexport default BreadcrumbContainer;\r\n","import ResizePanel from \"./ResizePanel\";\r\nexport default ResizePanel;\r\n","import * as React from \"react\";\r\n\r\nimport { HeightProps, height } from \"styled-system\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport ResizeHandle from \"./components/ResizeHandle\";\r\nimport styled from \"@/style\";\r\n\r\nexport interface ResizePanelProps extends HeightProps {\r\n  className?: string;\r\n  defaultWidth?: number;\r\n}\r\ninterface State {\r\n  width: number;\r\n}\r\ntype Props = ResizePanelProps;\r\nclass ResizePanel extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      width: props.defaultWidth || 300\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { className, children } = this.props;\r\n    const { width } = this.state;\r\n    // TODO: too many wrapping divs.\r\n    //  Provide a way to apply flex to an existing item.\r\n    return (\r\n      <Flex className={className} direction=\"row\">\r\n        <Flex.Item style={{ width }}>{children}</Flex.Item>\r\n        <Flex.Item>\r\n          <ResizeHandle onResize={this._onResize} />\r\n        </Flex.Item>\r\n      </Flex>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onResize(delta: number) {\r\n    this.setState(s => ({\r\n      width: s.width + delta\r\n    }));\r\n  }\r\n}\r\n\r\nexport default styled(ResizePanel)`\r\n  ${height};\r\n`;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { DraggableCore, DraggableData } from \"react-draggable\";\r\n\r\nimport ResizeHandleVisual from \"./ResizeHandleVisual\";\r\n\r\nexport interface ResizeHandleProps {\r\n  onResize(delta: number): void;\r\n}\r\n\r\ntype Props = ResizeHandleProps;\r\ninterface State {\r\n  isResizing: boolean;\r\n}\r\nclass ResizeHandle extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isResizing: false\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <DraggableCore\r\n        onStart={this._onStart}\r\n        onStop={this._onStop}\r\n        onDrag={this._onDrag}\r\n      >\r\n        <ResizeHandleVisual isResizing={this.state.isResizing} />\r\n      </DraggableCore>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onDrag(e: MouseEvent, d: DraggableData) {\r\n    const { onResize } = this.props;\r\n    onResize(d.deltaX);\r\n  }\r\n\r\n  @autobind()\r\n  private _onStart() {\r\n    this.setState({\r\n      isResizing: true\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _onStop() {\r\n    this.setState({\r\n      isResizing: false\r\n    });\r\n  }\r\n}\r\nexport default ResizeHandle;\r\n","import styled, { Intent, intentFill, getThemeColor, Color } from \"@/style\";\r\n\r\nexport interface ResizeHandleVisualProps {\r\n  isResizing: boolean;\r\n}\r\nconst ResizeHandleVisual = styled<ResizeHandleVisualProps, \"div\">(\"div\")`\r\n  width: 4px;\r\n  height: 100%;\r\n  background-color: ${props =>\r\n    getThemeColor(\r\n      props.isResizing ? Color.PrimaryIntent : Color.DefaultSeparator\r\n    )};\r\n  flex: none;\r\n  cursor: ew-resize;\r\n\r\n  :hover {\r\n    ${intentFill.of(Intent.Primary)};\r\n  }\r\n`;\r\nexport default ResizeHandleVisual;\r\n","export * from \"./from-saveitem\";\r\n","import * as React from \"react\";\r\n\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { getSaveItemType } from \"@/services/save-structure\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\n\r\nimport { editorFromGameObjectType } from \"./game-objects\";\r\n\r\nimport DefaultObjectEditor from \"./DefaultObjectEditor\";\r\nimport DefaultGameObjectEditor from \"./game-objects/DefaultGameObjectEditor\";\r\n\r\nimport SaveRootEditor from \"./SaveRootEditor\";\r\nimport TemplateObjectEditor from \"./TemplateObjectEditor\";\r\nimport GameObjectGroupList from \"./GameObjectGroupList\";\r\nimport GameObjectList from \"./GameObjectList\";\r\n\r\nexport function editorFromSaveItem(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): React.ComponentType<{}> {\r\n  const itemType = getSaveItemType(path, saveGame);\r\n  if (itemType == null) {\r\n    return DefaultObjectEditor;\r\n  }\r\n  switch (itemType.type) {\r\n    case \"save-root\":\r\n      return SaveRootEditor;\r\n    case \"template-object\":\r\n      return itemType.subType\r\n        ? () => <TemplateObjectEditor templateName={itemType.subType!} />\r\n        : DefaultObjectEditor;\r\n    case \"game-object-group-list\":\r\n      return GameObjectGroupList;\r\n    case \"game-object-group\":\r\n      return GameObjectList;\r\n    case \"game-object-list\":\r\n      return () => <GameObjectList isFlatList={true} />;\r\n    case \"game-object\":\r\n      return (\r\n        (itemType.subType &&\r\n          editorFromGameObjectType(itemType.subType, path, saveGame)) ||\r\n        DefaultGameObjectEditor\r\n      );\r\n    case \"game-object-behavior\":\r\n      return () => (\r\n        <Text intent={Intent.Dangerous}>TODO Behavior root page</Text>\r\n      );\r\n  }\r\n\r\n  return DefaultObjectEditor;\r\n}\r\n","export * from \"./from-type\";\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nimport DefaultGameObjectEditor from \"./DefaultGameObjectEditor\";\r\n\r\nimport MinionEditor from \"./MinionEditor\";\r\n\r\nexport function editorFromGameObjectType(\r\n  type: string,\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): React.ComponentType<{}> {\r\n  switch (type) {\r\n    case \"Minion\":\r\n      return MinionEditor;\r\n  }\r\n  return DefaultGameObjectEditor;\r\n}\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport FormGroup from \"@/components/FormGroup\";\r\nimport EditModeCondition from \"@/components/EditModeCondition\";\r\n\r\nimport NumericField from \"@/pages/SaveEditor/components/fields/NumericField\";\r\n\r\nimport EditorContainer from \"../../components/EditorContainer\";\r\nimport GameObjectHeader from \"../components/GameObjectHeader\";\r\n\r\ntype Props = StateProps;\r\nclass DefaultGameObjectEditor extends React.Component<Props> {\r\n  render() {\r\n    const { gameObjectPath, gameObjectName } = this.props;\r\n    if (!gameObjectPath) {\r\n      <NonIdealState intent={Intent.Dangerous} header=\"No GameObject Selected\">\r\n        No object is selected, or the selected object is not a GameObject.\r\n      </NonIdealState>;\r\n    }\r\n\r\n    return (\r\n      <EditorContainer\r\n        header={<GameObjectHeader>{gameObjectName}</GameObjectHeader>}\r\n      >\r\n        <FormGroup label=\"Position\">\r\n          <FormGroup label=\"X\" inline>\r\n            <NumericField\r\n              precision=\"single\"\r\n              path={[...gameObjectPath, \"position\", \"x\"]}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Y\" inline>\r\n            <NumericField\r\n              precision=\"single\"\r\n              path={[...gameObjectPath, \"position\", \"y\"]}\r\n            />\r\n          </FormGroup>\r\n          <EditModeCondition editMode=\"advanced\">\r\n            <FormGroup label=\"Z\" inline>\r\n              <NumericField\r\n                precision=\"single\"\r\n                path={[...gameObjectPath, \"position\", \"z\"]}\r\n              />\r\n            </FormGroup>\r\n          </EditModeCondition>\r\n        </FormGroup>\r\n        <FormGroup label=\"Scale\">\r\n          <FormGroup label=\"X\" inline>\r\n            <NumericField\r\n              precision=\"single\"\r\n              path={[...gameObjectPath, \"scale\", \"x\"]}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Y\" inline>\r\n            <NumericField\r\n              precision=\"single\"\r\n              path={[...gameObjectPath, \"scale\", \"y\"]}\r\n            />\r\n          </FormGroup>\r\n        </FormGroup>\r\n      </EditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(DefaultGameObjectEditor);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { KPrefabIDBehavior, getBehavior, GameObject } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getLastSaveItemOfType } from \"@/services/save-structure\";\r\n\r\nimport selectedValue from \"@/selectors/selected-value\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nconst structuredSelector = {\r\n  gameObjectPath: selectedPath,\r\n  gameObjectName: createSelector(\r\n    selectedValue,\r\n    selectedPath,\r\n    oniSave,\r\n    (selectedValue, selectedPath, oniSave) => {\r\n      if (!oniSave) {\r\n        return \"[no save loaded]\";\r\n      }\r\n\r\n      if (!selectedValue) {\r\n        return \"[no value selected]\";\r\n      }\r\n\r\n      const prefabIdBehavior = getBehavior(selectedValue, KPrefabIDBehavior);\r\n      let prefabId =\r\n        (prefabIdBehavior &&\r\n          prefabIdBehavior.templateData &&\r\n          prefabIdBehavior.templateData.InstanceID) ||\r\n        \"[no instance id]\";\r\n\r\n      const found = getLastSaveItemOfType(\r\n        \"game-object-group\",\r\n        selectedPath,\r\n        oniSave\r\n      );\r\n\r\n      return `${found ? found.item.name : \"[unknown]\"} #${prefabId}`;\r\n    }\r\n  )\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { EditMode } from \"@/services/save-structure\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nexport interface EditModeConditionProps {\r\n  editMode?: EditMode;\r\n}\r\ntype Props = EditModeConditionProps & StateProps;\r\nclass EditModeCondition extends React.Component<Props> {\r\n  render() {\r\n    const { currentEditMode, editMode, children } = this.props;\r\n    if (currentEditMode !== editMode) {\r\n      return null;\r\n    }\r\n\r\n    return children;\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(EditModeCondition);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport editMode from \"@/selectors/edit-mode\";\r\n\r\nconst structuredSelector = {\r\n  currentEditMode: editMode\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import createCachedSelector from \"re-reselect\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nimport { EditorFieldProps } from \"./props\";\r\n\r\nconst itemPathSelector = (_: AppState, props: EditorFieldProps) => props.path;\r\n\r\nconst cacheKeyGenerator = (_: AppState, props: EditorFieldProps) =>\r\n  props.path.join(\".\");\r\n\r\nconst itemValue = createCachedSelector(\r\n  itemPathSelector,\r\n  oniSave,\r\n  (path, oniSave) => {\r\n    if (path.length === 0) {\r\n      return oniSave;\r\n    }\r\n    return get(oniSave, path);\r\n  }\r\n)(cacheKeyGenerator);\r\n\r\nfunction mapStateToProps(state: AppState, props: EditorFieldProps) {\r\n  return {\r\n    value: itemValue(state, props)\r\n  };\r\n}\r\nexport type StateProps = ReturnType<typeof mapStateToProps>;\r\nexport default mapStateToProps;\r\n","import { modifyOniSave } from \"@/actions/modify-onisave\";\r\n\r\nimport { EditorFieldProps } from \"./props\";\r\nimport { Dispatch } from \"redux\";\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch, props: EditorFieldProps) {\r\n  return {\r\n    onCommit(value: any) {\r\n      if (props.writeTo) {\r\n        props.writeTo.forEach(path => {\r\n          dispatch(modifyOniSave(props.path, value));\r\n        });\r\n      } else {\r\n        dispatch(modifyOniSave(props.path, value));\r\n      }\r\n    }\r\n  };\r\n}\r\nexport type DispatchProps = ReturnType<typeof mapDispatchToProps>;\r\nexport default mapDispatchToProps;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent, FontSize } from \"@/style\";\r\n\r\nimport { formatPosition, formatSimHash, formatDisease } from \"@/format\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Toolbar from \"@/components/Toolbar\";\r\nimport Text from \"@/components/Text\";\r\n\r\nimport GameObjectHeaderContainer from \"./components/GameObjectHeaderContainer\";\r\n\r\ntype Props = StateProps;\r\nclass GameObjectHeader extends React.Component<Props> {\r\n  render() {\r\n    const { position, primaryElement } = this.props;\r\n    return (\r\n      <GameObjectHeaderContainer>\r\n        <Toolbar>\r\n          <Toolbar.Label>{this.props.children}</Toolbar.Label>\r\n\r\n          <Toolbar.Group align=\"center\" alignContent=\"center\">\r\n            <Text\r\n              intent={Intent.Secondary}\r\n              mr={1}\r\n              whiteSpace=\"nowrap\"\r\n              fontSize={FontSize.Default}\r\n            >\r\n              {position ? formatPosition(position) : \"(no object selected)\"}\r\n            </Text>\r\n          </Toolbar.Group>\r\n\r\n          <Toolbar.Group align=\"right\" alignContent=\"center\">\r\n            {primaryElement && (\r\n              <Text\r\n                intent={Intent.Secondary}\r\n                mr={1}\r\n                fontSize={FontSize.Default}\r\n              >\r\n                {formatSimHash(primaryElement)}\r\n              </Text>\r\n            )}\r\n          </Toolbar.Group>\r\n        </Toolbar>\r\n      </GameObjectHeaderContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(GameObjectHeader);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport {\r\n  GameObject,\r\n  PrimaryElementBehavior,\r\n  getBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport selectedValue from \"@/selectors/selected-value\";\r\n\r\nconst position = createSelector(\r\n  selectedValue,\r\n  (value: GameObject) => value && value.position\r\n);\r\n\r\nconst primaryElementBehavior = createSelector(selectedValue, value => {\r\n  if (!value) {\r\n    return null;\r\n  }\r\n\r\n  return getBehavior(value, PrimaryElementBehavior);\r\n});\r\n\r\nconst primaryElement = createSelector(primaryElementBehavior, behavior => {\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n\r\n  return behavior.templateData.ElementID;\r\n});\r\n\r\nconst structuredSelector = {\r\n  position,\r\n  primaryElement\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import * as CSS from \"csstype\";\r\n\r\nimport { BgColorProps, bgColor } from \"styled-system\";\r\n\r\nimport styled, { TextProps, css, text, getTheme, Space, Color } from \"@/style\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nexport interface ToolbarItemProps {\r\n  align?: \"left\" | \"center\" | \"right\";\r\n  alignContent?: CSS.AlignContentProperty;\r\n}\r\nconst toolbarItem = css<ToolbarItemProps>`\r\n  grid-area: ${props => props.align};\r\n  justify-self: ${props => props.align};\r\n  align-self: ${props => props.alignContent || \"baseline\"};\r\n`;\r\n\r\nexport type ToolbarLabelProps = ToolbarItemProps & TextProps;\r\nconst ToolbarLabel = styled<ToolbarLabelProps, \"label\">(\"label\")`\r\n  ${text};\r\n  ${toolbarItem};\r\n`;\r\nToolbarLabel.defaultProps = {\r\n  align: \"left\"\r\n};\r\nToolbarLabel.displayName = \"ToolbarLabel\";\r\n\r\nexport type ToolbarGroupProps = ToolbarItemProps;\r\nconst ToolbarGroup = styled<ToolbarGroupProps, \"div\">(\"div\")`\r\n  display: inline-block;\r\n  ${toolbarItem};\r\n`;\r\nToolbarGroup.defaultProps = {\r\n  align: \"right\"\r\n};\r\nToolbarGroup.displayName = \"ToolbarButtonGroup\";\r\n\r\nexport type ToolbarProps = BgColorProps;\r\nconst Toolbar = styled<ToolbarProps, \"div\">(\"div\")`\r\n  width: 100%;\r\n  height: auto;\r\n  display: grid;\r\n  padding: 0px ${props => getTheme(props).space[Space.Small]}px;\r\n  box-sizing: border-box;\r\n  grid-template-columns: [left] 1fr [center] 1fr [right] 1fr;\r\n  ${bgColor};\r\n`;\r\nToolbar.defaultProps = {\r\n  bg: Color.PanelBackground\r\n};\r\nToolbar.displayName = \"Toolbar\";\r\n\r\nexport default attachProps(Toolbar, {\r\n  Label: ToolbarLabel,\r\n  Group: ToolbarGroup\r\n});\r\n","import Box from \"@/components/Box\";\r\n\r\nconst GameObjectHeaderContainer = Box;\r\nGameObjectHeaderContainer.displayName = \"GameObjectHeaderContainer\";\r\nexport default GameObjectHeaderContainer;\r\n","import MinionEditor from \"./MinionEditor\";\r\nexport default MinionEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport VerticalTabs from \"@/components/VerticalTabs\";\r\n\r\nimport EditorContainer from \"../../components/EditorContainer\";\r\n\r\nimport GameObjectHeader from \"../components/GameObjectHeader\";\r\n\r\nimport MinionHeader from \"./components/MinionEditableName\";\r\nimport MinionAppearanceTab from \"./components/MinionAppearanceTab\";\r\nimport MinionAptitudesTab from \"./components/MinionAptitudesTab\";\r\nimport MinionEffectsTab from \"./components/MinionEffectsTab\";\r\nimport MinionHealthTab from \"./components/MinionHealthTab\";\r\nimport MinionJobsTab from \"./components/MinionJobsTab\";\r\nimport MinionSkillsTab from \"./components/MinionSkillsTab\";\r\nimport MinionTraitsTab from \"./components/MinionTraitsTab\";\r\nimport MinionPositionTab from \"./components/MinionPositionTab\";\r\n\r\ntype Props = StateProps;\r\nclass DuplicantEditor extends React.Component<Props> {\r\n  render() {\r\n    const { minionNamePath, gameObjectPath } = this.props;\r\n    if (!minionNamePath) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"Malformed Data\">\r\n          Duplicant is missing the MinionIdentity behavior.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <EditorContainer\r\n        header={\r\n          <GameObjectHeader>\r\n            <MinionHeader minionNamePath={minionNamePath} />\r\n          </GameObjectHeader>\r\n        }\r\n      >\r\n        <VerticalTabs width=\"100%\" height=\"100%\">\r\n          <VerticalTabs.Tab tabKey=\"appearance\" header=\"Appearance\">\r\n            <MinionAppearanceTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"health\" header=\"Health\">\r\n            <MinionHealthTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"traits\" header=\"Traits\">\r\n            <MinionTraitsTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"skills\" header=\"Skills\">\r\n            <MinionSkillsTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"jobs\" header=\"Jobs\">\r\n            <MinionJobsTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"aptitude\" header=\"Aptitudes\">\r\n            <MinionAptitudesTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"effects\" header=\"Effects\">\r\n            <MinionEffectsTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"position\" header=\"Position\">\r\n            <MinionPositionTab />\r\n          </VerticalTabs.Tab>\r\n        </VerticalTabs>\r\n      </EditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(DuplicantEditor);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\nimport { MinionIdentityBehavior, GameObject } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport selectedPath from \"@/selectors/selected-path\";\r\nimport oniSave from \"@/selectors/oni-save\";\r\nimport { get } from \"lodash-es\";\r\n\r\nconst structuredSelector = {\r\n  gameObjectPath: selectedPath,\r\n  minionNamePath: createSelector(selectedPath, oniSave, (path, oniSave) => {\r\n    const gameObject: GameObject = get(oniSave, path);\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n    const behaviorIndex = gameObject.behaviors.findIndex(\r\n      x => x.name === MinionIdentityBehavior\r\n    );\r\n    if (behaviorIndex === -1) {\r\n      return null;\r\n    }\r\n    return [...path, \"behaviors\", `${behaviorIndex}`, \"templateData\", \"name\"];\r\n  })\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import VerticalTabs from \"./VerticalTabs\";\r\nexport default VerticalTabs;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { BoxProps } from \"@/components/Box\";\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport TabContent from \"./components/TabContent\";\r\nimport VerticalTabItem from \"./components/VerticalTabItem\";\r\n\r\nimport Tab, { TabProps } from \"./components/Tab\";\r\n\r\nexport interface VerticalTabsProps extends BoxProps {}\r\n\r\ntype Props = VerticalTabsProps;\r\ninterface State {\r\n  selectedKey: string | number | null;\r\n}\r\nclass VerticalTabs extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selectedKey: null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    let { children } = this.props;\r\n    let { selectedKey } = this.state;\r\n\r\n    const tabs = React.Children.map(\r\n      children,\r\n      x =>\r\n        React.isValidElement<TabProps>(x) && x.props.tabKey && x.props.header\r\n          ? x\r\n          : null\r\n    ).filter(x => x !== null) as React.ReactElement<TabProps>[];\r\n\r\n    if (selectedKey == null && tabs.length > 0) {\r\n      selectedKey = tabs[0].props.tabKey;\r\n    }\r\n\r\n    const tabItems = tabs.map((tab, i) => (\r\n      <VerticalTabItem\r\n        key={tab.props.tabKey}\r\n        isSelected={tab.props.tabKey === selectedKey}\r\n        onClick={this._onTabItemClick.bind(this, tab.props.tabKey)}\r\n      >\r\n        {tab.props.header}\r\n      </VerticalTabItem>\r\n    ));\r\n\r\n    const content = selectedKey\r\n      ? tabs.find(x => x.props.tabKey === selectedKey)\r\n      : undefined;\r\n\r\n    return (\r\n      <Flex {...this.props} direction=\"row\">\r\n        <Flex.Item shrink>{tabItems}</Flex.Item>\r\n        <TabContent>{content}</TabContent>\r\n      </Flex>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onTabItemClick(key: string | number) {\r\n    this.setState({\r\n      selectedKey: key\r\n    });\r\n  }\r\n}\r\n\r\nexport { TabProps } from \"./components/Tab\";\r\nexport default attachProps(VerticalTabs, {\r\n  Tab\r\n});\r\n","import * as React from \"react\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nconst TabContent: React.SFC = ({ children }) => (\r\n  <Flex.Item grow shrink pl={1}>\r\n    {children}\r\n  </Flex.Item>\r\n);\r\nTabContent.displayName = \"TabContent\";\r\nexport default TabContent;\r\n","import styled, { getTheme, intent, Intent, Space } from \"@/style\";\r\n\r\nexport interface TabProps {\r\n  isSelected?: boolean;\r\n}\r\n\r\nconst VerticalTabItem = styled<TabProps, \"div\">(\"div\")`\r\n  cursor: pointer;\r\n\r\n  padding: ${props => getTheme(props).space[Space.Small]}px;\r\n\r\n  ${props =>\r\n    props.isSelected\r\n      ? intent.of(Intent.Primary)\r\n      : intent.of(Intent.Secondary)} :not(:last-child) {\r\n    border-bottom: ${props => {\r\n      const theme = getTheme(props);\r\n      return `${theme.borders[1]} ${theme.colors.intent.secondary}`;\r\n    }};\r\n  }\r\n\r\n  ${props => {\r\n    const theme = getTheme(props);\r\n    return `border-right: ${theme.borders[1]} ${\r\n      props.isSelected ? \"transparent\" : theme.colors.intent.secondary\r\n    }`;\r\n  }};\r\n`;\r\nVerticalTabItem.displayName = \"VerticalTabItem\";\r\nexport default VerticalTabItem;\r\n","import * as React from \"react\";\r\n\r\nexport interface TabProps {\r\n  tabKey: string | number;\r\n  header: React.ReactChild;\r\n}\r\n\r\nconst Tab: React.SFC<TabProps> = ({ children }) => (\r\n  <React.Fragment>{children}</React.Fragment>\r\n);\r\nTab.displayName = \"Tab\";\r\nexport default Tab;\r\n","import * as React from \"react\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport EditableTextField from \"@/pages/SaveEditor/components/fields/EditableTextField\";\r\n\r\nimport EditorHeader from \"../../../components/EditorHeader\";\r\n\r\nexport interface MinionHeaderProps {\r\n  minionNamePath: string[];\r\n}\r\nconst MinionHeader: React.SFC<MinionHeaderProps> = ({ minionNamePath }) => (\r\n  <React.Fragment>\r\n    <EditorHeader>\r\n      <Flex direction=\"row\">\r\n        <Flex.Item mr={1}>Name:</Flex.Item>\r\n        <Flex.Item grow shrink>\r\n          <EditableTextField intent={Intent.Primary} path={minionNamePath} />\r\n        </Flex.Item>\r\n      </Flex>\r\n    </EditorHeader>\r\n  </React.Fragment>\r\n);\r\nMinionHeader.displayName = \"MinionHeader\";\r\nexport default MinionHeader;\r\n","import connectEditorField from \"./connect-field\";\r\n\r\nimport EditableText from \"@/components/EditableText\";\r\n\r\nexport default connectEditorField()(EditableText);\r\n","import EditableText from \"./EditableText\";\r\nexport default EditableText;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Keys from \"@/keys\";\r\n\r\nimport { FontSize } from \"@/style\";\r\n\r\nimport { TextProps } from \"../Text\";\r\n\r\nimport EditableTextDisplay from \"./components/EditableTextDisplay\";\r\nimport EditableTextInput from \"./components/EditableTextInput\";\r\n\r\nimport Icon from \"@/components/Icon\";\r\n\r\nexport interface EditableTextProps extends TextProps {\r\n  className?: string;\r\n  value: string;\r\n  minLength?: number;\r\n  maxLength?: number;\r\n  onCommit(value: string): void;\r\n}\r\ntype Props = EditableTextProps;\r\ninterface State {\r\n  editValue: string | null;\r\n}\r\nexport default class EditableText extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      editValue: null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { className, value, intent } = this.props;\r\n    const { editValue } = this.state;\r\n\r\n    if (editValue !== null) {\r\n      return (\r\n        <EditableTextInput\r\n          className={className}\r\n          autoFocus\r\n          intent={intent}\r\n          value={editValue}\r\n          onChange={this._onEditableChange}\r\n          onKeyUp={this._onEditableKeyUp}\r\n          onFocus={this._onEditableFocus}\r\n          onBlur={this._onEditableBlur}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <span onClick={this._onTextClick} title=\"Click to Edit\">\r\n          <EditableTextDisplay className={className} intent={intent}>\r\n            {value}\r\n          </EditableTextDisplay>\r\n          <Icon.Pencil fontSize={FontSize.Small} />\r\n        </span>\r\n      );\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onTextClick() {\r\n    const { value } = this.props;\r\n    this.setState({\r\n      editValue: value\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _onEditableChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    this.setState({\r\n      editValue: e.target.value\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _onEditableKeyUp(e: React.KeyboardEvent) {\r\n    switch (e.key) {\r\n      case Keys.Enter:\r\n        this._commit();\r\n        break;\r\n      case Keys.Esc:\r\n        this._reset();\r\n        break;\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onEditableFocus(e: React.FocusEvent<HTMLInputElement>) {\r\n    e.target.select();\r\n  }\r\n\r\n  @autobind()\r\n  private _onEditableBlur() {\r\n    this._commit();\r\n  }\r\n\r\n  private _commit() {\r\n    const { editValue } = this.state;\r\n    const { onCommit } = this.props;\r\n\r\n    if (!editValue) {\r\n      return;\r\n    }\r\n\r\n    onCommit(editValue);\r\n\r\n    this._reset();\r\n  }\r\n\r\n  private _reset() {\r\n    this.setState({\r\n      editValue: null\r\n    });\r\n  }\r\n}\r\n","import Text from \"@/components/Text\";\r\n\r\nconst EditableTextDisplay = Text.extend`\r\n  cursor: text;\r\n`;\r\nEditableTextDisplay.displayName = \"EditableTextDisplay\";\r\nexport default EditableTextDisplay;\r\n","import styled from \"@/style\";\r\n\r\nimport { TextProps, text } from \"@/style\";\r\n\r\nexport type EditableTextProps = TextProps;\r\nconst EditableTextInput = styled<EditableTextProps, \"input\">(\"input\")`\r\n  ${text};\r\n  font-size: inherit;\r\n  background: none;\r\n  border: none;\r\n`;\r\nEditableTextInput.displayName = \"EditableTextInput\";\r\nexport default EditableTextInput;\r\n","import MinionAppearanceTab from \"./MinionAppearanceTab\";\r\nexport default MinionAppearanceTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport {\r\n  AccessoriesByType,\r\n  AccessoryTypes,\r\n  MINION_IDENTITY_GENDERS,\r\n  AccessoryType\r\n} from \"oni-save-parser\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\nimport NullableInput, {\r\n  InputCompatibleProps\r\n} from \"@/components/NullableInput\";\r\nimport TextInput from \"@/components/TextInput\";\r\nimport EditModeCondition from \"@/components/EditModeCondition\";\r\nimport Text from \"@/components/Text\";\r\nimport TextAutocompleteInput from \"@/components/TextAutocompleteInput\";\r\nimport { Option } from \"@/components/Select\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\nimport SelectInput from \"@/components/SelectInput\";\r\n\r\nconst TDText = Text.withComponent(\"td\");\r\n\r\nconst NoAccessory = <Text intent={Intent.Secondary}>None</Text>;\r\nconst NoAccessoryMouth = <Text intent={Intent.Dangerous}>I Must Scream</Text>;\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionAppearanceTab extends React.Component<Props> {\r\n  render() {\r\n    const { gender, onSetGender, scale } = this.props;\r\n\r\n    const fields = AccessoryTypes.map(type => this._renderAccessoryField(type));\r\n\r\n    const genderOpts: Option[] = MINION_IDENTITY_GENDERS.map(ident => ({\r\n      label: ident,\r\n      value: ident\r\n    }));\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <FormGroup label=\"Gender\">\r\n          <SelectInput\r\n            value={gender || MINION_IDENTITY_GENDERS[0]}\r\n            options={genderOpts}\r\n            onCommit={onSetGender}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup label=\"Appearance\">\r\n          <table>\r\n            <tbody>{fields}</tbody>\r\n          </table>\r\n        </FormGroup>\r\n        <FormGroup label=\"Scale\">\r\n          <FormGroup label=\"X\" inline>\r\n            <NumericInput\r\n              value={scale ? scale.x : 1}\r\n              precision=\"single\"\r\n              onCommit={this._setScaleX}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Y\" inline>\r\n            <NumericInput\r\n              value={scale ? scale.y : 1}\r\n              precision=\"single\"\r\n              onCommit={this._setScaleY}\r\n            />\r\n          </FormGroup>\r\n        </FormGroup>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _setScaleX(value: number) {\r\n    const { scale, onSetScale } = this.props;\r\n    onSetScale({\r\n      x: value,\r\n      y: scale ? scale.y : 1,\r\n      z: scale ? scale.z : 1\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _setScaleY(value: number) {\r\n    const { scale, onSetScale } = this.props;\r\n    onSetScale({\r\n      x: scale ? scale.x : 1,\r\n      y: value,\r\n      z: scale ? scale.z : 1\r\n    });\r\n  }\r\n\r\n  private _renderAccessoryField(type: AccessoryType) {\r\n    const { onSetAccessory } = this.props;\r\n    let editGroup = (\r\n      <tr key={type}>\r\n        <TDText>{type}</TDText>\r\n        <td>\r\n          <NullableInput\r\n            renderInput={props => this._renderAccessorySelector(type, props)}\r\n            renderNull={type !== \"mouth\" ? NoAccessory : NoAccessoryMouth}\r\n            value={this.props[type]}\r\n            defaultValue={(AccessoriesByType[type] || [])[0] || \"\"}\r\n            onCommit={onSetAccessory.bind(this, type)}\r\n          />\r\n        </td>\r\n      </tr>\r\n    );\r\n\r\n    if (type === \"hat_hair\" || type === \"hair_always\") {\r\n      editGroup = (\r\n        <EditModeCondition key={type} editMode=\"advanced\">\r\n          {editGroup}\r\n        </EditModeCondition>\r\n      );\r\n    }\r\n\r\n    return editGroup;\r\n  }\r\n\r\n  private _renderAccessorySelector(\r\n    type: AccessoryType,\r\n    props: InputCompatibleProps<string>\r\n  ) {\r\n    const accessoryNames = AccessoriesByType[type];\r\n    if (!accessoryNames || accessoryNames.length === 0) {\r\n      return <TextInput {...props} minLength={1} />;\r\n    } else {\r\n      return (\r\n        <TextAutocompleteInput\r\n          value={props.value}\r\n          items={accessoryNames}\r\n          onCommit={props.onCommit}\r\n        />\r\n      );\r\n    }\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionAppearanceTab);\r\n","import { Selector, createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport {\r\n  AccessoryTypes,\r\n  AccessorizerBehavior,\r\n  GameObject,\r\n  AccessoryType,\r\n  getAccessoryName,\r\n  getAccessoryOfType,\r\n  getBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObjectGender } from \"@/selectors/behaviors/minion-identity\";\r\nimport { getSelectedGameObjectScale } from \"@/selectors/game-object\";\r\n\r\nimport selectedValue from \"@/selectors/selected-value\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\n\r\nconst accessorizerBehavior = createSelector(\r\n  selectedValue,\r\n  (gameObject: GameObject) => {\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n    return getBehavior(gameObject, AccessorizerBehavior);\r\n  }\r\n);\r\n\r\nfunction createAccessorySelector(\r\n  accessoryType: AccessoryType\r\n): Selector<AppState, string | null> {\r\n  return createSelector(accessorizerBehavior, behavior => {\r\n    if (!behavior) {\r\n      return null;\r\n    }\r\n\r\n    const { accessories } = behavior.templateData;\r\n\r\n    const accessory = getAccessoryOfType(accessories, accessoryType);\r\n    if (!accessory) {\r\n      return null;\r\n    }\r\n\r\n    return getAccessoryName(accessory);\r\n  });\r\n}\r\n\r\nconst structuredSelector = {\r\n  selectedPath,\r\n  gender: getSelectedGameObjectGender,\r\n  scale: getSelectedGameObjectScale\r\n};\r\nAccessoryTypes.forEach(x => {\r\n  (structuredSelector as any)[x] = createAccessorySelector(x);\r\n});\r\nexport type StateProps = StructuredStateProps<\r\n  typeof structuredSelector & Record<AccessoryType, string | null>\r\n>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector as any\r\n);\r\nexport default mapStateToProps;\r\n","import { MinionIdentityBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorSelector } from \"@/selectors/behaviors/utils\";\r\n\r\nexport const getSelectedGameObjectIdentityBehavior = getCurrentGameObjectBehaviorSelector(\r\n  MinionIdentityBehavior\r\n);\r\n\r\nexport const getSelectedGameObjectGender = (state: AppState) => {\r\n  const behavior = getSelectedGameObjectIdentityBehavior(state);\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n  return behavior.templateData.genderStringKey;\r\n};\r\n","import { setIdentityGender } from \"@/actions/behaviors/set-identity-gender\";\r\nimport { setAccessory } from \"@/actions/behaviors/set-accessory\";\r\nimport { setGameObjectScale } from \"@/actions/game-object/set-scale\";\r\n\r\nconst mapDispatchToProps = {\r\n  onSetScale: setGameObjectScale,\r\n  onSetGender: setIdentityGender,\r\n  onSetAccessory: setAccessory\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Autocomplete from \"@/components/Autocomplete\";\r\n\r\nexport interface TextAutocompleteInputProps {\r\n  value: string;\r\n  minLength?: number;\r\n  maxLength?: number;\r\n  items: string[];\r\n  onCommit(value: string): void;\r\n}\r\n\r\ntype Props = TextAutocompleteInputProps;\r\ninterface State {\r\n  editValue: string | null;\r\n  isValid: boolean;\r\n}\r\nexport default class TextAutocompleteInput extends React.Component<\r\n  Props,\r\n  State\r\n> {\r\n  private _inputRef = React.createRef<HTMLInputElement>();\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      editValue: null,\r\n      isValid: true\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { value, minLength, maxLength, items } = this.props;\r\n    const { editValue } = this.state;\r\n\r\n    const currentValue = editValue != null ? editValue : value;\r\n\r\n    return (\r\n      <Autocomplete\r\n        value={currentValue}\r\n        items={items}\r\n        minLength={minLength}\r\n        maxLength={maxLength}\r\n        getItemValue={x => x}\r\n        onChange={this._onValueChange}\r\n        onSelect={this._onValueSelect}\r\n        selectOnBlur\r\n      />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const value = e.target.value;\r\n    this._setEditValue(value);\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueSelect(value: string) {\r\n    this._setEditValue(value, () => {\r\n      this._commitEdit();\r\n    });\r\n  }\r\n\r\n  private _setEditValue(value: string, onSet?: () => void) {\r\n    const validation = this._validate(value);\r\n    const isValid = !validation;\r\n\r\n    if (this._inputRef.current) {\r\n      this._inputRef.current.setCustomValidity(validation || \"\");\r\n    }\r\n\r\n    this.setState(\r\n      {\r\n        editValue: value,\r\n        isValid\r\n      },\r\n      onSet\r\n    );\r\n  }\r\n\r\n  private _commitEdit() {\r\n    const { editValue, isValid } = this.state;\r\n    const { onCommit } = this.props;\r\n\r\n    this.setState({\r\n      editValue: null\r\n    });\r\n\r\n    if (!editValue || !isValid) {\r\n      return;\r\n    }\r\n\r\n    onCommit(editValue);\r\n  }\r\n\r\n  private _validate(value: string): string | null {\r\n    const { minLength, maxLength } = this.props;\r\n    if (minLength != null && (!value || value.length < minLength)) {\r\n      return `Value must be at least ${minLength} characters.`;\r\n    }\r\n\r\n    if (maxLength != null && value.length > maxLength) {\r\n      return `Value must be less than ${maxLength} characters.`;\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport ReactAutocomplete from \"react-autocomplete\";\r\n\r\nimport { Intent, getTheme, Space } from \"@/style\";\r\n\r\nimport Input, { InputProps } from \"@/components/Input\";\r\nimport Box from \"@/components/Box\";\r\nimport Text from \"@/components/Text\";\r\n\r\nexport type AutocompleteProps = Omit<ReactAutocomplete.Props, \"renderItem\"> & {\r\n  intent?: Intent;\r\n  renderItem?: ReactAutocomplete.Props[\"renderItem\"];\r\n  minLength?: number;\r\n  maxLength?: number;\r\n};\r\n\r\nconst AutocompleteItem = Text.withComponent(\"div\").extend`\r\n  width: 100%;\r\n  margin: 0 ${props => getTheme(props).space[Space.Small]}px;\r\n`;\r\n\r\nconst Autocomplete: React.SFC<AutocompleteProps> = props => (\r\n  <ReactAutocomplete\r\n    {...props}\r\n    renderInput={inputProps => <Input {...convertProps(inputProps)} />}\r\n    renderItem={(item, isHighlighted, style) => (\r\n      <AutocompleteItem\r\n        intent={isHighlighted ? Intent.Primary : Intent.Secondary}\r\n      >\r\n        {(props.renderItem || defaultRenderItem)(item, isHighlighted, style)}\r\n      </AutocompleteItem>\r\n    )}\r\n    renderMenu={props.renderMenu || renderMenu.bind(null, props)}\r\n  />\r\n);\r\nAutocomplete.displayName = \"Autocomplete\";\r\nexport default Autocomplete;\r\n\r\nfunction convertProps(\r\n  props: React.HTMLProps<HTMLInputElement>\r\n): Omit<InputProps, \"ref\"> {\r\n  const { ref, ...rest } = props;\r\n  return {\r\n    ...(rest as any),\r\n    innerRef: props.ref\r\n  };\r\n}\r\n\r\nfunction defaultRenderItem(\r\n  item: any,\r\n  isHighlighted: boolean,\r\n  style?: React.CSSProperties\r\n) {\r\n  style = style || {};\r\n  style.width = \"100%\";\r\n  return <div style={style}>{item}</div>;\r\n}\r\n\r\nconst AutocompleteMenu = Box.extend`\r\n  background: ${props => getTheme(props).colors.bg.panel};\r\n  border: ${props => {\r\n    const theme = getTheme(props);\r\n    return `${theme.borders[1]} ${\r\n      theme.colors.intent[props.intent || Intent.Secondary]\r\n    }`;\r\n  }};\r\n  border-top: none;\r\n`;\r\n\r\nfunction renderMenu(\r\n  props: AutocompleteProps,\r\n  items: any[],\r\n  value: string,\r\n  styles: React.CSSProperties\r\n): React.ReactNode {\r\n  // TODO: Portal.\r\n  const elements = items.map((x, i) => <div key={i}>{x}</div>);\r\n  return (\r\n    <AutocompleteMenu intent={props.intent} style={styles}>\r\n      {elements}\r\n    </AutocompleteMenu>\r\n  );\r\n}\r\n","import MinionAptitudesTab from \"./MinionAptitudesTab\";\r\nexport default MinionAptitudesTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { compare } from \"@/math\";\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps, AptitudeData } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport DataTable, { DataTableColumn } from \"@/components/DataTable\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionAptitudesTab extends React.Component<Props> {\r\n  render() {\r\n    const { aptitudes, setAptitude } = this.props;\r\n\r\n    if (!aptitudes || aptitudes.length === 0) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No aptitude data could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        header: \"Role\",\r\n        sortable: true,\r\n        filterable: true,\r\n        property: \"roleId\"\r\n      },\r\n      {\r\n        header: \"Aptitude\",\r\n        sortable: true,\r\n        filterable: false,\r\n        property: \"aptitude\",\r\n        cell: ({ value, rowData }) => (\r\n          <NumericInput\r\n            precision=\"single\"\r\n            minValue={0}\r\n            value={value}\r\n            onCommit={setAptitude.bind(null, rowData.index)}\r\n          />\r\n        ),\r\n        sortMethod: (data, column, sortAscending) => {\r\n          return data.sort((a, b) => compare(a, b, sortAscending));\r\n        }\r\n      }\r\n    ];\r\n\r\n    return <DataTable columns={columns} data={aptitudes} />;\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionAptitudesTab);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { MinionResumeBehavior, MinionRoleGroup } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorPropertySelector } from \"@/selectors/behaviors/utils\";\r\n\r\nconst aptitudesSelector = getCurrentGameObjectBehaviorPropertySelector<\r\n  MinionResumeBehavior,\r\n  MinionResumeBehavior[\"templateData\"][\"AptitudeByRoleGroup\"]\r\n>(MinionResumeBehavior, [\"templateData\", \"AptitudeByRoleGroup\"]);\r\n\r\nexport interface AptitudeData {\r\n  roleId: string;\r\n  roleHash: number;\r\n  aptitude: number;\r\n  index: number;\r\n}\r\nconst aptitudeDataSelector = createSelector(aptitudesSelector, aptitudes => {\r\n  if (!aptitudes) {\r\n    return null;\r\n  }\r\n\r\n  const data: AptitudeData[] = [];\r\n\r\n  for (let i = 0; i < aptitudes.length; i++) {\r\n    const [hstr, aptitude] = aptitudes[i];\r\n    const roleId = MinionRoleGroup[hstr.hash];\r\n    if (!roleId) {\r\n      continue;\r\n    }\r\n    data.push({\r\n      roleId,\r\n      roleHash: hstr.hash,\r\n      aptitude,\r\n      index: i\r\n    });\r\n  }\r\n\r\n  return data;\r\n});\r\n\r\nconst structuredSelector = {\r\n  aptitudes: aptitudeDataSelector\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { MinionResumeBehavior } from \"oni-save-parser\";\r\nimport { setCurrentObjectBehaviorValue } from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nconst mapDispatchToProps = {\r\n  setAptitude(index: number, aptitude: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      MinionResumeBehavior,\r\n      [\"templateData\", \"AptitudeByRoleGroup\", `${index}`, \"1\"],\r\n      aptitude\r\n    );\r\n  }\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import { connect } from \"react-redux\";\r\n\r\n// http://griddlegriddle.github.io/Griddle/examples/getDataFromRowIntoCell/\r\n\r\nconst rowDataSelector = (\r\n  state: any,\r\n  { griddleKey }: { griddleKey: string }\r\n) => {\r\n  return state\r\n    .get(\"data\")\r\n    .find((rowMap: any) => rowMap.get(\"griddleKey\") === griddleKey)\r\n    .toJSON();\r\n};\r\n\r\nconst enhancedWithRowData = connect((state, props: any) => {\r\n  return {\r\n    rowData: rowDataSelector(state, props)\r\n  };\r\n});\r\nexport default enhancedWithRowData;\r\n","import MinionEffectsTab from \"./MinionEffectsTab\";\r\nexport default MinionEffectsTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { AI_EFFECT_IDS } from \"oni-save-parser\";\r\n\r\nimport { compare } from \"@/math\";\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport DataTable, { DataTableColumn } from \"@/components/DataTable\";\r\nimport NullableInput from \"@/components/NullableInput\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionEffectsTab extends React.Component<Props> {\r\n  render() {\r\n    const { effects, onSetEffectData } = this.props;\r\n\r\n    if (!effects) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No effects data could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const data = AI_EFFECT_IDS.map(effectId => {\r\n      const effectIndex = effects.findIndex(x => x.id === effectId);\r\n      const effect = effectIndex > -1 ? effects[effectIndex] : null;\r\n      return {\r\n        effectId,\r\n        effectIndex,\r\n        timeRemaining: effect ? effect.timeRemaining : null\r\n      };\r\n    });\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        header: \"Effect\",\r\n        sortable: true,\r\n        filterable: true,\r\n        property: \"effectId\"\r\n      },\r\n      {\r\n        header: \"Time Remaining\",\r\n        sortable: true,\r\n        filterable: false,\r\n        property: \"timeRemaining\",\r\n        cell: ({ rowData }: { rowData: typeof data[0] }) => (\r\n          <NullableInput\r\n            value={rowData.timeRemaining}\r\n            onCommit={onSetEffectData.bind(\r\n              null,\r\n              rowData.effectId,\r\n              rowData.effectIndex\r\n            )}\r\n            defaultValue={15000}\r\n            renderInput={props => (\r\n              <NumericInput precision=\"single\" minValue={0} {...props} />\r\n            )}\r\n          />\r\n        ),\r\n        sortMethod: (data, column, sortAscending) => {\r\n          return data.sort((a, b) => compare(a, b, sortAscending));\r\n        }\r\n      }\r\n    ];\r\n\r\n    return <DataTable columns={columns} data={data} />;\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionEffectsTab);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AIEffectsBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorPropertySelector } from \"@/selectors/behaviors/utils\";\r\n\r\nconst effects = getCurrentGameObjectBehaviorPropertySelector<\r\n  AIEffectsBehavior,\r\n  AIEffectsBehavior[\"templateData\"][\"saveLoadEffects\"]\r\n>(AIEffectsBehavior, [\"templateData\", \"saveLoadEffects\"]);\r\n\r\nconst structuredSelector = {\r\n  effects\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { AIEffectsBehavior, EffectInstance } from \"oni-save-parser\";\r\n\r\nimport {\r\n  insertCurrentObjectBehaviorArrayValue,\r\n  removeCurrentObjectBehaviorArrayIndex\r\n} from \"@/actions/behaviors/modify-currentobject-behavior-array\";\r\n\r\nimport { setCurrentObjectBehaviorValue } from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nconst EffectsPath = [\"templateData\", \"saveLoadEffects\"];\r\n\r\nconst mapDispatchToProps = {\r\n  onSetEffectData(\r\n    effectId: string,\r\n    effectIndex: number,\r\n    timeRemaining: number | null\r\n  ) {\r\n    if (timeRemaining != null && timeRemaining > 0) {\r\n      if (effectIndex === -1) {\r\n        // New Effect\r\n        const effect: EffectInstance = {\r\n          id: effectId,\r\n          timeRemaining\r\n        };\r\n        return insertCurrentObjectBehaviorArrayValue(\r\n          AIEffectsBehavior,\r\n          EffectsPath,\r\n          effect\r\n        );\r\n      } else {\r\n        // Changing effect time remaining\r\n        return setCurrentObjectBehaviorValue(\r\n          AIEffectsBehavior,\r\n          [...EffectsPath, `${effectIndex}`, \"timeRemaining\"],\r\n          timeRemaining\r\n        );\r\n      }\r\n    } else if (effectIndex > -1) {\r\n      // Removing effect.\r\n      return removeCurrentObjectBehaviorArrayIndex(\r\n        AIEffectsBehavior,\r\n        EffectsPath,\r\n        effectIndex\r\n      );\r\n    }\r\n  },\r\n  onRemoveEffect(effectIndex: number) {}\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionHealthTab from \"./MinionHealthTab\";\r\nexport default MinionHealthTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { HealthState } from \"oni-save-parser\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport VerticalTabs from \"@/components/VerticalTabs\";\r\nimport FormGroup from \"@/components/FormGroup\";\r\nimport SelectInput from \"@/components/SelectInput\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\n\r\nconst TD = Text.withComponent(\"td\");\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionHealthTab extends React.Component<Props> {\r\n  render() {\r\n    const {\r\n      healthState,\r\n      onHealthStatusChanged,\r\n      hitpoints,\r\n      onHitpointsChanged,\r\n      stamina,\r\n      onStaminaChanged,\r\n      calories,\r\n      onCaloriesChanged,\r\n      breath,\r\n      onBreathChanged,\r\n      stress,\r\n      onStressChanged,\r\n      bladder,\r\n      onBladderChanged,\r\n      surfaceDiseaseId,\r\n      surfaceDiseaseCount,\r\n      immuneLevel,\r\n      onImmuneLevelChanged,\r\n      foodPoisoning,\r\n      onFoodPoisoningChanged,\r\n      coldBrain,\r\n      onColdBrainChanged,\r\n      heatRash,\r\n      onHeatRashChanged,\r\n      slimeLung,\r\n      onSlimeLungChanged,\r\n      spores,\r\n      onSporesChanged,\r\n      sunburn,\r\n      onSunburnChanged\r\n    } = this.props;\r\n\r\n    const options = Object.keys(HealthState)\r\n      .filter(x => isNaN(parseInt(x)))\r\n      .map(x => ({\r\n        label: x,\r\n        value: HealthState[x as any]\r\n      }));\r\n\r\n    // TODO: selector for disease type hashes with advanced mode custom\r\n    // string.\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div>\r\n          <Text.H4>Wellness</Text.H4>\r\n          <FormGroup label=\"Status\" inline>\r\n            <SelectInput\r\n              value={healthState || HealthState.Perfect}\r\n              options={options}\r\n              onCommit={onHealthStatusChanged}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"HitPoints\" inline>\r\n            <NumericInput\r\n              value={hitpoints || 0}\r\n              onCommit={onHitpointsChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Stanima\" inline>\r\n            <NumericInput\r\n              value={stamina || 0}\r\n              precision=\"single\"\r\n              onCommit={onStaminaChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Calories\" inline>\r\n            <NumericInput\r\n              value={calories || 0}\r\n              precision=\"single\"\r\n              onCommit={onCaloriesChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Oxygen\" inline>\r\n            <NumericInput\r\n              value={breath || 0}\r\n              precision=\"single\"\r\n              onCommit={onBreathChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Stress\" inline>\r\n            <NumericInput\r\n              value={stress || 0}\r\n              precision=\"single\"\r\n              onCommit={onStressChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Bladder\" inline>\r\n            <NumericInput\r\n              value={bladder || 0}\r\n              precision=\"single\"\r\n              onCommit={onBladderChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n        </div>\r\n        <div>\r\n          <Text.H4>Diseases</Text.H4>\r\n          <FormGroup label=\"Immune&nbsp;Level\" inline>\r\n            <NumericInput\r\n              minValue={0}\r\n              precision=\"single\"\r\n              value={immuneLevel || 0}\r\n              onCommit={onImmuneLevelChanged}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Surface Germs\">\r\n            <FormGroup label=\"DiseaseID\" inline>\r\n              <NumericInput\r\n                value={surfaceDiseaseId ? surfaceDiseaseId.hash : 0}\r\n                onCommit={this._onSurfaceDiseaseIdCommit}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup label=\"Count\" inline>\r\n              <NumericInput\r\n                minValue={0}\r\n                precision=\"single\"\r\n                value={surfaceDiseaseCount || 0}\r\n                onCommit={this._onSurfaceDiseaseCountCommit}\r\n              />\r\n            </FormGroup>\r\n          </FormGroup>\r\n          <FormGroup label=\"Conditions\">\r\n            <table>\r\n              <tbody>\r\n                <tr>\r\n                  <TD>Food Poisoning</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={foodPoisoning || 0}\r\n                      onCommit={onFoodPoisoningChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Slime Lung</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={slimeLung || 0}\r\n                      onCommit={onSlimeLungChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Spores</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={spores || 0}\r\n                      onCommit={onSporesChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Hypothermia</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={coldBrain || 0}\r\n                      onCommit={onColdBrainChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Hyperthermia</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={heatRash || 0}\r\n                      onCommit={onHeatRashChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Sunburn</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={sunburn || 0}\r\n                      onCommit={onSunburnChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </FormGroup>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onSurfaceDiseaseIdCommit(value: number) {\r\n    const { onSurfaceDiseaseChanged } = this.props;\r\n    onSurfaceDiseaseChanged({ hash: value }, 0);\r\n  }\r\n\r\n  @autobind()\r\n  private _onSurfaceDiseaseCountCommit(value: number) {\r\n    const { surfaceDiseaseId, onSurfaceDiseaseChanged } = this.props;\r\n    onSurfaceDiseaseChanged(surfaceDiseaseId || { hash: 0 }, value);\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionHealthTab);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport {\r\n  GameObject,\r\n  HealthBehavior,\r\n  PrimaryElementBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObjectHealthState } from \"@/selectors/behaviors/health\";\r\n\r\nimport {\r\n  getSelectedGameObjectElementDiseaseId,\r\n  getSelectedGameObjectElementDiseaseCount\r\n} from \"@/selectors/behaviors/primary-element\";\r\n\r\nimport { getSelectedGameObjectModifierValueSelector } from \"@/selectors/behaviors/minion-modifiers\";\r\n\r\nconst structuredSelector = {\r\n  healthState: getSelectedGameObjectHealthState,\r\n  surfaceDiseaseId: getSelectedGameObjectElementDiseaseId,\r\n  surfaceDiseaseCount: getSelectedGameObjectElementDiseaseCount,\r\n  hitpoints: getSelectedGameObjectModifierValueSelector(\"HitPoints\"),\r\n  stamina: getSelectedGameObjectModifierValueSelector(\"Stamina\"),\r\n  calories: getSelectedGameObjectModifierValueSelector(\"Calories\"),\r\n  immuneLevel: getSelectedGameObjectModifierValueSelector(\"ImmuneLevel\"),\r\n  breath: getSelectedGameObjectModifierValueSelector(\"Breath\"),\r\n  stress: getSelectedGameObjectModifierValueSelector(\"Stress\"),\r\n  bladder: getSelectedGameObjectModifierValueSelector(\"Bladder\"),\r\n  foodPoisoning: getSelectedGameObjectModifierValueSelector(\"FoodPoisoning\"),\r\n  coldBrain: getSelectedGameObjectModifierValueSelector(\"ColdBrain\"),\r\n  heatRash: getSelectedGameObjectModifierValueSelector(\"HeatRash\"),\r\n  slimeLung: getSelectedGameObjectModifierValueSelector(\"SlimeLung\"),\r\n  sunburn: getSelectedGameObjectModifierValueSelector(\"Sunburn\"),\r\n  spores: getSelectedGameObjectModifierValueSelector(\"Spores\")\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { createSelector } from \"reselect\";\r\n\r\nimport { HealthBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObject } from \"../game-object\";\r\n\r\nexport const getSelectedGameObjectHealthBehavior = createSelector(\r\n  getSelectedGameObject,\r\n  gameObject => {\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n\r\n    return getBehavior(gameObject, HealthBehavior);\r\n  }\r\n);\r\n\r\nexport const getSelectedGameObjectHealthState = (state: AppState) => {\r\n  const behavior = getSelectedGameObjectHealthBehavior(state);\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n  return behavior.templateData.State;\r\n};\r\n","import { PrimaryElementBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorSelector } from \"@/selectors/behaviors/utils\";\r\n\r\nexport const getSelectedGameObjectElementBehavior = getCurrentGameObjectBehaviorSelector(\r\n  PrimaryElementBehavior\r\n);\r\n\r\nexport const getSelectedGameObjectElementDiseaseId = (state: AppState) => {\r\n  const behavior = getSelectedGameObjectElementBehavior(state);\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n  return behavior.templateData.diseaseID;\r\n};\r\n\r\nexport const getSelectedGameObjectElementDiseaseCount = (state: AppState) => {\r\n  const behavior = getSelectedGameObjectElementBehavior(state);\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n  return behavior.templateData.diseaseCount;\r\n};\r\n","import { createSelector, Selector } from \"reselect\";\r\n\r\nimport { memoize } from \"lodash-es\";\r\n\r\nimport { MinionModifiersBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorSelector } from \"@/selectors/behaviors/utils\";\r\n\r\nexport const getSelectedGameObjectModifiersBehavior = getCurrentGameObjectBehaviorSelector(\r\n  MinionModifiersBehavior\r\n);\r\n\r\nfunction createSelectedGameObjectModifierValueSelector(\r\n  amountId: string\r\n): Selector<AppState, number | null> {\r\n  return createSelector(getSelectedGameObjectModifiersBehavior, behavior => {\r\n    if (!behavior) {\r\n      return null;\r\n    }\r\n\r\n    const extraData = behavior.extraData;\r\n    if (!extraData) {\r\n      return null;\r\n    }\r\n\r\n    const amount = extraData.amounts.find(x => x.name === amountId);\r\n    if (!amount) {\r\n      return null;\r\n    }\r\n    return amount.value.value;\r\n  });\r\n}\r\n\r\nexport const getSelectedGameObjectModifierValueSelector = memoize(\r\n  createSelectedGameObjectModifierValueSelector\r\n);\r\n","import { setHealthStatus } from \"@/actions/behaviors/set-health-state\";\r\nimport { setModifierValue } from \"@/actions/behaviors/set-modifier-amount\";\r\nimport { setPrimaryElementDisease } from \"@/actions/behaviors/set-element-disease\";\r\n\r\nconst mapDispatchToProps = {\r\n  onHealthStatusChanged: setHealthStatus,\r\n  onHitpointsChanged(hitpoints: number) {\r\n    return setModifierValue(\"HitPoints\", hitpoints);\r\n  },\r\n  onStaminaChanged(stamina: number) {\r\n    return setModifierValue(\"Stamina\", stamina);\r\n  },\r\n  onCaloriesChanged(calories: number) {\r\n    return setModifierValue(\"Calories\", calories);\r\n  },\r\n  onImmuneLevelChanged(level: number) {\r\n    return setModifierValue(\"ImmuneLevel\", level);\r\n  },\r\n  onBreathChanged(level: number) {\r\n    return setModifierValue(\"Breath\", level);\r\n  },\r\n  onStressChanged(level: number) {\r\n    return setModifierValue(\"Stress\", level);\r\n  },\r\n  onBladderChanged(level: number) {\r\n    return setModifierValue(\"Bladder\", level);\r\n  },\r\n  onFoodPoisoningChanged(level: number) {\r\n    return setModifierValue(\"FoodPoisoning\", level);\r\n  },\r\n  onColdBrainChanged(level: number) {\r\n    return setModifierValue(\"ColdBrain\", level);\r\n  },\r\n  onHeatRashChanged(level: number) {\r\n    return setModifierValue(\"HeatRash\", level);\r\n  },\r\n  onSlimeLungChanged(level: number) {\r\n    return setModifierValue(\"SlimeLung\", level);\r\n  },\r\n  onSunburnChanged(level: number) {\r\n    return setModifierValue(\"Sunburn\", level);\r\n  },\r\n  onSporesChanged(level: number) {\r\n    return setModifierValue(\"Spores\", level);\r\n  },\r\n\r\n  onSurfaceDiseaseChanged: setPrimaryElementDisease\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionJobsTab from \"./MinionJobsTab\";\r\nexport default MinionJobsTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport DataTable, { DataTableColumn } from \"@/components/DataTable\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\nimport CheckInput from \"@/components/CheckInput\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionJobsTab extends React.Component<Props> {\r\n  render() {\r\n    const { jobs, setExperience, setMastery } = this.props;\r\n\r\n    if (!jobs || jobs.length === 0) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No jobs could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        header: \"Job\",\r\n        property: \"id\",\r\n        sortable: true,\r\n        filterable: true\r\n      },\r\n      {\r\n        header: \"Experience\",\r\n        sortable: true,\r\n        filterable: false,\r\n        property: \"experience\",\r\n        cell: ({ value, rowData }) => (\r\n          <NumericInput\r\n            precision=\"single\"\r\n            minValue={0}\r\n            value={value}\r\n            onCommit={setExperience.bind(null, rowData.experienceIndex)}\r\n          />\r\n        )\r\n      },\r\n      {\r\n        header: \"Mastery\",\r\n        sortable: true,\r\n        filterable: false,\r\n        property: \"mastery\",\r\n        cell: ({ value, rowData }) => (\r\n          <CheckInput\r\n            value={value}\r\n            onCommit={setMastery.bind(null, rowData.masteryIndex)}\r\n          />\r\n        )\r\n      }\r\n    ];\r\n\r\n    return <DataTable columns={columns} data={jobs} />;\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionJobsTab);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { MinionResumeBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorPropertySelector } from \"@/selectors/behaviors/utils\";\r\n\r\nconst masteriesSelector = getCurrentGameObjectBehaviorPropertySelector<\r\n  MinionResumeBehavior,\r\n  MinionResumeBehavior[\"templateData\"][\"MasteryByRoleID\"]\r\n>(MinionResumeBehavior, [\"templateData\", \"MasteryByRoleID\"]);\r\n\r\nconst experienceSelector = getCurrentGameObjectBehaviorPropertySelector<\r\n  MinionResumeBehavior,\r\n  MinionResumeBehavior[\"templateData\"][\"ExperienceByRoleID\"]\r\n>(MinionResumeBehavior, [\"templateData\", \"ExperienceByRoleID\"]);\r\n\r\nexport interface Job {\r\n  id: string;\r\n  mastery: boolean;\r\n  masteryIndex: number;\r\n  experience: number;\r\n  experienceIndex: number;\r\n}\r\nexport type Jobs = Job[];\r\nconst jobsSelector = createSelector(\r\n  masteriesSelector,\r\n  experienceSelector,\r\n  (masteries, experience) => {\r\n    if (!masteries || !experience) {\r\n      return null;\r\n    }\r\n\r\n    const jobs: Record<string, Job> = {};\r\n\r\n    masteries.forEach((x, i) => {\r\n      const [key, value] = x;\r\n      if (key === \"NoRole\") {\r\n        return;\r\n      }\r\n      jobs[key] = {\r\n        id: key,\r\n        mastery: value,\r\n        masteryIndex: i,\r\n        experience: 0,\r\n        experienceIndex: -1\r\n      };\r\n    });\r\n\r\n    experience.forEach((x, i) => {\r\n      const [key, value] = x;\r\n      if (key === \"NoRole\") {\r\n        return;\r\n      }\r\n      jobs[key].experience = value;\r\n      jobs[key].experienceIndex = i;\r\n    });\r\n\r\n    return Object.keys(jobs).map(x => jobs[x]);\r\n  }\r\n);\r\n\r\nconst structuredSelector = {\r\n  jobs: jobsSelector\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { MinionResumeBehavior } from \"oni-save-parser\";\r\n\r\nimport { setCurrentObjectBehaviorValue } from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nconst mapDispatchToProps = {\r\n  setExperience(index: number, experience: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      MinionResumeBehavior,\r\n      [\"templateData\", \"ExperienceByRoleID\", `${index}`, \"1\"],\r\n      experience\r\n    );\r\n  },\r\n\r\n  setMastery(index: number, mastery: boolean) {\r\n    return setCurrentObjectBehaviorValue(\r\n      MinionResumeBehavior,\r\n      [\"templateData\", \"MasteryByRoleID\", `${index}`, \"1\"],\r\n      mastery\r\n    );\r\n  }\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionSkillsTab from \"./MinionSkillsTab\";\r\nexport default MinionSkillsTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport DataTable, { DataTableColumn } from \"@/components/DataTable\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionSkillsTab extends React.Component<Props> {\r\n  render() {\r\n    const { skills, setSkillLevel, setSkillExperience } = this.props;\r\n\r\n    if (!skills || skills.length === 0) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No skills could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const data = skills.map((x, i) => ({\r\n      ...x,\r\n      index: i\r\n    }));\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        header: \"Skill\",\r\n        property: \"attributeId\"\r\n      },\r\n      {\r\n        header: \"Level\",\r\n        property: \"level\",\r\n        cell: ({ value, rowData }) => (\r\n          <NumericInput\r\n            precision=\"int32\"\r\n            minValue={0}\r\n            value={value}\r\n            onCommit={setSkillLevel.bind(null, rowData.index)}\r\n          />\r\n        )\r\n      },\r\n      {\r\n        header: \"Experience\",\r\n        property: \"experience\",\r\n        cell: ({ value, rowData }) => (\r\n          <NumericInput\r\n            precision=\"single\"\r\n            value={value}\r\n            onCommit={setSkillExperience.bind(null, rowData.index)}\r\n          />\r\n        )\r\n      }\r\n    ];\r\n\r\n    return <DataTable columns={columns} data={data} />;\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionSkillsTab);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AIAttributeLevelsBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorPropertySelector } from \"@/selectors/behaviors/utils\";\r\n\r\nconst structuredSelector = {\r\n  skills: getCurrentGameObjectBehaviorPropertySelector<\r\n    AIAttributeLevelsBehavior,\r\n    AIAttributeLevelsBehavior[\"templateData\"][\"saveLoadLevels\"]\r\n  >(AIAttributeLevelsBehavior, [\"templateData\", \"saveLoadLevels\"])\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { AIAttributeLevelsBehavior } from \"oni-save-parser\";\r\n\r\nimport { setCurrentObjectBehaviorValue } from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nconst mapDispatchToProps = {\r\n  setSkillLevel(index: number, level: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      AIAttributeLevelsBehavior,\r\n      [\"templateData\", \"saveLoadLevels\", `${index}`, \"level\"],\r\n      level\r\n    );\r\n  },\r\n  setSkillExperience(index: number, experience: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      AIAttributeLevelsBehavior,\r\n      [\"templateData\", \"saveLoadLevels\", `${index}`, \"experience\"],\r\n      experience\r\n    );\r\n  }\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionTraitsTab from \"./MinionTraitsTab\";\r\nexport default MinionTraitsTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { AI_TRAIT_IDS } from \"oni-save-parser\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport Table from \"@/components/Table\";\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport CheckInput from \"@/components/CheckInput\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionTraitsTab extends React.Component<Props> {\r\n  render() {\r\n    const { traits, onSetTrait } = this.props;\r\n\r\n    if (traits == null || traits.length === 0) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No traits could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const rows = AI_TRAIT_IDS.filter(x => x !== \"None\").map(trait => (\r\n      <Table.TR key={trait}>\r\n        <Table.TD>\r\n          <CheckInput\r\n            value={traits.some(x => x === trait)}\r\n            onCommit={onSetTrait.bind(null, trait)}\r\n          />\r\n        </Table.TD>\r\n        <Table.TD>{trait}</Table.TD>\r\n      </Table.TR>\r\n    ));\r\n\r\n    return (\r\n      <Table>\r\n        <Table.THead>\r\n          <Table.TR>\r\n            <Table.TH />\r\n            <Table.TH>Trait</Table.TH>\r\n          </Table.TR>\r\n        </Table.THead>\r\n        <Table.TBody>{rows}</Table.TBody>\r\n      </Table>\r\n    );\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionTraitsTab);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObjectTraits } from \"@/selectors/behaviors/ai-traits\";\r\n\r\nconst structuredSelector = {\r\n  traits: getSelectedGameObjectTraits\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { AITraitsBehavior } from \"oni-save-parser\";\r\n\r\nimport { getCurrentGameObjectBehaviorSelector } from \"@/selectors/behaviors/utils\";\r\nimport { createSelector } from \"reselect\";\r\n\r\nexport const getSelectedGameObjectIdentityBehavior = getCurrentGameObjectBehaviorSelector(\r\n  AITraitsBehavior\r\n);\r\n\r\nexport const getSelectedGameObjectTraits = createSelector(\r\n  getSelectedGameObjectIdentityBehavior,\r\n  behavior => {\r\n    if (behavior == null) {\r\n      return null;\r\n    }\r\n\r\n    return behavior.templateData.TraitIds;\r\n  }\r\n);\r\n","import { setTrait } from \"@/actions/behaviors/set-traits-trait\";\r\n\r\nconst mapDispatchToProps = {\r\n  onSetTrait: setTrait\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionPositionTab from \"./MinionPositionTab\";\r\nexport default MinionPositionTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport FormGroup from \"@/components/FormGroup\";\r\nimport NumericField from \"@/pages/SaveEditor/components/fields/NumericField\";\r\nimport EditModeCondition from \"@/components/EditModeCondition\";\r\n\r\ntype Props = StateProps;\r\nconst MinionPositionTab: React.SFC<Props> = ({ gameObjectPath }) => {\r\n  if (gameObjectPath == null) {\r\n    return <Text intent={Intent.Default}>No game object selected</Text>;\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <FormGroup label=\"X\">\r\n        <NumericField\r\n          precision=\"single\"\r\n          path={[...gameObjectPath, \"position\", \"x\"]}\r\n        />\r\n      </FormGroup>\r\n      <FormGroup label=\"Y\">\r\n        <NumericField\r\n          precision=\"single\"\r\n          path={[...gameObjectPath, \"position\", \"y\"]}\r\n        />\r\n      </FormGroup>\r\n      <EditModeCondition editMode=\"advanced\">\r\n        <FormGroup label=\"Z\">\r\n          <NumericField\r\n            precision=\"single\"\r\n            path={[...gameObjectPath, \"position\", \"z\"]}\r\n          />\r\n        </FormGroup>\r\n      </EditModeCondition>\r\n    </React.Fragment>\r\n  );\r\n};\r\nMinionPositionTab.displayName = \"MinionPositionTab\";\r\nexport default connect(mapStateToProps)(MinionPositionTab);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport selectedPath from \"@/selectors/selected-path\";\r\n\r\nconst structuredSelector = {\r\n  gameObjectPath: selectedPath\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import DefaultObjectEditor from \"./DefaultObjectEditor\";\r\nexport default DefaultObjectEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Text from \"@/components/Text\";\r\n\r\nimport DefaultObjectEditorContainer from \"./components/DefaultObjectEditorContainer\";\r\n\r\nimport EditorField from \"./components/EditorField\";\r\n\r\nimport mapStateToProps, { StateProps, FieldRow } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nconst TH = Text.withComponent(\"th\");\r\nconst TD = Text.withComponent(\"td\");\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass DefaultObjectEditor extends React.Component<Props> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { fields } = this.props;\r\n\r\n    const fieldElements = fields.map(field => this._renderFieldRow(field));\r\n\r\n    return (\r\n      <DefaultObjectEditorContainer>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <TH>Name</TH>\r\n              <TH>Value</TH>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{fieldElements}</tbody>\r\n        </table>\r\n      </DefaultObjectEditorContainer>\r\n    );\r\n  }\r\n\r\n  private _renderFieldRow(field: FieldRow) {\r\n    const { title, key, value } = field;\r\n    return (\r\n      <tr key={key}>\r\n        <TD>{title}</TD>\r\n        <TD>\r\n          <EditorField\r\n            propKey={key}\r\n            value={value}\r\n            onChange={this._onFieldChange}\r\n          />\r\n        </TD>\r\n      </tr>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onFieldChange(key: string, value: any) {\r\n    const { selectedPath, onModify } = this.props;\r\n    onModify([...selectedPath, key], value);\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(DefaultObjectEditor);\r\n","import styled from \"@/style\";\r\n\r\nconst DefaultObjectEditorContainer = styled.div``;\r\nDefaultObjectEditorContainer.displayName = \"DefaultObjectEditorContainer\";\r\nexport default DefaultObjectEditorContainer;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nexport interface EditorFieldProps {\r\n  propKey: string;\r\n  value: any;\r\n  onChange(propKey: string, value: any): void;\r\n}\r\nexport default class EditorField extends React.Component<EditorFieldProps> {\r\n  render() {\r\n    const { value } = this.props;\r\n    return (\r\n      <input\r\n        type=\"text\"\r\n        onChange={this._onChange}\r\n        value={JSON.stringify(value)}\r\n      />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const { propKey, onChange } = this.props;\r\n    const value = e.target.value;\r\n    try {\r\n      const parsedValue = JSON.parse(value);\r\n      onChange(propKey, parsedValue);\r\n    } catch {}\r\n  }\r\n}\r\n","import { createSelector, createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport selectedPath from \"@/selectors/selected-path\";\r\nimport selectedValue from \"@/selectors/selected-value\";\r\n\r\nexport interface FieldEditable {\r\n  title: string;\r\n  key: string;\r\n  value: any;\r\n}\r\nexport type FieldRow = FieldEditable;\r\n\r\nconst fields = createSelector(\r\n  selectedValue,\r\n  (selectedValue): FieldRow[] => {\r\n    if (!selectedValue) {\r\n      return [];\r\n    }\r\n\r\n    if (isPrimitive(selectedValue)) {\r\n      // Cannot edit things in a primitive.\r\n      return [];\r\n    }\r\n\r\n    return Object.keys(selectedValue)\r\n      .filter(key => isPrimitive(selectedValue[key]))\r\n      .map(key => {\r\n        const value = selectedValue[key];\r\n        const editable: FieldEditable = {\r\n          title: key,\r\n          key,\r\n          value\r\n        };\r\n        return editable;\r\n      });\r\n  }\r\n);\r\n\r\nconst structuredSelectors = {\r\n  selectedPath,\r\n  fields\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelectors>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelectors\r\n);\r\nexport default mapStateToProps;\r\n\r\nconst primitiveTypes = [\"string\", \"number\", \"boolean\"];\r\nfunction isPrimitive(val: any) {\r\n  const valType = typeof val;\r\n  return primitiveTypes.indexOf(valType) !== -1;\r\n}\r\n","import { modifyOniSave } from \"@/actions/modify-onisave\";\r\n\r\nconst mapDispatchToProps = {\r\n  onModify: modifyOniSave\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import SaveRootEditor from \"./SaveRootEditor\";\r\nexport default SaveRootEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport InfoText from \"@/components/InfoText\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport SaveRootEditorContainer from \"./components/SaveRootEditorContainer\";\r\n\r\nimport SaveGameTitle from \"./components/SaveGameTitle\";\r\nimport DuplicantsList from \"./components/DuplicantsList\";\r\n\r\ntype Props = StateProps;\r\nclass SaveRootEditor extends React.Component<Props> {\r\n  render() {\r\n    const { oniSave } = this.props;\r\n    return (\r\n      <SaveRootEditorContainer>\r\n        {oniSave ? (\r\n          this._renderContent()\r\n        ) : (\r\n          <Text intent={Intent.Hint}>No Save Loaded</Text>\r\n        )}\r\n      </SaveRootEditorContainer>\r\n    );\r\n  }\r\n\r\n  private _renderContent() {\r\n    const oniSave = this.props.oniSave!;\r\n    const numGameObjects = oniSave.gameObjects.reduce(\r\n      (count, set) => count + set.gameObjects.length,\r\n      0\r\n    );\r\n    return (\r\n      <React.Fragment>\r\n        <SaveGameTitle intent={Intent.Primary}>\r\n          {oniSave.header.gameInfo.baseName}\r\n        </SaveGameTitle>\r\n        <InfoText value={oniSave.header.gameInfo.numberOfCycles}>\r\n          cycles\r\n        </InfoText>\r\n        <InfoText value={oniSave.header.gameInfo.numberOfDuplicants}>\r\n          duplicants\r\n        </InfoText>\r\n        <InfoText value={numGameObjects}>game objects</InfoText>\r\n        <DuplicantsList />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(SaveRootEditor);\r\n","import * as React from \"react\";\r\n\r\nimport Text from \"./Text\";\r\nimport { Intent } from \"@/style\";\r\n\r\nexport interface InfoTextProps {\r\n  value: any;\r\n  pluralize?: boolean;\r\n}\r\n\r\nconst InfoText: React.SFC<InfoTextProps> = ({ value, children }) => (\r\n  <div>\r\n    <Text intent={Intent.Secondary}>{value}</Text> <Text>{children}</Text>\r\n  </div>\r\n);\r\nexport default InfoText;\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nconst structuredSelector = {\r\n  oniSave\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import styled from \"@/style\";\r\n\r\nconst SaveRootEditorContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\nSaveRootEditorContainer.displayName = \"SaveRootEditorContainer\";\r\nexport default SaveRootEditorContainer;\r\n","import Text from \"@/components/Text\";\r\n\r\nconst SaveGameTitle = Text.withComponent(\"h3\").extend`\r\n  margin-top: 0;\r\n`;\r\nSaveGameTitle.displayName = \"SaveGameTitle\";\r\nexport default SaveGameTitle;\r\n","import DuplicantsList from \"./DuplicantsList\";\r\nexport default DuplicantsList;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\n\r\nimport DuplicantPortrait from \"./components/DuplicantPortrait\";\r\nimport DuplicantsListContainer from \"./components/DuplicantsListContainer\";\r\nimport DuplicantsListContent from \"./components/DuplicantsListContent\";\r\n\r\ntype Props = StateProps;\r\nclass DuplicantsList extends React.Component<Props> {\r\n  render() {\r\n    const { duplicantsSetPath, duplicantIndexes } = this.props;\r\n    if (!duplicantsSetPath || !duplicantIndexes) {\r\n      return \"Malformed Data\";\r\n    }\r\n\r\n    const duplicantPortraits = duplicantIndexes.map(x => (\r\n      <DuplicantPortrait key={x} gameObjectIndex={x} />\r\n    ));\r\n\r\n    return (\r\n      <DuplicantsListContainer>\r\n        <SaveStructureLink intent={Intent.Primary} path={duplicantsSetPath}>\r\n          Duplicants\r\n        </SaveStructureLink>\r\n        <DuplicantsListContent>{duplicantPortraits}</DuplicantsListContent>\r\n      </DuplicantsListContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(DuplicantsList);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { range } from \"lodash-es\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nconst duplicantsSetPath = createSelector(oniSave, oniSave => {\r\n  if (!oniSave) {\r\n    return null;\r\n  }\r\n  const index = oniSave.gameObjects.findIndex(x => x.name === \"Minion\");\r\n  if (index === -1) {\r\n    return null;\r\n  }\r\n  return [\"gameObjects\", `${index}`];\r\n});\r\n\r\nconst duplicantIndexes = createSelector(oniSave, oniSave => {\r\n  if (!oniSave) {\r\n    return [];\r\n  }\r\n  const minionSet = oniSave.gameObjects.find(x => x.name === \"Minion\");\r\n  if (!minionSet) {\r\n    return [];\r\n  }\r\n  return range(minionSet.gameObjects.length);\r\n});\r\n\r\nconst structuredSelector = {\r\n  duplicantsSetPath,\r\n  duplicantIndexes\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import DuplicantPortrait from \"./DuplicantPortrait\";\r\nexport default DuplicantPortrait;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport { DuplicantPortraitProps } from \"./props\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\nimport Portrait from \"@/components/Portrait\";\r\n\r\ntype Props = DuplicantPortraitProps & StateProps;\r\nclass DuplicantPortrait extends React.Component<Props> {\r\n  render() {\r\n    const { path, name, gender, arrivalCycle } = this.props;\r\n    return (\r\n      <Portrait>\r\n        <Portrait.Header>\r\n          {path ? (\r\n            <SaveStructureLink intent={Intent.Primary} path={path}>\r\n              {name}\r\n            </SaveStructureLink>\r\n          ) : (\r\n            \"Invalid Object\"\r\n          )}\r\n        </Portrait.Header>\r\n        <Portrait.Footer>\r\n          <div>\r\n            <Text intent={Intent.Secondary}>{gender}</Text>\r\n          </div>\r\n          <div>\r\n            <Text intent={Intent.Secondary}>{arrivalCycle} cycles old</Text>\r\n          </div>\r\n        </Portrait.Footer>\r\n      </Portrait>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(DuplicantPortrait);\r\n","import createCachedSelector from \"re-reselect\";\r\nimport { MinionIdentityBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nimport { DuplicantPortraitProps } from \"./props\";\r\n\r\nconst gameObjectIndex = (_: AppState, props: DuplicantPortraitProps) =>\r\n  props.gameObjectIndex;\r\n\r\nconst generateCacheKey = gameObjectIndex;\r\n\r\nconst gameObject = createCachedSelector(\r\n  oniSave,\r\n  gameObjectIndex,\r\n  (oniSave, gameObjectIndex) => {\r\n    if (!oniSave) {\r\n      return null;\r\n    }\r\n    const duplicants = oniSave.gameObjects.find(x => x.name === \"Minion\");\r\n    if (!duplicants) {\r\n      return null;\r\n    }\r\n\r\n    return duplicants.gameObjects[gameObjectIndex] || null;\r\n  }\r\n)(generateCacheKey);\r\n\r\nconst duplicantIdentity = createCachedSelector(gameObject, gameObject => {\r\n  if (!gameObject) {\r\n    return null;\r\n  }\r\n  const identBehavior = getBehavior(gameObject, MinionIdentityBehavior);\r\n  if (!identBehavior || !identBehavior.templateData) {\r\n    return null;\r\n  }\r\n  return identBehavior.templateData;\r\n})(generateCacheKey);\r\n\r\nconst path = (state: AppState, props: DuplicantPortraitProps) => {\r\n  const gameSave = oniSave(state);\r\n  if (!gameSave) {\r\n    return null;\r\n  }\r\n  const groupIndex = gameSave.gameObjects.findIndex(x => x.name === \"Minion\");\r\n  if (groupIndex === -1) {\r\n    return null;\r\n  }\r\n  const index = gameObjectIndex(state, props);\r\n  return [\"gameObjects\", `${groupIndex}`, \"gameObjects\", `${index}`];\r\n};\r\n\r\nconst name = (state: AppState, props: DuplicantPortraitProps) => {\r\n  const ident = duplicantIdentity(state, props);\r\n  return (ident && ident.name) || null;\r\n};\r\n\r\nconst gender = (state: AppState, props: DuplicantPortraitProps) => {\r\n  const ident = duplicantIdentity(state, props);\r\n  return (ident && ident.genderStringKey) || null;\r\n};\r\n\r\nconst arrivalCycle = (state: AppState, props: DuplicantPortraitProps) => {\r\n  const ident = duplicantIdentity(state, props);\r\n  return (ident && (ident.arrivalTime / 200).toFixed(1)) || null;\r\n};\r\n\r\nfunction mapStateToProps(state: AppState, props: DuplicantPortraitProps) {\r\n  return {\r\n    path: path(state, props),\r\n    name: name(state, props),\r\n    gender: gender(state, props),\r\n    arrivalCycle: arrivalCycle(state, props)\r\n  };\r\n}\r\nexport type StateProps = ReturnType<typeof mapStateToProps>;\r\nexport default mapStateToProps;\r\n","import styled, { Radius } from \"@/style\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { getTheme } from \"@/style\";\r\n\r\nimport Header from \"./PortraitHeader\";\r\nimport Footer from \"./PortraitFooter\";\r\n\r\nconst Portrait = styled.div`\r\n  border-radius: ${props => getTheme(props).radii[Radius.Small]}px;\r\n  background-color: ${props => getTheme(props).colors.bg.panel};\r\n  width: 150px;\r\n  height: 150px;\r\n  position: relative;\r\n  padding: 5px;\r\n  margin: 5px;\r\n  box-sizing: border-box;\r\n`;\r\nPortrait.displayName = \"Portrait\";\r\n\r\nexport default attachProps(Portrait, {\r\n  Header,\r\n  Footer\r\n});\r\n","import styled from \"@/style\";\r\n\r\nimport { TextProps, text } from \"@/style\";\r\n\r\nexport interface PortraitHeaderProps extends TextProps {}\r\nconst PortraitHeader = styled<PortraitHeaderProps, \"h4\">(\"h4\")`\r\n  ${text};\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  margin-top: 0;\r\n  margin-bottom: 2px;\r\n  text-align: center;\r\n`;\r\nPortraitHeader.displayName = \"PortraitHeader\";\r\nexport default PortraitHeader;\r\n","import styled from \"@/style\";\r\n\r\nimport { TextProps, text } from \"@/style\";\r\n\r\nexport interface PortraitFooterProps extends TextProps {}\r\nconst PortraitFooter = styled<PortraitFooterProps, \"div\">(\"div\")`\r\n  ${text};\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  margin-top: 2px;\r\n  text-align: center;\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n`;\r\nPortraitFooter.displayName = \"PortraitFooter\";\r\nexport default PortraitFooter;\r\n","import * as React from \"react\";\r\n\r\nimport { Space, Border, Color } from \"@/style\";\r\n\r\nimport Box from \"@/components/Box\";\r\n\r\nconst DuplicantsListContainer: React.SFC = ({ children }) => (\r\n  <Box\r\n    width=\"100%\"\r\n    mt={Space.Small}\r\n    p={Space.Small}\r\n    border={Border.Thick}\r\n    borderColor={Color.DefaultSeparator}\r\n  >\r\n    {children}\r\n  </Box>\r\n);\r\n\r\nDuplicantsListContainer.displayName = \"DuplicantsListContainer\";\r\nexport default DuplicantsListContainer;\r\n","import styled from \"@/style\";\r\n\r\nconst DuplicantsListContent = styled.div`\r\n  padding: 5px;\r\n  overflow-x: auto;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`;\r\nDuplicantsListContent.displayName = \"DuplicantsListContent\";\r\nexport default DuplicantsListContent;\r\n","import TemplateObjectEditor from \"./TemplateObjectEditor\";\r\nexport default TemplateObjectEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport { TemplateObjectEditorProps } from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Text from \"@/components/Text\";\r\nconst TD = Text.withComponent(\"td\");\r\n\r\nimport TemplateObjectEditorContainer from \"./components/TemplateObjectEditorContainer\";\r\n\r\nimport getTypeInfoFieldComponent from \"../../fields/from-typeinfo\";\r\n\r\ntype Props = TemplateObjectEditorProps & StateProps;\r\nclass TemplateObjectEditor extends React.Component<Props> {\r\n  render() {\r\n    const { templateName, template, typeInfo, selectedPath } = this.props;\r\n\r\n    let content: JSX.Element;\r\n    if (template) {\r\n      const fieldRows = [\r\n        ...(template.fields || []),\r\n        ...(template.properties || [])\r\n      ].map(x => {\r\n        const FieldEditor = getTypeInfoFieldComponent(x.type, true);\r\n        return (\r\n          <tr key={x.name}>\r\n            <TD>{x.name}</TD>\r\n            <td>\r\n              <FieldEditor path={[...selectedPath, x.name]} />\r\n            </td>\r\n          </tr>\r\n        );\r\n      });\r\n\r\n      content = (\r\n        <table>\r\n          <tbody>{fieldRows}</tbody>\r\n        </table>\r\n      );\r\n    } else if (typeInfo) {\r\n      const FieldEditor = getTypeInfoFieldComponent(typeInfo);\r\n      content = <FieldEditor path={selectedPath} />;\r\n    } else {\r\n      content = <Text intent={Intent.Dangerous}>Unknown Editable</Text>;\r\n    }\r\n    return (\r\n      <TemplateObjectEditorContainer>\r\n        <Text.H4 intent={Intent.Primary}>{templateName}</Text.H4>\r\n        {content}\r\n      </TemplateObjectEditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(TemplateObjectEditor);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport {\r\n  LIST_TYPES,\r\n  getTypeCode,\r\n  SerializationTypeCode,\r\n  TypeInfo,\r\n  SerializationTypeInfo\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getLastSaveItemOfSubType } from \"@/services/save-structure\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\n\r\nimport { TemplateObjectEditorProps } from \"./props\";\r\n\r\nconst templateName = (_: AppState, props: TemplateObjectEditorProps) =>\r\n  props.templateName;\r\n\r\nconst typeInfo = createSelector(\r\n  oniSave,\r\n  templateName,\r\n  selectedPath,\r\n  (oniSave, templateName, selectedPath) => {\r\n    if (!oniSave) {\r\n      return null;\r\n    }\r\n\r\n    // TODO: This will cause problems with recursive types.\r\n    const foundRoot = getLastSaveItemOfSubType(\r\n      \"template-object\",\r\n      templateName,\r\n      selectedPath,\r\n      oniSave\r\n    );\r\n    if (!foundRoot) {\r\n      return null;\r\n    }\r\n\r\n    const rootTemplatePath = foundRoot.path;\r\n    const templatePath = selectedPath.slice(rootTemplatePath.length);\r\n\r\n    let typeInfo: TypeInfo = {\r\n      info: SerializationTypeInfo.UserDefined,\r\n      templateName\r\n    };\r\n    let template = oniSave.templates.find(x => x.name === templateName);\r\n\r\n    for (let i = 0; i < templatePath.length; i++) {\r\n      const part = templatePath[i];\r\n\r\n      if (template == null) {\r\n        return null;\r\n      }\r\n\r\n      const member =\r\n        template.fields.find(x => x.name === part) ||\r\n        template.properties.find(x => x.name === part);\r\n      if (!member) {\r\n        return null;\r\n      }\r\n\r\n      typeInfo = member.type;\r\n\r\n      const typeCode = getTypeCode(typeInfo.info);\r\n\r\n      if (typeCode === SerializationTypeCode.UserDefined) {\r\n        template = oniSave.templates.find(\r\n          x => x.name === member.type.templateName!\r\n        );\r\n      } else if (LIST_TYPES.indexOf(typeCode) !== -1) {\r\n        i++;\r\n        if (i === templatePath.length) {\r\n          // Targeting an array but no index yet.\r\n          break;\r\n        }\r\n\r\n        if (\r\n          getTypeCode(typeInfo.subTypes![0].info) ===\r\n          SerializationTypeCode.UserDefined\r\n        ) {\r\n          typeInfo = typeInfo.subTypes![0];\r\n          template = oniSave.templates.find(\r\n            x => x.name === typeInfo.templateName\r\n          );\r\n        }\r\n      } else if (typeCode === SerializationTypeCode.Dictionary) {\r\n        i++;\r\n        if (i === templatePath.length) {\r\n          // Targeting a dict but no index yet.\r\n          break;\r\n        }\r\n\r\n        // Select key or value\r\n        i++;\r\n        if (i === templatePath.length) {\r\n          // Targeting an index, but no key or value.\r\n          // Fake a value for the ui.\r\n          typeInfo = {\r\n            info: SerializationTypeInfo.Pair,\r\n            subTypes: typeInfo.subTypes\r\n          };\r\n          break;\r\n        }\r\n        let keyValueIndex = Number(templatePath[i]);\r\n        typeInfo = typeInfo.subTypes![keyValueIndex];\r\n        if (!typeInfo) {\r\n          break;\r\n        }\r\n\r\n        if (getTypeCode(typeInfo.info) === SerializationTypeCode.UserDefined) {\r\n          template = oniSave.templates.find(\r\n            x => x.name === typeInfo.templateName\r\n          );\r\n        }\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n\r\n    return typeInfo;\r\n  }\r\n);\r\n\r\nconst template = createSelector(oniSave, typeInfo, (oniSave, typeInfo) => {\r\n  if (!oniSave || !typeInfo) {\r\n    return null;\r\n  }\r\n\r\n  const typeCode = getTypeCode(typeInfo.info);\r\n  if (typeCode !== SerializationTypeCode.UserDefined) {\r\n    return null;\r\n  }\r\n\r\n  let template = oniSave.templates.find(x => x.name === typeInfo.templateName);\r\n  return template;\r\n});\r\n\r\nconst structuredSelector = {\r\n  template,\r\n  typeInfo,\r\n  selectedPath\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<\r\n  AppState,\r\n  TemplateObjectEditorProps,\r\n  StateProps\r\n>(structuredSelector);\r\nexport default mapStateToProps;\r\n","import styled from \"@/style\";\r\n\r\nconst TemplateObjectEditorContainer = styled.div``;\r\nTemplateObjectEditorContainer.displayName = \"TemplateObjectEditorContainer\";\r\nexport default TemplateObjectEditorContainer;\r\n","import * as React from \"react\";\r\n\r\nimport { TypeInfo } from \"oni-save-parser\";\r\n\r\nimport Text from \"@/components/Text\";\r\n\r\nimport connectEditorField, {\r\n  EditorFieldProps,\r\n  InjectedProps\r\n} from \"./connect-field\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport getFieldElementClass from \"./from-typeinfo\";\r\n\r\nconst TD = Text.withComponent(\"td\");\r\n\r\nexport interface ArrayLikeFieldProps extends EditorFieldProps {\r\n  subType: TypeInfo;\r\n}\r\nconst ArrayLikeField: React.SFC<ArrayLikeFieldProps & InjectedProps> = ({\r\n  path,\r\n  subType,\r\n  value\r\n}) => {\r\n  if (value == null) {\r\n    return <Text intent={Intent.Hint}>Null Value</Text>;\r\n  }\r\n  const ValueElement = getFieldElementClass(subType);\r\n  const elements = (value as any[]).map((_, i) => {\r\n    return (\r\n      <tr key={i}>\r\n        <TD>{i}</TD>\r\n        <td>\r\n          <ValueElement path={[...path, `${i}`]} />\r\n        </td>\r\n      </tr>\r\n    );\r\n  });\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>\r\n            <Text intent={Intent.Primary}>Key</Text>\r\n          </th>\r\n          <th>\r\n            <Text intent={Intent.Primary}>Value</Text>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>{elements}</tbody>\r\n    </table>\r\n  );\r\n};\r\nArrayLikeField.displayName = \"ArrayLikeField\";\r\nexport default connectEditorField()(ArrayLikeField);\r\n","import CheckInput from \"@/components/CheckInput\";\r\n\r\nimport connectEditorField from \"./connect-field\";\r\n\r\nexport default connectEditorField()(CheckInput);\r\n","import * as React from \"react\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport NumericField from \"./NumericField\";\r\n\r\nconst ColorField: React.SFC<EditorFieldProps> = ({ path }) => (\r\n  <div>\r\n    <FormGroup label=\"R\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        minValue={0}\r\n        maxValue={1}\r\n        path={[...path, \"r\"]}\r\n      />\r\n    </FormGroup>\r\n    <FormGroup label=\"G\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        minValue={0}\r\n        maxValue={1}\r\n        path={[...path, \"g\"]}\r\n      />\r\n    </FormGroup>\r\n    <FormGroup label=\"B\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        minValue={0}\r\n        maxValue={1}\r\n        path={[...path, \"b\"]}\r\n      />\r\n    </FormGroup>\r\n    <FormGroup label=\"A\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        minValue={0}\r\n        maxValue={1}\r\n        path={[...path, \"a\"]}\r\n      />\r\n    </FormGroup>\r\n  </div>\r\n);\r\nColorField.displayName = \"ColorField\";\r\nexport default ColorField;\r\n","import * as React from \"react\";\r\n\r\nimport { TypeInfo } from \"oni-save-parser\";\r\n\r\nimport Text from \"@/components/Text\";\r\n\r\nimport connectEditorField, {\r\n  EditorFieldProps,\r\n  InjectedProps\r\n} from \"./connect-field\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport getFieldElementClass from \"./from-typeinfo\";\r\n\r\nconst TD = Text.withComponent(\"td\");\r\n\r\nexport interface DictionaryFieldProps extends EditorFieldProps {\r\n  subType: TypeInfo;\r\n}\r\nconst DictionaryField: React.SFC<DictionaryFieldProps & InjectedProps> = ({\r\n  path,\r\n  subType,\r\n  value\r\n}) => {\r\n  const ValueElement = getFieldElementClass(subType);\r\n  const elements = (value as any[]).map(([key, value], i) => {\r\n    return (\r\n      <tr key={i}>\r\n        <TD>{JSON.stringify(key)}</TD>\r\n        <td>\r\n          <ValueElement path={[...path, `${i}`, \"1\"]} />\r\n        </td>\r\n      </tr>\r\n    );\r\n  });\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>\r\n            <Text intent={Intent.Primary}>Key</Text>\r\n          </th>\r\n          <th>\r\n            <Text intent={Intent.Primary}>Value</Text>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>{elements}</tbody>\r\n    </table>\r\n  );\r\n};\r\nDictionaryField.displayName = \"DictionaryField\";\r\nexport default connectEditorField()(DictionaryField);\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\nimport { EnumerationsByName } from \"oni-save-parser\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\nimport Select, { Option } from \"@/components/Select\";\r\n\r\nimport connectEditorField, {\r\n  EditorFieldProps,\r\n  InjectedProps\r\n} from \"./connect-field\";\r\n\r\nexport interface EnumerationFieldProps extends EditorFieldProps {\r\n  enumerationName: string;\r\n}\r\n\r\ntype Props = EnumerationFieldProps & InjectedProps;\r\nclass EnumerationField extends React.Component<Props> {\r\n  render() {\r\n    const { enumerationName, value, onCommit } = this.props;\r\n    const enumeration = getEnumeration(enumerationName);\r\n    if (!enumeration) {\r\n      return (\r\n        <span>\r\n          <NumericInput value={value} onCommit={onCommit} />\r\n          <Text intent={Intent.Hint}>{enumerationName} (unknown)</Text>\r\n        </span>\r\n      );\r\n    } else {\r\n      // Enumeration has keys for names and numbers.\r\n      const nameKeys = Object.keys(enumeration).filter(\r\n        // TODO: This is silly.  Expose a way to match the [enum]Names constants\r\n        //  to the names of enum types.\r\n        x => isNaN(parseInt(x))\r\n      );\r\n      const options: Option<number>[] = nameKeys.map(x => ({\r\n        label: x,\r\n        value: enumeration[x]\r\n      }));\r\n      return (\r\n        <Select\r\n          value={value as number}\r\n          options={options}\r\n          onChange={this._onSelectInputChange}\r\n          width=\"200px\"\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onSelectInputChange(value: number) {\r\n    if (!value) {\r\n      return;\r\n    }\r\n    const { onCommit } = this.props;\r\n    onCommit(value);\r\n  }\r\n}\r\n\r\nexport default connectEditorField()(EnumerationField);\r\n\r\nfunction getEnumeration(\r\n  enumerationName: string\r\n): (Record<string, number> & Record<number, string>) | null {\r\n  if (\r\n    !Object.prototype.hasOwnProperty.call(EnumerationsByName, enumerationName)\r\n  ) {\r\n    return null;\r\n  }\r\n\r\n  return (EnumerationsByName as any)[enumerationName];\r\n}\r\n","import TextInput from \"@/components/TextInput\";\r\n\r\nimport connectEditorField from \"./connect-field\";\r\n\r\nexport default connectEditorField()(TextInput);\r\n","import * as React from \"react\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport NumericField from \"./NumericField\";\r\n\r\nconst Vector2Field: React.SFC<EditorFieldProps> = ({ path }) => (\r\n  <div>\r\n    <FormGroup label=\"X\" inline>\r\n      <NumericField precision=\"single\" path={[...path, \"x\"]} />\r\n    </FormGroup>\r\n    <FormGroup label=\"Y\" inline>\r\n      <NumericField precision=\"single\" path={[...path, \"y\"]} />\r\n    </FormGroup>\r\n  </div>\r\n);\r\nVector2Field.displayName = \"Vector2Field\";\r\nexport default Vector2Field;\r\n","import * as React from \"react\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport NumericField from \"./NumericField\";\r\n\r\nconst Vector2IField: React.SFC<EditorFieldProps> = ({ path }) => (\r\n  <div>\r\n    <FormGroup label=\"X\" inline>\r\n      <NumericField precision=\"int32\" path={[...path, \"x\"]} />\r\n    </FormGroup>\r\n    <FormGroup label=\"Y\" inline>\r\n      <NumericField precision=\"int32\" path={[...path, \"y\"]} />\r\n    </FormGroup>\r\n  </div>\r\n);\r\nVector2IField.displayName = \"Vector2IField\";\r\nexport default Vector2IField;\r\n","import * as React from \"react\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport NumericField from \"./NumericField\";\r\n\r\nconst Vector3Field: React.SFC<EditorFieldProps> = ({ path }) => (\r\n  <div>\r\n    <FormGroup label=\"X\" inline>\r\n      <NumericField precision=\"single\" path={[...path, \"x\"]} />\r\n    </FormGroup>\r\n    <FormGroup label=\"Y\" inline>\r\n      <NumericField precision=\"single\" path={[...path, \"y\"]} />\r\n    </FormGroup>\r\n    <FormGroup label=\"Z\" inline>\r\n      <NumericField precision=\"single\" path={[...path, \"z\"]} />\r\n    </FormGroup>\r\n  </div>\r\n);\r\nVector3Field.displayName = \"Vector3Field\";\r\nexport default Vector3Field;\r\n","import GameObjectGroupList from \"./GameObjectGroupList\";\r\nexport default GameObjectGroupList;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport mapStateToProps, { StateProps, GroupItem } from \"./derived-state\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\nimport DataTable, { DataTableColumn } from \"@/components/DataTable\";\r\n\r\nimport EditorContainer from \"@/pages/SaveEditor/components/editors/components/EditorContainer\";\r\n\r\ntype Props = StateProps;\r\nclass GameObjectGroupList extends React.Component<Props> {\r\n  render() {\r\n    const { gameObjectGroups } = this.props;\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        header: \"Game Object Type\",\r\n        id: \"type\",\r\n        property: \"name\",\r\n        cell: ({ rowData }: { rowData: GroupItem }) => (\r\n          <SaveStructureLink intent={Intent.Primary} path={rowData.path}>\r\n            {rowData.name}\r\n          </SaveStructureLink>\r\n        ),\r\n        sortable: true,\r\n        // sortMethod: (a: GroupItem, b: GroupItem) =>\r\n        //   a.name.localeCompare(b.name) as any,\r\n        filterable: true\r\n      },\r\n      {\r\n        header: \"Count\",\r\n        property: \"count\",\r\n        sortable: true\r\n      }\r\n    ];\r\n    return (\r\n      <EditorContainer header=\"GameObject Types\">\r\n        <DataTable columns={columns} data={gameObjectGroups} />\r\n      </EditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(GameObjectGroupList);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { GameObjectGroup } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\nimport { getSaveItemChildPaths } from \"@/services/save-structure\";\r\nimport editMode from \"@/selectors/edit-mode\";\r\n\r\nexport interface GroupItem {\r\n  name: string;\r\n  count: number;\r\n  path: string[];\r\n}\r\n\r\nconst gameObjectGroups = createSelector(\r\n  oniSave,\r\n  editMode,\r\n  (oniSave, editMode) => {\r\n    if (!oniSave) {\r\n      return [];\r\n    }\r\n\r\n    const gameObjectPaths = getSaveItemChildPaths(\r\n      [\"gameObjects\"],\r\n      oniSave,\r\n      editMode\r\n    );\r\n\r\n    return gameObjectPaths.map((path, i) => {\r\n      const group = get(oniSave, path) as GameObjectGroup;\r\n      const item: GroupItem = {\r\n        name: group.name,\r\n        count: group.gameObjects.length,\r\n        path\r\n      };\r\n      return item;\r\n    });\r\n  }\r\n);\r\n\r\nconst structuredSelector = {\r\n  gameObjectGroups\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import GameObjectList from \"./GameObjectList\";\r\nexport default GameObjectList;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport { GameObjectListProps } from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Portrait from \"@/components/Portrait\";\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\nimport GameObjectListContent from \"./components/GameObjectListContent\";\r\n\r\nimport EditorContainer from \"@/pages/SaveEditor/components/editors/components/EditorContainer\";\r\n\r\ntype Props = GameObjectListProps & StateProps;\r\nclass GameObjectList extends React.Component<Props> {\r\n  render() {\r\n    const { gameObjectItems } = this.props;\r\n    const portraits = gameObjectItems.map(x => (\r\n      <Portrait key={x.name}>\r\n        <Portrait.Header wordBreak=\"break-all\">\r\n          <SaveStructureLink intent={Intent.Primary} path={x.path}>\r\n            {x.name}\r\n          </SaveStructureLink>\r\n        </Portrait.Header>\r\n      </Portrait>\r\n    ));\r\n    return (\r\n      <EditorContainer header=\"GameObjects\">\r\n        <GameObjectListContent>{portraits}</GameObjectListContent>\r\n      </EditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(GameObjectList);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { GameObjectGroup, GameObject } from \"oni-save-parser\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\n\r\nimport { getSaveItemTitle } from \"@/services/save-structure\";\r\n\r\nimport { GameObjectListProps } from \"./props\";\r\n\r\nconst isFlatListSelector = (_: AppState, props: GameObjectListProps) =>\r\n  props.isFlatList || false;\r\n\r\nexport interface GameObjectItem {\r\n  name: string;\r\n  path: string[];\r\n}\r\n\r\nconst gameObjectItems = createSelector(\r\n  oniSave,\r\n  selectedPath,\r\n  isFlatListSelector,\r\n  (oniSave, selectedPath, isFlatList) => {\r\n    if (!oniSave) {\r\n      return [];\r\n    }\r\n\r\n    let gameObjectPaths: string[][];\r\n    if (isFlatList) {\r\n      const gameObjects: GameObject[] = get(oniSave, selectedPath);\r\n      gameObjectPaths = gameObjects.map((_, i) => [...selectedPath, `${i}`]);\r\n    } else {\r\n      const group: GameObjectGroup = get(oniSave, selectedPath);\r\n      if (!group) {\r\n        return [];\r\n      }\r\n      gameObjectPaths = group.gameObjects.map((_, i) => [\r\n        ...selectedPath,\r\n        \"gameObjects\",\r\n        `${i}`\r\n      ]);\r\n    }\r\n\r\n    return gameObjectPaths.map(path => {\r\n      const name = getSaveItemTitle(path, oniSave);\r\n      const item: GameObjectItem = {\r\n        name,\r\n        path\r\n      };\r\n      return item;\r\n    });\r\n  }\r\n);\r\n\r\nconst structuredSelector = {\r\n  gameObjectItems\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<\r\n  AppState,\r\n  GameObjectListProps,\r\n  StateProps\r\n>(structuredSelector);\r\nexport default mapStateToProps;\r\n","import styled from \"@/style\";\r\n\r\nconst GroupListContent = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  justify-content: flex-start;\r\n  align-items: baseline;\r\n`;\r\nGroupListContent.displayName = \"GroupListContent\";\r\nexport default GroupListContent;\r\n","import styled from \"@/style\";\r\n\r\nconst SaveEditorContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n`;\r\nexport default SaveEditorContainer;\r\n","import styled, { Space } from \"@/style\";\r\n\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst ContentContainer = styled.div`\r\n  box-sizing: border-box;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: auto;\r\n  flex: 1 1 auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nexport default ContentContainer;\r\n","import styled from \"@/style\";\r\n\r\nconst EditorContainer = styled.div`\r\n  flex: 1 1 auto;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: auto;\r\n`;\r\nEditorContainer.displayName = \"EditorContainer\";\r\nexport default EditorContainer;\r\n","import Sidebar from \"./Sidebar\";\r\nexport default Sidebar;\r\n","import * as React from \"react\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport SidebarContainer from \"./components/SidebarContainer\";\r\n\r\nimport EditorModeSelector from \"./components/EditorModeSelector\";\r\nimport SaveStructureTree from \"./components/SaveStructureTree\";\r\n\r\nconst Sidebar: React.SFC = () => (\r\n  <SidebarContainer>\r\n    <Flex direction=\"column\" height=\"100%\">\r\n      <EditorModeSelector />\r\n      <Flex.Item fillParent constrain=\"column\">\r\n        <SaveStructureTree />\r\n      </Flex.Item>\r\n    </Flex>\r\n  </SidebarContainer>\r\n);\r\nSidebar.displayName = \"Sidebar\";\r\nexport default Sidebar;\r\n","import Panel from \"@/components/Panel\";\r\n\r\nconst SidebarContainer = Panel.extend`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n`;\r\nSidebarContainer.displayName = \"SidebarContainer\";\r\nexport default SidebarContainer;\r\n","import styled from \"@/style\";\r\nimport { WidthProps, HeightProps, width, height } from \"styled-system\";\r\nimport { getTheme } from \"@/style\";\r\n\r\nexport type BoxProps = WidthProps & HeightProps;\r\n\r\nconst Panel = styled<BoxProps, \"div\">(\"div\")`\r\n  ${width};\r\n  ${height};\r\n  background-color: ${props => getTheme(props).colors.bg.panel};\r\n`;\r\nPanel.displayName = \"Panel\";\r\nexport default Panel;\r\n","import EditorModeSelector from \"./EditorModeSelector\";\r\nexport default EditorModeSelector;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport Input from \"@/components/Input\";\r\n\r\ntype Props = DispatchProps;\r\nclass EditorModeSelector extends React.Component<Props> {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Text.Label htmlFor=\"advanced_mode\" intent={Intent.Secondary}>\r\n          Advanced Mode\r\n        </Text.Label>\r\n        <Input\r\n          id=\"advanced_mode\"\r\n          type=\"checkbox\"\r\n          onChange={this._onAdvancedModeChange}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onAdvancedModeChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const { setEditMode } = this.props;\r\n    setEditMode(e.target.checked ? \"advanced\" : \"normal\");\r\n  }\r\n}\r\nexport default connect(\r\n  undefined,\r\n  mapDispatchToProps\r\n)(EditorModeSelector);\r\n","import { setEditMode } from \"@/actions/set-editmode\";\r\n\r\nconst mapDispatchToProps = {\r\n  setEditMode\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import SaveStructureTree from \"./SaveStructureTree\";\r\nexport default SaveStructureTree;\r\n","import * as React from \"react\";\r\n\r\nimport SaveStructureTreeContainer from \"./components/SaveStructureTreeContainer\";\r\nimport SaveStructureItem from \"./components/SaveStructureItem\";\r\n\r\ntype Props = {};\r\nexport default class SaveStructureTree extends React.Component<Props> {\r\n  private _containerRef = React.createRef<HTMLElement>();\r\n\r\n  render() {\r\n    return (\r\n      <SaveStructureTreeContainer innerRef={this._containerRef}>\r\n        <SaveStructureItem\r\n          saveItemPath={[]}\r\n          scrollContainer={this._containerRef}\r\n        />\r\n      </SaveStructureTreeContainer>\r\n    );\r\n  }\r\n}\r\n","import styled from \"@/style\";\r\n\r\nconst SaveStructureTreeContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: auto;\r\n`;\r\nexport default SaveStructureTreeContainer;\r\n","import SaveStructureItem from \"./SaveStructureItem\";\r\nexport default SaveStructureItem;\r\nexport * from \"./props\";\r\n","import * as React from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport scrollIntoView from \"dom-scroll-into-view\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport { SaveStructureItemProps } from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport SaveStructureItemContainer from \"./components/SaveStructureItemContainer\";\r\nimport SaveStructureItemHeader from \"./components/SaveStructureItemHeader\";\r\nimport SaveStructureItemContent from \"./components/SaveStructureItemContent\";\r\n\r\ninterface State {\r\n  isExpanded: boolean;\r\n}\r\n\r\ntype Props = SaveStructureItemProps & StateProps & DispatchProps;\r\nclass SaveStructureItemComponent extends React.Component<Props, State> {\r\n  private _ref: React.RefObject<HTMLDivElement>;\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this._ref = React.createRef();\r\n\r\n    this.state = {\r\n      isExpanded: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.selectionStatus === \"selected\") {\r\n      this._scrollIntoView();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(oldProps: Props) {\r\n    if (\r\n      oldProps.selectionStatus !== \"selected\" &&\r\n      this.props.selectionStatus === \"selected\"\r\n    ) {\r\n      this._scrollIntoView();\r\n    }\r\n  }\r\n\r\n  render(): JSX.Element {\r\n    const { title, selectionStatus, childPaths, scrollContainer } = this.props;\r\n    let { isExpanded } = this.state;\r\n\r\n    const isExpandable = childPaths.length > 0;\r\n\r\n    let titleIntent: Intent;\r\n    switch (selectionStatus) {\r\n      default:\r\n        titleIntent = Intent.Default;\r\n        break;\r\n      case \"in-path\":\r\n        titleIntent = Intent.Secondary;\r\n        isExpanded = isExpandable;\r\n        break;\r\n      case \"selected\":\r\n        titleIntent = Intent.Primary;\r\n        break;\r\n    }\r\n\r\n    let valueElement: React.ReactNode | null = null;\r\n    if (isExpandable && isExpanded) {\r\n      valueElement = childPaths.map(childPath => {\r\n        const key = childPath[childPath.length - 1];\r\n        return (\r\n          <SaveStructureItem\r\n            key={key}\r\n            saveItemPath={childPath}\r\n            scrollContainer={scrollContainer}\r\n          />\r\n        );\r\n      });\r\n    }\r\n\r\n    return (\r\n      <SaveStructureItemContainer>\r\n        <SaveStructureItemHeader\r\n          innerRef={this._ref}\r\n          expandable={isExpandable}\r\n          expanded={isExpanded}\r\n          header={title}\r\n          intent={titleIntent}\r\n          onClick={this._onClick}\r\n          onExpandToggle={this._onExpandToggle}\r\n        />\r\n        <SaveStructureItemContent>{valueElement}</SaveStructureItemContent>\r\n      </SaveStructureItemContainer>\r\n    );\r\n  }\r\n\r\n  private _scrollIntoView() {\r\n    const htmlElement = this._ref.current;\r\n    const { childPaths, scrollContainer } = this.props;\r\n\r\n    if (childPaths.length > 0) {\r\n      this.setState({\r\n        isExpanded: true\r\n      });\r\n    }\r\n\r\n    if (htmlElement && scrollContainer.current) {\r\n      scrollIntoView(htmlElement, scrollContainer.current, {\r\n        allowHorizontalScroll: true,\r\n        onlyScrollIfNeeded: true,\r\n        offsetBottom: 125,\r\n        offsetTop: 125\r\n      });\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onClick() {\r\n    const { saveItemPath, onClick } = this.props;\r\n    this.setState({\r\n      isExpanded: true\r\n    });\r\n    onClick(saveItemPath);\r\n  }\r\n\r\n  @autobind()\r\n  private _onExpandToggle() {\r\n    this.setState({\r\n      isExpanded: !this.state.isExpanded\r\n    });\r\n  }\r\n}\r\nconst SaveStructureItem = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SaveStructureItemComponent);\r\nexport default SaveStructureItem;\r\n","import { SaveGame } from \"oni-save-parser\";\r\nimport createCachedSelector from \"re-reselect\";\r\n\r\nimport naturalCompare from \"string-natural-compare\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport {\r\n  EditMode,\r\n  getSaveItemTitle,\r\n  getSaveItemChildPaths\r\n} from \"@/services/save-structure\";\r\n\r\nimport oniSaveSelector from \"@/selectors/oni-save\";\r\nimport selectedPathSelector from \"@/selectors/selected-path\";\r\nimport editModeSelector from \"@/selectors/edit-mode\";\r\n\r\nimport { SaveStructureItemProps } from \"./props\";\r\n\r\nconst cacheKeyGenerator = (_: AppState, props: SaveStructureItemProps) =>\r\n  props.saveItemPath.join(\".\");\r\n\r\nconst itemPathSelector = (_: AppState, props: SaveStructureItemProps) =>\r\n  props.saveItemPath;\r\n\r\nconst title = createCachedSelector<\r\n  AppState,\r\n  SaveStructureItemProps,\r\n  string[],\r\n  SaveGame | null,\r\n  string\r\n>(\r\n  itemPathSelector,\r\n  oniSaveSelector,\r\n  (path, saveGame) =>\r\n    saveGame ? getSaveItemTitle(path, saveGame) : \"[undefined]\"\r\n)(cacheKeyGenerator);\r\n\r\nconst selectionStatus = createCachedSelector<\r\n  AppState,\r\n  SaveStructureItemProps,\r\n  string[],\r\n  string[],\r\n  \"unselected\" | \"in-path\" | \"selected\"\r\n>(itemPathSelector, selectedPathSelector, (itemPath, selectedPath) => {\r\n  const isSelected = itemPath.every((x, i) => selectedPath[i] == x);\r\n  if (!isSelected) {\r\n    return \"unselected\";\r\n  }\r\n\r\n  if (itemPath.length === selectedPath.length) {\r\n    return \"selected\";\r\n  }\r\n\r\n  return \"in-path\";\r\n})(cacheKeyGenerator);\r\n\r\nconst childPaths = createCachedSelector<\r\n  AppState,\r\n  SaveStructureItemProps,\r\n  string[],\r\n  SaveGame | null,\r\n  EditMode,\r\n  string[][]\r\n>(\r\n  itemPathSelector,\r\n  oniSaveSelector,\r\n  editModeSelector,\r\n  (path, saveGame, editMode) => {\r\n    if (saveGame == null) {\r\n      return [];\r\n    }\r\n\r\n    // Note: This is a pretty heavy operation.  We recurse the save\r\n    //  to find the child items, then scan every path for both\r\n    //  items during sort.\r\n    const childItems = getSaveItemChildPaths(path, saveGame, editMode);\r\n    return childItems.sort((a, b) => {\r\n      const aTitle = getSaveItemTitle(a, saveGame);\r\n      const bTitle = getSaveItemTitle(b, saveGame);\r\n      return naturalCompare(aTitle, bTitle);\r\n    });\r\n  }\r\n)(cacheKeyGenerator);\r\n\r\nconst mapStateToProps = function(\r\n  state: AppState,\r\n  props: SaveStructureItemProps\r\n) {\r\n  // Do not use createStructuredSelector here, as that itself\r\n  //  creates a selector that will go nuts over our multi instance props.\r\n  const stateProps = {\r\n    title: title(state, props),\r\n    selectionStatus: selectionStatus(state, props),\r\n    childPaths: childPaths(state, props)\r\n  };\r\n\r\n  return stateProps;\r\n};\r\nexport type StateProps = ReturnType<typeof mapStateToProps>;\r\nexport default mapStateToProps;\r\n","import { selectPath } from \"@/actions/select-path\";\r\n\r\nconst mapDispatchToProps = {\r\n  onClick: selectPath\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import styled from \"@/style\";\r\n\r\nconst SaveStructureItemContainer = styled.div``;\r\nSaveStructureItemContainer.displayName = \"SaveStructureItemContainer\";\r\nexport default SaveStructureItemContainer;\r\n","import SaveStructureItemHeader from \"./SaveStructureItemHeader\";\r\nexport default SaveStructureItemHeader;\r\n","import * as React from \"react\";\r\n\r\nimport styled from \"@/style\";\r\n\r\nimport Expander from \"./components/Expander\";\r\nimport ItemText from \"./components/ItemText\";\r\nimport { Intent } from \"@/style\";\r\n\r\nexport interface SaveStructureItemHeaderProps {\r\n  expandable: boolean;\r\n  expanded: boolean;\r\n  header: string;\r\n  intent: Intent;\r\n  innerRef?: React.RefObject<HTMLDivElement>;\r\n  onClick(): void;\r\n  onExpandToggle(): void;\r\n}\r\n\r\nconst SaveStructureItemHeaderContainer = styled.span`\r\n  white-space: nowrap;\r\n  cursor: pointer;\r\n`;\r\nSaveStructureItemHeaderContainer.displayName = \"SaveStructureItemContainer\";\r\n\r\nconst SaveStructureItemHeader: React.SFC<\r\n  SaveStructureItemHeaderProps & { className?: string }\r\n> = ({\r\n  className,\r\n  expandable,\r\n  expanded,\r\n  header,\r\n  intent,\r\n  onClick,\r\n  onExpandToggle,\r\n  innerRef\r\n}) => (\r\n  <SaveStructureItemHeaderContainer innerRef={innerRef} className={className}>\r\n    {expandable && (\r\n      <Expander\r\n        expanded={expanded}\r\n        onClick={expandable ? onExpandToggle : undefined}\r\n      />\r\n    )}\r\n    <ItemText intent={intent} onClick={onClick}>\r\n      {header}\r\n    </ItemText>\r\n  </SaveStructureItemHeaderContainer>\r\n);\r\nSaveStructureItemHeader.displayName = \"SaveStructureItemHeader\";\r\nexport default SaveStructureItemHeader;\r\n","import * as React from \"react\";\r\n\r\nconst ICON_SIZE = 10;\r\nconst ICON_EXPANDED = \"M 0 .25 L .5 .75 L 1 .25 z\";\r\nconst ICON_COLLAPSED = \"M .5 0 L 1 .5 L .5 1 z\";\r\n\r\nexport interface ExpanderProps {\r\n  expanded: boolean;\r\n  onClick?(): void;\r\n}\r\nconst Expander: React.SFC<ExpanderProps & { className?: string }> = ({\r\n  className,\r\n  expanded,\r\n  onClick\r\n}) => (\r\n  <svg\r\n    className={className}\r\n    width={ICON_SIZE}\r\n    height={ICON_SIZE}\r\n    viewBox={`0 0 1 1`}\r\n    onClick={onClick}\r\n  >\r\n    <path d={expanded ? ICON_EXPANDED : ICON_COLLAPSED} fill=\"black\" />\r\n  </svg>\r\n);\r\nexport default Expander;\r\n","import { getTheme, Space } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\n\r\nconst ItemText = Text.extend`\r\n  margin-left: ${props => getTheme(props).space[Space.Small]}px;\r\n`;\r\nexport default ItemText;\r\n","import styled from \"@/style\";\r\n\r\nconst SaveStructureItemContent = styled.div`\r\n  padding-left: 15px;\r\n`;\r\nexport default SaveStructureItemContent;\r\n","import styled from \"@/style\";\r\n\r\nimport { WidthProps, SpaceProps, width, space } from \"styled-system\";\r\n\r\nimport { Color, getThemeColor } from \"@/style\";\r\n\r\nexport interface SeparatorProps extends WidthProps, SpaceProps {\r\n  color?: Color;\r\n}\r\nconst Separator = styled<SeparatorProps, \"div\">(\"div\")`\r\n  border-bottom: 2px solid;\r\n  border-color: ${props =>\r\n    getThemeColor(props.color || Color.DefaultSeparator)(props)};\r\n  ${width};\r\n  ${space};\r\n  height: 2px;\r\n`;\r\nSeparator.displayName = \"Separator\";\r\nexport default Separator;\r\n","import styled from \"@/style\";\r\n\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst AppContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n  background-color: ${props => getTheme(props).colors.bg.default};\r\n`;\r\nAppContainer.displayName = \"AppContainer\";\r\nexport default AppContainer;\r\n","import styled from \"@/style\";\r\n\r\nconst AppContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  flex: 1 1 auto;\r\n  overflow: auto;\r\n`;\r\nAppContainer.displayName = \"AppContainer\";\r\nexport default AppContainer;\r\n","import NavBarContainer from \"./NavBar\";\r\nexport default NavBarContainer;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { Trans, translate } from \"react-i18next\";\r\n\r\nimport { isProd } from \"@/runtime-env\";\r\n\r\nimport { Intent, FontSize } from \"@/style\";\r\n\r\nimport Icon from \"@/components/Icon\";\r\nimport Button from \"@/components/Button\";\r\n\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NavBarContainer from \"./components/NavBarContainer\";\r\n\r\nimport NavBarGroup from \"./components/NavBarGroup\";\r\nimport NavBarTitleText from \"./components/NavBarTitleText\";\r\nimport SettingsButton from \"./components/SettingsButton\";\r\n\r\ntype Props = DispatchProps;\r\nclass NavBar extends React.Component<Props> {\r\n  private _input: HTMLElement | null = null;\r\n\r\n  render() {\r\n    const { onLoadTestData } = this.props;\r\n    return (\r\n      <NavBarContainer>\r\n        <NavBarTitleText>Duplicity</NavBarTitleText>\r\n        <NavBarGroup>\r\n          <input\r\n            ref={el => (this._input = el)}\r\n            style={{ display: \"none\" }}\r\n            type=\"file\"\r\n            accept=\".sav\"\r\n            onChange={this._onLoadFileInput}\r\n          />\r\n          <Button onClick={this._onLoadFileClick} verticalAlign=\"middle\">\r\n            <Trans i18nKey={\"save-file.load\"}>Load</Trans>\r\n          </Button>\r\n          {!isProd && (\r\n            <Button onClick={onLoadTestData} verticalAlign=\"middle\">\r\n              Test\r\n            </Button>\r\n          )}\r\n          <Button\r\n            intent={Intent.Primary}\r\n            onClick={this._onSaveFileClick}\r\n            verticalAlign=\"middle\"\r\n          >\r\n            <Trans i18nKey={\"save-file.save\"}>Save</Trans>\r\n          </Button>\r\n          <a\r\n            title=\"Github\"\r\n            href=\"https://github.com/RoboPhred/oni-duplicity\"\r\n            target=\"_blank\"\r\n          >\r\n            <Icon.Github\r\n              intent={Intent.Hint}\r\n              fontSize={FontSize.Heading}\r\n              verticalAlign=\"middle\"\r\n            />\r\n          </a>\r\n          <SettingsButton />\r\n        </NavBarGroup>\r\n      </NavBarContainer>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onLoadFileClick() {\r\n    if (!this._input) {\r\n      return;\r\n    }\r\n    this._input.click();\r\n  }\r\n\r\n  @autobind()\r\n  private _onLoadFileInput(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const files = e.target.files;\r\n    if (!files || files.length === 0) {\r\n      return;\r\n    }\r\n    const file = files[0];\r\n\r\n    const { onLoad } = this.props;\r\n    onLoad(file);\r\n  }\r\n\r\n  @autobind()\r\n  private _onSaveFileClick() {\r\n    const { onSave } = this.props;\r\n    const fileName = withExtension(\"my-file\", \".sav\");\r\n    onSave(fileName);\r\n  }\r\n}\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(translate()(NavBar));\r\n\r\nfunction withExtension(name: string, ext: string): string {\r\n  if (name.endsWith(ext)) return name;\r\n  return name + ext;\r\n}\r\n","import testData from \"@/__mocks__/save-game.json\";\r\n\r\nimport { loadOniSave } from \"@/actions/load-onisave\";\r\nimport { saveOniSave } from \"@/actions/save-onisave\";\r\n\r\nimport { receiveOniSaveSuccess } from \"@/actions/receive-onisave\";\r\n\r\nconst mapDispatchToProps = {\r\n  onLoad: loadOniSave,\r\n  onLoadTestData: () => receiveOniSaveSuccess(testData as any),\r\n  onSave: saveOniSave\r\n};\r\nexport default mapDispatchToProps;\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\n","import styled from \"@/style\";\r\n\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst NavBarContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: \"row\";\r\n  width: 100%;\r\n  padding-top: 5px;\r\n  padding-bottom: 5px;\r\n  box-sizing: border-box;\r\n  background-color: ${props => getTheme(props).colors.bg.navbar};\r\n`;\r\nNavBarContainer.displayName = \"NavBarContainer\";\r\nexport default NavBarContainer;\r\n","import styled from \"@/style\";\r\n\r\nconst NavBarGroup = styled.div`\r\n  margin-left: auto;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  align-self: center;\r\n`;\r\nNavBarGroup.displayName = \"NavBarGroup\";\r\nexport default NavBarGroup;\r\n","import styled from \"@/style\";\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst NavBarTitleText = styled.span`\r\n  font-size: 2em;\r\n  margin-left: 5px;\r\n  color: ${props => getTheme(props).colors.intent.primary};\r\n`;\r\nNavBarTitleText.displayName = \"NavBarTitleText\";\r\nexport default NavBarTitleText;\r\n","import * as React from \"react\";\r\n\r\nimport { FontSize } from \"@/style\";\r\n\r\nimport DropdownMenuButton from \"@/components/DropdownMenuButton\";\r\nimport Icon from \"@/components/Icon\";\r\n\r\nimport LanguageMenuButton from \"./LanguageMenuButton\";\r\n\r\nexport default class SettingsButton extends React.Component {\r\n  render() {\r\n    return (\r\n      <DropdownMenuButton\r\n        button={\r\n          <Icon.Settings fontSize={FontSize.Heading} verticalAlign=\"middle\" />\r\n        }\r\n      >\r\n        <LanguageMenuButton lang=\"en\">English&nbsp;(en)</LanguageMenuButton>\r\n        <LanguageMenuButton lang=\"zh\">Chinese&nbsp;(zh)</LanguageMenuButton>\r\n      </DropdownMenuButton>\r\n    );\r\n  }\r\n}\r\n","import DropdownMenuButton from \"./DropdownMenuButton\";\r\nexport default DropdownMenuButton;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport DropdownMenuContainer from \"./components/DropdownMenuContainer\";\r\nimport DropdownMenuPanel from \"./components/DropdownMenuPanel\";\r\n\r\nimport Menu from \"@/components/Menu\";\r\n\r\nexport interface DropdownMenuButtonProps {\r\n  button: React.ReactNode;\r\n}\r\n\r\ntype Props = DropdownMenuButtonProps;\r\ninterface State {\r\n  isOpen: boolean;\r\n}\r\nexport default class DropdownMenu extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isOpen: false\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { button } = this.props;\r\n    const { isOpen } = this.state;\r\n    return (\r\n      <span>\r\n        <span onClick={this._toggleDropdown}>{button}</span>\r\n        {isOpen && this._renderDropDown()}\r\n      </span>\r\n    );\r\n  }\r\n\r\n  private _renderDropDown(): JSX.Element {\r\n    const { children } = this.props;\r\n    return (\r\n      <DropdownMenuContainer>\r\n        <DropdownMenuPanel>\r\n          <Menu onMouseLeave={this._closeDropdown}>{children}</Menu>\r\n        </DropdownMenuPanel>\r\n      </DropdownMenuContainer>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _toggleDropdown() {\r\n    this.setState({\r\n      isOpen: !this.state.isOpen\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _closeDropdown() {\r\n    this.setState({\r\n      isOpen: false\r\n    });\r\n  }\r\n}\r\n","import styled from \"@/style\";\r\n\r\nconst DropdownMenuContainer = styled.div`\r\n  position: relative;\r\n`;\r\nDropdownMenuContainer.displayName = \"DropdownMenuContainer\";\r\nexport default DropdownMenuContainer;\r\n","import styled, { border, getThemeColor, Border, Color } from \"@/style\";\r\n\r\nconst DropdownMenuPanel = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n`;\r\nDropdownMenuPanel.displayName = \"DropdownMenuPanel\";\r\nexport default DropdownMenuPanel;\r\n","import Menu from \"./Menu\";\r\nexport default Menu;\r\n","import * as React from \"react\";\r\nimport styled, {\r\n  getThemeColor,\r\n  Color,\r\n  Border,\r\n  getThemeBorder,\r\n  getThemeSpace,\r\n  Space\r\n} from \"@/style\";\r\n\r\ninterface MenuItemWrapperProps {\r\n  expandedLeft: boolean;\r\n  expandedRight: boolean;\r\n}\r\n\r\nconst MenuItemWrapper = styled<MenuItemWrapperProps, \"li\">(\"li\")`\r\n  box-sizing: content-box;\r\n  list-style: none;\r\n  margin: 0;\r\n  padding: ${getThemeSpace(Space.Small)}px;\r\n\r\n  ${props =>\r\n    !props.expandedLeft\r\n      ? `border-left: ${getThemeBorder(Border.Normal)}\r\n    ${getThemeColor(Color.SecondaryIntent)}`\r\n      : undefined};\r\n\r\n  ${props =>\r\n    !props.expandedRight\r\n      ? `border-right: ${getThemeBorder(Border.Normal)}\r\n    ${getThemeColor(Color.SecondaryIntent)}`\r\n      : undefined};\r\n\r\n  :first-child {\r\n    border-top: ${getThemeBorder(Border.Normal)}\r\n      ${getThemeColor(Color.SecondaryIntent)};\r\n  }\r\n\r\n  :last-child {\r\n    border-bottom: ${getThemeBorder(Border.Normal)}\r\n      ${getThemeColor(Color.SecondaryIntent)};\r\n  }\r\n`;\r\n\r\nconst MenuContainer = styled.ul`\r\n  box-sizing: content-box;\r\n  background: ${getThemeColor(Color.PanelBackground)};\r\n  list-style: none;\r\n  margin: 0;\r\n  padding: 0;\r\n`;\r\n\r\nexport interface MenuProps extends React.HTMLAttributes<HTMLUListElement> {}\r\nexport default class Menu extends React.Component<MenuProps> {\r\n  render() {\r\n    const { children, ...props } = this.props;\r\n    const menuItems = React.Children.map(children, (child, i) => (\r\n      <MenuItemWrapper expandedLeft={false} expandedRight={false}>\r\n        {child}\r\n      </MenuItemWrapper>\r\n    ));\r\n    return <MenuContainer {...props}>{menuItems}</MenuContainer>;\r\n  }\r\n}\r\n","import LanguageMenuButton from \"./LanguageMenuButton\";\r\nexport { LanguageMenuButtonProps } from \"./LanguageMenuButton\";\r\nexport default LanguageMenuButton;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Button from \"@/components/Button\";\r\n\r\nexport interface LanguageMenuButtonProps {\r\n  lang: string;\r\n}\r\ntype Props = LanguageMenuButtonProps & StateProps & DispatchProps;\r\nconst LanguageMenuButton: React.SFC<Props> = ({\r\n  lang,\r\n  language,\r\n  onSetLanguage,\r\n  children\r\n}) => (\r\n  <Button\r\n    intent={lang === language ? Intent.Primary : Intent.Secondary}\r\n    onClick={() => onSetLanguage(lang)}\r\n  >\r\n    {children}\r\n  </Button>\r\n);\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(LanguageMenuButton);\r\n","import { setLanguage } from \"@/actions/set-language\";\r\n\r\nconst mapDispatchToProps = {\r\n  onSetLanguage: setLanguage\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport language from \"@/selectors/language\";\r\n\r\nconst stateSelectors = {\r\n  language\r\n};\r\nexport type StateProps = StructuredStateProps<typeof stateSelectors>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  stateSelectors\r\n);\r\nexport default mapStateToProps;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst languageSelector = (state: AppState) => state.language;\r\nexport default languageSelector;\r\n"],"sourceRoot":""}