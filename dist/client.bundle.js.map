{"version":3,"sources":["webpack:///./src/services/save-editor/actions.ts","webpack:///./src/services/save-editor/selectors.ts","webpack:///./src/state/utils.ts","webpack:///./src/state/saga.ts","webpack:///./src/services/save-editor/state.ts","webpack:///./src/services/save-editor/save-loader.worker.ts","webpack:///./src/services/save-editor/saga.ts","webpack:///./src/services/save-editor/reducer.ts","webpack:///./src/state/reducer.ts","webpack:///./src/state/store.ts","webpack:///./src/pages/Editor/pages/404/component.tsx","webpack:///./src/pages/Editor/pages/404/index.ts","webpack:///./src/pages/Editor/utils/selectors.ts","webpack:///./src/pages/Editor/pages/Duplicants/components/DuplicantsList/selectors.ts","webpack:///./src/pages/Editor/utils/behavior.ts","webpack:///./src/pages/Editor/utils/index.ts","webpack:///./src/pages/Editor/pages/Duplicants/components/DuplicantPortrait/component.tsx","webpack:///./src/pages/Editor/pages/Duplicants/components/DuplicantPortrait/index.ts","webpack:///./src/pages/Editor/pages/Duplicants/components/DuplicantsList/component.tsx","webpack:///./src/pages/Editor/pages/Duplicants/components/DuplicantsList/index.ts","webpack:///./src/pages/Editor/pages/Duplicants/component.tsx","webpack:///./src/pages/Editor/pages/Duplicants/index.ts","webpack:///./src/components/MenuItemLink/component.tsx","webpack:///./src/components/MenuItemLink/index.ts","webpack:///./src/pages/Editor/component.tsx","webpack:///./src/pages/Editor/index.ts","webpack:///./src/pages/LoadingSaveFile/component.tsx","webpack:///./src/pages/LoadingSaveFile/index.ts","webpack:///./src/pages/NoSaveLoaded/dispatch.ts","webpack:///./src/pages/NoSaveLoaded/selectors.ts","webpack:///./src/pages/NoSaveLoaded/component.tsx","webpack:///./src/pages/NoSaveLoaded/index.ts","webpack:///./src/pages/error/dispatch.ts","webpack:///./src/pages/error/selectors.ts","webpack:///./src/pages/error/component.tsx","webpack:///./src/pages/error/index.ts","webpack:///./src/components/App/dispatch.ts","webpack:///./src/components/App/selectors.ts","webpack:///./src/components/App/component.tsx","webpack:///./src/components/App/index.ts","webpack:///./src/app.tsx","webpack:///./src/css/ui.css","webpack:///./src/css/ui.css?4c0a","webpack:///./src/css/structural.css","webpack:///./src/css/structural.css?bfad","webpack:///./src/css/index.ts","webpack:///./src/index.tsx"],"names":["redux_actions_1","__webpack_require__","exports","ACTION_SAVEFILE_LOAD","loadSavefile","createAction","file","ACTION_SAVEFILE_SAVE","saveSavefile","fileName","ACTION_SAVEFILE_RECEIVED","savefileReceived","saveGame","isSaveChosen","state","Boolean","saveEditor","saveFileName","isSaveLoaded","isLoading","isSaveLoading","isSaveEnabled","loadError","reselect_1","createStructuredSelector","selectors","selectorCreator","redux_saga_1","__importDefault","effects_1","saga_1","sagaMiddleware","default","runSaga","run","fork","defaultSaveEditorState","saveEditorStateKey","module","Worker","p","actions_1","save_loader_worker_1","worker","loadSaveFile","action","payload","reader","FileReader","loadGamePromise","Promise","accept","reject","onload","result","onerror","error","readAsArrayBuffer","then","buffer","e","onmessage","data","cmd","command","postMessage","save","call","put","err","console","log","default_1","takeEvery","state_1","saveEditorReducer","type","Object","assign","name","redux_1","reducer_1","reducer","combineReducers","[object Object]","middleware","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","React","__importStar","core_1","style_line_1","fontSize","style_line_2","style_content","marginTop","DuplicantsPage","Component","createElement","NonIdealState","visual","style","component_1","selectors_1","gameObjects","createSelector","game","body","minions","utils_1","mapStateToProps","getBehavior","gameObject","behaviors","find","x","AttributeLevelBehavior","MinionIdentityBehavior","MinionResumeBehavior","MinionTraitBehavior","MinionEffectsBehavior","MinionHealthBehavior","__export","core_decorators_1","style_portrait","width","height","margin","cursor","style_portrait_title","textAlign","style_portrait_role","DuplicantPortrait","minion","this","props","identity","parsedData","resume","role","currentRole","Card","interactive","onClick","_onClick","__decorate","autobind","prototype","react_redux_1","DuplicantPortrait_1","style_portrait_container","boxSizing","DuplicantsList","className","elements","map","i","key","connect","DuplicantsList_1","react_router_1","react_router_dom_1","MenuItemLink","_a","to","location","children","exact","staticContext","other","__rest","pathName","pathname","match","startsWith","toString","Link","event","preventDefault","withRouter","MenuItemLink_1","Duplicants_1","_404_1","EditorPageComponent","elevation","Elevation","TWO","Menu","Switch","Redirect","from","Route","path","component","LoadingSaveFilePageComponent","Text","Spinner","large","mapDispatchToProps","dispatch","bindActionCreators","dispatch_1","saveDescription","savePath","NoSaveLoadedPageComponent","_input","Button","intent","Intent","PRIMARY","_onLoadClick","description","ref","el","display","onChange","_onLoadFile","click","change","files","target","length","ErrorPageComponent","Error","stack","message","error_1","NoSaveLoaded_1","LoadingSaveFile_1","Editor_1","AppComponent","rootComponent","requireExactPath","Navbar","NavbarGroup","NavbarHeading","ellipsize","align","Alignment","RIGHT","icon","disabled","react_hot_loader_1","App_1","hot","push","content","options","hmr","transform","insertInto","undefined","locals","ReactDOM","app_1","store_1","rootEl","document","getElementById","render","Provider","HashRouter"],"mappings":"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","file":"client.bundle.js","sourcesContent":["\r\nimport {\r\n    Action,\r\n    createAction\r\n} from \"redux-actions\";\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nexport const ACTION_SAVEFILE_LOAD = \"@save-editor/savefile-load\";\r\nexport interface LoadSavefilePayload {\r\n    file: File;\r\n}\r\nexport interface LoadSavefileAction {\r\n    type: typeof ACTION_SAVEFILE_LOAD;\r\n    payload: LoadSavefilePayload;\r\n}\r\nexport const loadSavefile = createAction(ACTION_SAVEFILE_LOAD, (file: File) => ({file}));\r\n\r\nexport const ACTION_SAVEFILE_SAVE = \"@save-editor/savefile-save\";\r\nexport interface SaveSavefilePayload { }\r\nexport interface SaveSavefileAction {\r\n    type: typeof ACTION_SAVEFILE_SAVE;\r\n    payload: SaveSavefilePayload;\r\n}\r\nexport const saveSavefile = createAction(ACTION_SAVEFILE_SAVE, (fileName: string) => ({fileName}));\r\n\r\n\r\nexport const ACTION_SAVEFILE_RECEIVED = \"@save-editor/savefile-received\";\r\nexport interface SavefileReceivedPayload {\r\n    saveGame: SaveGame;\r\n}\r\nexport interface SavefileReceivedAction {\r\n    type: typeof ACTION_SAVEFILE_RECEIVED;\r\n    payload: SavefileReceivedPayload;\r\n}\r\nexport const savefileReceived = createAction(ACTION_SAVEFILE_RECEIVED, (saveGame: SaveGame) => ({saveGame}));\r\n\r\n\r\nexport type SaveEditorActions = LoadSavefileAction | SaveSavefileAction | SavefileReceivedAction;\r\n","\r\nimport { createSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"../../state\";\r\n\r\nexport const isSaveChosen = (state: AppState) => Boolean(state.saveEditor.fileName != null);\r\nexport const saveFileName = (state: AppState) => state.saveEditor.fileName;\r\nexport const isSaveLoaded = (state: AppState) => Boolean(state.saveEditor.fileName != null && !state.saveEditor.isLoading);\r\nexport const isSaveLoading = (state: AppState) => state.saveEditor.isLoading;\r\nexport const isSaveEnabled = (state: AppState) => Boolean(state.saveEditor.fileName && state.saveEditor.isLoading == false);\r\nexport const loadError = (state: AppState) => state.saveEditor.loadError;\r\nexport const saveGame = (state: AppState) => state.saveEditor.saveGame;","\r\nimport { Dispatch as TypedDispatch } from \"react-redux\";\r\n\r\nimport { Selector, createStructuredSelector as createSS, createSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"./state\";\r\n\r\nexport type Dispatch = TypedDispatch<AppState>;\r\n\r\nexport function createStructuredSelector<T>(\r\n    selectors: {[K in keyof T]: Selector<AppState, T[K]>},\r\n    selectorCreator?: typeof createSelector,\r\n): Selector<AppState, T> {\r\n    return createSS(selectors, selectorCreator);\r\n}\r\n","\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport { fork } from \"redux-saga/effects\"\r\n\r\nimport saveEditorSaga from \"../services/save-editor/saga\";\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\nexport default sagaMiddleware;\r\n\r\nexport function runSaga() {\r\n    sagaMiddleware.run(function*() {\r\n        yield fork(saveEditorSaga);\r\n    });\r\n}","\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nexport interface SaveEditorState {\r\n    fileName: string | null;\r\n    isLoading: boolean;\r\n    loadError: Error | null;\r\n    saveGame: SaveGame | null;\r\n}\r\n\r\nexport const defaultSaveEditorState: SaveEditorState = {\r\n    fileName: null,\r\n    isLoading: false,\r\n    loadError: null,\r\n    saveGame: null\r\n};\r\n\r\nexport const saveEditorStateKey = \"saveEditor\";","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"44da70f417a466f06286.worker.js\");\n};","\r\nimport { takeEvery, call, put } from \"redux-saga/effects\";\r\n\r\nimport {\r\n    ACTION_SAVEFILE_LOAD,\r\n    LoadSavefileAction,\r\n    savefileReceived\r\n} from \"./actions\";\r\n\r\nimport SaveLoadWorker from \"worker-loader!./save-loader.worker\";\r\nimport { LoadCommandData } from \"./save-loader.worker\";\r\n\r\n\r\nconst worker = new SaveLoadWorker();\r\n\r\nexport function* loadSaveFile(action: LoadSavefileAction) {\r\n    const {\r\n        file\r\n    } = action.payload;\r\n\r\n    const reader = new FileReader();\r\n    const loadGamePromise = new Promise<File>((accept, reject) => {\r\n        reader.onload = () => {\r\n            accept(reader.result);\r\n        };\r\n        reader.onerror = () => {\r\n            reject(reader.error);\r\n        };\r\n        reader.readAsArrayBuffer(file);\r\n    }).then(buffer => {\r\n        return new Promise((accept, reject) => {\r\n            worker.onerror = (e: ErrorEvent) => { reject(e.error) };\r\n            worker.onmessage = (e: MessageEvent) => {\r\n                const {\r\n                    saveGame,\r\n                    error\r\n                } = e.data;\r\n                if (error) reject(error);\r\n                else accept(saveGame);\r\n            };\r\n\r\n            const cmd: LoadCommandData = {\r\n                command: \"load\",\r\n                buffer: reader.result\r\n            };\r\n            worker.postMessage(cmd);\r\n        });\r\n    });\r\n\r\n    try {\r\n        const save = yield call(() => loadGamePromise);\r\n        yield put(savefileReceived(save));\r\n    }\r\n    catch(err) {\r\n        // TODO: either send with savefileReceived error key, or make a new action for this.\r\n        console.log(err);\r\n    }\r\n}\r\n\r\n\r\nexport default function* () {\r\n    yield takeEvery(ACTION_SAVEFILE_LOAD, loadSaveFile);\r\n}","\r\nimport { AnyAction } from \"redux\";\r\n\r\n\r\nimport { SaveEditorState, defaultSaveEditorState } from \"./state\";\r\n\r\nimport {\r\n    SaveEditorActions,\r\n    ACTION_SAVEFILE_LOAD,\r\n    ACTION_SAVEFILE_RECEIVED\r\n} from \"./actions\";\r\n\r\n\r\nexport default function saveEditorReducer(state: SaveEditorState = defaultSaveEditorState, action: SaveEditorActions): SaveEditorState {\r\n    switch(action.type) {\r\n        case ACTION_SAVEFILE_LOAD: {\r\n            const {\r\n                file\r\n            } = action.payload;\r\n\r\n            return {\r\n                ...defaultSaveEditorState,\r\n                fileName: file.name,\r\n                isLoading: true\r\n            }\r\n        }\r\n        case ACTION_SAVEFILE_RECEIVED: {\r\n            const {\r\n                saveGame\r\n            } = action.payload;\r\n            \r\n            return {\r\n                ...state,\r\n                isLoading: false,\r\n                saveGame: action.payload.saveGame\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}","\r\nimport { combineReducers } from \"redux\";\r\n\r\nimport saveEditorReducer from \"../services/save-editor/reducer\";\r\nimport { saveEditorStateKey } from \"../services/save-editor/state\";\r\n\r\nconst reducer = combineReducers({\r\n    // TODO: Find a way to satisfy typings with discriminated union actions and combineReducers\r\n    [saveEditorStateKey]: saveEditorReducer as any\r\n});\r\n\r\nexport default reducer;","\r\nimport { applyMiddleware, compose, createStore } from \"redux\";\r\n\r\nimport reducer from \"./reducer\";\r\nimport { AppState, defaultState } from \"./state\";\r\n\r\nimport sagaMiddleware from \"./saga\";\r\n\r\nconst middleware = [\r\n    sagaMiddleware\r\n];\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducer, composeEnhancers(\r\n    applyMiddleware(...middleware)\r\n));\r\n\r\nexport default store;\r\n","\r\nimport * as React from \"react\";\r\n\r\nimport {\r\n    NonIdealState,\r\n    Text\r\n} from \"@blueprintjs/core\";\r\n\r\nconst style_line_1: React.CSSProperties = {\r\n    fontSize: \"20pt\"\r\n};\r\n\r\nconst style_line_2: React.CSSProperties = {\r\n    fontSize: \"12pt\"\r\n};\r\n\r\nconst style_content: React.CSSProperties = {\r\n    marginTop: \"8px\"\r\n};\r\n\r\nclass DuplicantsPage extends React.Component {\r\n    render() {\r\n        return (\r\n            <NonIdealState visual=\"error\">\r\n                <div>\r\n                    <div style={style_line_1}>I don't know how you got here...</div>\r\n                    <div style={style_line_2}>But weasels were probably involved.</div>\r\n                </div>\r\n                <div style={style_content}>\r\n                    <div>No idea what this page is supposed to be, sorry.</div>\r\n                    <div>Try choosing something else to edit.</div>\r\n                </div>\r\n            </NonIdealState>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DuplicantsPage","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport { createSelector } from \"reselect\";\r\n\r\nimport { saveGame } from \"../../../services/save-editor/selectors\";\r\n\r\nexport const gameObjects = createSelector(\r\n    saveGame,\r\n    game => game ? game.body.gameObjects : null\r\n);\r\n\r\nexport const minions = createSelector(\r\n    gameObjects,\r\n    gameObjects => gameObjects ? gameObjects[\"Minion\"] : []\r\n);","\r\nimport { GameObject } from \"oni-save-parser\";\r\n\r\nimport { createStructuredSelector } from \"../../../../../../state/utils\";\r\n\r\nimport { minions } from \"../../../../utils/selectors\";\r\n\r\nexport interface StateProps {\r\n    minions: GameObject[];\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector<StateProps>({\r\n    minions\r\n});\r\nexport default mapStateToProps;\r\n","\r\nimport {\r\n    GameObject,\r\n    GameObjectBehavior\r\n} from \"oni-save-parser\";\r\n\r\nexport type BehaviorName<T> = string & { __behaviorTypeMetadata?: T & never};\r\n\r\n\r\nexport interface AttributeLevelBehavior extends GameObjectBehavior {\r\n    parsedData: {\r\n        saveLoadLevels: AttributeSaveLoadLevel[];\r\n    };\r\n}\r\nexport interface AttributeSaveLoadLevel {\r\n    attributeId: string;\r\n    experience: number;\r\n    level: number;\r\n}\r\nexport const AttributeLevelBehavior: BehaviorName<AttributeLevelBehavior> = \"Klei.AI.AttributeLevels\";\r\n\r\n\r\nexport interface MinionIdentityBehavior extends GameObjectBehavior {\r\n    parsedData: {\r\n        arrivalTime: number;\r\n        bodyShape: any;\r\n        gender: \"MALE\" | \"FEMALE\";\r\n        genderStringKey: \"MALE\" | \"FEMALE\";\r\n        name: string;\r\n        nameStringKey: string;\r\n    }\r\n}\r\nexport const MinionIdentityBehavior: BehaviorName<MinionIdentityBehavior> = \"MinionIdentity\";\r\n\r\n\r\nexport interface MinionResumeBehavior extends GameObjectBehavior {\r\n    parsedData: {\r\n        ExperienceByRoleID: [string, number][];\r\n        MasteryByRoleID: [string, boolean][];\r\n        AptitudeByRoleGroup: [{hash: number}, number][];\r\n        currentRole: string;\r\n        targetRole: string;\r\n    }\r\n}\r\nexport const MinionResumeBehavior: BehaviorName<MinionResumeBehavior> = \"MinionResume\";\r\n\r\n\r\nexport interface MinionTraitBehavior extends GameObjectBehavior {\r\n    parsedData: {\r\n        TraitIds: string[];\r\n    }\r\n}\r\nexport const MinionTraitBehavior: BehaviorName<MinionTraitBehavior> = \"Klei.AI.Traits\";\r\n\r\n\r\nexport interface MinionEffectsBehavior extends GameObjectBehavior {\r\n    parsedData: {\r\n        saveLoadEffects: EffectInstance[]\r\n    }\r\n}\r\nexport interface EffectInstance {\r\n    id: string;\r\n    timeRemaining: number;\r\n}\r\nexport const MinionEffectsBehavior: BehaviorName<MinionEffectsBehavior> = \"Klei.AI.Effects\";\r\n\r\n\r\nexport interface MinionHealthBehavior extends GameObjectBehavior {\r\n    parsedData: {\r\n        CanBeIncapacitated: boolean;\r\n        State: number;\r\n    }\r\n}\r\nexport const MinionHealthBehavior: BehaviorName<MinionHealthBehavior> = \"Health\";\r\n\r\n\r\nexport function getBehavior<T>(gameObject: GameObject, name: BehaviorName<T>): T | undefined {\r\n    return gameObject.behaviors.find(x => x.name === name) as T | undefined;\r\n}","\r\nexport * from \"./behavior\";","\r\nimport * as React from \"react\";\r\nimport { GameObject } from \"oni-save-parser\";\r\n\r\nimport { Card } from \"@blueprintjs/core\";\r\nimport { autobind } from \"core-decorators\";\r\nimport { getBehavior, MinionIdentityBehavior, MinionResumeBehavior } from \"../../../../utils\";\r\n\r\nexport interface DuplicantPortraitProps {\r\n    minion: GameObject;\r\n    onClick?(minion: GameObject): void;\r\n}\r\n\r\n\r\nconst style_portrait: React.CSSProperties = {\r\n    width: 150,\r\n    height: 150,\r\n    margin: 10,\r\n    cursor: \"pointer\"\r\n};\r\n\r\nconst style_portrait_title: React.CSSProperties = {\r\n    textAlign: \"center\"\r\n};\r\n\r\nconst style_portrait_role: React.CSSProperties = {\r\n    textAlign: \"center\"\r\n};\r\n\r\nexport default class DuplicantPortrait extends React.Component<DuplicantPortraitProps> {\r\n    render() {\r\n        const {\r\n            minion\r\n        } = this.props;\r\n\r\n        // TODO: Get these from a selector.\r\n        //  Trouble is, we do not have a unique key to ID these guys off of.  Everything\r\n        //  is in a game behavior, and that's an array we need to scan through.\r\n        const identity = getBehavior(minion, MinionIdentityBehavior);\r\n        const name = identity ? identity.parsedData.name : \"<NO-IDENTITY>\";\r\n        const resume = getBehavior(minion, MinionResumeBehavior);\r\n        const role = resume ? resume.parsedData.currentRole : \"<NO-ROLE>\";\r\n\r\n        return (\r\n            <Card interactive={true} style={style_portrait} onClick={this._onClick}>\r\n                <h5 style={style_portrait_title}>{name}</h5>\r\n                {/* TODO render a picture.  Plenty of data in identity to do so.  Also see Accessorizer */}\r\n                <div style={style_portrait_role}>{role}</div>\r\n            </Card>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onClick() {\r\n        const {\r\n            minion,\r\n            onClick\r\n        } = this.props;\r\n        if (onClick) onClick(minion);\r\n    }\r\n}","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { MinionIdentityBehavior, getBehavior } from \"../../../../utils\";\r\n\r\nimport DuplicantPortrait from \"../DuplicantPortrait\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./selectors\";\r\n\r\nconst style_portrait_container: React.CSSProperties = {\r\n    boxSizing: \"border-box\",\r\n    // Room for 2 portraits and their margins\r\n    height: 150 * 2 + 10 * 4\r\n}\r\n\r\nexport interface DuplicantsListProps {\r\n    className?: string;\r\n}\r\n\r\ntype Props = DuplicantsListProps & StateProps;\r\nclass DuplicantsList extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            className,\r\n            minions\r\n        } = this.props;\r\n\r\n        const elements = minions.map((x, i) => <DuplicantPortrait key={i} minion={x} />);\r\n\r\n        return (\r\n            <div className={className}>\r\n                <div style={style_portrait_container} className={`layout-fill layout-horizontal layout-wrap scrolling-content`}>\r\n                    {elements}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(DuplicantsList);","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { connect} from \"react-redux\";\r\n\r\nimport DuplicantsList from \"./components/DuplicantsList\";\r\n\r\nclass DuplicantsPage extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className=\"fill-parent layout-vertical\">\r\n                <DuplicantsList className=\"layout-item-fill\"/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default DuplicantsPage","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport * as React from \"react\";\r\nimport { RouteComponentProps, withRouter } from \"react-router\";\r\nimport { Link, LinkProps } from \"react-router-dom\"\r\nimport { autobind } from \"core-decorators\";\r\n\r\nexport interface MenuItemLinkProps extends LinkProps {\r\n    exact?: boolean;\r\n}\r\ntype Props = MenuItemLinkProps & RouteComponentProps<{}>;\r\nclass MenuItemLink extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            to,\r\n            location,\r\n            children,\r\n            onClick,\r\n            className,\r\n            exact,\r\n\r\n            // Need to strip this out of passed props\r\n            staticContext,\r\n            ...other\r\n        } = this.props\r\n        const pathName = location.pathname;\r\n        let match: boolean;\r\n        \r\n        if (exact) match = to === pathName;\r\n        else match = pathName.startsWith(to.toString());\r\n\r\n        if (match) {\r\n            return <li><span className={`pt-menu-item pt-active pt-intent-primary ${className || ''}`}>{children}</span></li>;\r\n        }\r\n\r\n        return <li><Link to={to} className={`pt-menu-item ${className || ''}`} {...other} onClick={this._onClick}>{children}</Link></li>;\r\n    }\r\n\r\n    @autobind()\r\n    private _onClick(event: React.MouseEvent<HTMLAnchorElement>) {\r\n        const {\r\n            exact,\r\n            location,\r\n            to,\r\n            onClick\r\n        } = this.props;\r\n        const pathName = location.pathname;\r\n\r\n        let match: boolean;\r\n        if (exact) match = to === pathName;\r\n        else match = pathName.startsWith(to.toString());\r\n\r\n        if (match) {\r\n            event.preventDefault();\r\n            return;\r\n        }\r\n\r\n        if (onClick) {\r\n            onClick(event);\r\n        }\r\n    }\r\n}\r\nexport default withRouter(MenuItemLink);","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport * as React from \"react\";\r\nimport { RouteComponentProps, Switch, Route, Redirect, withRouter } from \"react-router\";\r\n\r\nimport {\r\n    Card,\r\n    Elevation,\r\n    Menu\r\n} from \"@blueprintjs/core\";\r\n\r\nimport MenuItemLink from \"../../components/MenuItemLink\";\r\n\r\nimport DuplicantsPage from \"./pages/Duplicants\";\r\nimport Error404Page from \"./pages/404\";\r\n\r\nclass EditorPageComponent extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className=\"fill-parent layout-horizontal\">\r\n                <Card className=\"layout-item\" elevation={Elevation.TWO}>\r\n                    <Menu>\r\n                        <MenuItemLink to=\"/duplicants\" >Duplicants</MenuItemLink>\r\n                        <MenuItemLink to=\"/404\" >Not Duplicants</MenuItemLink>\r\n                    </Menu>\r\n                </Card>\r\n                <div className=\"layout-item-fill\">\r\n                    <Switch>\r\n                        <Redirect exact from=\"/\" to=\"/duplicants\" />\r\n                        <Route path=\"/duplicants\" component={DuplicantsPage} />\r\n                        <Route exact path=\"/404\" component={Error404Page} />\r\n                        <Redirect to=\"/404\" />\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default EditorPageComponent;","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport * as React from \"react\";\r\n\r\nimport {\r\n    NonIdealState,\r\n    Spinner,\r\n    Text\r\n} from \"@blueprintjs/core\";\r\n\r\nexport default class LoadingSaveFilePageComponent extends React.Component {\r\n    render() {\r\n        return (\r\n            <NonIdealState>\r\n                <Text>Loading File</Text>\r\n                <div>\r\n                    <Spinner large={true}/>\r\n                </div>\r\n                <Text>TODO progress here</Text>\r\n            </NonIdealState>\r\n        );\r\n    }\r\n}","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport { bindActionCreators } from \"redux\";\r\n\r\nimport { Dispatch } from \"../../state/utils\";\r\n\r\nimport { loadSavefile } from \"../../services/save-editor/actions\";\r\n\r\nexport interface DispatchProps {\r\n    loadSavefile: typeof loadSavefile;\r\n}\r\n\r\nexport default function mapDispatchToProps(dispatch: Dispatch): DispatchProps {\r\n    return bindActionCreators({\r\n        loadSavefile\r\n    }, dispatch);\r\n}","\r\nexport interface StateProps {\r\n\r\n}\r\n\r\nexport default function(): StateProps {\r\n    return {};\r\n}\r\n","\r\nimport * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport {\r\n    NonIdealState,\r\n    Button,\r\n    Intent\r\n} from \"@blueprintjs/core\";\r\n\r\n\r\nimport mapStateToProps, { StateProps } from \"./selectors\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch\";\r\n\r\n\r\nconst saveDescription = \"Oxygen Not Included saves can be found in your documents folder under\";\r\n\r\n// TODO: Show correct path based on user's OS.\r\nconst savePath = \"Klei/OxygenNotIncluded/save_files\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass NoSaveLoadedPageComponent extends React.Component<Props> {\r\n    private _input: HTMLInputElement | null = null;\r\n    \r\n    render() {\r\n        const {\r\n            loadSavefile\r\n        } = this.props;\r\n        return (\r\n            <NonIdealState\r\n                visual=\"floppy-disk\"\r\n                action={\r\n                    <Button intent={Intent.PRIMARY} onClick={this._onLoadClick}>Load a .sav file</Button>\r\n                }\r\n                description=\"No save has been loaded.\"\r\n            >\r\n                <div>{saveDescription} <code>{savePath}</code></div>\r\n                <input\r\n                    ref={el => this._input = el}\r\n                    style={{display: \"none\"}}\r\n                    className=\"pt-button pt-intent-primary\"\r\n                    type=\"file\"\r\n                    accept=\".sav\"\r\n                    onChange={this._onLoadFile}\r\n                />\r\n            </NonIdealState>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onLoadClick() {\r\n        if (!this._input) return;\r\n        this._input.click();\r\n    }\r\n\r\n    @autobind()\r\n    private _onLoadFile(change: React.ChangeEvent<HTMLInputElement>) {\r\n        const files = change.target.files;\r\n        if (!files || files.length === 0) return;\r\n        this.props.loadSavefile(files[0]);\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NoSaveLoadedPageComponent);","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport { Dispatch } from \"../../state/utils\";\r\n\r\nexport interface DispatchProps { }\r\n\r\nexport default function mapDispatchToProps(dispatch: Dispatch): DispatchProps {\r\n    return {}\r\n}","\r\nimport { createStructuredSelector } from \"../../state/utils\";\r\n\r\nimport {\r\n    loadError\r\n} from \"../../services/save-editor/selectors\";\r\n\r\n\r\nexport interface StateProps {\r\n    loadError: Error | null;\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector<StateProps>({\r\n    loadError\r\n});\r\nexport default mapStateToProps;\r\n","\r\nimport * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport {\r\n    NonIdealState,\r\n    Text\r\n} from \"@blueprintjs/core\";\r\n\r\n\r\nimport mapStateToProps, { StateProps } from \"./selectors\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch\";\r\n\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass ErrorPageComponent extends React.Component<Props> {\r\n    render() {\r\n        let {\r\n            loadError\r\n        } = this.props;\r\n\r\n        if (!loadError) {\r\n            loadError = new Error(\"Well, this is weird... The Error page loaded, but there is no error.\");\r\n            loadError.stack = \"I really don't know what to do about this...\"\r\n        }\r\n\r\n        return (\r\n            <NonIdealState visual=\"error\" description=\"An Error Occurred\">\r\n                <Text>{loadError.message}</Text>\r\n                <div>\r\n                    <code>{loadError.stack}</code>\r\n                </div>\r\n            </NonIdealState>\r\n        );\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ErrorPageComponent);","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport { Dispatch } from \"../../state/utils\";\r\n\r\nexport interface DispatchProps { }\r\n\r\nexport default function mapDispatchToProps(dispatch: Dispatch): DispatchProps {\r\n    return {}\r\n}","\r\nimport { createStructuredSelector } from \"../../state/utils\";\r\n\r\nimport {\r\n    saveFileName,\r\n    isSaveChosen,\r\n    isSaveLoading,\r\n    isSaveEnabled,\r\n    loadError\r\n} from \"../../services/save-editor/selectors\";\r\n\r\n\r\nexport interface StateProps {\r\n    saveFileName: string | null;\r\n    isSaveChosen: boolean;\r\n    isSaveLoading: boolean\r\n    isSaveEnabled: boolean;\r\n    loadError: Error | null;\r\n}\r\n\r\nconst mapStateToProps = createStructuredSelector<StateProps>({\r\n    saveFileName,\r\n    isSaveChosen,\r\n    isSaveLoading,\r\n    isSaveEnabled,\r\n    loadError\r\n});\r\nexport default mapStateToProps;\r\n\r\n// Was pretty sure this used to work, once upon a time.\r\n//export type StateProps = typeof mapStateToProps;\r\n","\r\nimport * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Route, Redirect, Switch, withRouter } from \"react-router\";\r\n\r\nimport {\r\n    Navbar,\r\n    NavbarGroup,\r\n    NavbarHeading,\r\n    Text,\r\n    Button,\r\n    Alignment\r\n} from \"@blueprintjs/core\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./selectors\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./dispatch\";\r\n\r\nimport ErrorPage from \"../../pages/error\";\r\nimport NoSaveLoadedPage from \"../../pages/NoSaveLoaded\";\r\nimport LoadingSaveFilePage from \"../../pages/LoadingSaveFile\";\r\nimport EditorPage from \"../../pages/Editor\";\r\n\r\n\r\ntype OwnProps = StateProps & DispatchProps;\r\nclass AppComponent extends React.Component<OwnProps> {\r\n    render() {\r\n        const {\r\n            saveFileName,\r\n            isSaveEnabled,\r\n            isSaveChosen,\r\n            isSaveLoading,\r\n            loadError\r\n        } = this.props;\r\n\r\n        let rootComponent: React.ComponentType;\r\n        let requireExactPath = true;\r\n\r\n        if (loadError) {\r\n            // Show error screen\r\n            rootComponent = ErrorPage;\r\n        }\r\n        else if (!isSaveChosen) {\r\n            // Show file chooser.\r\n            rootComponent = NoSaveLoadedPage\r\n        }\r\n        else if (isSaveLoading) {\r\n            // Show loading screen.\r\n            rootComponent = LoadingSaveFilePage;\r\n        }\r\n        else {\r\n            // Show editor\r\n            rootComponent = EditorPage;\r\n            requireExactPath = false;\r\n        }\r\n\r\n\r\n        return (\r\n            <div className=\"fill-parent layout-vertical\">\r\n                <Navbar className=\"layout-item\">\r\n                    <NavbarGroup>\r\n                        <NavbarHeading>ONI Save Editor</NavbarHeading>\r\n                        <Text ellipsize={true}>{saveFileName || \"\"}</Text>\r\n                    </NavbarGroup>\r\n                    <NavbarGroup align={Alignment.RIGHT}>\r\n                        <Button icon=\"floppy-disk\" disabled={!isSaveEnabled}>Save</Button>\r\n                    </NavbarGroup>\r\n                </Navbar>\r\n                <div className=\"layout-item-fill\">\r\n                    <Switch>\r\n                        <Route exact={requireExactPath} path=\"/\" component={rootComponent}/>\r\n                        <Redirect to=\"/\"/>\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AppComponent);","\r\nimport Component from \"./component\";\r\nexport default Component;","\nimport * as React from \"react\";\n\nimport { hot } from \"react-hot-loader\";\nimport { withRouter } from \"react-router\";\n\nimport App from \"./components/App\";\n\n// react-router wants to wrap every element we have in a new element.  Because composability!\n//  without wrapping this in a <Route/> from the outside, the PureComponent hot will not see\n//  any changes, and the broken context system is ignored.\n//  Every other library out their uses an external context store similar to the new react context\n//  pattern, but router just blames everyone else for honoring shouldComponentUpdate and says wontfix.\n// Might be better off removing route altogether and staying a SPA.\nexport default withRouter(hot(module)(App) as any);\n","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js!./ui.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./ui.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./ui.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\\r\\nhtml, body, #root {\\r\\n    height: 100%;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\nbody {\\r\\n    margin: 0;\\r\\n}\\r\\n\\r\\n.fill-parent, .fill-parent-width, .fill-parent-height {\\r\\n    /* Fill parent to our outsides.*/\\r\\n    box-sizing: border-box;\\r\\n}\\r\\n.fill-parent, .fill-parent-width {\\r\\n    width: 100%\\r\\n}\\r\\n\\r\\n.fill-parent, .fill-parent-height {\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n.layout-wrap {\\r\\n    flex-wrap: wrap;\\r\\n}\\r\\n\\r\\n.scrolling-content {\\r\\n    overflow: auto;\\r\\n}\\r\\n\\r\\n/* Container for items that can fill up the available space, and optionally be constrained by it. */\\r\\n.layout-vertical {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n}\\r\\n\\r\\n.layout-horizontal {\\r\\n    display: flex;\\r\\n    flex-direction: row;\\r\\n}\\r\\n\\r\\n.layout-item, .layout-item-fill {\\r\\n    box-sizing: border-box;\\r\\n}\\r\\n\\r\\n.layout-vertical > div, .layout-horizontal > div, .layout-vertical > .layout-item, .layout-horizontal > .layout-item {\\r\\n    flex: none;\\r\\n}\\r\\n\\r\\n.layout-vertical > .layout-item-fill, .layout-horizontal > .layout-item-fill {\\r\\n    flex: 1 1 auto;\\r\\n}\\r\\n\\r\\n.layout-vertical > .layout-item-constrain, .layout-horizontal > .layout-item-constrain {\\r\\n    flex: 0 1 auto;\\r\\n}\\r\\n\\r\\n.layout-vertical > .layout-item-fill, .layout-vertical > .layout-item-constrain {\\r\\n    /* Flex sets min-height to auto, we need to allow it to shrink down */\\r\\n    min-height: 0;\\r\\n\\r\\n    /*\\r\\n    Maintain some sort of inner css specified (vs actual?) value for height, so that \\r\\n    child elements can use height percentages and fill their parent (us)\\r\\n    */\\r\\n    height: 100%;\\r\\n}\\r\\n\\r\\n.layout-horizontal > .layout-item-fill, .layout-horizontal > .layout-item-constrain {\\r\\n    min-width: 0;\\r\\n    width: 100%;\\r\\n}\\r\\n\\r\\n\\r\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js!./structural.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./structural.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./structural.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\r\n import \"@blueprintjs/core/lib/css/blueprint.css\";\r\n import \"@blueprintjs/icons/lib/css/blueprint-icons.css\";\r\n\r\nimport \"./structural.css\";\r\nimport \"./ui.css\";\r\n","\r\nimport * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport { HashRouter } from \"react-router-dom\";\r\n\r\nimport \"./css\";\r\n\r\n\r\nimport App from \"./app\";\r\n\r\nimport store from \"./state/store\";\r\n\r\nimport { runSaga } from \"./state/saga\";\r\nrunSaga();\r\n\r\n\r\nconst rootEl = document.getElementById(\"root\");\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <HashRouter>\r\n            <App />\r\n        </HashRouter>\r\n    </Provider>,\r\n    rootEl\r\n);\r\n"],"sourceRoot":""}