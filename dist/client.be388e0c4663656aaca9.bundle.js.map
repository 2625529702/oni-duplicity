{"version":3,"sources":["webpack:///./src/services/save-editor/index.tsx","webpack:///./src/services/materials/parser.ts","webpack:///./src/logging/index.ts","webpack:///./src/services/materials/elements.ts","webpack:///./src/services/materials/gas.ts","webpack:///./src/services/materials/liquid.ts","webpack:///./src/services/materials/solid.ts","webpack:///./src/services/materials/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Effects/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Jobs/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Traits/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Skills/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Appearance/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/General/index.ts","webpack:///./src/services/save-editor/save-editor.ts","webpack:///./src/components/App/index.ts","webpack:///./src/services/save-editor/store.ts","webpack:///./src/store.ts","webpack:///./src/components/SavingDialog/component.tsx","webpack:///./src/components/SavingDialog/index.ts","webpack:///./src/components/AppNavMenu/style.scss","webpack:///./src/components/AppNavMenu/style.scss?3c5e","webpack:///./src/components/ActiveAwareLink/component.tsx","webpack:///./src/components/ActiveAwareLink/index.ts","webpack:///./src/components/AppNavMenu/component.tsx","webpack:///./src/components/AppNavMenu/index.ts","webpack:///./src/components/AppNavBar/style.scss","webpack:///./src/components/AppNavBar/style.scss?a2b2","webpack:///./src/components/AppNavBar/component.tsx","webpack:///./src/components/AppNavBar/index.ts","webpack:///./src/pages/Changelog/style.scss","webpack:///./src/pages/Changelog/style.scss?b0de","webpack:///./CHANGELOG.md","webpack:///./src/pages/Changelog/component.tsx","webpack:///./src/pages/Changelog/index.ts","webpack:///./src/pages/Materials/pages/Inspector/component.tsx","webpack:///./src/pages/Materials/pages/Inspector/index.ts","webpack:///./src/pages/Materials/pages/Browser/style.scss","webpack:///./src/pages/Materials/pages/Browser/style.scss?74ac","webpack:///./src/services/materials/utils.ts","webpack:///./src/services/materials/interfaces.ts","webpack:///./src/pages/Materials/pages/Browser/Browser.tsx","webpack:///./src/pages/Materials/pages/Browser/index.ts","webpack:///./src/pages/Materials/page-graph.ts","webpack:///./src/pages/Materials/component.tsx","webpack:///./src/pages/Materials/index.ts","webpack:///./src/pages/SaveEditor/pages/Geysers/style.scss","webpack:///./src/pages/SaveEditor/pages/Geysers/style.scss?64aa","webpack:///./src/pages/SaveEditor/pages/Geysers/components/GeyserEditor/style.scss","webpack:///./src/pages/SaveEditor/pages/Geysers/components/GeyserEditor/style.scss?b9fe","webpack:///./src/pages/SaveEditor/pages/Geysers/components/GeyserEditor/component.tsx","webpack:///./src/pages/SaveEditor/pages/Geysers/components/GeyserEditor/index.ts","webpack:///./src/pages/SaveEditor/components/GameObjectGrid/component.tsx","webpack:///./src/pages/SaveEditor/components/GameObjectGrid/index.ts","webpack:///./src/pages/SaveEditor/pages/Geysers/component.tsx","webpack:///./src/pages/SaveEditor/pages/Geysers/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/page-graph.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Effects/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Jobs/pages/Aptitudes/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Jobs/pages/Aptitudes/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Jobs/pages/Roles/style.scss","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Jobs/pages/Roles/style.scss?49aa","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Jobs/pages/Roles/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Jobs/pages/Roles/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Jobs/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Traits/traits.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Traits/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Skills/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Appearance/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/General/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantsList/style.scss","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantsList/style.scss?6de7","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantPortrait/style.scss","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantPortrait/style.scss?8cac","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantPortrait/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantPortrait/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantsList/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantsList/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/index.ts","webpack:///./src/pages/SaveEditor/pages/General/style.scss","webpack:///./src/pages/SaveEditor/pages/General/style.scss?e5a9","webpack:///./src/pages/SaveEditor/pages/General/component.tsx","webpack:///./src/pages/SaveEditor/pages/General/index.ts","webpack:///./src/pages/SaveEditor/page-graph.ts","webpack:///./src/pages/Error/component.tsx","webpack:///./src/pages/Error/index.ts","webpack:///./src/pages/SaveEditor/components/LoadingSaveFile/component.tsx","webpack:///./src/pages/SaveEditor/components/LoadingSaveFile/index.ts","webpack:///./src/pages/SaveEditor/components/NoSaveLoaded/component.tsx","webpack:///./src/pages/SaveEditor/components/NoSaveLoaded/index.ts","webpack:///./src/pages/SaveEditor/component.tsx","webpack:///./src/pages/SaveEditor/index.ts","webpack:///./src/site-graph/root.ts","webpack:///./src/pages/404/style.scss","webpack:///./src/pages/404/style.scss?de76","webpack:///./src/pages/404/component.tsx","webpack:///./src/pages/404/index.ts","webpack:///./src/site-graph/components/SiteSwitch.tsx","webpack:///./src/services/save-editor/save-loader.worker.ts","webpack:///./src/services/save-editor/game-object-behavior.ts","webpack:///./src/services/save-editor/game-object.ts","webpack:///./src/utils.ts","webpack:///./src/components/App/component.tsx","webpack:///./src/app.tsx","webpack:///./src/css/root.scss","webpack:///./src/css/root.scss?3097","webpack:///./src/css/index.ts","webpack:///./src/index.tsx"],"names":["React","__importStar","__webpack_require__","mobx_react_1","save_editor_1","withSaveEditor","WrappedComponent","WithSaveEditor","Component","[object Object]","createElement","Object","assign","this","props","__decorate","inject","exports","SaveEditorImpl","parseElement","rows","parser","element","key","keys","parseData","index","formatter","x","Array","isArray","parseCsv","content","headerRow","rowData","split","headers","filter","map","length","failureType","ACTION_INVALID","SAVEFILE_CORRUPT","STATE_CORRUPT","MISSING_BEHAVIOR","warning","message","console","warn","error","freeze","seal","FAILURE_TYPE","solid_1","liquid_1","gas_1","ELEMENTS","SOLIDS","LIQUIDS","GASSES","parser_1","gas_csv_1","__importDefault","GAS_DATATABLE","default","GAS_FIELD_PARSER","name","type","category","tags","trim","molarMass","Number","specificHeatCapacity","thermalConductivity","defaultTemperature","solidSurfaceAreaMultiplier","liquidSurfaceAreaMultiplier","gasSurfaceAreaMultiplier","flow","defaultPressure","lowTemp","lowTempTransition","lightEmitDistance","lightEmitIntensity","toxicity","GAS_FIELDS","liquid_csv_1","LIQUID_DATATABLE","LIQUID_FIELD_PARSER","defaultMass","maxCompressionMass","compressionFactor","speed","minHorizontalFlow","minVerticalFlow","electricalConductivity","highTemp","highTempTransition","highTempTransitionOre","highTempTransitionOreMassFactor","sublimateId","convertId","LIQUID_FIELDS","solid_csv_1","SOLID_DATATABLE","SOLID_FIELD_PARSER","maxMass","strength","hardness","hardnessTier","highTempTransitionTarget","SOLID_FIELDS","__export","component_1","mobx_1","file_saver_1","utils_1","logging_1","game_object_1","save_loader_worker_1","worker","saveName","isSaveLoading","isSaveLoaded","isSaveSaving","loadError","_saveGame","_gameObjects","Map","load","file","clear","saveGame","parseSave","readFile","typedKeys","body","gameObjects","models","GameObjectModelImpl","set","e","save","_","value","forEach","syncChanges","data","writeSave","blob","Blob","saveAs","withExtension","objectModelArrays","from","values","concat","get","reader","FileReader","Promise","accept","reject","onload","result","onerror","readAsArrayBuffer","buffer","onmessage","cmd","command","postMessage","ext","endsWith","observable","prototype","action","createStore","mobx","configure","enforceActions","store_1","createStores","saveEditor","core_1","SavingDialog","NonIdealState","Spinner","large","module","push","i","options","hmr","transform","insertInto","undefined","locals","react_router_1","react_router_dom_1","core_decorators_1","ActiveAwareLink","_a","to","location","children","onClick","className","exact","staticContext","other","__rest","pathName","pathname","match","matchPartialPath","toString","Link","_onClick","event","preventDefault","startsWith","autobind","withRouter","ActiveAwareLink_1","AppNavMenu","siteGraph","links","_renderLinks","entries","String","fragments","previousWasGroup","entry","rendered","_renderEntry","MenuDivider","navMenu","menuName","unshift","path","navMenuCollapse","primaryLink","throwUnknownSiteGraphType","Error","icons_1","AppNavBar","_input","Navbar","NavbarGroup","NavbarHeading","EditableText","onConfirm","_onRename","disabled","placeholder","Icon","icon","IconNames","EDIT","iconSize","title","align","Alignment","RIGHT","Button","UPLOAD","_onLoadClick","FLOPPY_DISK","_onSaveClick","ref","el","style","display","onChange","_onLoadFile","click","change","files","target","renameSave","observer","react_markdown_1","changelog","ChangelogPage","source","materials_1","style_element_square","width","height","border","style_element_name","textAlign","style_element_type","padding","style_element_tags","fontSize","style_element_mass","style_element_specificHeat","style_element_thermalConductivity","style_element_surfaceArea","MaterialInspector","setState","s","getElement","params","material","elementName","_renderElementSquare","state","join","elements_1","str","find","ELEMENT_KEYS","binary_search_1","isConfigrableKey","CONFIGURABLE_KEYS","CONFIGURABLE_KEY_INDEXES","MaterialBrowser","enabledColumns","selectionMenu","ColumnMenuItem","column","isSelected","indexOf","toggleColumn","_toggleColumn","HeaderColumn","Popover","COG","Menu","position","columnName","idx","a","b","slice","addIndex","minimal","small","SMALL_CROSS","DOT","MenuItem","text","Browser_1","Inspector_1","pageGraph","component","MaterialsPage","page_graph_1","oni_save_parser_1","select_1","StringSelect","Select","ofType","GeyserEditor","gameObject","behavior","getBehavior","GeyserBehavior","config","templateData","configuration","materialType","getGeyserTypeName","typeId","hash","items","GEYSER_TYPE_NAMES","itemRenderer","_renderGeyserTypeItem","itemPredicate","_filterItem","onItemSelect","_onGeyserTypeSelect","filterable","popoverProps","rightIcon","Slider","rateRoll","min","max","stepSize","labelRenderer","_percentageRenderer","_setRateRoll","iterationLengthRoll","_setIterationLengthRoll","iterationPercentRoll","_setIterationPercentRoll","yearLengthRoll","_setYearLengthRoll","yearPercentRoll","_setYearPercentRoll","query","typeName","getGeyserTypeHash","itemProps","modifiers","handleClick","matchesPredicate","active","toFixed","bound","GameObjectGrid","renderItem","elements","GameObjectGridElement","kPrefabID","_onItemClick","bind","GameObjectGrid_1","GeyserEditor_1","GeysersPage","super","selectedGeyser","geysers","isGeyser","visual","SEARCH_AROUND","_renderGeyserGridItem","_onGeyserSelected","geyserBehavior","y","Observer","Card","interactive","General_1","Appearance_1","Effects_1","Jobs_1","Skills_1","Traits_1","DuplicantEffects","duplicant","effectsBehavior","AIEffectsBehavior","saveLoadEffects","DuplicantEffectRow","id","timeRemaining","onChangeTime","_onEffectChangeTime","onRemove","_onEffectRemoved","AI_EFFECT_IDS","_renderItem","_onEffectSelected","resetOnClose","resetOnSelect","item","toLowerCase","effect","effectID","effects","findIndex","splice","NumericInput","clampValueOnBlur","onValueChange","_onTimeRemainingChange","_onRemove","isNaN","SKIP_APTITUDES","Set","AptitudePage","MinionResumeBehavior","WARNING_SIGN","APTITUDE_NAMES","has","AptitudeRow","aptitudeID","interested","hasAptitude","setInterest","_setInterested","AptitudeByRoleGroup","aptitudes","APTITUDE_NAME_HASHES","checked","_onInterestChange","aptitude","DuplicantRolesPage","resumeBehavior","currentRole","targetRole","ExperienceByRoleID","MasteryByRoleID","knownRoles","experience","mastery","RoleRow","roleID","setMastery","_setMastery","setExperience","_setExperience","_onCurrentRoleSelected","_onTargetRoleSelected","_onSetMastery","_onSetExperience","Roles_1","Aptitudes_1","Tabs","vertical","renderActiveTabPanelOnly","Tab","panel","TRAITS","TraitMultiSelect","MultiSelect","traits_1","DuplicantTraits","traitsBehavior","AITraitsBehavior","traits","TraitIds","selectedItems","_onTagSelected","tagRenderer","tag","tagInputProps","_onTagRemoved","noResults","trait","TICK","BLANK","shouldDismissPopover","DuplicantSkills","skillsBehavior","AIAttributeLevelsBehavior","saveLoadLevels","DuplicantSkillRow","attributeId","level","onChangeLevel","_onChangeLevel","onChangeExperience","_onChangeExperience","skill","_onLevelChange","_onExperienceChange","Math","round","oni_save_parser_2","DuplicantAccessoryPage","accessorizer","AccessorizerBehavior","accessories","eyesAccessory","getAccessoryOfType","headAccessory","hairAccessory","mouthAccessory","bodyAccessory","eyes","guid","Guid","head","hair","mouth","AppearanceGroup","ACCESSORIZER_EYE_GUIDS","onSet","_setEyes","ACCESSORIZER_HEAD_GUIDS","_setHead","ACCESSORIZER_HAIR_GUIDS","_setHair","ACCESSORIZER_MOUTH_GUIDS","_setMouth","ACCESSORIZER_BODY_GUIDS","_setBody","getIndexOfAccessoryType","_onSet","accessoryID","GenderSelect","NumberSelect","MIN_SCALE","EPSILON","DuplicantGeneralPage","scaleX","scale","scaleY","healthBehavior","HealthBehavior","healthState","State","identityBehavior","MinionIdentityBehavior","gender","voiceIdx","healthStateStr","HEALTH_STATE_NAMES","MINION_IDENTITY_GENDERS","_onGenderSelected","_onVoiceSelected","_onScaleX","_onScaleY","_onHealthStateSelected","stateIndex","genderStringKey","DuplicantEditor","rename","ERROR","_onNameChange","DuplicantPortrait","identity","resume","role","outerClassName","DuplicantPortrait_1","DuplicantsList","duplicants","selectedDuplicant","_onDuplicantClick","onDuplicantClick","DuplicantsList_1","DuplicantEditor_1","DuplicantsPage","getGameObjects","MUGSHOT","_onDuplicantSelected","GeneralPage","clockBehavior","_getClockBehavior","cycle","immigrationBehavior","_getImmigrationBehavior","timeBeforeSpawn","bImmigrantAvailable","_onCycleChange","_nextSpawnChange","_spawnReadyChange","time","Duplicants_1","Geysers_1","ErrorPage","stack","description","Text","LoadingSaveFilePageComponent","saveDescription","savePath","NoSaveLoadedPageComponent","intent","Intent","PRIMARY","NoSaveLoaded_1","LoadingSaveFile_1","Error_1","SaveEditorPageComponent","App_1","SaveEditor_1","Materials_1","Changelog_1","_404_1","SiteSwitch","routes","_renderRoutes","Switch","Route","collectRouteEntries","_renderPage","_renderPath","page","SiteSwitchWithRouter","render","Fragment","graph","isSitePage","Worker","p","GameObjectBehaviorModelImpl","_behavior","parsedData","toJS","exportMapsAsObjects","deep","game_object_behavior_1","_behaviors","_gameObject","behaviors","array","idBehavior","KPrefabIDBehavior","InstanceID","NaN","behaviorName","z","obj","mobx_react_devtools_1","SiteSwitch_1","root_1","AppNavBar_1","AppNavMenu_1","SavingDialog_1","AppComponent","Redirect","Dialog","isOpen","SAVED","isCloseButtonShown","react_hot_loader_1","hot","ReactDOM","app_1","rootEl","document","getElementById","Provider","HashRouter"],"mappings":"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","file":"client.be388e0c4663656aaca9.bundle.js","sourcesContent":["\r\nimport * as React from \"react\";\r\nimport { observer, inject } from \"mobx-react\";\r\nimport { SaveEditor } from \"./interfaces\";\r\n\r\nexport * from \"./interfaces\";\r\n\r\nexport { SaveEditorImpl } from \"./save-editor\";\r\n\r\nexport interface SaveEditorProps {\r\n    saveEditor: SaveEditor;\r\n}\r\n\r\ntype Omit<T, K extends keyof T> = T extends any ? Pick<T, Exclude<keyof T, K>> : never;\r\nexport function withSaveEditor<TProps extends SaveEditorProps>(WrappedComponent: React.ComponentClass<TProps>): React.ComponentClass<Omit<TProps, \"saveEditor\">> {\r\n    @inject(\"saveEditor\")\r\n    class WithSaveEditor extends React.Component<Omit<TProps, \"saveEditor\">> {\r\n        render() {\r\n            return (\r\n                <WrappedComponent {...this.props as any} />\r\n            );\r\n        }\r\n\r\n        private _setObserver() {\r\n\r\n        }\r\n    };\r\n    return WithSaveEditor;\r\n}\r\n","\r\nimport { Element, ElementDataTable } from \"./interfaces\";\r\n\r\nexport type ElementParseEntry = number | [number, ((value: string) => any)] | string;\r\nexport type ElementParser<TElement extends Element> = {\r\n    [P in keyof TElement]: ElementParseEntry;\r\n}\r\nexport function parseElement<TElement extends Element>(rows: string[], parser: ElementParser<TElement>): TElement {\r\n    \r\n    const element: any = {};\r\n    for (let key of Object.keys(parser) as (keyof ElementParser<TElement>)[]) {\r\n        const parseData: ElementParseEntry = parser[key];\r\n        let index: number;\r\n        let formatter = (x: string) => x;\r\n        if (typeof parseData === \"string\") {\r\n            element[key] = parseData;\r\n            continue;\r\n        }\r\n        if (Array.isArray(parseData)) {\r\n            index = parseData[0];\r\n            formatter = parseData[1];\r\n        }\r\n        else {\r\n            index = parseData;\r\n        }\r\n        element[key] = formatter(rows[index]);\r\n    }\r\n    return element;\r\n}\r\n\r\n\r\nexport function parseCsv(content: string): ElementDataTable {\r\n    const [headerRow, ...rowData] = content.split(/\\r\\n?/);\r\n    const headers = headerRow.split(\",\");\r\n    const rows = rowData.filter(x => x[0] !== \"#\").map(x => x.split(\",\")).filter(x => x.length > 0 && x[0] !== \"\");\r\n    return {\r\n        headers,\r\n        rows\r\n    };\r\n}\r\n","\r\nconst failureType = {\r\n    ACTION_INVALID: \"action-invalid\" as \"action-invalid\",\r\n    SAVEFILE_CORRUPT: \"savefile-corrupt\" as \"savefile-corrupt\",\r\n    STATE_CORRUPT: \"state-corrupt\" as \"state-corrupt\",\r\n    MISSING_BEHAVIOR: \"missing-behavior\" as \"missing-behavior\"\r\n};\r\nObject.freeze(failureType);\r\nObject.seal(failureType);\r\n\r\nexport type FailureType = (typeof failureType)[keyof typeof failureType];\r\nexport const FAILURE_TYPE: Readonly<typeof failureType> = failureType;\r\n\r\n\r\nexport function warning(message: string, failureType?: FailureType) {\r\n    // TODO: Log to user console.\r\n    console.warn(`(${failureType}):`, message);\r\n}\r\n\r\nexport function error(message: string, failureType?: FailureType) {\r\n    // TODO: Log to user console.\r\n    console.error(`(${failureType}):`, message);\r\n}","\r\nimport { SOLIDS, SolidElement } from \"./solid\";\r\nimport { LIQUIDS, LiquidElement } from \"./liquid\";\r\nimport { GASSES, GasElement } from \"./gas\";\r\n\r\nexport const ELEMENTS: (SolidElement | LiquidElement | GasElement)[] = [\r\n    ...SOLIDS,\r\n    ...LIQUIDS,\r\n    ...GASSES\r\n];\r\n","\r\nimport {\r\n    Element\r\n} from \"./interfaces\";\r\n\r\nimport {\r\n    ElementParser,\r\n    parseCsv,\r\n    parseElement\r\n} from \"./parser\";\r\n\r\nimport gasCsv from \"raw-loader!oni-save-parser/data/gas.csv\";\r\n\r\nexport const GAS_DATATABLE = parseCsv(gasCsv);\r\n\r\nexport interface GasElement extends Element {\r\n    type: \"gas\";\r\n\r\n    flow: number;\r\n\r\n    defaultPressure: number;\r\n\r\n    lowTemp: number;\r\n    lowTempTransition: string;\r\n\r\n    toxicity: number;\r\n}\r\n\r\nconst GAS_FIELD_PARSER: ElementParser<GasElement> = {\r\n    name: 0,\r\n    type: \"gas\",\r\n    category: 15,\r\n    tags: [16, x => (x || \"\").split(\"|\").map(x => x.trim()).filter(x => x != \"\")],\r\n\r\n    molarMass: [11, Number],\r\n\r\n    specificHeatCapacity: [1, Number],\r\n    thermalConductivity: [2, Number],\r\n    defaultTemperature: [9, Number],\r\n\r\n    solidSurfaceAreaMultiplier: [3, Number],\r\n    liquidSurfaceAreaMultiplier: [4, Number],\r\n    gasSurfaceAreaMultiplier: [5, Number],\r\n\r\n    flow: [6, Number],\r\n\r\n    defaultPressure: [10, Number],\r\n\r\n    lowTemp: [7, Number],\r\n    lowTempTransition: [8, x => x != \"\" ? x : null],\r\n\r\n    lightEmitDistance: [12, Number],\r\n    lightEmitIntensity: [13, Number],\r\n\r\n    toxicity: [14, Number]\r\n};\r\nexport const GASSES = GAS_DATATABLE.rows.map(x => parseElement(x, GAS_FIELD_PARSER));\r\nexport const GAS_FIELDS: (keyof GasElement)[] = Object.keys(GAS_FIELD_PARSER) as any;\r\n","\r\nimport {\r\n    Element\r\n} from \"./interfaces\";\r\n\r\nimport {\r\n    ElementParser,\r\n    parseCsv,\r\n    parseElement\r\n} from \"./parser\";\r\n\r\nimport liquidCsv from \"raw-loader!oni-save-parser/data/liquid.csv\";\r\n\r\nexport const LIQUID_DATATABLE = parseCsv(liquidCsv);\r\n\r\nexport interface LiquidElement extends Element {\r\n    type: \"liquid\",\r\n\r\n    defaultMass: number;\r\n\r\n    maxCompressionMass: number;\r\n    compressionFactor: number;\r\n\r\n    speed: number;\r\n    minHorizontalFlow: number;\r\n    minVerticalFlow: number;\r\n\r\n    electricalConductivity: number;\r\n\r\n    lowTemp: number;\r\n    lowTempTransition: string;\r\n\r\n    highTemp: number;\r\n    highTempTransition: number;\r\n    highTempTransitionOre: string;\r\n    highTempTransitionOreMassFactor: number;\r\n\r\n    sublimateId: string;\r\n\r\n    convertId: string;\r\n\r\n    toxicity: number;\r\n}\r\n\r\nconst LIQUID_FIELD_PARSER: ElementParser<LiquidElement> = {\r\n    name: 0,\r\n    type: \"liquid\",\r\n    category: 27,\r\n    tags: [28, x => (x || \"\").split(\"|\").map(x => x.trim()).filter(x => x != \"\")],\r\n\r\n    molarMass: [23, Number],\r\n    defaultMass: [22, Number],\r\n    maxCompressionMass: [1, Number],\r\n    compressionFactor: [2, Number],\r\n\r\n    specificHeatCapacity: [6, Number],\r\n    thermalConductivity: [7, Number],\r\n    defaultTemperature: [21, Number],\r\n\r\n    solidSurfaceAreaMultiplier: [8, Number],\r\n    liquidSurfaceAreaMultiplier: [9, Number],\r\n    gasSurfaceAreaMultiplier: [10, Number],\r\n\r\n    speed: [3, Number],\r\n    minHorizontalFlow: [4, Number],\r\n    minVerticalFlow: [5, Number],\r\n\r\n    electricalConductivity: [11, Number],\r\n\r\n    lowTemp: [12, Number],\r\n    lowTempTransition: [14, x => x != \"\" ? x : null],\r\n\r\n    highTemp: [13, Number],\r\n    highTempTransition: [15, x => x != \"\" ? x : null],\r\n    highTempTransitionOre: [19, x => x != \"\" ? x : null],\r\n    highTempTransitionOreMassFactor: [20, Number],\r\n\r\n    sublimateId: [16, x => x != \"\" ? x : null],\r\n\r\n    lightEmitDistance: [24, Number],\r\n    lightEmitIntensity: [25, Number],\r\n\r\n    convertId: [18, x => x != \"\" ? x : null],\r\n\r\n    toxicity: [26, Number],\r\n};\r\nexport const LIQUIDS = LIQUID_DATATABLE.rows.map(x => parseElement(x, LIQUID_FIELD_PARSER));\r\nexport const LIQUID_FIELDS: (keyof LiquidElement)[] = Object.keys(LIQUID_FIELD_PARSER) as any;\r\n","\r\nimport {\r\n    Element\r\n} from \"./interfaces\";\r\n\r\nimport {\r\n    ElementParser,\r\n    parseCsv,\r\n    parseElement\r\n} from \"./parser\";\r\n\r\nimport solidCsv from \"raw-loader!oni-save-parser/data/solid.csv\";\r\n\r\nexport const SOLID_DATATABLE = parseCsv(solidCsv);\r\n\r\nexport interface SolidElement extends Element {\r\n    type: \"solid\",\r\n\r\n    defaultMass: number;\r\n    maxMass: number;\r\n\r\n    strength: number;\r\n    hardness: number;\r\n    hardnessTier: any;\r\n\r\n    electricalConductivity: number;\r\n\r\n    highTemp: number;\r\n    highTempTransitionTarget: number;\r\n\r\n    sublimateId: string;\r\n}\r\n\r\n/*\r\n0: id\r\n1: specificHeatCapacity\r\n2: thermalConductivity\r\n3: SolidSurfaceAreaMultiplier\r\n4: LiquidSurfaceAreaMultiplier\r\n5: GasSurfaceAreaMultiplier\r\n6: electricalConductivity\r\n7: strength\r\n8: highTemp\r\n9: highTempTransitionTarget\r\n10: sublimateId\r\n11: sublimateFx\r\n12: defaultValues.temperature\r\n13: defaultValues.mass,\r\n14: Max Mass,\r\n15: hardnessTier,\r\n16: hardness,\r\n17: molarMass,\r\n18: EmitDistance,\r\n19: EmitIntensity,\r\n20: MaterialCategory,\r\n21: Tags,\r\n22: Notes\r\n*/\r\nconst SOLID_FIELD_PARSER: ElementParser<SolidElement> = {\r\n    name: 0,\r\n    type: \"solid\",\r\n    category: 20,\r\n    tags: [21, x => (x || \"\").split(\"|\").map(x => x.trim()).filter(x => x != \"\")],\r\n    molarMass: [17, Number],\r\n\r\n    defaultMass: [13, Number],\r\n    maxMass: [14, Number],\r\n\r\n    strength: [7, Number],\r\n    hardness: [16, Number],\r\n    hardnessTier: [15, Number],\r\n\r\n    defaultTemperature: [12, Number],\r\n    specificHeatCapacity: [1, Number],\r\n    thermalConductivity: [2, Number],\r\n\r\n    solidSurfaceAreaMultiplier: [3, Number],\r\n    liquidSurfaceAreaMultiplier: [4, Number],\r\n    gasSurfaceAreaMultiplier: [5, Number],\r\n\r\n    electricalConductivity: [6, Number],\r\n\r\n    highTemp: [8, Number],\r\n    highTempTransitionTarget: [9, x => x != \"\" ? x : null],\r\n\r\n    sublimateId: [10, x => x != \"\" ? x : null],\r\n    lightEmitDistance: [18, Number],\r\n    lightEmitIntensity: [19, Number]\r\n};\r\nexport const SOLIDS = SOLID_DATATABLE.rows.map(x => parseElement(x, SOLID_FIELD_PARSER));\r\nexport const SOLID_FIELDS: (keyof SolidElement)[] = Object.keys(SOLID_FIELD_PARSER) as any;\r\n","\r\nexport * from \"./interfaces\";\r\nexport * from \"./solid\";\r\nexport * from \"./liquid\";\r\nexport * from \"./gas\";\r\nexport * from \"./elements\";\r\nexport * from \"./utils\";","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport { observable, action, flow, computed, toJS } from \"mobx\";\r\nimport { saveAs } from \"file-saver\";\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { typedKeys } from \"@/utils\";\r\nimport { error } from \"@/logging\";\r\n\r\nimport { SaveEditor, GameObjectModel } from \"./interfaces\";\r\nimport { GameObjectModelImpl } from \"./game-object\";\r\n\r\nimport SaveLoadWorker from \"worker-loader!./save-loader.worker\";\r\nimport { LoadCommandData, SaveCommandData } from \"./save-loader.worker\";\r\nconst worker = new SaveLoadWorker();\r\n\r\n\r\nexport class SaveEditorImpl implements SaveEditor {\r\n    @observable\r\n    saveName: string | null = null;\r\n\r\n    @observable\r\n    isSaveLoading: boolean = false;\r\n\r\n    @observable\r\n    isSaveLoaded: boolean = false;\r\n\r\n    @observable\r\n    isSaveSaving: boolean = false;\r\n\r\n    @observable\r\n    loadError: Error | null = null;\r\n\r\n    private _saveGame: SaveGame | null = null;\r\n\r\n    /**\r\n     * Map of game object types to GameObjectModels in index order.\r\n     */\r\n    private _gameObjects = new Map<string, GameObjectModelImpl[]>();\r\n\r\n    get gameObjects(): GameObjectModel[] {\r\n        const objectModelArrays = Array.from(this._gameObjects.values());\r\n        return ([] as GameObjectModel[]).concat(...objectModelArrays);\r\n    }\r\n\r\n    load: SaveEditor[\"load\"] = flow(function* (this: SaveEditorImpl, file: File) {\r\n        this.isSaveLoaded = false;\r\n        this.isSaveLoading = true;\r\n        this._gameObjects.clear();\r\n        this.saveName = file.name;\r\n        try {\r\n            const data = yield readFile(file);\r\n            const saveGame: SaveGame = yield parseSave(data);\r\n            this._saveGame = saveGame;\r\n            for (let type of typedKeys(this._saveGame.body.gameObjects)) {\r\n                const models = this._saveGame.body.gameObjects[type].map(x => new GameObjectModelImpl(type, x));\r\n                this._gameObjects.set(type, models);\r\n            }\r\n            this.isSaveLoaded = true;\r\n        }\r\n        catch (e) {\r\n            error(\"Failed to load file: \" + e.message);\r\n            this.loadError = e;\r\n        }\r\n        finally {\r\n            this.isSaveLoading = false;\r\n        }\r\n    });\r\n\r\n    @action\r\n    renameSave(name: string) {\r\n        if (!this.isSaveLoaded) return;\r\n        if (name == null || name === \"\") return;\r\n        this.saveName = name;\r\n    }\r\n\r\n    save: SaveEditor[\"save\"] = flow(function*(this: SaveEditorImpl) {\r\n        if (!this._saveGame) return;\r\n        this.isSaveSaving = true;\r\n        try {\r\n            for (let [_, value] of this._gameObjects) {\r\n                value.forEach(x => x.syncChanges());\r\n            }\r\n            const data = yield writeSave(this._saveGame)\r\n            const blob = new Blob([data]);\r\n\r\n            saveAs(blob, withExtension(this.saveName || \"my-file\", \".sav\"));\r\n        }\r\n        catch (e) {\r\n            error(\"Failed to save file: \" + e.message);\r\n            this.loadError = e;\r\n        }\r\n        finally {\r\n            this.isSaveSaving = false;\r\n        }\r\n    });\r\n\r\n    // TODO: Look at why this is generating new objects every time.  Might be because the source object isnt observable?\r\n    // getGameObjects: SaveEditor[\"getGameObjects\"] = createTransformer((type: string) => ((this._saveGame && this._saveGame.body.gameObjects[type]) || []).map(x => new GameObjectModelImpl(type, x)));\r\n    getGameObjects(type: string): GameObjectModel[] {\r\n        return this._gameObjects.get(type) || [];\r\n    }\r\n}\r\n\r\n\r\nfunction readFile(file: File): Promise<ArrayBuffer> {\r\n    const reader = new FileReader();\r\n    return new Promise<ArrayBuffer>((accept, reject) => {\r\n        reader.onload = () => {\r\n            accept(reader.result);\r\n        };\r\n        reader.onerror = () => {\r\n            reject(reader.error);\r\n        };\r\n        reader.readAsArrayBuffer(file);\r\n    });\r\n}\r\n\r\nfunction parseSave(buffer: ArrayBuffer): Promise<SaveGame> {\r\n    return new Promise<SaveGame>((accept, reject) => {\r\n        worker.onerror = (e: ErrorEvent) => { reject(e.error) };\r\n        worker.onmessage = (e: MessageEvent) => {\r\n            const {\r\n                saveGame,\r\n                error\r\n            } = e.data;\r\n            if (error) reject(error);\r\n            else accept(saveGame);\r\n        };\r\n\r\n        const cmd: LoadCommandData = {\r\n            command: \"load\",\r\n            buffer: buffer\r\n        };\r\n        worker.postMessage(cmd);\r\n    });\r\n}\r\n\r\nfunction writeSave(saveGame: SaveGame): Promise<ArrayBuffer> {\r\n    return new Promise<ArrayBuffer>((accept, reject) => {\r\n        worker.onerror = (e: ErrorEvent) => { reject(e.error) };\r\n        worker.onmessage = (e: MessageEvent) => {\r\n            const {\r\n                buffer,\r\n                error\r\n            } = e.data;\r\n            if (error) reject(error);\r\n            else accept(buffer);\r\n        };\r\n\r\n        const cmd: SaveCommandData = {\r\n            command: \"save\",\r\n            save: saveGame\r\n        };\r\n        worker.postMessage(cmd);\r\n    });\r\n}\r\n\r\nfunction withExtension(name: string, ext: string): string {\r\n    if (name.endsWith(ext)) return name;\r\n    return name + ext;\r\n}","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport { SaveEditor } from \"./interfaces\";\r\nimport { SaveEditorImpl } from \"./save-editor\";\r\n\r\nexport function createStore(): SaveEditor {\r\n    return new SaveEditorImpl();\r\n}","\r\nimport * as mobx from \"mobx\";\r\nmobx.configure({\r\n    enforceActions: true\r\n});\r\n\r\nimport { createStore as createSaveEditorStore } from \"./services/save-editor/store\";\r\n\r\nexport function createStores() {\r\n    return {\r\n        saveEditor: createSaveEditorStore()\r\n    };\r\n}\r\n","\r\nimport * as React from \"react\";\r\nimport { NonIdealState, Spinner } from \"@blueprintjs/core\";\r\n\r\nimport { SaveEditorProps, withSaveEditor } from \"@/services/save-editor\";\r\n\r\ntype Props = SaveEditorProps;\r\nclass SavingDialog extends React.Component<Props> {\r\n    render() {\r\n        const { saveEditor } = this.props;\r\n\r\n        return (\r\n            <NonIdealState>\r\n                <div>\r\n                    <Spinner large={true} />\r\n                </div>\r\n                <div>\r\n                    Saving <code>{saveEditor.saveName}</code>\r\n                </div>\r\n            </NonIdealState>\r\n        );\r\n    }\r\n}\r\nexport default withSaveEditor(SavingDialog);","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\\n */\\n.ui-nav-menu {\\n  padding: 15px;\\n  background-color: #394b59; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\r\nimport * as React from \"react\";\r\nimport { RouteComponentProps, withRouter } from \"react-router\";\r\nimport { Link, LinkProps } from \"react-router-dom\"\r\nimport { autobind } from \"core-decorators\";\r\n\r\nexport interface ActiveAwareLinkProps extends LinkProps {\r\n    exact?: boolean;\r\n}\r\ntype Props = ActiveAwareLinkProps & RouteComponentProps<{}>;\r\nclass ActiveAwareLink extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            to,\r\n            location,\r\n            children,\r\n            onClick,\r\n            className,\r\n            exact,\r\n\r\n            // Need to strip this out of passed props\r\n            staticContext,\r\n            ...other\r\n        } = this.props\r\n        const pathName = location.pathname;\r\n        let match: boolean;\r\n        \r\n        if (exact) match = to === pathName;\r\n        else match = matchPartialPath(pathName, to.toString());\r\n\r\n        if (match) {\r\n            return <span className={`pt-active pt-intent-primary ${className || \"\"}`}>{children}</span>;\r\n        }\r\n\r\n        return <Link to={to} className={className || \"\"} {...other} onClick={this._onClick}>{children}</Link>;\r\n    }\r\n\r\n    @autobind()\r\n    private _onClick(event: React.MouseEvent<HTMLAnchorElement>) {\r\n        const {\r\n            exact,\r\n            location,\r\n            to,\r\n            onClick\r\n        } = this.props;\r\n        const pathName = location.pathname;\r\n\r\n        let match: boolean;\r\n        if (exact) match = to === pathName;\r\n        else match = matchPartialPath(pathName, to.toString());\r\n\r\n        if (match) {\r\n            event.preventDefault();\r\n            return;\r\n        }\r\n\r\n        if (onClick) {\r\n            onClick(event);\r\n        }\r\n    }\r\n}\r\nexport default withRouter(ActiveAwareLink);\r\n\r\nfunction matchPartialPath(pathName: string, to: string): boolean {\r\n    if (pathName === to) return true;\r\n\r\n    if (!pathName.startsWith(to)) return false;\r\n\r\n    // Need to make sure we matched up to a path seperator.\r\n    if (pathName[to.length] !== '/') return false;\r\n    return true;\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { autobind } from \"core-decorators\";\r\nimport { RouteComponentProps, withRouter } from \"react-router\";\r\n\r\nimport {\r\n    MenuDivider\r\n} from \"@blueprintjs/core\";\r\n\r\nimport ActiveAwareLink from \"../ActiveAwareLink\";\r\n\r\nimport { SiteGraph, SiteGraphEntry } from \"@/site-graph\";\r\n\r\nimport \"./style.scss\";\r\n\r\nexport interface AppNavMenuProps {\r\n    className?: string;\r\n    siteGraph: SiteGraph;\r\n}\r\n\r\nclass AppNavMenu extends React.Component<AppNavMenuProps & RouteComponentProps<any>> {\r\n    render() {\r\n        const {\r\n            className,\r\n            siteGraph\r\n        } = this.props;\r\n\r\n        const links = this._renderLinks(siteGraph);\r\n        return (\r\n            <div className={`ui-nav-menu ${className || \"\"}`}>\r\n                {links}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private _renderLinks(entries: SiteGraph, key?: any): React.ReactChild[] {\r\n        key = key ? String(key) + \"-\" : \"\";\r\n\r\n        const fragments: React.ReactChild[] = [];\r\n        let previousWasGroup = false;\r\n\r\n        entries.forEach((entry, i) => {\r\n            const rendered = this._renderEntry(entry, key + i);\r\n            if (!rendered) return;\r\n            \r\n            if (previousWasGroup) {\r\n                fragments.push(<MenuDivider key={key + (i - 1) + \"-divider\"}/>)\r\n            }\r\n\r\n            if (Array.isArray(rendered)) {\r\n                fragments.push(...rendered);\r\n                previousWasGroup = rendered.length > 0;\r\n            }\r\n            else {\r\n                fragments.push(rendered);\r\n            }\r\n        });\r\n\r\n        return fragments;\r\n    }\r\n\r\n    private _renderEntry(entry: SiteGraphEntry, key: any): React.ReactChild | React.ReactChild[] | null {\r\n        switch(entry.type) {\r\n            case \"path\":\r\n            case \"group\": {\r\n                // Groups implicitly have a nav menu by default, since\r\n                //  they have no effect without one.\r\n                const navMenu = entry.navMenu !== undefined ? entry.navMenu : (entry.type === \"group\");\r\n                if (!navMenu) return null;\r\n\r\n                const rendered = this._renderLinks(entry.children, key);\r\n                const menuName = navMenu && (navMenu === \"string\" && navMenu) || entry.name;\r\n                if (menuName && menuName !== \"\") {\r\n                    rendered.unshift(\r\n                        <div key={`${key}-header`} className=\"pt-menu-header\"><h6>{menuName}</h6></div>\r\n                    );\r\n                }\r\n                return rendered;\r\n            }\r\n            case \"page\": {\r\n                const pathName = this.props.location.pathname;\r\n                const {\r\n                    name,\r\n                    path,\r\n                    children,\r\n                    navMenu,\r\n                    navMenuCollapse\r\n                } = entry;\r\n                if (!navMenu) return null;\r\n                const primaryLink = <ActiveAwareLink key={key} exact={children != null} className=\"pt-menu-item\" to={path}>{name}</ActiveAwareLink>;\r\n                if (!children || (navMenuCollapse && !matchPartialPath(pathName, path))) {\r\n                    return primaryLink;\r\n                }\r\n                else {\r\n                    return [\r\n                        primaryLink,\r\n                        <ul key={`${key}-list`}>\r\n                            {this._renderLinks(children).map((x, i) => <li key={`${key}-${i}`}>{x}</li>)}\r\n                        </ul>\r\n                    ];\r\n                }\r\n            }\r\n            default: \r\n                return throwUnknownSiteGraphType(entry);\r\n        }\r\n    }\r\n}\r\nexport default withRouter(AppNavMenu);\r\n\r\nfunction throwUnknownSiteGraphType(entry: never): never {\r\n    throw new Error(`Unknown entry type \"${(entry as SiteGraphEntry).type}\".`);\r\n}\r\n\r\n\r\nfunction matchPartialPath(pathName: string, to: string): boolean {\r\n    if (pathName === to) return true;\r\n\r\n    if (!pathName.startsWith(to)) return false;\r\n\r\n    // Need to make sure we matched up to a path seperator.\r\n    if (pathName[to.length] !== '/') return false;\r\n    return true;\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\\n */\\n.pt-navbar.ui-app-navbar {\\n  background-color: #2965cc; }\\n  .pt-navbar.ui-app-navbar .pt-navbar-group .pt-button {\\n    margin: 0 4px; }\\n\\n.ui-savename-editbadge {\\n  padding-left: 5px; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\r\nimport * as React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport {\r\n    Navbar,\r\n    NavbarGroup,\r\n    NavbarHeading,\r\n    EditableText,\r\n    Button,\r\n    Alignment,\r\n    Icon\r\n} from \"@blueprintjs/core\";\r\n\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\nimport { SaveEditorProps, withSaveEditor } from \"@/services/save-editor\";\r\n\r\nimport \"./style.scss\";\r\n\r\nimport { AppNavBarProps } from \"./props\";\r\n\r\ntype Props = AppNavBarProps & SaveEditorProps;\r\n@observer\r\nclass AppNavBar extends React.Component<Props> {\r\n    private _input: HTMLElement | null = null;\r\n\r\n    render() {\r\n        const {\r\n            className,\r\n            saveEditor: {\r\n                saveName,\r\n                isSaveLoaded\r\n            }\r\n        } = this.props;\r\n\r\n        return (\r\n            <Navbar className={`ui-app-navbar ${className || \"\"}`}>\r\n                <NavbarGroup>\r\n                    <NavbarHeading>ONI Save Editor</NavbarHeading>\r\n                        <EditableText\r\n                            onConfirm={this._onRename}\r\n                            disabled={!isSaveLoaded}\r\n                            placeholder={!isSaveLoaded ? \"No save loaded\" : \"Click to edit save name\"}\r\n                            value={saveName || \"\"}\r\n                        />\r\n                        {\r\n                            isSaveLoaded ?\r\n                                <span className=\"ui-savename-editbadge\">\r\n                                    <Icon\r\n                                        icon={IconNames.EDIT}\r\n                                        iconSize={10}\r\n                                        title=\"Click on the save name to edit\"\r\n                                    />\r\n                                </span>\r\n                            : undefined\r\n                        }\r\n                </NavbarGroup>\r\n                <NavbarGroup align={Alignment.RIGHT}>\r\n                    <Button icon={IconNames.UPLOAD} onClick={this._onLoadClick}>Load</Button>\r\n                    <Button icon={IconNames.FLOPPY_DISK} disabled={!isSaveLoaded} onClick={this._onSaveClick}>Save</Button>\r\n                    <input\r\n                        ref={el => this._input = el}\r\n                        style={{ display: \"none\" }}\r\n                        className=\"pt-button pt-intent-primary\"\r\n                        type=\"file\"\r\n                        accept=\".sav\"\r\n                        onChange={this._onLoadFile}\r\n                    />\r\n                </NavbarGroup>\r\n            </Navbar>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onSaveClick() {\r\n        this.props.saveEditor.save();\r\n    }\r\n\r\n    @autobind()\r\n    private _onLoadClick() {\r\n        if (!this._input) return;\r\n        this._input.click();\r\n    }\r\n\r\n    @autobind()\r\n    private _onLoadFile(change: React.ChangeEvent<HTMLInputElement>) {\r\n        const files = change.target.files;\r\n        if (!files || files.length === 0) return;\r\n        this.props.saveEditor.load(files[0]);\r\n    }\r\n\r\n    @autobind()\r\n    private _onRename(name: string) {\r\n        const { saveEditor } = this.props;\r\n        saveEditor.renameSave(name);\r\n    }\r\n}\r\nexport default withSaveEditor(AppNavBar);\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".ui-page-changelog {\\n  padding: 15px; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","module.exports = \"\\r\\n### v1.4.0\\r\\n- Edit duplicant\\r\\n    - Interests (aptitudes)\\r\\n- Edit geysers\\r\\n    - Type\\r\\n    - Cycle time factor\\r\\n    - Active time factor\\r\\n    - Dormant time factor\\r\\n- Ability to rename file on download.\\r\\n\\r\\n### v1.3.0\\r\\n- Edit current cycle.\\r\\n- Edit duplicant printer\\r\\n    - Next duplicant ready\\r\\n    - Time to next duplicant\\r\\n\\r\\n### v1.2.1\\r\\n- Fix save corruption when text with multi-byte accents are encountered.\\r\\n- Refactor URL layout to make way for future utilities.\\r\\n\\r\\n### v1.2.0\\r\\n\\r\\n- Edit Duplicants\\r\\n    - Current Job\\r\\n    - Target Job\\r\\n    - Job Experience\\r\\n    - Job Mastery\\r\\n\\r\\n### v1.1.0\\r\\n\\r\\n- Edit Duplicants\\r\\n    - Gender (data only; no visual effect)\\r\\n    - Voice\\r\\n    - Appearance\\r\\n- Dedicated load button (no more refreshes to edit new saves)\\r\\n\\r\\n### v1.0.0\\r\\n\\r\\nGround-up rewrite.\\r\\n\\r\\n- Edit Duplicants\\r\\n    - Name\\r\\n    - Size (width and height)\\r\\n    - Health Status (healthy, critical, incapacitated, invulnurable, ...)\\r\\n    - Skills (level and experience)\\r\\n    - Traits\\r\\n    - Status Effects\\r\\n- New Theme\\r\\n- Non-blocking file loading and saving.  Prevents browsers from killing the process when working with large saves.\\r\\n- Internal cleanup for mantainability going forward.\"","\r\nimport * as React from \"react\";\r\nimport Markdown from \"react-markdown\";\r\n\r\nconst changelog = require(\"@/../CHANGELOG.md\");\r\n\r\nimport \"./style.scss\";\r\n\r\nexport default class ChangelogPage extends React.Component {\r\n    render() {\r\n        return <Markdown className=\"ui-page ui-page-changelog fill-parent\" source={changelog}/>\r\n    }\r\n}","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { RouteComponentProps } from \"react-router\";\r\n\r\nimport { Element, getElement } from \"@/services/materials\";\r\n\r\n\r\nconst style_element_square: React.CSSProperties = {\r\n    width: \"200px\",\r\n    height: \"200px\",\r\n    border: \"3px red solid\",\r\n};\r\n\r\nconst style_element_name: React.CSSProperties = {\r\n    textAlign: \"center\"\r\n};\r\n\r\nconst style_element_type: React.CSSProperties = {\r\n    textAlign: \"center\",\r\n    padding: \"2px\"\r\n};\r\n\r\nconst style_element_tags: React.CSSProperties = {\r\n    textAlign: \"center\",\r\n    fontSize: 12,\r\n    padding: \"2px\"\r\n};\r\n\r\nconst style_element_mass: React.CSSProperties = {\r\n    textAlign: \"center\",\r\n    fontSize: 12,\r\n    padding: \"2px\"\r\n};\r\n\r\nconst style_element_specificHeat: React.CSSProperties = {\r\n    textAlign: \"left\",\r\n    fontSize: 12,\r\n    padding: \"2px\"\r\n};\r\n\r\nconst style_element_thermalConductivity: React.CSSProperties = {\r\n    textAlign: \"right\",\r\n    fontSize: 12,\r\n    padding: \"2px\"\r\n};\r\n\r\nconst style_element_surfaceArea: React.CSSProperties = {\r\n    textAlign: \"center\",\r\n    fontSize: 12,\r\n    padding: \"2px\",\r\n};\r\n\r\n\r\nexport interface MaterialInspectorRouteProps {\r\n    material: string;\r\n}\r\nexport interface MaterialInspectorProps extends RouteComponentProps<MaterialInspectorRouteProps> { }\r\ntype State = {\r\n    element: Element | null;\r\n}\r\nexport default class MaterialInspector extends React.Component<MaterialInspectorProps, State> {\r\n    componentWillMount() {\r\n        this.setState(s => ({\r\n            element: getElement(this.props.match.params.material)\r\n        }));\r\n    }\r\n\r\n    render() {\r\n        const elementName = this.props.match.params.material;\r\n        const element = getElement(elementName);\r\n        return (\r\n            <div>\r\n                {/* <pre><code>{JSON.stringify(element, null, 2)}</code></pre> */}\r\n                {this._renderElementSquare()}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private _renderElementSquare(): React.ReactFragment {\r\n        const element = this.state.element;\r\n        if (!element) return <div>Element Not Found</div>;\r\n\r\n        return (\r\n            <div style={style_element_square} className=\"layout-vertical\">\r\n                <div className=\"layout-horizontal\">\r\n                    <div style={style_element_specificHeat}>{element.specificHeatCapacity}</div>\r\n                    <div className=\"layout-item-fill\" />\r\n                    <div style={style_element_surfaceArea}>{element.solidSurfaceAreaMultiplier} / {element.liquidSurfaceAreaMultiplier} / {element.gasSurfaceAreaMultiplier}</div>\r\n                    <div className=\"layout-item-fill\" />\r\n                    <div style={style_element_thermalConductivity}>{element.thermalConductivity}</div>\r\n                </div>\r\n                <div className=\"layout-item-fill\" />\r\n                <h4 className=\"layout-item\" style={style_element_name}>{element.name}</h4>\r\n                <div style={style_element_type}>{element.type}</div>\r\n                <div style={style_element_tags}>{element.tags.join(\", \")}</div>\r\n                <div className=\"layout-item-fill\" />\r\n                <div style={style_element_mass}>{element.molarMass}</div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".ui-page-materials-browser .ui-material-browser-toolbox {\\n  float: right; }\\n\\n.ui-page-materials-browser .ui-element-column-header {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\r\nimport { Element } from \"./interfaces\";\r\nimport { ELEMENTS } from \"./elements\";\r\n\r\nexport function getElement(str: string): Element | null {\r\n    return ELEMENTS.find(x => x.name === str) || null;\r\n}\r\n","\r\nexport interface Element {\r\n    name: string;\r\n    type: \"solid\" | \"liquid\" | \"gas\";\r\n    category: string;\r\n    tags: string[];\r\n\r\n    molarMass: number;\r\n\r\n    /**\r\n     * J/gm per K\r\n     */\r\n    specificHeatCapacity: number;\r\n\r\n    /**\r\n     * watts per metre per Kelvin (W/m)/K\r\n     */\r\n    thermalConductivity: number;\r\n\r\n    defaultTemperature: number;\r\n\r\n    solidSurfaceAreaMultiplier: number;\r\n    liquidSurfaceAreaMultiplier: number;\r\n    gasSurfaceAreaMultiplier: number;\r\n\r\n    lightEmitDistance: number;\r\n    lightEmitIntensity: number;\r\n}\r\n\r\nexport const ELEMENT_KEYS: (keyof Element)[] = [\r\n    \"name\",\r\n    \"type\",\r\n    \"category\",\r\n    \"tags\",\r\n    \"molarMass\",\r\n    \"specificHeatCapacity\",\r\n    \"thermalConductivity\",\r\n    \"defaultTemperature\",\r\n    \"solidSurfaceAreaMultiplier\",\r\n    \"liquidSurfaceAreaMultiplier\",\r\n    \"gasSurfaceAreaMultiplier\",\r\n    \"lightEmitDistance\",\r\n    \"lightEmitIntensity\"\r\n];\r\n\r\nexport interface ElementDataTable {\r\n    headers: string[];\r\n    rows: string[][];\r\n}\r\n","\r\nimport * as React from \"react\";\r\nimport { RouteComponentProps, Link } from \"react-router-dom\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport binarySearch from \"binary-search\";\r\n\r\nimport { Popover, Button, Menu, MenuItem } from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\nimport {\r\n    Element,\r\n    ELEMENTS,\r\n    ELEMENT_KEYS,\r\n} from \"@/services/materials\";\r\n\r\nimport \"./style.scss\";\r\n\r\n\r\ntype ElementKey = ArrayItemType<typeof ELEMENT_KEYS>;\r\ntype ConfigurableKey = Exclude<ElementKey, \"name\">;\r\n\r\nfunction isConfigrableKey(x: string): x is ConfigurableKey {\r\n    return x !== \"name\";\r\n}\r\nconst CONFIGURABLE_KEYS: ConfigurableKey[] = ELEMENT_KEYS.filter(isConfigrableKey);\r\n\r\nconst CONFIGURABLE_KEY_INDEXES: Record<ConfigurableKey, number> = {} as any;\r\nCONFIGURABLE_KEYS.forEach((key, i) => CONFIGURABLE_KEY_INDEXES[key] = i);\r\n\r\n\r\ninterface State {\r\n    enabledColumns: ConfigurableKey[]\r\n};\r\ntype Props = RouteComponentProps<any>;\r\nexport default class MaterialBrowser extends React.Component<Props, State> {\r\n    state: State = {\r\n        enabledColumns: [\r\n            \"molarMass\",\r\n            \"specificHeatCapacity\",\r\n            \"thermalConductivity\"\r\n        ]\r\n    };\r\n\r\n    render() {\r\n        const {\r\n            enabledColumns\r\n        } = this.state;\r\n\r\n        const selectionMenu = CONFIGURABLE_KEYS.map(key => (\r\n            <ColumnMenuItem key={key} column={key} isSelected={enabledColumns.indexOf(key) !== -1} toggleColumn={this._toggleColumn}/>\r\n        ));\r\n\r\n        const headers = enabledColumns.map(x => <HeaderColumn key={x} column={x} toggleColumn={this._toggleColumn}/>);\r\n        const rows = ELEMENTS.map(element => (\r\n            <tr key={element.name}>\r\n                <td><Link to={`/material-explorer/material/${element.name}`}>{element.name}</Link></td>\r\n                {enabledColumns.map(key => <td key={key}>{element[key]}</td>)}\r\n            </tr>\r\n        ));\r\n\r\n        return (\r\n            <div className=\"ui-page-materials-browser fill-parent layout-vertical\">\r\n                <div className=\"fill-parent-width\">\r\n                    <div className=\"ui-material-browser-toolbox\">\r\n                        <Popover>\r\n                            <Button icon={IconNames.COG}/>\r\n                            <Menu>\r\n                                {selectionMenu}\r\n                            </Menu>\r\n                        </Popover>\r\n                    </div>\r\n                </div>\r\n                <div className=\"layout-item-fill container-scroll\">\r\n                    <table className=\"pt-html-table pt-html-table-bordered\">\r\n                        <thead>\r\n                            <tr style={{ position: \"sticky\" }}>\r\n                                <th>Name</th>\r\n                                {headers}\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {rows}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _toggleColumn(columnName: ConfigurableKey) {\r\n        if (CONFIGURABLE_KEYS.indexOf(columnName) === -1) return;\r\n\r\n        let { enabledColumns } = this.state;\r\n\r\n        const idx = binarySearch(enabledColumns, columnName, (a, b) => {\r\n            return CONFIGURABLE_KEY_INDEXES[a] - CONFIGURABLE_KEY_INDEXES[b];\r\n        });\r\n\r\n        if (idx > -1) {\r\n            // Found the index, remove it.\r\n            enabledColumns = [\r\n                ...enabledColumns.slice(0, idx),\r\n                ...enabledColumns.slice(idx + 1)\r\n            ];\r\n        }\r\n        else {\r\n            // Did not find index.  Index is negative of position the item should appear at.\r\n            const addIndex = (idx * -1) - 1;\r\n            enabledColumns = [\r\n                ...enabledColumns.slice(0, addIndex),\r\n                columnName,\r\n                ...enabledColumns.slice(addIndex)\r\n            ];\r\n        }\r\n\r\n        this.setState({\r\n            enabledColumns\r\n        });\r\n    }\r\n}\r\n\r\ninterface HeaderColumnProps {\r\n    column: ConfigurableKey;\r\n    toggleColumn(columnName: ConfigurableKey): void;\r\n}\r\nclass HeaderColumn extends React.Component<HeaderColumnProps> {\r\n    render() {\r\n        const { column } = this.props;\r\n        return <th><span className=\"ui-element-column-header\">{column}<Button minimal={true} small={true} onClick={this._onClick} icon={IconNames.SMALL_CROSS}/></span></th>;\r\n    }\r\n\r\n    @autobind()\r\n    _onClick() {\r\n        const {\r\n            column,\r\n            toggleColumn\r\n        } = this.props;\r\n        toggleColumn(column);\r\n    }\r\n}\r\n\r\ninterface ColumnMenuItemProps {\r\n    column: ConfigurableKey;\r\n    isSelected: boolean;\r\n    toggleColumn(columnName: ConfigurableKey): void;\r\n}\r\nclass ColumnMenuItem extends React.Component<ColumnMenuItemProps> {\r\n    render() {\r\n        const { column, isSelected } = this.props;\r\n        const icon = isSelected ? IconNames.DOT : undefined;\r\n        return (\r\n            <MenuItem onClick={this._onClick} icon={icon} text={column}/>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    _onClick() {\r\n        const {\r\n            column,\r\n            toggleColumn\r\n        } = this.props;\r\n        toggleColumn(column);\r\n    }\r\n}","\r\nimport Browser from \"./Browser\";\r\nexport default Browser;\r\n","\r\nimport { SiteGraph } from \"@/site-graph\";\r\n\r\nimport Browser from \"./pages/Browser\";\r\nimport Inspector from \"./pages/Inspector\";\r\n\r\nexport const pageGraph: SiteGraph = [\r\n    {\r\n        type: \"page\",\r\n        path: \"/material-explorer/\",\r\n        component: Browser,\r\n        name: \"Materials\"\r\n    },\r\n    {\r\n        type: \"page\",\r\n        path: \"/material-explorer/material/:material\",\r\n        name: \"Material Inspector\",\r\n        component: Inspector\r\n    }\r\n];\r\n","\r\nimport * as React from \"react\";\r\n\r\nimport MaterialInspector from \"./pages/Inspector\";\r\n\r\nexport default class MaterialsPage extends React.Component {\r\n    render() {\r\n        const { children } = this.props;\r\n        return (\r\n            <div className=\"ui-page ui-page-materials fill-parent\">\r\n                {children}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n\r\nexport { pageGraph } from \"./page-graph\";","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\\n */\\n.ui-geyser-list {\\n  background-color: #bfccd6;\\n  height: 340px; }\\n  .ui-geyser-list .ui-geyser-portrait {\\n    width: 150px;\\n    height: 150px;\\n    margin: 10px;\\n    cursor: pointer; }\\n    .ui-geyser-list .ui-geyser-portrait .ui-geyser-type {\\n      text-align: center; }\\n    .ui-geyser-list .ui-geyser-portrait .ui-geyser-position {\\n      text-align: center; }\\n  .ui-geyser-list .ui-geyser-portrait.pt-active {\\n    background-color: #f29d49; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".ui-page-geyser-editor {\\n  padding: 15px; }\\n  .ui-page-geyser-editor .ui-geyser-factor-explain {\\n    padding-top: 5px;\\n    padding-bottom: 10px; }\\n  .ui-page-geyser-editor .ui-slider-inset {\\n    box-sizing: border-box;\\n    padding: 0px 10px; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\r\nimport * as React from \"react\";\r\nimport { action } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { GeyserBehavior, GEYSER_TYPE_NAMES, getGeyserTypeName, getGeyserTypeHash } from \"oni-save-parser\";\r\nimport { Button, MenuItem, NumericInput, Slider } from \"@blueprintjs/core\";\r\nimport { Select, IItemRendererProps } from \"@blueprintjs/select\";\r\nconst StringSelect = Select.ofType<string>();\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\nimport { typedKeys } from \"@/utils\";\r\n\r\nimport \"./style.scss\";\r\n\r\nexport interface GeyserEditorProps {\r\n    className?: string;\r\n    gameObject: GameObjectModel;\r\n}\r\n@observer\r\nexport default class GeyserEditor extends React.Component<GeyserEditorProps> {\r\n    render() {\r\n        const {\r\n            className,\r\n            gameObject\r\n        } = this.props;\r\n\r\n        const behavior = gameObject.getBehavior(GeyserBehavior);\r\n        const config = behavior && behavior.templateData.configuration;\r\n        if (!config) {\r\n            return (\r\n                <div>\r\n                    This geyser has not been initialized, and cannot be edited.  Probably because it has not yet been discovered in-game.\r\n                </div>\r\n            );\r\n        }\r\n\r\n        const materialType = getGeyserTypeName(config.typeId.hash) || \"[Unknown]\";\r\n        return (\r\n            <div className={`layout-vertical ui-page-geyser-editor container-scroll ${className || \"\"}`}>\r\n                <div className=\"pt-form-group pt-inline\">\r\n                    <label className=\"pt-label\">\r\n                        Type\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <div className=\"pt-input-group\">\r\n                            <StringSelect\r\n                                items={GEYSER_TYPE_NAMES}\r\n                                itemRenderer={this._renderGeyserTypeItem}\r\n                                itemPredicate={this._filterItem}\r\n                                onItemSelect={this._onGeyserTypeSelect}\r\n                                filterable={true}\r\n                                popoverProps={{ minimal: true }}\r\n                            >\r\n                                <Button rightIcon=\"caret-down\" text={materialType} />\r\n                            </StringSelect>\r\n                            <div className=\"pt-form-helper-text\">\r\n                                Geyser types are predefined in the game assembly, and determine the emitted element\r\n                                and range of possible emit / idle / dormant times.\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group\">\r\n                    <div className=\"pt-form-helper-text ui-geyser-factor-explain\">\r\n                        The following factor values are percentages of the min/max value defined\r\n                        by the geyser type.  Factors above 100% do not have an effect.\r\n                    </div>\r\n                    <label className=\"pt-label\">Emit Rate Factor</label>\r\n                    <div className=\"pt-form-content ui-slider-inset\">\r\n                        <Slider\r\n                            value={config.rateRoll}\r\n                            min={0}\r\n                            max={1}\r\n                            stepSize={0.001}\r\n                            labelRenderer={this._percentageRenderer}\r\n                            onChange={this._setRateRoll}\r\n                        />\r\n                        <div className=\"pt-form-helper-text\">Mass per cycle</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group\">\r\n                    <label className=\"pt-label\">Active Cycle Length Factor</label>\r\n                    <div className=\"pt-form-content ui-slider-inset\">\r\n                        <Slider\r\n                            value={config.iterationLengthRoll}\r\n                            min={0}\r\n                            max={1}\r\n                            stepSize={0.001}\r\n                            labelRenderer={this._percentageRenderer}\r\n                            onChange={this._setIterationLengthRoll}\r\n                        />\r\n                        <div className=\"pt-form-helper-text\">The total length of the active (emit and idle) stage.</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group\">\r\n                    <label className=\"pt-label\">Active Emitting Percentage Factor</label>\r\n                    <div className=\"pt-form-content ui-slider-inset\">\r\n                        <Slider\r\n                            value={config.iterationPercentRoll}\r\n                            min={0}\r\n                            max={1}\r\n                            stepSize={0.001}\r\n                            labelRenderer={this._percentageRenderer}\r\n                            onChange={this._setIterationPercentRoll}\r\n                        />\r\n                        <div className=\"pt-form-helper-text\">The percentage of the active stage that is spent emitting material.</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group\">\r\n                    <label className=\"pt-label\">Lifecycle Length Factor</label>\r\n                    <div className=\"pt-form-content ui-slider-inset\">\r\n                        <Slider\r\n                            value={config.yearLengthRoll}\r\n                            min={0}\r\n                            max={1}\r\n                            stepSize={0.001}\r\n                            labelRenderer={this._percentageRenderer}\r\n                            onChange={this._setYearLengthRoll}\r\n                        />\r\n                        <div className=\"pt-form-helper-text\">The total length of its active/dormant cycle.</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group\">\r\n                    <label className=\"pt-label\">Lifecycle Active Percentage Factor</label>\r\n                    <div className=\"pt-form-content ui-slider-inset\">\r\n                        <Slider\r\n                            value={config.yearPercentRoll}\r\n                            min={0}\r\n                            max={1}\r\n                            stepSize={0.001}\r\n                            labelRenderer={this._percentageRenderer}\r\n                            onChange={this._setYearPercentRoll}\r\n                        />\r\n                        <div className=\"pt-form-helper-text\">The percentage of its lifecycle that is spent in an active (not dormant) state.</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private _filterItem(query: string, value: string) {\r\n        return value.indexOf(query) !== -1;\r\n    }\r\n\r\n    @action.bound\r\n    private _onGeyserTypeSelect(typeName: string) {\r\n        const { gameObject } = this.props;\r\n        const behavior = gameObject.getBehavior(GeyserBehavior);\r\n        const config = behavior && behavior.templateData.configuration;\r\n        if (!config) return;\r\n        const hash = getGeyserTypeHash(typeName);\r\n        if (hash != null) config.typeId.hash = hash;\r\n    }\r\n\r\n    private _renderGeyserTypeItem(value: string, itemProps: IItemRendererProps) {\r\n        const {\r\n            modifiers,\r\n            handleClick\r\n        } = itemProps;\r\n\r\n        if (!modifiers.matchesPredicate) {\r\n            return null;\r\n        }\r\n        return (\r\n            <MenuItem\r\n                active={modifiers.active}\r\n                key={value}\r\n                onClick={handleClick}\r\n                text={value}\r\n            />\r\n        );\r\n    }\r\n\r\n    private _percentageRenderer(value: number): string {\r\n        return `${(value * 100).toFixed(1)}%`;\r\n    }\r\n\r\n    @action.bound\r\n    private _setRateRoll(value: number) {\r\n        const { gameObject } = this.props;\r\n        const behavior = gameObject.getBehavior(GeyserBehavior);\r\n        const config = behavior && behavior.templateData.configuration;\r\n        if (!config) return;\r\n        config.rateRoll = value;\r\n    }\r\n\r\n    @action.bound\r\n    private _setIterationLengthRoll(value: number) {\r\n        const { gameObject } = this.props;\r\n        const behavior = gameObject.getBehavior(GeyserBehavior);\r\n        const config = behavior && behavior.templateData.configuration;\r\n        if (!config) return;\r\n        config.iterationLengthRoll = value;\r\n    }\r\n\r\n    @action.bound\r\n    private _setIterationPercentRoll(value: number) {\r\n        const { gameObject } = this.props;\r\n        const behavior = gameObject.getBehavior(GeyserBehavior);\r\n        const config = behavior && behavior.templateData.configuration;\r\n        if (!config) return;\r\n        config.iterationPercentRoll = value;\r\n    }\r\n\r\n    @action.bound\r\n    private _setYearLengthRoll(value: number) {\r\n        const { gameObject } = this.props;\r\n        const behavior = gameObject.getBehavior(GeyserBehavior);\r\n        const config = behavior && behavior.templateData.configuration;\r\n        if (!config) return;\r\n        config.yearLengthRoll = value;\r\n    }\r\n\r\n    @action.bound\r\n    private _setYearPercentRoll(value: number) {\r\n        const { gameObject } = this.props;\r\n        const behavior = gameObject.getBehavior(GeyserBehavior);\r\n        const config = behavior && behavior.templateData.configuration;\r\n        if (!config) return;\r\n        config.yearPercentRoll = value;\r\n    }\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { autobind } from \"core-decorators\";\r\nimport { observer } from \"mobx-react\";\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\n\r\nexport interface GameObjectGridProps {\r\n    className?: string;\r\n    gameObjects: GameObjectModel[];\r\n    onClick?(gameObject: GameObjectModel): void;\r\n    renderItem: (gameObject: GameObjectModel) => React.ReactChild;\r\n}\r\n\r\n@observer\r\nexport default class GameObjectGrid extends React.Component<GameObjectGridProps> {\r\n    render() {\r\n        const {\r\n            className,\r\n            gameObjects,\r\n            renderItem\r\n        } = this.props;\r\n\r\n        const elements = gameObjects.map(x => <GameObjectGridElement key={x.kPrefabID} gameObject={x} onClick={this._onItemClick} renderItem={renderItem}/>);\r\n        return (\r\n            <div className={`${className || ''} ui-gameobject-grid`}>\r\n                <div className={`fill-parent layout-horizontal layout-wrap container-scroll`}>\r\n                    {elements}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onItemClick(gameObject: GameObjectModel) {\r\n        const { onClick } = this.props;\r\n        if (onClick) onClick(gameObject);\r\n    }\r\n}\r\n\r\ninterface GameObjectGridElementProps {\r\n    gameObject: GameObjectModel;\r\n    renderItem(gameObject: GameObjectModel): React.ReactChild;\r\n    onClick(gameObject: GameObjectModel): void;\r\n}\r\nclass GameObjectGridElement extends React.Component<GameObjectGridElementProps> {\r\n    render() {\r\n        const {gameObject, renderItem, onClick} = this.props;\r\n        return <div onClick={onClick.bind(null, gameObject)}>{renderItem(gameObject)}</div>;\r\n    }\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { autobind } from \"core-decorators\";\r\nimport { observer, Observer } from \"mobx-react\";\r\nimport { GeyserBehavior, getGeyserTypeName } from \"oni-save-parser\";\r\n\r\nimport { NonIdealState, Card, ICardProps } from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\nimport { SaveEditorProps, withSaveEditor, GameObjectModel } from \"@/services/save-editor\";\r\n\r\nimport GameObjectGrid from \"../../components/GameObjectGrid\";\r\nimport GeyserEditor from \"./components/GeyserEditor\";\r\n\r\nimport \"./style.scss\";\r\n\r\ntype Props = SaveEditorProps;\r\ninterface State {\r\n    selectedGeyser: GameObjectModel | null;\r\n}\r\nclass GeysersPage extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            selectedGeyser: null\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            selectedGeyser\r\n        } = this.state;\r\n        const {\r\n            saveEditor\r\n        } = this.props;\r\n\r\n        const geysers = saveEditor.gameObjects.filter(isGeyser);\r\n\r\n        if (geysers.length === 0) {\r\n            return (\r\n                <NonIdealState visual={IconNames.SEARCH_AROUND}>\r\n                    <div>No geysers found.</div>\r\n                    <div>Geysers are not spawned into the game until they are discovered.</div>\r\n                </NonIdealState>\r\n            );\r\n        }\r\n\r\n        let content: React.ReactFragment;\r\n        if (selectedGeyser != null) {\r\n            content = <GeyserEditor className=\"fill-parent\" gameObject={selectedGeyser} />\r\n        }\r\n        else {\r\n            content = (\r\n                <NonIdealState visual={IconNames.SEARCH_AROUND}>\r\n                    Select a geyser to edit\r\n                </NonIdealState>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className=\"ui-page ui-page-geysers fill-parent layout-vertical\">\r\n                <GameObjectGrid\r\n                    className=\"layout-item ui-geyser-list\"\r\n                    gameObjects={geysers}\r\n                    renderItem={this._renderGeyserGridItem}\r\n                    onClick={this._onGeyserSelected}\r\n                />\r\n                <div className=\"layout-item-fill\">\r\n                    {content}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _renderGeyserGridItem(gameObject: GameObjectModel): React.ReactChild {\r\n        const geyserBehavior = gameObject.getBehavior(GeyserBehavior);\r\n        const config = geyserBehavior && geyserBehavior.templateData.configuration;\r\n        if (!config) {\r\n            return <div className=\"ui-geyser-portrait\">Undiscovered</div>;\r\n        }\r\n\r\n        const x = gameObject.position.x.toFixed();\r\n        const y = gameObject.position.y.toFixed();\r\n\r\n        return (\r\n            <Observer>\r\n                {() =>\r\n                    <Card className=\"ui-geyser-portrait\" interactive={true}>\r\n                        <h5 className=\"ui-geyser-type\">{getGeyserTypeName(config.typeId.hash)}</h5>\r\n                        <div className=\"ui-geyser-position\">({x}, {y})</div>\r\n                    </Card>\r\n                }\r\n            </Observer>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onGeyserSelected(selectedGeyser: GameObjectModel) {\r\n        this.setState(s => ({\r\n            ...s,\r\n            selectedGeyser\r\n        }));\r\n    }\r\n}\r\n\r\nexport default withSaveEditor(GeysersPage);\r\n\r\nfunction isGeyser(gameObject: GameObjectModel) {\r\n    if (gameObject.type.startsWith(\"GeyserGeneric_\")) return true;\r\n    // TODO: ONI code also contains MethaneGeyser and ChlorineGeyser.\r\n    //  I think these are left-over from the prototype geysers, but\r\n    //  need to confirm this.\r\n    return false;\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport { SiteGraph } from \"@/site-graph\";\r\n\r\nimport General from \"./pages/General\";\r\nimport Appearance from \"./pages/Appearance\";\r\nimport Effects from \"./pages/Effects\";\r\nimport Jobs from \"./pages/Jobs\";\r\nimport Skills from \"./pages/Skills\";\r\nimport Traits from \"./pages/Traits\";\r\n\r\n\r\nexport const pageGraph: SiteGraph = [\r\n    {\r\n        type: \"page\",\r\n        path: \"/editor/duplicants/:prefabId/general\",\r\n        name: \"General\",\r\n        component: General\r\n    },\r\n    {\r\n        type: \"page\",\r\n        path: \"/editor/duplicants/:prefabId/appearance\",\r\n        name: \"Appearance\",\r\n        component: Appearance\r\n    },\r\n    {\r\n        type: \"page\",\r\n        path: \"/editor/duplicants/:prefabId/skills\",\r\n        name: \"Skills\",\r\n        component: Skills\r\n    },\r\n    {\r\n        type: \"page\",\r\n        path: \"/editor/duplicants/:prefabId/traits\",\r\n        name: \"Traits\",\r\n        component: Traits\r\n    },\r\n    {\r\n        type: \"page\",\r\n        path: \"/editor/duplicants/:prefabId/jobs\",\r\n        name: \"Jobs\",\r\n        component: Jobs\r\n    },\r\n    {\r\n        type: \"page\",\r\n        path: \"/editor/duplicants/:prefabId/effects\",\r\n        name: \"Effects\",\r\n        component: Effects\r\n    },\r\n];\r\n","\r\nimport * as React from \"react\";\r\nimport { action } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\nimport { AI_EFFECT_IDS, AIEffectsBehavior } from \"oni-save-parser\";\r\n\r\nimport { NumericInput, MenuItem, Button } from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\nimport { Select, IItemRendererProps } from \"@blueprintjs/select\";\r\nconst StringSelect = Select.ofType<string>();\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\n\r\n\r\nexport interface DuplicantEffectsProps {\r\n    duplicant: GameObjectModel\r\n};\r\n\r\n\r\ntype Props = DuplicantEffectsProps;\r\n@observer\r\nclass DuplicantEffects extends React.Component<Props> {\r\n    render() {\r\n        const { duplicant } = this.props;\r\n\r\n        const effectsBehavior = duplicant.getBehavior(AIEffectsBehavior);\r\n        if (!effectsBehavior) return <div>Error: No AIEffectsBehavior found.</div>;\r\n        const effects = effectsBehavior.templateData.saveLoadEffects;\r\n\r\n        const rows = effects.map(x =>\r\n            <DuplicantEffectRow\r\n                key={x.id}\r\n                id={x.id}\r\n                timeRemaining={x.timeRemaining}\r\n                onChangeTime={this._onEffectChangeTime}\r\n                onRemove={this._onEffectRemoved}\r\n            />\r\n        );\r\n\r\n        return (\r\n            <div className={`ui-duplicant-effects fill-parent layout-vertical`}>\r\n                <div className=\"container-scroll layout-item-fill\">\r\n                    <table className=\"pt-html-table pt-html-table-striped fill-parent-width\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Effect</th>\r\n                                <th>Time Remaining (ms)</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {rows}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div>\r\n                    <StringSelect\r\n                        items={AI_EFFECT_IDS}\r\n                        itemPredicate={this._filterItem}\r\n                        itemRenderer={this._renderItem}\r\n                        onItemSelect={this._onEffectSelected}\r\n                        filterable={true}\r\n                        resetOnClose={true}\r\n                        resetOnSelect={true}\r\n                        popoverProps={{ minimal: true }}\r\n                    >\r\n                        <Button rightIcon=\"caret-down\" text=\"Add a new Effect\" />\r\n                    </StringSelect>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    private _filterItem(query: string, item: string) {\r\n        return item.toLowerCase().indexOf(query.toLowerCase()) !== -1;\r\n    }\r\n\r\n    @autobind()\r\n    private _renderItem(effect: string, itemProps: IItemRendererProps) {\r\n        const {\r\n            modifiers,\r\n            handleClick\r\n        } = itemProps;\r\n\r\n        if (!modifiers.matchesPredicate) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <MenuItem\r\n                active={modifiers.active}\r\n                key={effect}\r\n                onClick={handleClick}\r\n                text={effect}\r\n            />\r\n        );\r\n    };\r\n\r\n    @action.bound\r\n    private _onEffectSelected(effectID: string) {\r\n        const { duplicant } = this.props;\r\n        const effectsBehavior = duplicant.getBehavior(AIEffectsBehavior);\r\n        if (!effectsBehavior) return;\r\n        const effects = effectsBehavior.templateData.saveLoadEffects;\r\n\r\n        if (effects.findIndex(x => x.id === effectID) !== -1) return;\r\n\r\n        effects.push({\r\n            id: effectID,\r\n            timeRemaining: 5000\r\n        });\r\n    }\r\n\r\n    @action.bound\r\n    private _onEffectChangeTime(effectID: string, timeRemaining: number) {\r\n        const { duplicant } = this.props;\r\n        const effectsBehavior = duplicant.getBehavior(AIEffectsBehavior);\r\n        if (!effectsBehavior) return;\r\n        const effects = effectsBehavior.templateData.saveLoadEffects;\r\n\r\n        const effect = effects.find(x => x.id === effectID);\r\n        if (!effect) return;\r\n\r\n        effect.timeRemaining = timeRemaining;\r\n    }\r\n\r\n    @action.bound\r\n    private _onEffectRemoved(effectID: string) {\r\n        const { duplicant } = this.props;\r\n        const effectsBehavior = duplicant.getBehavior(AIEffectsBehavior);\r\n        if (!effectsBehavior) return;\r\n        const effects = effectsBehavior.templateData.saveLoadEffects;\r\n\r\n        const index = effects.findIndex(x => x.id === effectID);\r\n        if (index === -1) return;\r\n        effects.splice(index, 1);\r\n    }\r\n}\r\nexport default DuplicantEffects;\r\n\r\n\r\ninterface DuplicantEffectRowProps {\r\n    id: string;\r\n    timeRemaining: number;\r\n    onChangeTime(id: string, timeRemaining: number): void;\r\n    onRemove(id: string): void;\r\n}\r\n\r\nclass DuplicantEffectRow extends React.Component<DuplicantEffectRowProps> {\r\n    constructor(props: DuplicantEffectRowProps) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            id,\r\n            timeRemaining\r\n        } = this.props;\r\n\r\n        return (\r\n            <tr>\r\n                <td>{id}</td>\r\n                <td>\r\n                    <NumericInput\r\n                        value={timeRemaining}\r\n                        clampValueOnBlur={true}\r\n                        min={0}\r\n                        onValueChange={this._onTimeRemainingChange}\r\n                    />\r\n                </td>\r\n                <td>\r\n                    <Button icon={IconNames.SMALL_CROSS} onClick={this._onRemove} />\r\n                </td>\r\n            </tr>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onTimeRemainingChange(value: number) {\r\n        const {\r\n            id,\r\n            onChangeTime\r\n        } = this.props;\r\n\r\n        if (value < 0 || isNaN(value)) {\r\n            value = 0;\r\n        }\r\n\r\n        onChangeTime(id, value);\r\n    }\r\n\r\n    @autobind()\r\n    private _onRemove() {\r\n        const {\r\n            id,\r\n            onRemove\r\n        } = this.props;\r\n        onRemove(id);\r\n    }\r\n}\r\n","\r\nimport * as React from \"react\";\r\nimport { NonIdealState  } from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\nimport { autobind } from \"core-decorators\";\r\nimport { observer } from \"mobx-react\";\r\nimport { action } from \"mobx\";\r\n\r\nimport {\r\n    APTITUDE_NAMES,\r\n    APTITUDE_HASH_NAMES,\r\n    APTITUDE_NAME_HASHES,\r\n    AptitudeName,\r\n    MinionResumeBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { GameObjectModel, GameObjectBehaviorModel } from \"@/services/save-editor\";\r\n\r\n\r\n// These are not saved, and probably are not functional yet.\r\nconst SKIP_APTITUDES = new Set([\"Management\", \"Suits\", \"MedicalAid\"]);\r\n\r\nexport interface AptitudePageProps {\r\n    className?: string;\r\n    duplicant: GameObjectModel;\r\n}\r\n@observer\r\nexport default class AptitudePage extends React.Component<AptitudePageProps> {\r\n    render() {\r\n        const {\r\n            className,\r\n            duplicant\r\n        } = this.props;\r\n\r\n        const behavior = duplicant.getBehavior(MinionResumeBehavior);\r\n        if (!behavior) {\r\n            return (\r\n                <NonIdealState visual={IconNames.WARNING_SIGN}>\r\n                    No resume behavior exists on this duplicant.  Jobs may not have been initialized.\r\n                </NonIdealState>\r\n            );\r\n        }\r\n\r\n        const rows = APTITUDE_NAMES.filter(x => !SKIP_APTITUDES.has(x)).map(name => (\r\n            <AptitudeRow key={name} aptitudeID={name} interested={hasAptitude(behavior, name)} setInterest={this._setInterested} />\r\n        ));\r\n\r\n        return (\r\n            <div className={`fill-parent container-scroll ${className || \"\"}`}>\r\n                <table className=\"pt-html-table pt-html-table-striped fill-parent\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Aptitude Type</th>\r\n                            <th>Interested</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {rows}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @action.bound\r\n    private _setInterested(aptitudeID: AptitudeName, interested: boolean) {\r\n        const { duplicant } = this.props;\r\n        const behavior = duplicant.getBehavior(MinionResumeBehavior);\r\n        if (!behavior || !behavior.templateData || !behavior.templateData.AptitudeByRoleGroup) return;\r\n        const aptitudes = behavior.templateData.AptitudeByRoleGroup;\r\n\r\n        // This is dumb, but the keys of this are ONI HashStrings, which only save their key as a nested property.\r\n        const hash = APTITUDE_NAME_HASHES[aptitudeID];\r\n        if (hash == null) return false;\r\n        for (let [key, value] of aptitudes.entries()) {\r\n            if (key.hash === hash) {\r\n                aptitudes.set(key, interested ? 1 : 0);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\ninterface AptitudeRowProps {\r\n    aptitudeID: string;\r\n    interested: boolean;\r\n    setInterest(aptitudeID: string, interested: boolean): void;\r\n}\r\nclass AptitudeRow extends React.Component<AptitudeRowProps> {\r\n    render() {\r\n        const {\r\n            aptitudeID,\r\n            interested\r\n        } = this.props;\r\n        return (\r\n            <tr>\r\n                <td>{aptitudeID}</td>\r\n                <td>\r\n                    <label className=\"pt-control pt-checkbox\">\r\n                        <input type=\"checkbox\" checked={interested} onChange={this._onInterestChange} />\r\n                        <span className=\"pt-control-indicator\"></span>\r\n                    </label>\r\n                </td>\r\n            </tr>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onInterestChange(change: React.ChangeEvent<HTMLInputElement>) {\r\n        const {\r\n            aptitudeID,\r\n            setInterest\r\n        } = this.props;\r\n        setInterest(aptitudeID, change.target.checked);\r\n    }\r\n}\r\n\r\nfunction hasAptitude(behavior: GameObjectBehaviorModel<MinionResumeBehavior>, aptitude: AptitudeName): boolean {\r\n    if (!behavior.templateData || !behavior.templateData.AptitudeByRoleGroup) return false;\r\n\r\n    const hash = APTITUDE_NAME_HASHES[aptitude];\r\n    if (hash == null) return false;\r\n\r\n    for (let [key, value] of behavior.templateData.AptitudeByRoleGroup.entries()) {\r\n        if (key.hash === hash) return value > 0;\r\n    }\r\n    return false;\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","exports = module.exports = require(\"../../../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".ui-page-duplicants .ui-duplicant-roles .ui-current-role, .ui-page-duplicants .ui-duplicant-roles .ui-target-role {\\n  padding: 5px; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../../../node_modules/css-loader/index.js!../../../../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../../node_modules/css-loader/index.js!../../../../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../../node_modules/css-loader/index.js!../../../../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\r\nimport * as React from \"react\";\r\nimport { action } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { NumericInput, Button, MenuItem } from \"@blueprintjs/core\";\r\nimport { Select, IItemRendererProps } from \"@blueprintjs/select\";\r\nconst StringSelect = Select.ofType<string>();\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\nimport { MinionResumeBehavior } from \"oni-save-parser\";\r\n\r\nimport \"./style.scss\";\r\n\r\nexport interface DuplicantJobsPageProps {\r\n    duplicant: GameObjectModel;\r\n}\r\n\r\ntype Props = DuplicantJobsPageProps;\r\n@observer\r\nclass DuplicantRolesPage extends React.Component<Props> {\r\n    render() {\r\n        const { duplicant } = this.props;\r\n\r\n        const resumeBehavior = duplicant.getBehavior(MinionResumeBehavior);\r\n        if (!resumeBehavior) return <div>Error: GameObject lacks a MinionResumeBehavior.</div>;\r\n\r\n        const {\r\n            currentRole,\r\n            targetRole,\r\n            ExperienceByRoleID,\r\n            MasteryByRoleID\r\n        } = resumeBehavior.templateData;\r\n\r\n        if (!ExperienceByRoleID || !MasteryByRoleID || !currentRole) {\r\n            return <div>Error: Empty MinionResume behavior data.</div>;\r\n        }\r\n\r\n        // Might want to make a constant for this, but this is better for future compatibility.\r\n        const knownRoles = Array.from(ExperienceByRoleID.keys());\r\n\r\n        const rows = knownRoles.map(x => {\r\n            const experience = ExperienceByRoleID.get(x) || 0;\r\n            const mastery = MasteryByRoleID.get(x) || false;\r\n            return <RoleRow key={x} roleID={x} mastery={mastery} experience={experience} setMastery={this._setMastery} setExperience={this._setExperience} />\r\n        });\r\n\r\n        return (\r\n            <div className={`ui-duplicant-roles fill-parent container-scroll`}>\r\n                <div className=\"layout-vertical\">\r\n                    <div className=\"layout-horizontal\">\r\n                        <div className=\"ui-current-role pt-form-group pt-inline\">\r\n                            <label className=\"pt-label\">\r\n                                Current Role\r\n                            </label>\r\n                            <div className=\"pt-form-content\">\r\n                                <StringSelect\r\n                                    items={knownRoles}\r\n                                    itemPredicate={this._filterItem}\r\n                                    itemRenderer={this._renderItem}\r\n                                    onItemSelect={this._onCurrentRoleSelected}\r\n                                    filterable={true}\r\n                                    resetOnClose={true}\r\n                                    resetOnSelect={true}\r\n                                    popoverProps={{ minimal: true }}\r\n                                >\r\n                                    <Button rightIcon=\"caret-down\" text={currentRole || \"[Unknown]\"} />\r\n                                </StringSelect>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"ui-target-role pt-form-group pt-inline\">\r\n                            <label className=\"pt-label\">\r\n                                Target Role\r\n                            </label>\r\n                            <div className=\"pt-form-content\">\r\n                                <StringSelect\r\n                                    items={knownRoles}\r\n                                    itemPredicate={this._filterItem}\r\n                                    itemRenderer={this._renderItem}\r\n                                    onItemSelect={this._onTargetRoleSelected}\r\n                                    filterable={true}\r\n                                    resetOnClose={true}\r\n                                    resetOnSelect={true}\r\n                                    popoverProps={{ minimal: true }}\r\n                                >\r\n                                    <Button rightIcon=\"caret-down\" text={targetRole || \"[Unknown]\"} />\r\n                                </StringSelect>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <table className=\"pt-html-table pt-html-table-striped fill-parent-width layout-item\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Job Name</th>\r\n                                <th>Mastery</th>\r\n                                <th>Experience</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {rows}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private _filterItem(query: string, item: string) {\r\n        return item.toLowerCase().indexOf(query.toLowerCase()) !== -1;\r\n    }\r\n\r\n    @autobind()\r\n    private _renderItem(effect: string, itemProps: IItemRendererProps) {\r\n        const {\r\n            modifiers,\r\n            handleClick\r\n        } = itemProps;\r\n\r\n        if (!modifiers.matchesPredicate) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <MenuItem\r\n                active={modifiers.active}\r\n                key={effect}\r\n                onClick={handleClick}\r\n                text={effect}\r\n            />\r\n        );\r\n    };\r\n\r\n    @action.bound\r\n    private _onCurrentRoleSelected(roleID: string) {\r\n        const { duplicant } = this.props;\r\n        const resumeBehavior = duplicant.getBehavior(MinionResumeBehavior);\r\n        if (!resumeBehavior) return;\r\n        resumeBehavior.templateData.currentRole = roleID;\r\n    }\r\n\r\n    @action.bound\r\n    private _onTargetRoleSelected(roleID: string) {\r\n        const { duplicant } = this.props;\r\n        const resumeBehavior = duplicant.getBehavior(MinionResumeBehavior);\r\n        if (!resumeBehavior) return;\r\n        resumeBehavior.templateData.targetRole = roleID;\r\n    }\r\n\r\n    @action.bound\r\n    private _setMastery(roleID: string, mastery: boolean) {\r\n        const { duplicant } = this.props;\r\n        const resumeBehavior = duplicant.getBehavior(MinionResumeBehavior);\r\n        if (!resumeBehavior) return;\r\n        resumeBehavior.templateData.MasteryByRoleID!.set(roleID, mastery);\r\n    }\r\n\r\n    @action.bound\r\n    private _setExperience(roleID: string, experience: number) {\r\n        const { duplicant } = this.props;\r\n        const resumeBehavior = duplicant.getBehavior(MinionResumeBehavior);\r\n        if (!resumeBehavior) return;\r\n        resumeBehavior.templateData.ExperienceByRoleID!.set(roleID, experience);\r\n    }\r\n}\r\nexport default DuplicantRolesPage;\r\n\r\n\r\ninterface JobRowProps {\r\n    roleID: string;\r\n    mastery: boolean;\r\n    experience: number;\r\n    setMastery(roleID: string, mastery: boolean): void;\r\n    setExperience(roleID: string, experience: number): void;\r\n}\r\nclass RoleRow extends React.Component<JobRowProps> {\r\n    render() {\r\n        const {\r\n            roleID,\r\n            mastery,\r\n            experience\r\n        } = this.props;\r\n\r\n        return (\r\n            <tr>\r\n                <td>{roleID}</td>\r\n                <td>\r\n                    <label className=\"pt-control pt-checkbox\">\r\n                        <input type=\"checkbox\" checked={mastery} onChange={this._onSetMastery} />\r\n                        <span className=\"pt-control-indicator\"></span>\r\n                    </label>\r\n                </td>\r\n                <td>\r\n                    <NumericInput\r\n                        value={experience}\r\n                        clampValueOnBlur={true}\r\n                        min={0}\r\n                        onValueChange={this._onSetExperience}\r\n                    />\r\n                </td>\r\n            </tr>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    _onSetMastery(change: React.ChangeEvent<HTMLInputElement>) {\r\n        const checked = change.target.checked;\r\n        const {\r\n            roleID,\r\n            setMastery\r\n        } = this.props;\r\n        setMastery(roleID, checked);\r\n    }\r\n\r\n    @autobind()\r\n    private _onSetExperience(value: number) {\r\n        if (value < 0) {\r\n            value = 0;\r\n        }\r\n\r\n        const {\r\n            roleID,\r\n            setExperience\r\n        } = this.props;\r\n        setExperience(roleID, value);\r\n    }\r\n}","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\n\r\nimport {\r\n    Tabs,\r\n    Tab\r\n} from \"@blueprintjs/core\";\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\n\r\nimport RolesPage from \"./pages/Roles\";\r\nimport AptitudePage from \"./pages/Aptitudes\";\r\n\r\nexport interface DuplicantRolesPageProps {\r\n    duplicant: GameObjectModel;\r\n}\r\n\r\ntype Props = DuplicantRolesPageProps;\r\nclass DuplicantRolesPage extends React.Component<Props> {\r\n    render() {\r\n        const { duplicant } = this.props;\r\n        return (\r\n            <div className=\"ui-duplicant-roles fill-parent\">\r\n                <Tabs className=\"fill-parent layout-horizontal\" vertical={true} renderActiveTabPanelOnly={true} id=\"DuplicantRolePages\">\r\n                    <Tab className=\"layout-item-fill\" id=\"roles\" title=\"Roles\" panel={<RolesPage duplicant={duplicant} />} />\r\n                    <Tab className=\"layout-item-fill\" id=\"aptitudes\" title=\"Aptitudes\" panel={<AptitudePage duplicant={duplicant} />} />\r\n                </Tabs>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default DuplicantRolesPage;","\r\n// TODO: move to oni-save-parser\r\nconst TRAITS: string[] = [\r\n    \"None\",\r\n    \"Stinky\",\r\n    \"Ellie\",\r\n    \"Joshua\",\r\n    \"Liam\",\r\n    \"CantResearch\",\r\n    \"CantBuild\",\r\n    \"CantCook\",\r\n    \"CantDig\",\r\n    \"Hemophobia\",\r\n    \"MedicalAid\",\r\n    \"ScaredyCat\",\r\n    \"MouthBreather\",\r\n    \"CalorieBurner\",\r\n    \"SmallBladder\",\r\n    \"Anemic\",\r\n    \"SlowLearner\",\r\n    \"NoodleArms\",\r\n    \"InteriorDecorator\",\r\n    \"Regeneration\",\r\n    \"DeeperDiversLungs\",\r\n    \"SunnyDisposition\",\r\n    \"RockCrusher\",\r\n    \"Uncultured\",\r\n    \"WeakImmuneSystem\",\r\n    \"IrritableBowel\",\r\n    \"Flatulence\",\r\n    \"Snorer\",\r\n    \"Narcolepsy\",\r\n    \"Twinkletoes\",\r\n    \"Greasemonkey\",\r\n    \"MoleHands\",\r\n    \"FastLearner\",\r\n    \"DiversLung\",\r\n    \"StrongArm\",\r\n    \"IronGut\",\r\n    \"StrongImmuneSystem\",\r\n    \"BedsideManner\",\r\n    \"Caring\",\r\n    \"Aggressive\",\r\n    \"UglyCrier\",\r\n    \"BingeEater\",\r\n    \"StressVomiter\",\r\n    \"EarlyBird\",\r\n    \"NightOwl\",\r\n    \"Claustrophobic\",\r\n    \"PrefersWarmer\",\r\n    \"PrefersColder\",\r\n    \"SensitiveFeet\",\r\n    \"Fashionable\",\r\n    \"Climacophobic\",\r\n    \"SolitarySleeper\",\r\n    \"Workaholic\"\r\n];\r\nexport default TRAITS;","\r\nimport * as React from \"react\";\r\nimport { action } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { MenuItem, Intent } from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\nimport { MultiSelect, ItemRenderer, IItemRendererProps } from \"@blueprintjs/select\";\r\nconst TraitMultiSelect = MultiSelect.ofType<string>();\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\n\r\nimport TRAITS from \"./traits\";\r\nimport { AITraitsBehavior } from \"oni-save-parser\";\r\n\r\nexport interface DuplicantTraitsProps {\r\n    duplicant: GameObjectModel;\r\n};\r\n\r\n\r\ntype Props = DuplicantTraitsProps;\r\n@observer\r\nclass DuplicantTraits extends React.Component<Props> {\r\n    render() {\r\n        const { duplicant } = this.props;\r\n\r\n        const traitsBehavior = duplicant.getBehavior(AITraitsBehavior);\r\n        if (!traitsBehavior) return <div>Error: Game object lacks a AITraitsBehavior.</div>;\r\n        const traits = traitsBehavior.templateData.TraitIds;\r\n\r\n        return (\r\n            <div className={`fill-parent ui-duplicant-traits`}>\r\n                <TraitMultiSelect\r\n                    className=\"fill-parent-width\"\r\n                    items={TRAITS}\r\n                    selectedItems={traits}\r\n                    onItemSelect={this._onTagSelected}\r\n                    itemPredicate={this._filterItem}\r\n                    itemRenderer={this._renderItem}\r\n                    tagRenderer={tag => tag}\r\n                    tagInputProps={{ onRemove: this._onTagRemoved }}\r\n                    noResults={<MenuItem disabled={true} text=\"No results.\" />}\r\n                    popoverProps={{ minimal: true }}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    @action.bound\r\n    private _onTagSelected(tag: string) {\r\n        const { duplicant } = this.props;\r\n        const traitsBehavior = duplicant.getBehavior(AITraitsBehavior);\r\n        if (!traitsBehavior) return;\r\n        const traits = traitsBehavior.templateData.TraitIds;\r\n\r\n        if (traits.indexOf(tag) !== -1) {\r\n            return;\r\n        }\r\n\r\n        traits.push(tag);\r\n    }\r\n\r\n    @autobind()\r\n    private _onTagRemoved(tag: string) {\r\n        const { duplicant } = this.props;\r\n        const traitsBehavior = duplicant.getBehavior(AITraitsBehavior);\r\n        if (!traitsBehavior) return;\r\n        const traits = traitsBehavior.templateData.TraitIds;\r\n\r\n        const index = traits.indexOf(tag);\r\n        if (index === -1) return;\r\n\r\n        traits.splice(index, 1);\r\n    }\r\n\r\n    private _filterItem(query: string, trait: string) {\r\n        return trait.toLowerCase().indexOf(query.toLowerCase()) !== -1;\r\n    }\r\n\r\n    @autobind()\r\n    private _renderItem(trait: string, itemProps: IItemRendererProps) {\r\n        const {\r\n            modifiers,\r\n            handleClick\r\n        } = itemProps;\r\n\r\n        if (!modifiers.matchesPredicate) {\r\n            return null;\r\n        }\r\n\r\n        let isSelected = false;\r\n        \r\n        // TODO: Ensure that mobx is caching this stuff, as this is called for every item.\r\n        const traitsBehavior = this.props.duplicant.getBehavior(AITraitsBehavior);\r\n        if (traitsBehavior) {\r\n            const traits = traitsBehavior.templateData.TraitIds;\r\n            isSelected = traits.indexOf(trait) !== -1;\r\n        }\r\n\r\n        return (\r\n            <MenuItem\r\n                active={modifiers.active}\r\n                icon={isSelected ? IconNames.TICK : IconNames.BLANK}\r\n                key={trait}\r\n                onClick={handleClick}\r\n                text={trait}\r\n                shouldDismissPopover={false}\r\n            />\r\n        );\r\n    };\r\n\r\n}\r\nexport default DuplicantTraits;\r\n","\r\nimport * as React from \"react\";\r\nimport { action } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { NumericInput } from \"@blueprintjs/core\";\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\nimport { AIAttributeLevelsBehavior } from \"oni-save-parser\";\r\n\r\nexport interface DuplicantSkillsProps {\r\n    duplicant: GameObjectModel;\r\n};\r\n\r\n\r\ntype Props = DuplicantSkillsProps;\r\n@observer\r\nclass DuplicantSkills extends React.Component<Props> {\r\n    render() {\r\n        const { duplicant } = this.props;\r\n\r\n        const skillsBehavior = duplicant.getBehavior(AIAttributeLevelsBehavior);\r\n        if (!skillsBehavior) return <div>Error: Game object lacks a AIAttributeLevelsBehavior behavior.</div>;\r\n        const skills = skillsBehavior.templateData.saveLoadLevels;\r\n\r\n        const rows = skills.map(x => \r\n            <DuplicantSkillRow\r\n                key={x.attributeId}\r\n                id={x.attributeId}\r\n                level={x.level}\r\n                experience={x.experience}\r\n                onChangeLevel={this._onChangeLevel}\r\n                onChangeExperience={this._onChangeExperience}\r\n        />);\r\n\r\n        return (\r\n            <div className={`ui-duplicant-skills fill-parent container-scroll`}>\r\n                <table className=\"pt-html-table pt-html-table-striped\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Skill</th>\r\n                            <th>Level</th>\r\n                            <th>Experience</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {rows}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    @action.bound\r\n    private _onChangeLevel(id: string, level: number) {\r\n        const { duplicant } = this.props;\r\n        const skillsBehavior = duplicant.getBehavior(AIAttributeLevelsBehavior);\r\n        if (!skillsBehavior) return;\r\n        const skills = skillsBehavior.templateData.saveLoadLevels;\r\n        const skill = skills.find(x => x.attributeId === id);\r\n        if (!skill) return;\r\n        skill.level = level;\r\n    }\r\n\r\n    @action.bound\r\n    private _onChangeExperience(id: string, experience: number) {\r\n        const { duplicant } = this.props;\r\n        const skillsBehavior = duplicant.getBehavior(AIAttributeLevelsBehavior);\r\n        if (!skillsBehavior) return;\r\n        const skills = skillsBehavior.templateData.saveLoadLevels;\r\n        const skill = skills.find(x => x.attributeId === id);\r\n        if (!skill) return;\r\n        skill.experience = experience;\r\n    }\r\n}\r\nexport default DuplicantSkills;\r\n\r\n\r\ninterface DuplicantSkillRowProps {\r\n    id: string;\r\n    level: number;\r\n    experience: number;\r\n    onChangeLevel(id: string, level: number): void;\r\n    onChangeExperience(id: string, level: number): void;\r\n}\r\n\r\nclass DuplicantSkillRow extends React.Component<DuplicantSkillRowProps> {\r\n    render() {\r\n        const {\r\n            id,\r\n            level,\r\n            experience\r\n        } = this.props;\r\n\r\n        return (\r\n            <tr>\r\n                <td>{id}</td>\r\n                <td><NumericInput\r\n                    value={level}\r\n                    clampValueOnBlur={true}\r\n                    min={0}\r\n                    onValueChange={this._onLevelChange}\r\n                /></td>\r\n                <td><NumericInput\r\n                    value={experience}\r\n                    clampValueOnBlur={true}\r\n                    min={0}\r\n                    onValueChange={this._onExperienceChange}\r\n                /></td>\r\n            </tr>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onLevelChange(value: number) {\r\n        const {\r\n            id,\r\n            onChangeLevel\r\n        } = this.props;\r\n\r\n        value = Math.round(value);\r\n        if (value < 0 || isNaN(value)) {\r\n            value = 0;\r\n        }\r\n        \r\n        onChangeLevel(id, value);\r\n    }\r\n\r\n    @autobind()\r\n    private _onExperienceChange(value: number) {\r\n        const {\r\n            id,\r\n            onChangeExperience\r\n        } = this.props;\r\n\r\n        if (value < 0 || isNaN(value)) {\r\n            value = 0;\r\n        }\r\n\r\n        onChangeExperience(id, value);\r\n    }\r\n}\r\n","\r\nimport * as React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { getAccessoryOfType, getIndexOfAccessoryType } from \"oni-save-parser\";\r\n\r\nimport { Button, MenuItem } from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\nimport { Select, IItemRendererProps } from \"@blueprintjs/select\";\r\nconst StringSelect = Select.ofType<string>();\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\n\r\n\r\nimport { \r\n    ACCESSORIZER_EYE_GUIDS,\r\n    ACCESSORIZER_HAIR_GUIDS,\r\n    ACCESSORIZER_HEAD_GUIDS,\r\n    ACCESSORIZER_MOUTH_GUIDS,\r\n    ACCESSORIZER_BODY_GUIDS,\r\n    AccessorizerBehavior\r\n} from \"oni-save-parser\";\r\nimport { action } from \"mobx\";\r\n\r\n\r\nexport interface DuplicantAccessoryPageProps {\r\n    duplicant: GameObjectModel;\r\n};\r\n\r\ntype Props = DuplicantAccessoryPageProps;\r\n@observer\r\nclass DuplicantAccessoryPage extends React.Component<Props> {\r\n    render() {\r\n        const { duplicant } = this.props;\r\n        const accessorizer = duplicant.getBehavior(AccessorizerBehavior);\r\n        if (!accessorizer) return <div>Error: No AccessorizerBehavior found</div>;\r\n        const accessories = accessorizer.templateData.accessories;\r\n\r\n        const eyesAccessory = getAccessoryOfType(accessories, \"eyes\");\r\n        const headAccessory = getAccessoryOfType(accessories, \"headshape\");\r\n        const hairAccessory = getAccessoryOfType(accessories, \"hair\");\r\n        const mouthAccessory = getAccessoryOfType(accessories, \"mouth\");\r\n        const bodyAccessory = getAccessoryOfType(accessories, \"body\");\r\n\r\n        const eyes = eyesAccessory ? eyesAccessory.guid.Guid : \"[Error: Accessory Not Found]\";\r\n        const head = headAccessory ? headAccessory.guid.Guid : \"[Error: Accessory Not Found]\";\r\n        const hair = hairAccessory ? hairAccessory.guid.Guid : \"[Error: Accessory Not Found]\";\r\n        const mouth = mouthAccessory ? mouthAccessory.guid.Guid : \"[Error: Accessory Not Found]\";\r\n        const body = bodyAccessory ? bodyAccessory.guid.Guid : \"[Error: Accessory Not Found]\";\r\n\r\n        return (\r\n            <div className={`ui-duplicant-accessories fill-parent layout-vertical container-scroll`}>\r\n                <AppearanceGroup name=\"Eyes\" value={eyes} accessories={ACCESSORIZER_EYE_GUIDS} onSet={this._setEyes}/>\r\n                <AppearanceGroup name=\"Head\" value={head} accessories={ACCESSORIZER_HEAD_GUIDS} onSet={this._setHead}/>\r\n                <AppearanceGroup name=\"Hair\" value={hair} accessories={ACCESSORIZER_HAIR_GUIDS} onSet={this._setHair}/>\r\n                <AppearanceGroup name=\"Mouth\" value={mouth} accessories={ACCESSORIZER_MOUTH_GUIDS} onSet={this._setMouth}/>\r\n                <AppearanceGroup name=\"Body\" value={body} accessories={ACCESSORIZER_BODY_GUIDS} onSet={this._setBody}/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @action.bound\r\n    private _setEyes(value: string) {\r\n        const { duplicant } = this.props;\r\n        const accessorizer = duplicant.getBehavior(AccessorizerBehavior);\r\n        if (!accessorizer) return;\r\n        const accessories = accessorizer.templateData.accessories;\r\n        const index = getIndexOfAccessoryType(accessories, \"eyes\");\r\n        if (index == -1) return;\r\n        accessories[index].guid.Guid = value;\r\n    }\r\n\r\n    @action.bound\r\n    private _setHead(value: string) {\r\n        const { duplicant } = this.props;\r\n        const accessorizer = duplicant.getBehavior(AccessorizerBehavior);\r\n        if (!accessorizer) return;\r\n        const accessories = accessorizer.templateData.accessories;\r\n        const index = getIndexOfAccessoryType(accessories, \"headshape\");\r\n        if (index == -1) return;\r\n        accessories[index].guid.Guid = value;\r\n    }\r\n\r\n    @action.bound\r\n    private _setHair(value: string) {\r\n        const { duplicant } = this.props;\r\n        const accessorizer = duplicant.getBehavior(AccessorizerBehavior);\r\n        if (!accessorizer) return;\r\n        const accessories = accessorizer.templateData.accessories;\r\n        const index = getIndexOfAccessoryType(accessories, \"hair\");\r\n        if (index == -1) return;\r\n        accessories[index].guid.Guid = value;\r\n    }\r\n\r\n    @action.bound\r\n    private _setMouth(value: string) {\r\n        const { duplicant } = this.props;\r\n        const accessorizer = duplicant.getBehavior(AccessorizerBehavior);\r\n        if (!accessorizer) return;\r\n        const accessories = accessorizer.templateData.accessories;\r\n        const index = getIndexOfAccessoryType(accessories, \"mouth\");\r\n        if (index == -1) return;\r\n        accessories[index].guid.Guid = value;\r\n    }\r\n\r\n    @action.bound\r\n    private _setBody(value: string) {\r\n        const { duplicant } = this.props;\r\n        const accessorizer = duplicant.getBehavior(AccessorizerBehavior);\r\n        if (!accessorizer) return;\r\n        const accessories = accessorizer.templateData.accessories;\r\n        const index = getIndexOfAccessoryType(accessories, \"body\");\r\n        if (index == -1) return;\r\n        accessories[index].guid.Guid = value;\r\n    }\r\n}\r\nexport default DuplicantAccessoryPage;\r\n\r\n\r\ninterface AppearanceGroupProps {\r\n    name: string;\r\n    accessories: string[];\r\n    value: string | null;\r\n    onSet(accessoryID: string): void\r\n}\r\nclass AppearanceGroup extends React.Component<AppearanceGroupProps> {\r\n    render() {\r\n        const {\r\n            name,\r\n            accessories,\r\n            value\r\n        } = this.props;\r\n        return (\r\n            <div className=\"pt-form-group pt-inline\">\r\n            <label className=\"pt-label\">\r\n                {name}\r\n            </label>\r\n            <div className=\"pt-form-content\">\r\n                <StringSelect\r\n                    items={accessories}\r\n                    itemRenderer={this._renderItem}\r\n                    onItemSelect={this._onSet}\r\n                    filterable={false}\r\n                    resetOnClose={true}\r\n                    resetOnSelect={true}\r\n                    popoverProps={{ minimal: true }}\r\n                >\r\n                    <Button rightIcon=\"caret-down\" text={value || \"[Accessory not Found]\"} />\r\n                </StringSelect>\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _renderItem(accessoryID: string, itemProps: IItemRendererProps) {\r\n        const {\r\n            modifiers,\r\n            handleClick\r\n        } = itemProps;\r\n\r\n        if (!modifiers.matchesPredicate) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <MenuItem\r\n                active={modifiers.active}\r\n                key={accessoryID}\r\n                onClick={handleClick}\r\n                text={accessoryID}\r\n            />\r\n        );\r\n    };\r\n\r\n    @autobind()\r\n    private _onSet(accessoryID: string) {\r\n        const { onSet } = this.props;\r\n        onSet(accessoryID);\r\n    }\r\n}\r\n","\r\nimport * as React from \"react\";\r\nimport { action } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\nimport { HEALTH_STATE_NAMES, MINION_IDENTITY_GENDERS, MinionGender, HealthBehavior, MinionIdentityBehavior } from \"oni-save-parser\";\r\n\r\nimport { Button, MenuItem, NumericInput } from \"@blueprintjs/core\";\r\nimport { Select, IItemRendererProps } from \"@blueprintjs/select\";\r\n\r\nconst GenderSelect = Select.ofType<MinionGender>();\r\nconst StringSelect = Select.ofType<string>();\r\nconst NumberSelect = Select.ofType<number>();\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\n\r\n\r\nexport interface DuplicantGeneralProps {\r\n    duplicant: GameObjectModel;\r\n};\r\n\r\n\r\n// We only care about > 0\r\nconst MIN_SCALE = Number.EPSILON;\r\n\r\ntype Props = DuplicantGeneralProps;\r\n@observer\r\nclass DuplicantGeneralPage extends React.Component<Props> {\r\n    render() {\r\n        const { duplicant } = this.props;\r\n\r\n        const scaleX = duplicant.scale.x;\r\n        const scaleY = duplicant.scale.y;\r\n\r\n        const healthBehavior = duplicant.getBehavior(HealthBehavior);\r\n        if (!healthBehavior) return <div>Error: HealthBehavior not found</div>;\r\n        const healthState = healthBehavior.templateData.State;\r\n\r\n        const identityBehavior = duplicant.getBehavior(MinionIdentityBehavior);\r\n        if (!identityBehavior) return <div>Error: MinionIdentityBehavior not found</div>;\r\n        const {\r\n            gender,\r\n            voiceIdx\r\n        } = identityBehavior.templateData;\r\n\r\n        let healthStateStr: string;\r\n        if (healthState != null && healthState >= 0 && healthState < HEALTH_STATE_NAMES.length) {\r\n            healthStateStr = HEALTH_STATE_NAMES[healthState];\r\n        }\r\n        else {\r\n            healthStateStr = `<Unknown Health State ${healthState}>`;\r\n        }\r\n\r\n        return (\r\n            <div className=\"fill-parent\">\r\n                <div className=\"pt-form-group pt-inline\">\r\n                    <label className=\"pt-label\">\r\n                        Gender\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <GenderSelect\r\n                            // TODO: Export from oni-save-parser\r\n                            items={MINION_IDENTITY_GENDERS}\r\n                            itemRenderer={this._renderItem}\r\n                            onItemSelect={this._onGenderSelected}\r\n                            filterable={false}\r\n                            resetOnClose={true}\r\n                            resetOnSelect={true}\r\n                            popoverProps={{ minimal: true }}\r\n                        >\r\n                            <Button rightIcon=\"caret-down\" text={gender || \"MALE\"} />\r\n                        </GenderSelect>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group pt-inline\">\r\n                    <label className=\"pt-label\">\r\n                        Voice\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <NumberSelect\r\n                            // TODO: get from oni-save-parser\r\n                            items={[0, 1, 2, 3, 4]}\r\n                            itemRenderer={this._renderItem}\r\n                            onItemSelect={this._onVoiceSelected}\r\n                            filterable={false}\r\n                            resetOnClose={true}\r\n                            resetOnSelect={true}\r\n                            popoverProps={{ minimal: true }}\r\n                        >\r\n                            <Button rightIcon=\"caret-down\" text={`Voice ${voiceIdx || 0}`} />\r\n                        </NumberSelect>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group pt-inline\">\r\n                    <label className=\"pt-label\">\r\n                        Scale\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <div className=\"pt-input-group\">\r\n                            <span>Horizontal</span>\r\n                            <NumericInput min={MIN_SCALE} clampValueOnBlur={true} value={scaleX} onValueChange={this._onScaleX} />\r\n                        </div>\r\n                        <div className=\"pt-input-group\">\r\n                            <span>Vertical</span>\r\n                            <NumericInput min={MIN_SCALE} clampValueOnBlur={true} value={scaleY} onValueChange={this._onScaleY} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group pt-inline\">\r\n                    <label className=\"pt-label\">\r\n                        Health State\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <StringSelect\r\n                            items={HEALTH_STATE_NAMES}\r\n                            itemRenderer={this._renderItem}\r\n                            onItemSelect={this._onHealthStateSelected}\r\n                            filterable={false}\r\n                            resetOnClose={true}\r\n                            resetOnSelect={true}\r\n                            popoverProps={{ minimal: true }}\r\n                        >\r\n                            <Button rightIcon=\"caret-down\" text={healthStateStr} />\r\n                        </StringSelect>\r\n                        <div className=\"pt-form-helper-text\">The duplicant's current overall health condition.</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _renderItem(effect: string | number, itemProps: IItemRendererProps) {\r\n        const {\r\n            modifiers,\r\n            handleClick\r\n        } = itemProps;\r\n\r\n        if (!modifiers.matchesPredicate) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <MenuItem\r\n                active={modifiers.active}\r\n                key={effect}\r\n                onClick={handleClick}\r\n                text={effect}\r\n            />\r\n        );\r\n    };\r\n\r\n    @action.bound\r\n    private _onHealthStateSelected(healthState: string) {\r\n        const { duplicant } = this.props;\r\n\r\n        const healthBehavior = duplicant.getBehavior(HealthBehavior);\r\n        if (!healthBehavior) return;\r\n\r\n        // Need to get the enum value of the display text.\r\n        const stateIndex = HEALTH_STATE_NAMES.indexOf(healthState);\r\n        if (stateIndex === -1) {\r\n            return;\r\n        }\r\n\r\n        healthBehavior.templateData.State = stateIndex;\r\n    }\r\n\r\n    @action.bound\r\n    private _onGenderSelected(gender: MinionGender) {\r\n        const { duplicant } = this.props;\r\n        const identityBehavior = duplicant.getBehavior(MinionIdentityBehavior);\r\n        if (!identityBehavior) return;\r\n        identityBehavior.templateData.gender = gender;\r\n        identityBehavior.templateData.genderStringKey = gender;\r\n    }\r\n\r\n    @action.bound\r\n    private _onVoiceSelected(voiceIdx: number) {\r\n        const { duplicant } = this.props;\r\n        const identityBehavior = duplicant.getBehavior(MinionIdentityBehavior);\r\n        if (!identityBehavior) return;\r\n        identityBehavior.templateData.voiceIdx = voiceIdx;\r\n    }\r\n\r\n    @action.bound\r\n    private _onScaleX(value: number) {\r\n        const { duplicant } = this.props;\r\n\r\n        // Negative numbers dont render; probably because sprite normal faces\r\n        //  away from game camera.\r\n        if (value === 0 || isNaN(value)) {\r\n            value = 1;\r\n        }\r\n\r\n        duplicant.scale.x = value;\r\n    }\r\n\r\n    @action.bound\r\n    private _onScaleY(value: number) {\r\n        const { duplicant } = this.props;\r\n\r\n        // Negative numbers dont render; probably because sprite normal faces\r\n        //  away from game camera.\r\n        if (value === 0 || isNaN(value)) {\r\n            value = 1;\r\n        }\r\n\r\n        duplicant.scale.y = value;\r\n    }\r\n}\r\nexport default DuplicantGeneralPage;\r\n","\r\nimport * as React from \"react\";\r\nimport { action } from \"mobx\";\r\nimport { autobind } from \"core-decorators\";\r\nimport { MinionIdentityBehavior } from \"oni-save-parser\";\r\n\r\nimport {\r\n    EditableText,\r\n    Tabs,\r\n    Tab,\r\n    NonIdealState\r\n} from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\nimport { error, FAILURE_TYPE } from \"@/logging\";\r\n\r\n\r\nexport interface DuplicantEditorProps {\r\n    className?: string;\r\n    duplicant: GameObjectModel;\r\n};\r\n\r\n\r\nimport GeneralPage from \"../../pages/General\";\r\nimport AppearancePage from \"../../pages/Appearance\";\r\nimport SkillsPage from \"../../pages/Skills\";\r\nimport TraitsPage from \"../../pages/Traits\";\r\nimport JobsPage from \"../../pages/Jobs\";\r\nimport EffectsPage from \"../../pages/Effects\";\r\n\r\n\r\ntype Props = DuplicantEditorProps;\r\ninterface State {\r\n    rename: string | null;\r\n}\r\nclass DuplicantEditor extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            rename: null\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            className,\r\n            duplicant,\r\n        } = this.props;\r\n\r\n        const {\r\n            rename\r\n        } = this.state;\r\n\r\n        const identityBehavior = duplicant.getBehavior(MinionIdentityBehavior);\r\n\r\n        if (!identityBehavior) {\r\n            error(\"Duplicant identity behavior missing\", FAILURE_TYPE.MISSING_BEHAVIOR);\r\n            return (\r\n                <NonIdealState visual={IconNames.ERROR}>\r\n                    Duplicant has no identity behavior.\r\n                </NonIdealState>\r\n            )\r\n        }\r\n        \r\n        const name = rename || identityBehavior.templateData.name;\r\n        \r\n        return (\r\n            <div className={`ui-duplicant-editor layout-vertical ${className}`}>\r\n                <div className=\"layout-item\">\r\n                    <h1 className=\"ui-title\">\r\n                        <EditableText\r\n                            value={name}\r\n                            onChange={this._onNameChange}\r\n                            onConfirm={this._onRename}\r\n                        />\r\n                    </h1> <span className=\"pt-text-muted\">(click to edit name)</span>\r\n                </div>\r\n                <div className=\"layout-item-fill\">\r\n                    <Tabs id=\"DuplicantEditCategories\" className=\"ui-category-tabs fill-parent layout-vertical\" renderActiveTabPanelOnly={true}>\r\n                        <Tab className=\"layout-item-fill\" id=\"general\" title=\"General\" panel={<GeneralPage duplicant={duplicant} />} />\r\n                        <Tab className=\"layout-item-fill\" id=\"appearance\" title=\"Appearance\" panel={<AppearancePage duplicant={duplicant} />} />\r\n                        <Tab className=\"layout-item-fill\" id=\"skills\" title=\"Skills\" panel={<SkillsPage duplicant={duplicant}/>} />\r\n                        <Tab className=\"layout-item-fill\" id=\"traits\" title=\"Traits\" panel={<TraitsPage duplicant={duplicant}/>} />\r\n                        <Tab className=\"layout-item-fill\" id=\"jobs\" title=\"Jobs\" panel={<JobsPage duplicant={duplicant}/>} />\r\n                        <Tab className=\"layout-item-fill\" id=\"effects\" title=\"Effects\" panel={<EffectsPage duplicant={duplicant}/>} />\r\n                    </Tabs>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onNameChange(str: string) {\r\n        this.setState(s => ({\r\n            ...s,\r\n            rename: str\r\n        }));\r\n    }\r\n\r\n    @action.bound\r\n    private _onRename() {\r\n        const { duplicant } = this.props;\r\n        const name = this.state.rename;\r\n        if (!name || name === \"\") return;\r\n        const identityBehavior = duplicant.getBehavior(MinionIdentityBehavior);\r\n        if (!identityBehavior) return;\r\n\r\n        identityBehavior.templateData.name = name;\r\n        this.setState(s => ({\r\n            ...s,\r\n            rename: null\r\n        }));\r\n    }\r\n}\r\nexport default DuplicantEditor;\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\\n */\\n.ui-duplicant-list {\\n  background-color: #bfccd6;\\n  height: 340px; }\\n  .ui-duplicant-list .ui-duplicant-portrait {\\n    margin: 10px;\\n    cursor: pointer; }\\n  .ui-duplicant-list .ui-duplicant-portrait.pt-active {\\n    background-color: #f29d49; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".ui-duplicant-portrait {\\n  width: 150px;\\n  height: 150px; }\\n  .ui-duplicant-portrait .ui-duplicant-name {\\n    text-align: center; }\\n  .ui-duplicant-portrait .ui-duplicant-role {\\n    text-align: center; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\r\nimport * as React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\n\r\nimport { Card } from \"@blueprintjs/core\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { error, FAILURE_TYPE } from \"@/logging\";\r\nimport { MinionIdentityBehavior, MinionResumeBehavior } from \"oni-save-parser\";\r\n\r\nimport \"./style.scss\";\r\n\r\n\r\nexport interface DuplicantPortraitProps {\r\n    className?: string;\r\n    duplicant: GameObjectModel;\r\n    onClick?(duplicant: GameObjectModel): void;\r\n}\r\n\r\n\r\ntype Props = DuplicantPortraitProps;\r\n@observer\r\nclass DuplicantPortrait extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            className,\r\n            duplicant\r\n        } = this.props;\r\n\r\n        const identity = duplicant.getBehavior(MinionIdentityBehavior);\r\n        const resume = duplicant.getBehavior(MinionResumeBehavior);\r\n\r\n        let outerClassName = `ui-duplicant-portrait ${className}`;\r\n\r\n        let name: string;\r\n        let role: string;\r\n\r\n        if (identity) {\r\n            name = identity.templateData.name;\r\n        }\r\n        else {\r\n            error(\"Duplicant not found or identity behavior missing.\", FAILURE_TYPE.MISSING_BEHAVIOR);\r\n            name = \"[IDENTITY MISSING]\";\r\n        }\r\n\r\n        if (resume && resume.templateData.currentRole) {\r\n            role = resume.templateData.currentRole;\r\n        }\r\n        else {\r\n            error(\"resume behavior missing.\", FAILURE_TYPE.MISSING_BEHAVIOR);\r\n            role = \"[RESUME MISSING]\";\r\n        }\r\n\r\n        return (\r\n            <Card className={outerClassName} interactive={true} onClick={this._onClick}>\r\n                <h5 className=\"ui-duplicant-name\">{name}</h5>\r\n                {/* TODO render a picture.  Plenty of data in identity to do so.  Also see Accessorizer */}\r\n                <div className=\"ui-duplicant-role\">{role}</div>\r\n            </Card>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onClick() {\r\n        const {\r\n            duplicant,\r\n            onClick\r\n        } = this.props;\r\n        if (onClick) onClick(duplicant);\r\n    }\r\n}\r\nexport default DuplicantPortrait;\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\n\r\nimport DuplicantPortrait from \"../DuplicantPortrait\";\r\n\r\nimport \"./style.scss\";\r\n\r\nexport interface DuplicantsListProps {\r\n    className?: string;\r\n    duplicants: GameObjectModel[];\r\n    selectedDuplicant?: number | GameObjectModel | null;\r\n    onDuplicantClick?(duplicant: GameObjectModel): void;\r\n}\r\n\r\ntype Props = DuplicantsListProps;\r\n@observer\r\nclass DuplicantsList extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            className,\r\n            duplicants\r\n        } = this.props;\r\n\r\n        let selectedDuplicant = this.props.selectedDuplicant;\r\n        if (typeof selectedDuplicant === \"number\") {\r\n            selectedDuplicant = duplicants.find(x => x.kPrefabID === selectedDuplicant);\r\n        }\r\n\r\n        const elements = duplicants.map(x => <DuplicantPortrait key={x.kPrefabID} className={x === selectedDuplicant ? \"pt-active\" : \"\"} duplicant={x} onClick={this._onDuplicantClick} />);\r\n\r\n        return (\r\n            <div className={`${className || ''} ui-duplicant-list`}>\r\n                <div className={`fill-parent layout-horizontal layout-wrap container-scroll`}>\r\n                    {elements}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onDuplicantClick(duplicant: GameObjectModel) {\r\n        const {\r\n            onDuplicantClick\r\n        } = this.props;\r\n\r\n        if (onDuplicantClick) {\r\n            onDuplicantClick(duplicant);\r\n        }\r\n    }\r\n}\r\nexport default DuplicantsList;\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { NonIdealState } from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\nimport { SaveEditorProps, withSaveEditor, GameObjectModel } from \"@/services/save-editor\";\r\n\r\n\r\nimport DuplicantsList from \"./components/DuplicantsList\";\r\nimport DuplicantEditor from \"./components/DuplicantEditor\";\r\n\r\n\r\ntype Props = SaveEditorProps;\r\ninterface State {\r\n    selectedDuplicant: GameObjectModel | null;\r\n}\r\nclass DuplicantsPage extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            selectedDuplicant: null\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            selectedDuplicant\r\n        } = this.state;\r\n        const {\r\n            saveEditor\r\n        } = this.props;\r\n\r\n        const duplicants = saveEditor.getGameObjects(\"Minion\");\r\n\r\n        let content: React.ReactFragment;\r\n        if (selectedDuplicant != null) {\r\n            content = <DuplicantEditor className=\"fill-parent\" duplicant={selectedDuplicant}/>\r\n        }\r\n        else {\r\n            content = (\r\n                <NonIdealState visual={IconNames.MUGSHOT}>\r\n                    Select a duplicant to edit\r\n                </NonIdealState>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className=\"ui-page ui-page-duplicants fill-parent layout-vertical\">\r\n                <DuplicantsList className=\"layout-item\" duplicants={duplicants} selectedDuplicant={selectedDuplicant} onDuplicantClick={this._onDuplicantSelected} />\r\n                <div className=\"layout-item-fill\">\r\n                    {content}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onDuplicantSelected(duplicant: GameObjectModel) {\r\n        this.setState(s => ({\r\n            ...s,\r\n            selectedDuplicant: duplicant\r\n        }));\r\n    }\r\n}\r\n\r\nexport default withSaveEditor(DuplicantsPage);\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n\r\nexport { pageGraph } from \"./page-graph\";","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".ui-page-general {\\n  padding: 15px; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\r\nimport * as React from \"react\";\r\nimport { action } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { NumericInput } from \"@blueprintjs/core\";\r\nimport { GameObjectBehavior } from \"oni-save-parser\";\r\n\r\nimport { SaveEditorProps, withSaveEditor, GameObjectBehaviorModel } from \"@/services/save-editor\";\r\n\r\nimport \"./style.scss\";\r\n\r\ntype Props = SaveEditorProps;\r\nclass GeneralPage extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            saveEditor\r\n        } = this.props;\r\n\r\n        const clockBehavior = this._getClockBehavior();\r\n        if (!clockBehavior) return <div>Error: No GameClock behavior present in SaveGame object.</div>;\r\n        const cycle = clockBehavior.templateData.cycle;\r\n\r\n        const immigrationBehavior = this._getImmigrationBehavior();\r\n        if (!immigrationBehavior) return <div>Error: No Immigration behavior present in SaveGame object.</div>;\r\n        const {\r\n            timeBeforeSpawn,\r\n            bImmigrantAvailable\r\n        } = immigrationBehavior.templateData;\r\n\r\n        return (\r\n            <div className=\"ui-page ui-page-general fill-parent layout-vertical\">\r\n                <div className=\"pt-form-group\">\r\n                    <label className=\"pt-label\">\r\n                        <h5>World Time</h5>\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <div className=\"pt-input-group\">\r\n                            <span>Cycles</span>\r\n                            <NumericInput min={0} value={cycle} onValueChange={this._onCycleChange} clampValueOnBlur={true} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group\">\r\n                    <label className=\"pt-label\">\r\n                        <h5>Duplicant Spawner</h5>\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <div className=\"pt-input-group\">\r\n                            <span>Next Spawn</span>\r\n                            <NumericInput min={0} clampValueOnBlur={true} value={timeBeforeSpawn} onValueChange={this._nextSpawnChange} />\r\n                        </div>\r\n                        <div className=\"pt-input-group\">\r\n                            <label className=\"pt-control pt-checkbox\">\r\n                                <input type=\"checkbox\" checked={bImmigrantAvailable} onChange={this._spawnReadyChange} />\r\n                                <span className=\"pt-control-indicator\"></span>\r\n                                Spawn Ready\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @action.bound\r\n    private _onCycleChange(cycle: number) {\r\n        const behavior = this._getClockBehavior();\r\n        if (!behavior) return;\r\n        behavior.templateData.cycle = cycle;\r\n    }\r\n\r\n    @action.bound\r\n    private _nextSpawnChange(time: number) {\r\n        const behavior = this._getImmigrationBehavior();\r\n        if (!behavior) return;\r\n        behavior.templateData.timeBeforeSpawn = time;\r\n    }\r\n\r\n    @action.bound\r\n    private _spawnReadyChange(change: React.ChangeEvent<HTMLInputElement>) {\r\n        const behavior = this._getImmigrationBehavior();\r\n        if (!behavior) return;\r\n        behavior.templateData.bImmigrantAvailable = change.target.checked;\r\n    }\r\n\r\n    private _getClockBehavior(): GameObjectBehaviorModel<GameClockBehavior> | undefined {\r\n        const { saveEditor } = this.props;\r\n        const saveGame = saveEditor.getGameObjects(\"SaveGame\")[0];\r\n        if (!saveGame) return undefined;\r\n\r\n        return saveGame.getBehavior(\"GameClock\");\r\n    }\r\n\r\n    private _getImmigrationBehavior(): GameObjectBehaviorModel<ImmigrationBehavior> | undefined {\r\n        const { saveEditor } = this.props;\r\n        const saveGame = saveEditor.getGameObjects(\"SaveGame\")[0];\r\n        if (!saveGame) return undefined;\r\n\r\n        return saveGame.getBehavior(\"Immigration\");\r\n    }\r\n}\r\n\r\nexport default withSaveEditor(GeneralPage);\r\n\r\n// TODO: move to oni-save-parser\r\ninterface GameClockBehavior extends GameObjectBehavior {\r\n    name: \"GameClock\";\r\n    parsedData: {\r\n        cycle: number;\r\n    }\r\n}\r\ninterface ImmigrationBehavior extends GameObjectBehavior {\r\n    name: \"Immigration\";\r\n    parsedData: {\r\n        timeBeforeSpawn: number;\r\n        bImmigrantAvailable: boolean;\r\n    }\r\n}","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport { SiteGraph } from \"@/site-graph\";\r\n\r\nimport General from \"./pages/General\";\r\nimport Duplicants, { pageGraph as duplicantsPageGraph } from \"./pages/Duplicants\";\r\nimport Geysers from \"./pages/Geysers\";\r\n\r\n\r\nexport const pageGraph: SiteGraph = [\r\n    {\r\n        type: \"page\",\r\n        path: \"/editor/general\",\r\n        name: \"General\",\r\n        component: General\r\n    },\r\n    {\r\n        // TODO: Update components to take params\r\n        type: \"page\",\r\n        path: \"/editor/duplicants\", // \"/editor/duplicants/:prefabId\",\r\n        name: \"Duplicants\",\r\n        component: Duplicants,\r\n        //children: duplicantsPageGraph\r\n    },\r\n    {\r\n        type: \"page\",\r\n        path: \"/editor/geysers\",\r\n        name: \"Geysers\",\r\n        component: Geysers\r\n    }\r\n];\r\n","\r\nimport * as React from \"react\";\r\n\r\nimport {\r\n    NonIdealState,\r\n    Text\r\n} from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\n\r\nexport interface ErrorPageProps {\r\n    error: Error;\r\n}\r\ntype Props = ErrorPageProps;\r\nclass ErrorPage extends React.Component<Props> {\r\n    render() {\r\n        let {\r\n            error\r\n        } = this.props;\r\n\r\n        if (!error) {\r\n            error = new Error(\"Well, this is weird... The Error page loaded, but there is no error.\");\r\n            error.stack = \"I really don't know what to do about this...\"\r\n        }\r\n\r\n        return (\r\n            <NonIdealState visual={IconNames.ERROR} description=\"An Error Occurred\">\r\n                <Text>{error.message}</Text>\r\n                <div>\r\n                    <code>{error.stack}</code>\r\n                </div>\r\n            </NonIdealState>\r\n        );\r\n    }\r\n}\r\nexport default ErrorPage;","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport * as React from \"react\";\r\n\r\nimport {\r\n    NonIdealState,\r\n    Spinner,\r\n    Text\r\n} from \"@blueprintjs/core\";\r\n\r\nexport default class LoadingSaveFilePageComponent extends React.Component {\r\n    render() {\r\n        return (\r\n            <NonIdealState>\r\n                <Text>Loading File</Text>\r\n                <div>\r\n                    <Spinner large={true}/>\r\n                </div>\r\n                <Text>TODO progress here</Text>\r\n            </NonIdealState>\r\n        );\r\n    }\r\n}","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport * as React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport {\r\n    NonIdealState,\r\n    Button,\r\n    Intent\r\n} from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\n\r\nimport { SaveEditorProps, withSaveEditor } from \"@/services/save-editor\";\r\n\r\n\r\nconst saveDescription = \"Oxygen Not Included saves can be found in your documents folder under\";\r\n// TODO: Show correct path based on user's OS.\r\nconst savePath = \"Klei/OxygenNotIncluded/save_files\";\r\n\r\ntype Props = SaveEditorProps;\r\n@observer\r\nclass NoSaveLoadedPageComponent extends React.Component<Props> {\r\n    private _input: HTMLInputElement | null = null;\r\n    \r\n    render() {\r\n        return (\r\n            <NonIdealState\r\n                visual={IconNames.FLOPPY_DISK}\r\n                action={\r\n                    <Button intent={Intent.PRIMARY} onClick={this._onLoadClick}>Load a .sav file</Button>\r\n                }\r\n                description=\"No save has been loaded.\"\r\n            >\r\n                <div>{saveDescription} <code>{savePath}</code></div>\r\n                <input\r\n                    ref={el => this._input = el}\r\n                    style={{display: \"none\"}}\r\n                    className=\"pt-button pt-intent-primary\"\r\n                    type=\"file\"\r\n                    accept=\".sav\"\r\n                    onChange={this._onLoadFile}\r\n                />\r\n            </NonIdealState>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onLoadClick() {\r\n        if (!this._input) return;\r\n        this._input.click();\r\n    }\r\n\r\n    @autobind()\r\n    private _onLoadFile(change: React.ChangeEvent<HTMLInputElement>) {\r\n        const files = change.target.files;\r\n        if (!files || files.length === 0) return;\r\n        this.props.saveEditor.load(files[0]);\r\n    }\r\n}\r\nexport default withSaveEditor(NoSaveLoadedPageComponent);\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport * as React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\n\r\nimport {\r\n    Card,\r\n    Elevation,\r\n    Menu,\r\n    MenuDivider\r\n} from \"@blueprintjs/core\";\r\n\r\nimport { withSaveEditor, SaveEditorProps } from \"@/services/save-editor\";\r\n\r\nimport NoSaveLoadedPage from \"./components/NoSaveLoaded\";\r\nimport LoadingSaveFilePage from \"./components/LoadingSaveFile\";\r\n\r\n\r\nimport ErrorPage from \"../Error\";\r\n\r\ntype Props = SaveEditorProps;\r\n@observer\r\nclass SaveEditorPageComponent extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            saveEditor: {\r\n                loadError,\r\n                isSaveLoading,\r\n                isSaveLoaded\r\n            },\r\n            children\r\n        } = this.props;\r\n\r\n        let rootComponent: React.ReactChild;\r\n\r\n        if (loadError) {\r\n            // Show error screen\r\n            return <ErrorPage error={loadError} />;\r\n        }\r\n        else if (isSaveLoading) {\r\n            return <LoadingSaveFilePage />;\r\n        }\r\n        else if (!isSaveLoaded) {\r\n            return <NoSaveLoadedPage />\r\n        }\r\n\r\n        return (\r\n            <div className=\"ui-page ui-page-saveeditor fill-parent\">\r\n                {children}\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withSaveEditor(SaveEditorPageComponent);","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n\r\nexport { pageGraph } from \"./page-graph\";\r\n","\r\nimport { SitePage } from \"@/site-graph\";\r\n\r\nimport App from \"../components/App\";\r\nimport SaveEditor, { pageGraph as saveEditorPages } from \"../pages/SaveEditor\";\r\nimport Materials, { pageGraph as materialsPages } from \"../pages/Materials\";\r\nimport ChangeLog from \"../pages/Changelog\";\r\n\r\nconst siteGraph: SitePage = {\r\n    type: \"page\",\r\n    name: \"Duplicity\",\r\n    path: \"/\",\r\n    component: App,\r\n    children: [\r\n        {\r\n            // Save Editor\r\n            type: \"page\",\r\n            path: \"/editor\",\r\n            component: SaveEditor,\r\n            name: \"Save Editor\",\r\n            navMenu: true,\r\n            children: saveEditorPages\r\n        },\r\n        {\r\n            type: \"group\",\r\n            children: [\r\n                {\r\n                    type: \"page\",\r\n                    path: \"/material-explorer\",\r\n                    component: Materials,\r\n                    name: \"Materials Explorer\",\r\n                    navMenu: true,\r\n                    children: materialsPages\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            type: \"page\",\r\n            path: \"/changelog\",\r\n            name: \"Duplicity Changelog\",\r\n            navMenu: true,\r\n            component: ChangeLog\r\n        }\r\n    ]\r\n};\r\n\r\nexport default siteGraph;\r\n","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".ui-page-404 .ui-title {\\n  font-size: 20pt; }\\n\\n.ui-page-404 .ui-title-secondary {\\n  font-size: 12pt; }\\n\\n.ui-page-404 .ui-body {\\n  margin-top: 8px; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\r\nimport * as React from \"react\";\r\n\r\nimport {\r\n    NonIdealState,\r\n    Text\r\n} from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\nimport \"./style.scss\";\r\n\r\nclass DuplicantsPage extends React.Component {\r\n    render() {\r\n        return (\r\n            <NonIdealState className=\"ui-page ui-page-404\" visual={IconNames.ERROR}>\r\n                <div>\r\n                    <div className=\"ui-title\">I don't know how you got here...</div>\r\n                    <div className=\"ui-title-secondary\">But weasels were probably involved.</div>\r\n                </div>\r\n                <div className=\"ui-body\">\r\n                    <div>No idea what this page is supposed to be, sorry.</div>\r\n                    <div>Try choosing something else to edit.</div>\r\n                </div>\r\n            </NonIdealState>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DuplicantsPage","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { Switch, Route, RouteComponentProps, withRouter } from \"react-router-dom\";\r\n\r\nimport Page404 from \"../../pages/404\";\r\n\r\nimport { SiteGraph, SitePage, SiteGraphEntry, SitePath } from \"../interfaces\";\r\n\r\nexport interface SiteSwitchProps {\r\n    siteGraph: SiteGraph;\r\n}\r\n\r\ntype Props = SiteSwitchProps & RouteComponentProps<any>;\r\nclass SiteSwitch extends React.Component<Props> {\r\n    render() {\r\n        const { siteGraph, children } = this.props;\r\n        const routes = this._renderRoutes(siteGraph);\r\n        return (\r\n            <Switch>\r\n                {routes}\r\n                {children}\r\n                <Route component={Page404}/>\r\n            </Switch>\r\n        );\r\n    }\r\n\r\n    private _renderRoutes(entries: SiteGraphEntry[]): React.ReactChild[] {\r\n        return collectRouteEntries(entries).map(x => {\r\n            switch(x.type) {\r\n                case \"page\":\r\n                    return this._renderPage(x);\r\n                case \"path\":\r\n                    return this._renderPath(x);\r\n            }\r\n        });\r\n    }\r\n\r\n    private _renderPage(page: SitePage): React.ReactChild {\r\n        let children: React.ReactChild | undefined = undefined;\r\n        if (page.children) {\r\n            children = <SiteSwitchWithRouter siteGraph={page.children}/>\r\n        }\r\n        return (\r\n            <Route\r\n                key={page.path}\r\n                exact={!children}\r\n                path={page.path}\r\n                render={props => <page.component {...props} children={children} />}\r\n            />\r\n        );\r\n    }\r\n\r\n    private _renderPath(path: SitePath): React.ReactChild {\r\n        // TODO: Good place to support index path.\r\n        //  If index enabled, first item is <Redirect exact path={path.path} to={path.indexPath}/>\r\n        return (\r\n            <React.Fragment key={path.path}>\r\n                {this._renderRoutes(path.children)}\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nfunction collectRouteEntries(graph: SiteGraph): (SitePage | SitePath)[] {\r\n    const elements: (SitePage | SitePath)[] = [];\r\n    for (let entry of graph) {\r\n        switch(entry.type) {\r\n            case \"page\":\r\n            case \"path\":\r\n                elements.push(entry);\r\n                break;\r\n            case \"group\":\r\n                elements.push(...collectRouteEntries(entry.children));\r\n        }\r\n    }\r\n    return elements;\r\n}\r\n\r\nconst SiteSwitchWithRouter = withRouter(SiteSwitch);\r\nexport default SiteSwitchWithRouter;\r\n\r\n/*\r\nError:\r\nA type predicate's type must be assignable to its parameter's type.\r\n  Type 'SitePage' is not assignable to type 'T'.\r\n*/\r\nfunction isSitePage(x: SiteGraphEntry): x is SitePage {\r\n    return x.type === \"page\";\r\n}\r\n","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"ab66c18245e72900653d.worker.js\");\n};","\r\nimport { GameObjectBehaviorModel } from \"./interfaces\";\r\nimport { GameObjectBehavior } from \"oni-save-parser\";\r\nimport { typedKeys } from \"utils\";\r\nimport { observable, toJS } from \"mobx\";\r\n\r\nexport class GameObjectBehaviorModelImpl implements GameObjectBehaviorModel {\r\n    get name(): string {\r\n        return this._behavior.name;\r\n    }\r\n\r\n    @observable.deep\r\n    templateData: any | null;\r\n\r\n    constructor(private _behavior: GameObjectBehavior) {\r\n        this.templateData = _behavior.parsedData || null;\r\n    }\r\n\r\n    syncChanges() {\r\n        this._behavior.parsedData = toJS(this.templateData, {\r\n            exportMapsAsObjects: false\r\n        });\r\n    }\r\n}","\r\nimport { observable, toJS } from \"mobx\";\r\nimport { createTransformer } from \"mobx-utils\";\r\n\r\nimport {\r\n    GameObject,\r\n    Vector3,\r\n    KPrefabIDBehavior,\r\n    BehaviorName,\r\n    GameObjectBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { GameObjectModel, GameObjectBehaviorModel } from \"./interfaces\";\r\n\r\nimport { GameObjectBehaviorModelImpl } from \"./game-object-behavior\";\r\n\r\nexport class GameObjectModelImpl implements GameObjectModel {\r\n    readonly type: string;\r\n\r\n    readonly kPrefabID: number;\r\n\r\n    @observable.deep\r\n    position: Vector3;\r\n\r\n    @observable.deep\r\n    scale: Vector3;\r\n\r\n    private _gameObject: GameObject;\r\n\r\n    private _behaviors = new Map<string, GameObjectBehaviorModelImpl[]>();\r\n\r\n    constructor(type: string, gameObject: GameObject) {\r\n        this.type = type;\r\n        this._gameObject = gameObject;\r\n\r\n        this.position = gameObject.position;\r\n        this.scale = gameObject.scale;\r\n\r\n        for (let behavior of gameObject.behaviors) {\r\n            let array = this._behaviors.get(behavior.name);\r\n            if (!array) {\r\n                array = [];\r\n                this._behaviors.set(behavior.name, array);\r\n            }\r\n            array.push(new GameObjectBehaviorModelImpl(behavior));\r\n        }\r\n\r\n        const idBehavior = this.getBehavior(KPrefabIDBehavior);\r\n        if (idBehavior) {\r\n            this.kPrefabID = idBehavior.templateData.InstanceID;\r\n        }\r\n        else {\r\n            this.kPrefabID = NaN;\r\n        }\r\n    }\r\n\r\n    // TODO: Look at why this is generating new objects every time.  Might be because the source object isnt observable?\r\n    /*\r\n    getBehavior: GameObjectModel[\"getBehavior\"] = createTransformer((behaviorName: string) => {\r\n        const behavior = this._gameObject.behaviors.find(x => x.name === behaviorName);\r\n        if (!behavior) return undefined;\r\n        return new GameObjectBehaviorModelImpl(behavior);\r\n    });\r\n    */\r\n    getBehavior<TBehavior extends GameObjectBehavior>(behaviorName: BehaviorName<TBehavior>): GameObjectBehaviorModel<TBehavior> | undefined {\r\n        const entries = this._behaviors.get(behaviorName);\r\n        if (entries) return entries[0] as any;\r\n        return undefined;\r\n    }\r\n\r\n    /*\r\n    getAllBehaviors: GameObjectModel[\"getAllBehaviors\"] = createTransformer((behaviorName: string) => {\r\n        return this._gameObject.behaviors.filter(x => x.name === behaviorName).map(x => new GameObjectBehaviorModelImpl(x));\r\n    });\r\n    */\r\n\r\n    getAllBehaviors<TBehavior extends GameObjectBehavior>(behaviorName: BehaviorName<TBehavior>): GameObjectBehaviorModel<TBehavior>[] {\r\n        return this._behaviors.get(behaviorName) || [] as any;\r\n    }\r\n\r\n    syncChanges() {\r\n        // Sigh...\r\n        this._gameObject.position.x = this.position.x;\r\n        this._gameObject.position.y = this.position.y;\r\n        this._gameObject.position.z = this.position.z;\r\n\r\n        this._gameObject.scale.x = this.scale.x;\r\n        this._gameObject.scale.y = this.scale.y;\r\n        this._gameObject.scale.z = this.scale.z;\r\n\r\n        for (let [_, values] of this._behaviors) {\r\n            values.forEach(x => x.syncChanges());\r\n        }\r\n    }\r\n}\r\n","\r\nexport function typedKeys<T>(obj: T): (keyof T)[] {\r\n    return Object.keys(obj) as any;\r\n}\r\n","\r\nimport * as React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { Route, Redirect, Switch, RouteComponentProps, withRouter } from \"react-router\";\r\n\r\nimport {\r\n    Dialog,\r\n    Spinner,\r\n    NonIdealState\r\n} from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\nimport DevTools from \"mobx-react-devtools\";\r\n\r\nimport { SaveEditorProps, withSaveEditor } from \"@/services/save-editor\";\r\n\r\nimport SiteSwitch from \"@/site-graph/components/SiteSwitch\";\r\nimport siteRoot from \"@/site-graph/root\";\r\n\r\nimport AppNavBar from \"../AppNavBar\";\r\nimport AppNavMenu from \"../AppNavMenu\";\r\nimport SavingDialog from \"../SavingDialog\";\r\n\r\n\r\ntype Props = SaveEditorProps & RouteComponentProps<any>;\r\n@observer\r\nclass AppComponent extends React.Component<Props> {\r\n    private _input: HTMLInputElement | null = null;\r\n\r\n    render() {\r\n        const {\r\n            saveEditor: {\r\n                isSaveSaving,\r\n                saveName\r\n            }\r\n        } = this.props;\r\n\r\n        return (\r\n            <div className=\"ui-app-root pt-app pt-dark fill-parent layout-vertical\">\r\n                <AppNavBar className=\"layout-item\" />\r\n                <div className=\"layout-item-fill layout-horizontal\">\r\n                    <AppNavMenu className=\"layout-item\" siteGraph={siteRoot.children!} />\r\n                    <div className=\"layout-item-fill\">\r\n                        <SiteSwitch siteGraph={siteRoot.children!}>\r\n                            { /* TODO: Use an index path concept for site graph. */}\r\n                            <Redirect exact from=\"/\" to=\"/editor\" />\r\n                        </SiteSwitch>\r\n                    </div>\r\n                    {process.env.NODE_ENV === \"development\" ? <DevTools /> : undefined}\r\n                </div>\r\n                <Dialog isOpen={isSaveSaving} title=\"Saving File\" icon={IconNames.SAVED} isCloseButtonShown={false}>\r\n                    <SavingDialog />\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n// Need withRouter to force update.  Yes, we need one on either side of ../App.tsx\r\nexport default withRouter(withSaveEditor(AppComponent));\r\n","\r\nimport * as React from \"react\";\r\n\r\nimport { hot } from \"react-hot-loader\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport App from \"./components/App\";\r\n\r\n// react-router wants to wrap every element we have in a new element.  Because composability!\r\n//  without wrapping this in a <Route/> from the outside, the PureComponent hot will not see\r\n//  any changes, and the broken context system is ignored.\r\n//  Every other library out their uses an external context store similar to the new react context\r\n//  pattern, but router just blames everyone else for honoring shouldComponentUpdate and says wontfix.\r\n// Might be better off removing route altogether and staying a SPA.\r\nexport default withRouter(hot(module)(App) as any);\r\n","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"html, body, #root {\\n  height: 100%;\\n  width: 100%; }\\n\\nbody {\\n  margin: 0;\\n  padding: 0; }\\n\\n.fill-parent, .fill-parent-width, .fill-parent-height {\\n  /* Fill parent to our outsides.*/\\n  box-sizing: border-box; }\\n\\n.fill-parent, .fill-parent-width {\\n  width: 100%; }\\n\\n.fill-parent, .fill-parent-height {\\n  height: 100%; }\\n\\n.layout-wrap {\\n  flex-wrap: wrap; }\\n\\n/*\\r\\n============================================================================\\r\\nHorizontal and Vertical Layouts\\r\\n============================================================================\\r\\n*/\\n/* Container for items that can fill up the available space, and optionally be constrained by it. */\\n.layout-vertical {\\n  display: flex;\\n  flex-direction: column; }\\n\\n.layout-horizontal {\\n  display: flex;\\n  flex-direction: row; }\\n\\n.layout-item, .layout-item-fill {\\n  box-sizing: border-box; }\\n\\n.layout-vertical > div, .layout-horizontal > div, .layout-vertical > .layout-item, .layout-horizontal > .layout-item {\\n  flex: none; }\\n\\n.layout-vertical > .layout-item-fill, .layout-horizontal > .layout-item-fill {\\n  flex: 1 1 auto; }\\n\\n.layout-vertical > .layout-item-constrain, .layout-horizontal > .layout-item-constrain {\\n  flex: 0 1 auto; }\\n\\n.layout-vertical > .layout-item-fill, .layout-vertical > .layout-item-constrain {\\n  /* Flex sets min-height to auto, we need to allow it to shrink down */\\n  min-height: 0;\\n  /*\\r\\n    Maintain some sort of inner css specified (vs actual?) value for height, so that \\r\\n    child elements can use height percentages and fill their parent (us)\\r\\n    */\\n  height: 100%; }\\n\\n.layout-horizontal > .layout-item-fill, .layout-horizontal > .layout-item-constrain {\\n  min-width: 0;\\n  width: 100%; }\\n\\n/*\\r\\n============================================================================\\r\\nContent Containers\\r\\n============================================================================\\r\\n*/\\n.container-scroll {\\n  overflow: auto; }\\n\\n/*\\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\\n */\\n.ui-app-root {\\n  background-color: #182026; }\\n\\n.ui-page-duplicants .ui-duplicant-editor {\\n  box-sizing: border-box;\\n  padding: 5px; }\\n  .ui-page-duplicants .ui-duplicant-editor .ui-title {\\n    display: inline-block;\\n    width: auto; }\\n\\n.ui-page-duplicants .ui-duplicant-skills .pt-html-table {\\n  width: 100%;\\n  max-height: 100%; }\\n\\n.ui-page-duplicants .ui-duplicant-effects .pt-html-table {\\n  width: 100%;\\n  max-height: 100%; }\\n\\n.pt-multi-select-popover .pt-menu, .pt-select-popover .pt-menu {\\n  max-width: 400px;\\n  max-height: 300px;\\n  overflow: auto; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./root.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./root.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./root.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\r\n import \"@blueprintjs/core/lib/css/blueprint.css\";\r\n import \"@blueprintjs/icons/lib/css/blueprint-icons.css\";\r\n\r\nimport \"./root.scss\";\r\n","\r\nimport * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport { Provider } from \"mobx-react\";\r\n\r\nimport { HashRouter } from \"react-router-dom\";\r\n\r\nimport \"./css\";\r\nimport App from \"./app\";\r\nimport { createStores } from \"./store\";\r\n\r\nconst rootEl = document.getElementById(\"root\");\r\n\r\nReactDOM.render(\r\n    <Provider {...createStores()}>\r\n        <HashRouter>\r\n            <App />\r\n        </HashRouter>\r\n    </Provider>,\r\n    rootEl\r\n);\r\n"],"sourceRoot":""}