{"version":3,"sources":["webpack:///./src/style/index.ts","webpack:///./src/components/Text.tsx","webpack:///./src/state/index.ts","webpack:///./src/selectors/oni-save.ts","webpack:///./src/utils.ts","webpack:///./src/selectors/selected-path.ts","webpack:///./src/style/styled.ts","webpack:///./src/components/Flex.tsx","webpack:///./src/reducer/behaviors/utils.ts","webpack:///./src/components/NonIdealState.tsx","webpack:///./src/components/Box.ts","webpack:///./src/components/FormGroup/index.ts","webpack:///./src/components/NumericInput.tsx","webpack:///./src/selectors/behaviors/utils.ts","webpack:///./src/pages/SaveEditor/components/fields/connect-field/index.ts","webpack:///./src/components/Input.tsx","webpack:///./src/pages/SaveEditor/components/fields/NumericField.tsx","webpack:///./src/services/save-structure/index.ts","webpack:///./src/components/SaveStructureLink/index.ts","webpack:///./src/style/theme/index.ts","webpack:///./src/actions/behaviors/set-currentobject-behavior-value.ts","webpack:///./src/actions/receive-onisave.ts","webpack:///./src/components/DataTable/index.ts","webpack:///./src/style/intent.ts","webpack:///./src/selectors/game-object.ts","webpack:///./src/selectors/selected-value.ts","webpack:///./src/components/CheckInput.tsx","webpack:///./src/math.ts","webpack:///./src/pages/SaveEditor/components/editors/components/EditorContainer.tsx","webpack:///./src/style/styles/intent-color.ts","webpack:///./src/actions/modify-onisave.ts","webpack:///./src/actions/onisave-parse-progress.ts","webpack:///./src/actions/select-path.ts","webpack:///./src/services/save-structure/structure/root.ts","webpack:///./src/services/save-structure/structure/matchers.ts","webpack:///./src/services/save-structure/structure/gameObjects/behaviors/default.ts","webpack:///./src/pages/SaveEditor/components/fields/from-typeinfo.tsx","webpack:///./src/keys.ts","webpack:///./src/components/EditModeCondition/index.ts","webpack:///./src/style/theme/borders.ts","webpack:///./src/style/theme/colors.ts","webpack:///./src/style/theme/radii.ts","webpack:///./src/style/theme/space.ts","webpack:///./src/style/styles/intent-fill.ts","webpack:///./src/style/styles/text.ts","webpack:///./src/actions/behaviors/modify-currentobject-behavior-array.ts","webpack:///./src/reducer/game-object/utils.ts","webpack:///./src/actions/behaviors/set-accessory.ts","webpack:///./src/actions/behaviors/set-element-disease.ts","webpack:///./src/actions/behaviors/set-health-state.ts","webpack:///./src/actions/behaviors/set-identity-gender.ts","webpack:///./src/actions/behaviors/set-modifier-amount.ts","webpack:///./src/actions/behaviors/set-traits-trait.ts","webpack:///./src/actions/game-object/set-scale.ts","webpack:///./src/actions/dismiss-error.ts","webpack:///./src/actions/set-editmode.ts","webpack:///./src/actions/load-onisave.ts","webpack:///./src/services/save-serializer/index.ts","webpack:///./src/actions/save-onisave.ts","webpack:///./src/selectors/loading-state.ts","webpack:///./src/components/Button.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/default.ts","webpack:///./src/components/Portrait/index.ts","webpack:///./src/components/Select.tsx","webpack:///./src/components/TextInput.tsx","webpack:///./src/components/DataTable/DataTable.tsx","webpack:///./src/pages/SaveEditor/components/editors/components/EditorHeader.tsx","webpack:///./src/selectors/edit-mode.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/components/GameObjectHeader/index.ts","webpack:///./src/components/NullableInput.tsx","webpack:///./src/components/SelectInput.tsx","webpack:///./src/index.tsx","webpack:///./src/style/style.css?c716","webpack:///./src/style/style.css","webpack:///./src/style/styles/index.ts","webpack:///./src/style/styles/border.ts","webpack:///./src/style/theme/theme.ts","webpack:///./src/style/theme/font-sizes.ts","webpack:///./src/style/styles/intent-border.ts","webpack:///./src/style/styles/intent.ts","webpack:///./src/style/styles/link.ts","webpack:///./src/root.tsx","webpack:///./src/store/index.ts","webpack:///./src/store/store.ts","webpack:///./src/reducer/index.ts","webpack:///./src/reducer/behaviors/index.ts","webpack:///./src/reducer/behaviors/modify-currentobject-behavior-array.ts","webpack:///./src/reducer/behaviors/set-accessory.ts","webpack:///./src/reducer/behaviors/set-currentobject-behavior-value.ts","webpack:///./src/reducer/behaviors/set-element-disease.ts","webpack:///./src/reducer/behaviors/set-health-state.ts","webpack:///./src/reducer/behaviors/set-identity-gender.ts","webpack:///./src/reducer/behaviors/set-modifier-amount.ts","webpack:///./src/reducer/behaviors/set-traits-trait.ts","webpack:///./src/reducer/game-object/index.ts","webpack:///./src/reducer/game-object/set-scale.ts","webpack:///./src/reducer/dismiss-error.ts","webpack:///./src/reducer/modify-onisave.ts","webpack:///./src/reducer/onisave-parse-progress.ts","webpack:///./src/reducer/receive-onisave.ts","webpack:///./src/reducer/select-path.ts","webpack:///./src/reducer/set-editmode.ts","webpack:///./src/saga/index.ts","webpack:///./src/saga/load-onisave.ts","webpack:///./src/services/save-serializer/worker-instance.ts","webpack:///./src/services/save-serializer/worker-messages.ts","webpack:///./src/services/save-serializer/save-serializer.worker.ts","webpack:///./src/saga/save-onisave.ts","webpack:///./src/store/devtool-sanitizer.ts","webpack:///./src/App/index.ts","webpack:///./src/App/App.tsx","webpack:///./src/App/derived-state.ts","webpack:///./src/selectors/error.ts","webpack:///./src/App/events.ts","webpack:///./src/pages/NoSave/index.ts","webpack:///./src/pages/NoSave/NoSave.tsx","webpack:///./src/runtime-env.ts","webpack:///./src/components/Code.ts","webpack:///./src/pages/Error/index.ts","webpack:///./src/pages/Error/Error.tsx","webpack:///./src/pages/Loading/index.ts","webpack:///./src/pages/Loading/Loading.tsx","webpack:///./src/pages/Loading/derived-state.ts","webpack:///./src/selectors/loading-message.ts","webpack:///./src/pages/SaveEditor/index.ts","webpack:///./src/pages/SaveEditor/SaveEditor.tsx","webpack:///./src/pages/SaveEditor/derived-state.ts","webpack:///./src/services/save-structure/utils.ts","webpack:///./src/services/save-structure/structure/index.ts","webpack:///./src/services/save-structure/structure/gameObjects/index.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/index.ts","webpack:///./src/services/save-structure/structure/gameObjects/gameObjectTypes/minion.ts","webpack:///./src/services/save-structure/structure/gameObjects/behaviors/index.ts","webpack:///./src/services/save-structure/structure/gameObjects/behaviors/primary-element.ts","webpack:///./src/services/save-structure/structure/gameObjects/behaviors/storage.ts","webpack:///./src/services/save-structure/structure/utils.ts","webpack:///./src/components/SelectedPathBreadcrumb/index.ts","webpack:///./src/components/SelectedPathBreadcrumb/SelectedPathBreadcrumb.tsx","webpack:///./src/components/SelectedPathBreadcrumb/derived-state.ts","webpack:///./src/selectors/selected-path-breadcrumb.ts","webpack:///./src/components/SaveStructureLink/SaveStructureLink.tsx","webpack:///./src/components/SaveStructureLink/events.ts","webpack:///./src/components/SelectedPathBreadcrumb/components/BreadcrumbContainer.ts","webpack:///./src/components/ResizePanel/index.ts","webpack:///./src/components/ResizePanel/ResizePanel.tsx","webpack:///./src/components/ResizePanel/components/ResizeHandle.tsx","webpack:///./src/components/ResizePanel/components/ResizeHandleVisual.tsx","webpack:///./src/pages/SaveEditor/components/editors/index.ts","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/DefaultObjectEditor.tsx","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/components/DefaultObjectEditorContainer.tsx","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/components/EditorField.tsx","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/DefaultObjectEditor/events.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/SaveRootEditor.tsx","webpack:///./src/components/InfoText.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/SaveRootEditorContainer.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/SaveGameTitle.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/index.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/DuplicantsList.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantPortrait/index.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantPortrait/DuplicantPortrait.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantPortrait/derived-state.tsx","webpack:///./src/components/Portrait/Portrait.ts","webpack:///./src/components/Portrait/PortraitHeader.ts","webpack:///./src/components/Portrait/PortraitFooter.ts","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantsListContainer.tsx","webpack:///./src/pages/SaveEditor/components/editors/SaveRootEditor/components/DuplicantsList/components/DuplicantsListContent.ts","webpack:///./src/pages/SaveEditor/components/editors/TemplateObjectEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/TemplateObjectEditor/TemplateObjectEditor.tsx","webpack:///./src/pages/SaveEditor/components/editors/TemplateObjectEditor/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/TemplateObjectEditor/components/TemplateObjectEditorContainer.ts","webpack:///./src/pages/SaveEditor/components/fields/ArrayLikeField.tsx","webpack:///./src/pages/SaveEditor/components/fields/connect-field/derived-state.tsx","webpack:///./src/pages/SaveEditor/components/fields/connect-field/events.ts","webpack:///./src/pages/SaveEditor/components/fields/CheckField.tsx","webpack:///./src/pages/SaveEditor/components/fields/ColorField.tsx","webpack:///./src/components/FormGroup/FormGroup.tsx","webpack:///./src/pages/SaveEditor/components/fields/DictionaryField.tsx","webpack:///./src/pages/SaveEditor/components/fields/EnumerationField.tsx","webpack:///./src/pages/SaveEditor/components/fields/TextField.tsx","webpack:///./src/pages/SaveEditor/components/fields/Vector2Field.tsx","webpack:///./src/pages/SaveEditor/components/fields/Vector2IField.tsx","webpack:///./src/pages/SaveEditor/components/fields/Vector3Field.tsx","webpack:///./src/pages/SaveEditor/components/editors/GameObjectGroupList/index.ts","webpack:///./src/pages/SaveEditor/components/editors/GameObjectGroupList/GameObjectGroupList.tsx","webpack:///./src/pages/SaveEditor/components/editors/GameObjectGroupList/derived-state.tsx","webpack:///./src/pages/SaveEditor/components/editors/GameObjectList/index.ts","webpack:///./src/pages/SaveEditor/components/editors/GameObjectList/GameObjectList.tsx","webpack:///./src/pages/SaveEditor/components/editors/GameObjectList/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/GameObjectList/components/GameObjectListContent.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/DefaultGameObjectEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/DefaultGameObjectEditor/DefaultGameObjectEditor.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/DefaultGameObjectEditor/derived-state.ts","webpack:///./src/components/EditModeCondition/EditModeCondition.tsx","webpack:///./src/components/EditModeCondition/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/components/GameObjectHeader/GameObjectHeader.tsx","webpack:///./src/format.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/components/GameObjectHeader/derived-state.ts","webpack:///./src/components/Toolbar.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/components/GameObjectHeader/components/GameObjectHeaderContainer.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/MinionEditor.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/derived-state.ts","webpack:///./src/components/VerticalTabs/index.ts","webpack:///./src/components/VerticalTabs/VerticalTabs.tsx","webpack:///./src/components/VerticalTabs/components/TabContent.tsx","webpack:///./src/components/VerticalTabs/components/VerticalTabItem.ts","webpack:///./src/components/VerticalTabs/components/Tab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEditableName.tsx","webpack:///./src/pages/SaveEditor/components/fields/EditableTextField.tsx","webpack:///./src/components/EditableText/index.ts","webpack:///./src/components/EditableText/EditableText.tsx","webpack:///./src/components/EditableText/components/EditableTextInput.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAppearanceTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAppearanceTab/MinionAppearanceTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAppearanceTab/derived-state.ts","webpack:///./src/selectors/behaviors/minion-identity.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAppearanceTab/events.ts","webpack:///./src/components/TextAutocompleteInput.tsx","webpack:///./src/components/Autocomplete.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAptitudesTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAptitudesTab/MinionAptitudesTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAptitudesTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionAptitudesTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEffectsTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEffectsTab/MinionEffectsTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEffectsTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionEffectsTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionHealthTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionHealthTab/MinionHealthTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionHealthTab/derived-state.ts","webpack:///./src/selectors/behaviors/health.ts","webpack:///./src/selectors/behaviors/primary-element.ts","webpack:///./src/selectors/behaviors/minion-modifiers.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionHealthTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionJobsTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionJobsTab/MinionJobsTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionJobsTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionJobsTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionSkillsTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionSkillsTab/MinionSkillsTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionSkillsTab/derived-state.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionSkillsTab/events.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionTraitsTab/index.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionTraitsTab/MinionTraitsTab.tsx","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionTraitsTab/derived-state.ts","webpack:///./src/selectors/behaviors/ai-traits.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionTraitsTab/events.ts","webpack:///./src/components/Table/index.ts","webpack:///./src/components/Table/Table.ts","webpack:///./src/pages/SaveEditor/components/editors/game-objects/MinionEditor/components/MinionPositionTab.tsx","webpack:///./src/pages/SaveEditor/components/SaveEditorContainer.tsx","webpack:///./src/pages/SaveEditor/components/ContentContainer.tsx","webpack:///./src/pages/SaveEditor/components/EditorContainer.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/Sidebar.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SidebarContainer.tsx","webpack:///./src/components/Panel.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/EditorModeSelector/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/EditorModeSelector/EditorModeSelector.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/EditorModeSelector/events.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/SaveStructureTree.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureTreeContainer.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/SaveStructureItem.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/derived-state.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/events.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemContainer.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemHeader/index.ts","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemHeader/SaveStructureItemHeader.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemHeader/components/Expander.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemHeader/components/ItemText.tsx","webpack:///./src/pages/SaveEditor/components/Sidebar/components/SaveStructureTree/components/SaveStructureItem/components/SaveStructureItemContent.tsx","webpack:///./src/components/Separator.tsx","webpack:///./src/App/components/AppContainer.tsx","webpack:///./src/App/components/AppContent.tsx","webpack:///./src/App/components/NavBar/index.ts","webpack:///./src/App/components/NavBar/NavBar.tsx","webpack:///./src/App/components/NavBar/events.ts","webpack:///./src/App/components/NavBar/components/NavBarContainer.tsx","webpack:///./src/App/components/NavBar/components/NavBarGroup.tsx","webpack:///./src/App/components/NavBar/components/NavBarTitleText.ts"],"names":["__webpack_require__","styled_1","__importDefault","exports","default","__export","styled_2","ThemeProvider","injectGlobal","css","styled_system_1","style_1","style_2","utils_1","Text","text","alignSelf","justifySelf","space","displayName","attachProps","H4","withComponent","Label","Div","defaultAppState","loadingState","loadingProgressMessage","error","oniSave","selectedPath","editMode","Object","freeze","oniSaveSelector","state","lodash_es_1","component","subComponents","c","forEach","key","selectedPathSelector","styledComponents","__importStar","styled","keyframes","Box_1","FlexItem","extend","props","grow","shrink","fillParent","constrain","Flex","alignContent","justifyContent","direction","Item","oni_save_parser_1","produceFromBehavior","behaviorName","producer","produceFromGameObject","gameObject","behavior","getBehavior","React","Text_1","Header","NonIdealState","intent","header","children","createElement","width","height","border","borderRadius","borderColor","Color","HintIntent","p","mx","mt","Intent","Default","Hint","Primary","Box","intentBorder","defaultProps","intentIsBg","FormGroup_1","core_decorators_1","keys_1","math_1","Input_1","NumericInput","Component","[object Object]","super","this","_input","createRef","editValue","validationMessage","value","minValue","maxValue","precision","currentValue","step","isFloatingPoint","Math","pow","innerRef","type","min","max","onChange","_onValueChange","onKeyPress","_onInputKeyPress","onBlur","_onInputBlur","e","target","valueAsNumber","setCustomValidity","setState","Enter","_commitEdit","onCommit","current","newValue","clamp","isNaN","code","eval","__decorate","autobind","reselect_1","game_object_1","createCurrentGameObjectBehaviorSelector","createSelector","createCurrentGameObjectBehaviorPropertySelector","valueSelector","valueSelectFunc","Array","isArray","get","behaviorSelector","getCurrentGameObjectBehaviorSelector","memoize","getCurrentGameObjectBehaviorPropertySelector","behaviorPath","join","react_redux_1","derived_state_1","events_1","connectEditorField","connect","inputStyle","getTheme","colors","bg","panel","borders","secondary","primary","dangerous","Input","NumericInput_1","connect_field_1","SaveStructureLink_1","colors_1","getThemeColor","borders_1","getThemeBorder","radii_1","getThemeRadius","space_1","getThemeSpace","setCurrentObjectBehaviorValue","path","ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE","payload","ACTION_RECEIVE_ONISAVE_BEGIN","receiveOniSaveBegin","operation","clearExisting","ACTION_RECEIVE_ONISAVE_ERROR","receiveOniSaveError","ACTION_RECEIVE_ONISAVE_SUCCESS","receiveOniSaveSuccess","DataTable_1","lodash_1","isIntent","str","includes","selected_path_1","oni_save_1","GAME_OBJECT_PATH","getIsGameObjectSelected","length","every","x","i","test","getSelectedGameObjectPath","valid","slice","getSelectedGameObject","getSelectedGameObjectScale","scale","save_structure_1","selectedValueSelector","saveGame","getSaveItemEditValue","CheckInput","checked","createClamp","clampArray","clampInt8","Int8Array","clampUInt8","Uint8Array","clampInt16","Int16Array","clampUInt16","Uint16Array","clampInt32","Int32Array","clampUInt32","Uint32Array","clampSingle","Float32Array","clampDouble","Float64Array","CLAMPS_BY_PRECISION","int8","uint8","int16","uint16","int32","uint32","single","double","clamper","Error","compare","a","b","Flex_1","EditorHeader_1","EditorContainer","intent_1","theme_1","intentColorOf","fromIntent","intentColorFromProps","intentColor","of","ACTION_ONISAVE_MODIFY","modifyOniSave","ACTION_ONISAVE_PARSE_PROGRESS","parseProgress","message","ACTION_SELECT_PATH","selectPath","gameObjects_1","defaultAdvancedField","$advanced","saveStructure","$editor","$uiPathName","obj","gameInfo","baseName","templates","world","settings","version","gameObjects","gameData","$editorProps","templateName","gasConduitFlow","liquidConduitFlow","simActiveRegionMin","simActiveRegionMax","fallingWater","unstableGround","worldDetail","customGameSettings","gameObjectIs","isObject","name","behaviorIs","defaultTemplateDataObj","keys","filter","map","_","templatePath","valuePathHack","defaultBehavior","templateData","push","extraData","*","ArrayLikeField_1","CheckField_1","ColorField_1","DictionaryField_1","EnumerationField_1","NumericField_1","TextField_1","Vector2Field_1","Vector2IField_1","Vector3Field_1","getFieldElementClass","typeInfo","short","getTypeCode","info","SerializationTypeCode","assign","subType","subTypes","Boolean","Byte","Colour","Dictionary","Double","Enumeration","enumerationName","HashSet","Int16","Int32","Int64","Dangerous","List","Pair","SByte","Queue","Single","String","UInt16","UInt32","UInt64","UserDefined","Vector2","Vector2I","Vector3","handleUnknownType","Keys","Esc","EditModeCondition_1","themeGet","intentColors","hint","intentContrastColors","backgroundColors","navbar","color","DefaultIntent","contrast","DefaultIntentContrast","PrimaryIntentContrast","PrimaryIntent","Secondary","SecondaryIntentContrast","SecondaryIntent","DangerousIntentContrast","DangerousIntent","HintIntentContrast","separator","radius","radii","intentFillOf","intentFillFromProps","undefined","intentFill","intent_color_1","wordWrap","style","prop","cssProperty","wordBreak","whiteSpace","fontSize","fontWeight","insertCurrentObjectBehaviorArrayValue","index","ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM","removeCurrentObjectBehaviorArrayValue","ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM","removeCurrentObjectBehaviorArrayIndex","ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX","isCurrentObjectBehaviorArrayAction","action","immer_1","ACTION_SET_ACCESSORY","setAccessory","accessoryType","accessoryName","ACTION_PRIMARY_ELEMENT_SET_DISEASE","setPrimaryElementDisease","diseaseId","diseaseCount","ACTION_HEALTH_SET_STATE","setHealthStatus","ACTION_MINION_IDENTITY_SET_GENDER","setIdentityGender","gender","ACTION_MINION_MODIFIER_SET_VALUE","setModifierValue","amountType","ACTION_TRAITS_SET","setTrait","traitId","isSet","ACTION_GAME_OBJECT_SET_SCALE","setGameObjectScale","ACTION_DISMISS_ERROR","dismissError","ACTION_SET_EDITMODE","setEditMode","ACTION_ONISAVE_LOAD","loadOniSave","file","ACTION_ONISAVE_SAVE","saveOniSave","fileName","loadingStateSelector","Button","fontSizes","behaviors_1","defaultGameObject","idBehavior","KPrefabIDBehavior","InstanceID","position","toFixed","y","behaviors","Portrait_1","SelectElement","Select","_a","options","rest","__rest","_onChange","label","TextInput","_inputRef","isValid","minLength","maxLength","_setEditValue","validation","_validate","react_table_1","encodedPrimaryColor","encodeURIComponent","DataTable","PanelBackground","EditorHeader","pb","editModeSelector","GameObjectHeader_1","CheckInput_1","NullableInput","isNotNull","className","renderNull","element","renderInput","defaultValue","resolve","_onNotNullChecked","Select_1","SelectInput","clearable","ReactDOM","react_modal_1","root_1","rootEl","document","getElementById","setAppElement","render","content","module","hmr","transform","insertInto","locals","borderOf","borderFromProps","font_sizes_1","theme","getThemeProp","getter","val","intent_fill_1","intentOf","isBg","intentFromProps","text_1","link","react_hot_loader_1","store_1","App_1","Root","Provider","store","hot","createStore","redux_1","redux_saga_1","reducer_1","saga_1","devtool_sanitizer_1","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","actionSanitizer","stateSanitizer","compose","sagaMiddleware","applyMiddleware","run","reduce_reducers_1","dismiss_error_1","modify_onisave_1","onisave_parse_progress_1","receive_onisave_1","select_path_1","set_editmode_1","reducers","modify_currentobject_behavior_array_1","set_accessory_1","set_currentobject_behavior_value_1","set_element_disease_1","set_health_state_1","set_identity_gender_1","set_modifier_amount_1","set_traits_trait_1","state_1","modifyCurrentObjectBehaviorArray","array","splice","indexOf","setAccessoryReducer","AccessorizerBehavior","accessories","accessoryIndex","getIndexOfAccessoryType","newAccessory","Accessory","setCurrentObjectBehaviorValueReducer","set","setElementDiseaseReducer","PrimaryElementBehavior","diseaseID","setHealthStateReducer","HealthBehavior","State","setIdentityGenderReducer","MinionIdentityBehavior","genderStringKey","setModifierAmountReducer","MinionModifiersBehavior","amount","amounts","find","setTraitReducer","AITraitsBehavior","TraitIds","findIndex","set_scale_1","setGameObjectScaleReducer","z","dismissErrorReducer","modifyOniSaveReducer","draft","parseProgressReducer","receiveOniSaveReducer","selectPathReducer","effects_1","load_onisave_1","save_onisave_1","saga","fork","save_serializer_1","saveEditorSaga","takeEvery","handleOniSaveLoad","put","loadChannel","createLoadChannel","call","readFile","msg","take","data","eventChannel","emitter","parseSave","then","END","catch","reader","FileReader","Promise","accept","reject","onload","result","onerror","readAsArrayBuffer","worker_messages_1","save_serializer_worker_1","worker","onProgress","promise","unhook","onmessage","RESPONSE_PROGRESS","RESPONSE_PARSE_SUCCESS","RESPONSE_PARSE_ERROR","jsonToError","postMessage","writeSave","RESPONSE_WRITE_SUCCESS","RESPONSE_WRITE_ERROR","sendProgress","parseSaveSuccess","parseSaveError","errorToJson","stack","writeSaveSuccess","writeSaveError","Worker","file_saver_1","handleOniSaveWrite","saveName","select","saveChannel","createSaveChannel","saveAs","blob","Blob","sanitizeSave","save","streamed","NoSave_1","Error_1","Loading_1","SaveEditor_1","AppContainer_1","AppContent_1","NavBar_1","App","onDismissError","onDismiss","error_1","loading_state_1","stateSelectors","mapStateToProps","createStructuredSelector","errorSelector","mapDispatchToProps","runtime_env_1","NonIdealState_1","Code_1","SaveFilePaths","windows","mac","linux","unknown","NoSave","OSType","platform_1","OS_WINDOWS","OS_MAC","OS_LINUX","osPlatform","os","family","Code","Button_1","ErrorPage","onClick","Loading","loadingProgressMessageSelector","loading_message_1","structuredSelector","SelectedPathBreadcrumb_1","ResizePanel_1","editors_1","SaveEditorContainer_1","ContentContainer_1","EditorContainer_1","Sidebar_1","Separator_1","SaveEditor","editorType","editorProps","ObjectEditor","getEditor","getSaveItemEditor","getSaveItemEditorProps","structure_1","GAME_OBJECT_GROUP_PATH_ROOT","getPathGameObjectGroup","comparePathMatch","GAME_OBJECT_PATH_ROOT","getPathGameObject","GAME_OBJECT_BEHAVIOR_PATH_ROOT","getPathBehavior","part","match","getSaveItemTitle","def","getSaveStructureDef","nameSource","nameProducer","getSaveItemBreadcrumb","breadcrumbs","structurePath","walkSaveStructurePath","defPath","title","getSaveItemChildPaths","collectChildPaths","propFactory","saveGamePath","uiChildren","$uiChildren","defKeys","collectAutoChildPaths","checkEditMode","advanced","advancedProducer","isImplicitChild","gameObjectGroupsStructure","group","$variants","createGameObjectVariants","gameObjectsStructure","matchers_1","minion","default_1","gameObjectVariantInfo","gameObjectPath","defaultVariant","setStructure","variants","rootVariant","$match","gameObjectName","gameObjectStructure","structure","minionGameObject","identityBehavior","primary_element_1","storageBehavior","primaryElementBehavior","storageBehaviorExtraData","StorageBehavior","iter","next","done","subStructure","variant","BreadcrumbContainer_1","SelectedPathBreadcrumb","breadcrumb","links","isFinal","selected_path_breadcrumb_1","selectedPathBreadcrumbSelector","SaveStructureLink","Link","_onClick","BreadcrumbContainer","div","ResizeHandle_1","ResizePanel","defaultWidth","onResize","_onResize","delta","s","react_draggable_1","ResizeHandleVisual_1","ResizeHandle","isResizing","DraggableCore","onStart","_onStart","onStop","_onStop","onDrag","_onDrag","d","deltaX","ResizeHandleVisual","DefaultSeparator","DefaultObjectEditor_1","SaveRootEditor_1","TemplateObjectEditor_1","GameObjectGroupList_1","GameObjectList_1","DefaultGameObjectEditor_1","MinionEditor_1","editors","save-root","game-object-group-list","game-object-list","template-object","game-object-default","game-object-minion","DefaultObjectEditorContainer_1","EditorField_1","TH","TD","DefaultObjectEditor","fields","fieldElements","field","_renderFieldRow","propKey","_onFieldChange","onModify","DefaultObjectEditorContainer","EditorField","JSON","stringify","parse","selected_value_1","selectedValue","isPrimitive","structuredSelectors","primitiveTypes","valType","InfoText_1","SaveRootEditorContainer_1","SaveGameTitle_1","DuplicantsList_1","SaveRootEditor","_renderContent","numGameObjects","reduce","count","Fragment","numberOfCycles","numberOfDuplicants","InfoText","SaveRootEditorContainer","SaveGameTitle","DuplicantPortrait_1","DuplicantsListContainer_1","DuplicantsListContent_1","DuplicantsList","duplicantsSetPath","duplicantIndexes","duplicantPortraits","gameObjectIndex","minionSet","range","DuplicantPortrait","arrivalCycle","Footer","re_reselect_1","generateCacheKey","duplicants","duplicantIdentity","identBehavior","gameSave","groupIndex","ident","arrivalTime","PortraitHeader_1","PortraitFooter_1","Portrait","PortraitHeader","PortraitFooter","DuplicantsListContainer","DuplicantsListContent","TemplateObjectEditorContainer_1","from_typeinfo_1","TemplateObjectEditor","template","fieldRows","properties","FieldEditor","valuePath","SerializationTypeInfo","member","typeCode","LIST_TYPES","keyValueIndex","Number","TemplateObjectEditorContainer","ArrayLikeField","ValueElement","elements","itemPathSelector","cacheKeyGenerator","itemValue","dispatch","writeTo","ColorField","FormGroup","inline","mb","mr","px","DictionaryField","EnumerationField","enumeration","getEnumeration","parseInt","_onSelectInputChange","prototype","hasOwnProperty","EnumerationsByName","TextInput_1","Vector2Field","Vector2IField","Vector3Field","GameObjectGroupList","gameObjectGroups","columns","id","accessor","Cell","row","sortable","sortMethod","localeCompare","filterable","filterMethod","toLowerCase","GameObjectListContent_1","GameObjectList","gameObjectItems","portraits","GroupListContent","DefaultGameObjectEditor","prefabIdBehavior","prefabId","EditModeCondition","currentEditMode","edit_mode_1","format_1","Toolbar_1","GameObjectHeaderContainer_1","GameObjectHeader","primaryElement","Group","align","formatPosition","formatSimHash","POSITION_PRECISION","formatPositionValue","v","toPrecision","hash","SimHashes","formatDisease","ElementID","toolbarItem","ToolbarLabel","ToolbarGroup","Toolbar","background","GameObjectHeaderContainer","VerticalTabs_1","MinionEditableName_1","MinionAppearanceTab_1","MinionAptitudesTab_1","MinionEffectsTab_1","MinionHealthTab_1","MinionJobsTab_1","MinionSkillsTab_1","MinionTraitsTab_1","MinionPositionTab_1","DuplicantEditor","minionNamePath","Tab","tabKey","behaviorIndex","TabContent_1","VerticalTabItem_1","Tab_1","VerticalTabs","selectedKey","tabs","Children","isValidElement","tabItems","tab","isSelected","_onTabItemClick","bind","TabContent","pl","VerticalTabItem","EditableTextField_1","MinionHeader","EditableText_1","EditableTextInput_1","EditableText","autoFocus","_onEditableChange","onKeyUp","_onEditableKeyUp","onFocus","_onEditableFocus","_onEditableBlur","_onTextClick","_commit","_reset","EditableTextInput","NullableInput_1","TextAutocompleteInput_1","SelectInput_1","TDText","NoAccessory","NoAccessoryMouth","MinionAppearanceTab","onSetGender","AccessoryTypes","_renderAccessoryField","genderOpts","MINION_IDENTITY_GENDERS","_setScaleX","_setScaleY","onSetScale","onSetAccessory","editGroup","_renderAccessorySelector","AccessoriesByType","accessoryNames","items","minion_identity_1","accessorizerBehavior","createAccessorySelector","accessory","getAccessoryOfType","getAccessoryName","getSelectedGameObjectGender","getSelectedGameObjectIdentityBehavior","Autocomplete_1","TextAutocompleteInput","getItemValue","onSelect","_onValueSelect","selectOnBlur","react_autocomplete_1","AutocompleteItem","Autocomplete","inputProps","convertProps","renderItem","item","isHighlighted","defaultRenderItem","renderMenu","ref","AutocompleteMenu","styles","MinionAptitudesTab","aptitudes","setAptitude","aptitude","showPagination","aptitudesSelector","MinionResumeBehavior","aptitudeDataSelector","hstr","roleId","MinionRoleGroup","roleHash","MinionEffectsTab","effects","onSetEffectData","AI_EFFECT_IDS","effectId","effectIndex","effect","timeRemaining","AIEffectsBehavior","EffectsPath","MinionHealthTab","healthState","onHealthStatusChanged","hitpoints","onHitpointsChanged","stamina","onStaminaChanged","calories","onCaloriesChanged","breath","onBreathChanged","stress","onStressChanged","bladder","onBladderChanged","surfaceDiseaseId","surfaceDiseaseCount","immuneLevel","onImmuneLevelChanged","foodPoisoning","onFoodPoisoningChanged","coldBrain","onColdBrainChanged","heatRash","onHeatRashChanged","slimeLung","onSlimeLungChanged","spores","onSporesChanged","sunburn","onSunburnChanged","HealthState","Perfect","_onSurfaceDiseaseIdCommit","_onSurfaceDiseaseCountCommit","onSurfaceDiseaseChanged","health_1","minion_modifiers_1","getSelectedGameObjectHealthState","getSelectedGameObjectElementDiseaseId","getSelectedGameObjectElementDiseaseCount","getSelectedGameObjectModifierValueSelector","getSelectedGameObjectHealthBehavior","getSelectedGameObjectElementBehavior","createSelectedGameObjectModifierValueSelector","amountId","getSelectedGameObjectModifiersBehavior","level","MinionJobsTab","jobs","setExperience","setMastery","experience","experienceIndex","mastery","masteryIndex","masteriesSelector","experienceSelector","jobsSelector","masteries","MinionSkillsTab","skills","setSkillLevel","setSkillExperience","AIAttributeLevelsBehavior","Table_1","MinionTraitsTab","traits","onSetTrait","rows","AI_TRAIT_IDS","trait","TR","some","THead","TBody","getSelectedGameObjectTraits","Table","table","thead","th","tbody","tr","td","MinionPositionTab","SaveEditorContainer","ContentContainer","SidebarContainer_1","EditorModeSelector_1","SaveStructureTree_1","Sidebar","Panel_1","SidebarContainer","Panel","EditorModeSelector","htmlFor","_onAdvancedModeChange","SaveStructureTreeContainer_1","SaveStructureItem_1","SaveStructureTree","_containerRef","saveItemPath","scrollContainer","SaveStructureTreeContainer","dom_scroll_into_view_1","SaveStructureItemContainer_1","SaveStructureItemHeader_1","SaveStructureItemContent_1","SaveStructureItemComponent","_ref","isExpanded","selectionStatus","_scrollIntoView","oldProps","childPaths","isExpandable","titleIntent","valueElement","childPath","SaveStructureItem","expandable","expanded","onExpandToggle","_onExpandToggle","htmlElement","allowHorizontalScroll","onlyScrollIfNeeded","offsetBottom","offsetTop","string_natural_compare_1","itemPath","sort","aTitle","bTitle","SaveStructureItemContainer","Expander_1","ItemText_1","SaveStructureItemHeaderContainer","span","SaveStructureItemHeader","Expander","viewBox","fill","ItemText","SaveStructureItemContent","Separator","AppContainer","NavBarContainer_1","NavBarGroup_1","NavBarTitleText_1","NavBar","onLoadTestData","el","display","_onLoadFileInput","_onLoadFileClick","_onSaveFileClick","click","files","onLoad","onSave","withExtension","ext","endsWith","save_game_json_1","NavBarContainer","NavBarGroup","NavBarTitleText"],"mappings":"qVAAAA,EAAA,KAEA,MAAAC,EAAAC,EAAAF,EAAA,KACAG,EAAAC,QAAeH,EAAAG,QAEfC,EAAAL,EAAA,MACAK,EAAAL,EAAA,KAEAK,EAAAL,EAAA,KAEA,IAAAM,EAAAN,EAAA,IACEG,EAAAI,cAAAD,EAAAC,cAGAJ,EAAAK,aAAAF,EAAAE,aACAL,EAAAM,IAAAH,EAAAG,6OAbFR,0UCFA,MAAAS,EAAAV,EAAA,IASAW,EAAAT,EAAAF,EAAA,IAEAY,EAAAZ,EAAA,GAEAa,EAAAb,EAAA,IAMMc,EAAOH,EAAAP,QAA0B;IACnCQ,EAAAG;IACAL,EAAAM;IACAN,EAAAO;IACAP,EAAAQ;EAEJJ,EAAKK,YAAc,OACnBhB,EAAAC,QAAeS,EAAAO,YAAYN,GACzBO,GAAIP,EAAKQ,cAAc,MACvBC,MAAOT,EAAKQ,cAAc,SAI1BE,IAAKV,EAAKQ,cAAc,sKAvB1BX,qFAUMG,4LCNOX,EAAAsB,iBACXC,aAAc,OACdC,uBAAwB,KACxBC,MAAO,KACPC,QAAS,KACTC,gBACAC,SAAU,UAEZC,OAAOC,OAAO9B,EAAAsB,2JCnBd,MAAMS,EAAmBC,GAAoBA,EAAMN,QACnD1B,EAAAC,QAAe8B,kEADTA,6PCFN,MAAAE,EAAApC,EAAA,IAEA,SAAAoB,EAGEiB,EAAoBC,GACpB,MAAMC,EAAIF,EAIV,OAHAD,EAAAI,QAAQF,EAAe,CAACD,EAAWI,KACjCF,EAAEE,GAAOJ,IAEJE,EARTpC,EAAAiB,yTCAA,MAAMsB,EAAwBP,GAAoBA,EAAML,aACxD3B,EAAAC,QAAesC,kEADTA,mbCFN,MAAAC,EAAAC,EAAA5C,EAAA,OASEI,QAASyC,EADLpC,IAEJA,EAFID,aAGJA,EAHIsC,UAIJA,EAJIvC,cAKJA,GACEoC,EAOKxC,EAAAM,MAAKN,EAAAK,eAAcL,EAAA2C,YAAW3C,EAAAI,gBACvCJ,EAAAC,QAAeyC,wJAtBfF,0FASWE,gFACTpC,6EACAD,sFACAsC,mFACAvC,wUCbF,MAAAM,EAAAb,EAAA,IAEA+C,EAAA7C,EAAAF,EAAA,KAEAU,EAAAV,EAAA,IAcMgD,EAAWD,EAAA3C,QAAI6C;IACjBC,GAASA,EAAMC,MAAQ;IACvBD,GAASA,EAAME,QAAU;IACzBF,GACAA,EAAMG,aACLH,EAAMI,UAAY,iBAAmB;IACtCJ,GACAA,EAAMI,YACe,QAApBJ,EAAMI,WACF,gBAAiB,iBACjB,iBAAkB;IACvBJ,GAASA,EAAME,QAAU;;;EAI7BJ,EAAS7B,YAAc,WASvB,MAAMoC,EAAOR,EAAA3C,QAAI6C;;IAEbvC,EAAA8C;IACA9C,EAAA+C;oBACgBP,GAASA,EAAMQ;;EAGnCH,EAAKpC,YAAc,OAEnBhB,EAAAC,QAAeS,EAAAO,YAAYmC,GACzBI,KAAMX,iKAlDRD,mFAgBMC,sFAwBAO,gPC1CN,MAAAK,EAAA5D,EAAA,GAIAa,EAAAb,EAAA,KAEA,SAAA6D,EACE1B,EACA2B,EACAC,GAEA,OAAOlD,EAAAmD,sBAAsB7B,EAAO8B,IAClC,MAAMC,EAAWN,EAAAO,YAAYF,EAAYH,GACzC,GAAKI,EAIL,OAAOH,EAASG,KAXpB/D,EAAA0D,0lBCNA,MAAAO,EAAAxB,EAAA5C,EAAA,IACAW,EAAAX,EAAA,GAEA+C,EAAA7C,EAAAF,EAAA,KACAqE,EAAAnE,EAAAF,EAAA,KAMMsE,EAASD,EAAAjE,QAAKiB,GAAG4B;;;EAIvBqB,EAAOnD,YAAc,SACrB,MAAMoD,EAA8C,EAClDC,SACAC,SACAC,cAEAN,EAAAO,cAAC5B,EAAA3C,SAAIwE,MAAM,OAAOC,OAAO,QACvBT,EAAAO,cAAC5B,EAAA3C,SACCwE,MAAM,MACNJ,OAAQA,EACRM,OAAM,EACNC,aAAY,EACZC,YAAarE,EAAAsE,MAAMC,WACnBC,EAAC,EACDC,GAAG,OACHC,GAAE,GAEDZ,GACCL,EAAAO,cAACL,GACCE,OACEA,IAAW7D,EAAA2E,OAAOC,SAAWf,IAAW7D,EAAA2E,OAAOE,KAC3C7E,EAAA2E,OAAOG,QACPjB,GAGLC,GAGJC,IAIPH,EAAcpD,YAAc,gBAC5BhB,EAAAC,QAAemE,2QA/CfH,4FAGArB,4FACAsB,6FAMMC,6FAKAC,8aCfN,MAAA7D,EAAAV,EAAA,IAaAW,EAAAiC,EAAA5C,EAAA,IAkBM0F,EAAM/E,EAAAP,QAAwB;IAChCM,EAAAM;IACAN,EAAAO;IACAP,EAAAkE;IACAlE,EAAAmE;IACAnE,EAAAQ;IACAP,EAAAmE;OACGnE,EAAAgF;IACHhF,EAAA6D;;EAGJkB,EAAIvE,YAAc,MAClBuE,EAAIE,cACFC,YAAY,GAEd1F,EAAAC,QAAesF,0JAjCf/E,mFAkBM+E,gUC/BN,MAAAI,EAAA5F,EAAAF,EAAA,MACAG,EAAAC,QAAe0F,EAAA1F,+KADf0F,27BCAA,MAAA1B,MAAAxB,aAAA5C,oBAAA,IAEA+F,kBAAA/F,oBAAA,IAEAgG,OAAA9F,gBAAAF,oBAAA,KAEAiG,OAAAjG,oBAAA,IAEAkG,QAAAhG,gBAAAF,oBAAA,WAeAmG,qBAA0C/B,MAAMgC,UAE9CC,YAAYnD,GACVoD,MAAMpD,GAFAqD,KAAAC,OAASpC,MAAMqC,YAIrBF,KAAKpE,OACHuE,UAAW,KACXC,kBAAmB,MAIvBN,SACE,MAAMO,MAAEA,EAAFC,SAASA,EAATC,SAAmBA,EAAnBC,UAA6BA,GAAcR,KAAKrD,OAChDwD,UAAEA,GAAcH,KAAKpE,MAErB6E,EAA4B,MAAbN,EAAoBA,EAAYE,EAE/CK,EAAOhB,OAAAiB,gBAAgBH,GAAa,SAAWI,KAAKC,IAAI,IAAK,IAAM,EAEzE,OACEhD,MAAAO,cAACuB,QAAA9F,SACCiH,SAAUd,KAAKC,OACfc,KAAK,SACLC,IAAKV,EACLW,IAAKV,EACLF,MAAOI,EACPS,SAAUlB,KAAKmB,eACfC,WAAYpB,KAAKqB,iBACjBC,OAAQtB,KAAKuB,aACbb,KAAMA,IAMJZ,eAAe0B,GACrB,MAAMlB,SAAEA,EAAFC,SAAYA,GAAaP,KAAKrD,MAE9B0D,EAAQmB,EAAEC,OAAOC,cACvB,IAAItB,EAAmC,KAEvB,MAAZG,GAAoBF,GAASE,EAC/BH,6BAA+CG,IAC1B,MAAZD,GAAoBD,GAASC,IACtCF,gCAAkDE,KAGpDkB,EAAEC,OAAOE,kBAAkBvB,GAAqB,IAEhDJ,KAAK4B,UACHzB,UAAWE,EACXD,sBAKIN,iBAAiB0B,GACnBA,EAAEtF,MAAQuD,OAAA5F,QAAKgI,OACjB7B,KAAK8B,cAKDhC,eACNE,KAAK8B,cAGChC,cACN,MAAMK,UAAEA,EAAFC,kBAAaA,GAAsBJ,KAAKpE,OACxC4E,UAAEA,EAAY,QAAduB,SAAuBA,GAAa/B,KAAKrD,MAY/C,GATIyD,GAAqBJ,KAAKC,OAAO+B,SACnChC,KAAKC,OAAO+B,QAAQL,kBAAkB,IAGxC3B,KAAK4B,UACHzB,UAAW,KACXC,kBAAmB,QAGhBD,GAAaC,EAChB,OAGF,MAAM6B,EAAWvC,OAAAwC,MAAM1B,EAAWL,GAC9BgC,MAAMF,IAIVF,EAASE,GA1F0DnC,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAmCrEE,YADC9C,kBAAA+C,oDAmBA,MAGDD,YADC9C,kBAAA+C,sDAKA,MAGDD,YADC9C,kBAAA+C,kDAGA,MAjEH3I,QAAAC,QAAA+F,0bAvBA/B,+FAIA4B,iGAIAE,mGAeAC,0XCvBA,MAAA4C,EAAA/I,EAAA,IAEAoC,EAAApC,EAAA,IAEA4D,EAAA5D,EAAA,GAIAgJ,EAAA9I,EAAAF,EAAA,KAEA,SAAAiJ,EACEnF,GAEA,OAAOiF,EAAAG,eAAeF,EAAA5I,QAAuB6D,GACtCA,GAIEL,EAAAO,YAAYF,EAAYH,IAHtB,MAYb,SAAAqF,EAIErF,EACAsF,GAEA,IAAIC,EAEFA,EADEC,MAAMC,QAAQH,GACElF,GAAY9B,EAAAoH,IAAItF,EAAUkF,GAE1BA,EAGpB,MAAMK,EAAmBtJ,EAAAuJ,qCAAqC5F,GAC9D,OAAOiF,EAAAG,eAAeO,EAAkBvF,GACjCA,EAGEmF,EAAgBnF,GAFd,MArBA/D,EAAAuJ,qCAAuCtH,EAAAuH,QAClDV,GAGF9I,EAAAgJ,kDA4BahJ,EAAAyJ,6CAA+CxH,EAAAuH,QAC1DR,EACA,CAACrF,EAAsB+F,KACpB/F,EAAc+F,EAAaC,KAAK,MAAMA,KAAK,6KAlDhDd,oGAEAC,8HAiBAE,2XC3BA,MAAAY,EAAA/J,EAAA,IAKAgK,EAAA9J,EAAAF,EAAA,MACAiK,EAAA/J,EAAAF,EAAA,MAKA,SAAAkK,IACE,OAAOH,EAAAI,QACLH,EAAA5J,QACA6J,EAAA7J,SAHJD,EAAAC,QAAA8J,qMANAF,mIACAC,4HAKAC,gdCXA,MAAAxJ,EAAAV,EAAA,IAEAW,EAAAiC,EAAA5C,EAAA,IAMaG,EAAAiK,WAAazJ,EAAAF;IACtBE,EAAAI;IACAL,EAAAkE;;sBAEkB1B,GAASvC,EAAA0J,SAASnH,GAAOoH,OAAOC,GAAGC;YAC7CtH,GAASvC,EAAA0J,SAASnH,GAAOuH,QAAQ;kBAC3BvH,GAASvC,EAAA0J,SAASnH,GAAOoH,OAAO9F,OAAOkG;;oBAErCxH,GAASvC,EAAA0J,SAASnH,GAAOoH,OAAO9F,OAAOmG;;;;oBAIvCzH,GAASvC,EAAA0J,SAASnH,GAAOoH,OAAO9F,OAAOoG;;EAI3D,MAAMC,EAAQlK,EAAAP,QAAiC;IAC3CD,EAAAiK;EAEJS,EAAM1J,YAAc,QAGpBhB,EAAAC,QAAeyK,6JA5BflK,sFAsBMkK,qUCxBN,MAAAC,EAAA5K,EAAAF,EAAA,KAEA+K,EAAA7K,EAAAF,EAAA,KAEAG,EAAAC,QAAe2K,EAAA3K,SAAA2K,CAAqBD,EAAA1K,sMAJpC0K,4HAEAC,yVCFA1K,EAAAL,EAAA,0ZCCA,MAAAgL,EAAA9K,EAAAF,EAAA,MACAG,EAAAC,QAAe4K,EAAA5K,uLADf4K,gVCDA3K,EAAAL,EAAA,MAEA,IAAAiL,EAAAjL,EAAA,KAASG,EAAA8E,MAAAgG,EAAAhG,MAAO9E,EAAA+K,cAAAD,EAAAC,cAChB,IAAAC,EAAAnL,EAAA,KAAiBG,EAAAiL,eAAAD,EAAAC,eAEjB,IAAAC,EAAArL,EAAA,KAAiBG,EAAAmL,eAAAD,EAAAC,eACjB,IAAAC,EAAAvL,EAAA,KAAgBG,EAAAqL,cAAAD,EAAAC,oOCFhB,SAAAC,EACE3H,EACA4H,EACA9E,GAEA,OACEU,KAAMnH,EAAAwL,wCACNC,SAAW9H,eAAc4H,OAAM9E,yGATtBzG,EAAAwL,wCACX,8CACFxL,EAAAsL,+UCFatL,EAAA0L,6BAA+B,yBAC/B1L,EAAA2L,oBAAsB,EACjCC,EACAC,MAEA1E,KAAMnH,EAAA0L,6BACND,SAAWG,YAAWC,oBAIX7L,EAAA8L,6BAA+B,yBAC/B9L,EAAA+L,oBAAuBtK,MAClC0F,KAAMnH,EAAA8L,6BACNL,QAAShK,KAIEzB,EAAAgM,+BAAiC,2BACjChM,EAAAiM,sBAAyBvK,MACpCyF,KAAMnH,EAAAgM,+BACNP,QAAS/J,iSCtBX,MAAAwK,EAAAnM,EAAAF,EAAA,MACAG,EAAAC,QAAeiM,EAAAjM,QACfC,EAAAL,EAAA,6QAFAqM,kQCAA,MAAAC,EAAAtM,EAAA,KAEA,IAAYsF,EAQZ,SAAAiH,EAAyBC,GACvB,OAAOF,EAAAG,SAASnH,EAAQkH,IAT1B,SAAYlH,GACVA,EAAA,kBACAA,EAAA,kBACAA,EAAA,sBACAA,EAAA,sBACAA,EAAA,YALF,CAAYA,EAAAnF,EAAAmF,SAAAnF,EAAAmF,YAQZnF,EAAAoM,2EARYjH,gFAQZiH,mUCVA,MAAAxD,EAAA/I,EAAA,IAIAoC,EAAApC,EAAA,IAEA0M,EAAAxM,EAAAF,EAAA,KACA2M,EAAAzM,EAAAF,EAAA,KAEM4M,GAAoB,cAAe,KAAM,cAAe,OAEjDzM,EAAA0M,wBAA0B9D,EAAAG,eAAewD,EAAAtM,QAAcsL,GAC7DA,IAIDA,EAAKoB,OAASF,EAAiBE,SAI5BF,EAAiBG,MAAM,CAACC,EAAGC,IAAMD,EAAEE,KAAKxB,EAAKuB,KAP3C,MAUE9M,EAAAgN,0BAA4BpE,EAAAG,eACvCwD,EAAAtM,QACAD,EAAA0M,wBACA,CAACnB,EAAM0B,IACAA,EAIE1B,EAAK2B,MAAM,EAAGT,EAAiBE,QAH7B,MAOA3M,EAAAmN,sBAAwBvE,EAAAG,eACnCyD,EAAAvM,QACAD,EAAAgN,0BACA,CAACtL,EAAS6J,IACH7J,GAAY6J,EAIVtJ,EAAAoH,IAAI3H,EAAS6J,GAHX,MAOAvL,EAAAoN,2BAA6BxE,EAAAG,eACxC/I,EAAAmN,sBACArJ,GACOA,EAGEA,EAAWuJ,MAFT,MAMbrN,EAAAC,QAAeD,EAAAmN,wLAnDfZ,kGACAC,6FAEMC,oVCTN,MAAA7D,EAAA/I,EAAA,IAEAyN,EAAAzN,EAAA,IAEA0M,EAAAxM,EAAAF,EAAA,KACA2M,EAAAzM,EAAAF,EAAA,KAEM0N,EAAwB3E,EAAAG,eAC5ByD,EAAAvM,QACAsM,EAAAtM,QACA,CAACuN,EAAU7L,IACJ6L,EAIuB,IAAxB7L,EAAagL,OACRa,EAGFF,EAAAG,qBAAqB9L,EAAc6L,GAPjC,MAUbxN,EAAAC,QAAesN,uKAlBfhB,qGACAC,gGAEMe,m8BCPN,MAAAtJ,MAAAxB,aAAA5C,oBAAA,IAEA+F,kBAAA/F,oBAAA,IAEAkG,QAAAhG,gBAAAF,oBAAA,WAQA6N,mBAAwCzJ,MAAMgC,UAC5CC,SACE,MAAMO,MAAEA,GAAUL,KAAKrD,MACvB,OACEkB,MAAAO,cAACuB,QAAA9F,SAAMkH,KAAK,WAAWwG,QAASlH,EAAOa,SAAUlB,KAAKmB,iBAKlDrB,eAAe0B,GACrB,MAAMO,SAAEA,GAAa/B,KAAKrD,MAE1BoF,EADcP,EAAEC,OAAO8F,SAXmCzH,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAS5DE,YADC9C,kBAAA+C,kDAKA,MAbH3I,QAAAC,QAAAyN,kbAZAzJ,6FAIA8B,iGAQA2H,iMCNA,SAAAE,EACEzG,GAEA,MAAM0G,EAAa,IAAI1G,EAAK,GAC5B,OAAQV,IACNoH,EAAW,GAAKpH,EACToH,EAAW,mGAcT7N,EAAA8N,UAAYF,EAAYG,WACxB/N,EAAAgO,WAAaJ,EAAYK,YAEzBjO,EAAAkO,WAAaN,EAAYO,YACzBnO,EAAAoO,YAAcR,EAAYS,aAE1BrO,EAAAsO,WAAaV,EAAYW,YACzBvO,EAAAwO,YAAcZ,EAAYa,aAE1BzO,EAAA0O,YAAcd,EAAYe,cAC1B3O,EAAA4O,YAAchB,EAAYiB,cAEvC,MAAMC,GAIJC,KAAM/O,EAAA8N,UACNkB,MAAOhP,EAAAgO,WACPiB,MAAOjP,EAAAkO,WACPgB,OAAQlP,EAAAoO,YACRe,MAAOnP,EAAAsO,WACPc,OAAQpP,EAAAwO,YACRa,OAAQrP,EAAA0O,YACRY,OAAQtP,EAAA4O,aAGV,SAAAtG,EAAsB1B,EAA4BH,GAChD,MAAM8I,EAAUT,EAAoBlI,GACpC,IAAK2I,EACH,MAAM,IAAIC,4BAA4B5I,OAGxC,OAAO2I,EAAQ9I,GAGjB,SAAAM,EACEH,GAEA,MAAqB,WAAdA,GAAwC,WAAdA,EAGnC,SAAA6I,EAAwBC,EAAWC,GACjC,OAAID,EAAIC,GAAW,EACfD,EAAIC,EAAU,EACX,EAlBT3P,EAAAsI,QASAtI,EAAA+G,kBAMA/G,EAAAyP,0EA7DA7B,6EAgCMkB,qFAcNxG,uEASAvB,iFAMA0I,meCnEA,MAAAxL,EAAAxB,EAAA5C,EAAA,IAEA+P,EAAA7P,EAAAF,EAAA,KAEAgQ,EAAA9P,EAAAF,EAAA,MAKMiQ,EAAmD,EACvDxL,SACAC,cAEAN,EAAAO,cAACoL,EAAA3P,SAAKsD,UAAU,SAASkB,MAAM,OAAOC,OAAO,QAC3CT,EAAAO,cAACqL,EAAA5P,QAAY,KAAEqE,GACfL,EAAAO,cAACoL,EAAA3P,QAAKuD,MAAKN,YAAU,EAACC,UAAU,UAC7BoB,IAIPuL,EAAgB9O,YAAc,kBAC9BhB,EAAAC,QAAe6P,uVArBf7L,kIAEA2L,mIAEAC,2IAKMC,gTCTN,MAAAhQ,EAAAD,EAAA,IAEAa,EAAAb,EAAA,IAEAkQ,EAAAlQ,EAAA,IAEAmQ,EAAAnQ,EAAA,IAMMoQ,EAAiB5L,GAAmBvE,EAAAQ;WAC/B0P,EAAAjF,cAAciF,EAAAlL,MAAMoL,WAAW7L;EAGpC8L,EAAuBrQ,EAAAQ;IACzByC,GAASkN,EAAclN,EAAMsB,QAAU0L,EAAA5K,OAAOC;EAGrCpF,EAAAoQ,YAAc1P,EAAAO,YAAYkP,GACrCE,GAAIJ,oEATAA,oGAIAE,sNChBOnQ,EAAAsQ,sBAAwB,kBACxBtQ,EAAAuQ,cAAgB,EAAChF,EAAgB9E,MAC5CU,KAAMnH,EAAAsQ,sBACN7E,SAAWF,OAAM9E,2FCHNzG,EAAAwQ,8BAAgC,yBAChCxQ,EAAAyQ,cAAiBC,MAC5BvJ,KAAMnH,EAAAwQ,8BACN/E,SAAWiF,6FCHA1Q,EAAA2Q,mBAAqB,qBACrB3Q,EAAA4Q,WAAcrF,MACzBpE,KAAMnH,EAAA2Q,mBACNlF,QAASF,mOCDX,MAAAsF,EAAA9Q,EAAAF,EAAA,MAMMiR,GAA+CC,WAAW,GAE1DC,GACJC,QAAS,YACTC,YAAcC,GAAkBA,EAAI7M,OAAO8M,SAASC,UAAY,YAOhE/M,OAAQwM,EAMRQ,UAAWR,EAOXS,MAAOT,EAOPU,SAAUV,EAQVW,QAASX,EAKTY,YAAab,EAAA5Q,QAKb0R,UACEV,QAAS,kBACTW,aAAA,MAEIC,aAAc,sBAUlBC,eAAgBhB,EAQhBiB,kBAAmBjB,EAKnBkB,mBAAoBlB,EAKpBmB,mBAAoBnB,EAEpBoB,aAAcpB,EAEdqB,eAAgBrB,EAQhBsB,YAAatB,EAEbuB,mBAAoBvB,IAGxB9Q,EAAAC,QAAe+Q,qLAxGfH,iHAMMC,wHAEAE,8QCVN,MAAA/O,EAAApC,EAAA,IAGA,SAAAyS,EAA6BnL,GAC3B,OAAOgK,GAAOlP,EAAAsQ,SAASpB,IAAQA,EAAIqB,OAASrL,EAG9C,SAAAsL,EAA2BtL,GACzB,OAAOgK,GAAOlP,EAAAsQ,SAASpB,IAAQA,EAAIqB,OAASrL,EAL9CnH,EAAAsS,eAIAtS,EAAAyS,6EAJAH,oHAIAG,+QCLA,MAAAxQ,EAAApC,EAAA,IAIM6S,GACJzB,QAAS,kBACTC,aAAa,EAEbhL,YAAYO,GACV,IAAIkM,EAAQ1Q,EAAAsQ,SAAS9L,IAAU5E,OAAO8Q,KAAKlM,OAE3C,OAAoB,KADpBkM,EAAOA,EAAKC,OAAO/F,GAAK5K,EAAAsQ,SAAS9L,EAAMoG,MAC9BF,QAGFgG,EAAKE,IAAIhG,IAAMA,KAGxB3G,aAAa4M,EAAQvH,EAAgBiC,GAGnC,MAAMzJ,EAAW9B,EAAAoH,IAAImE,EAAUjC,EAAK2B,MAAM,EAAG,IACvC6F,EAAexH,EAAK2B,MAAM,GAChC,OAAKnJ,GAIH8N,aAAc9N,EAASyO,KACvBO,eACAC,cAAezH,QAIrBmH,EAAuB,KAAOA,EAEjB1S,EAAAiT,iBACX/B,YAAYnN,GACHA,EAASyO,KAGlBtM,YAAYnC,GACV,MAAMQ,KAcN,OAZER,EAASmP,cACTrR,OAAO8Q,KAAK5O,EAASmP,cAAcvG,OAAS,GAE5C1K,EAAAI,QAAQ0B,EAASmP,aAAc,CAACJ,EAAGxQ,KAC7BL,EAAAsQ,SAASxO,EAASmP,aAAa5Q,KACjCiC,EAAS4O,MAAM,eAAgB7Q,MAIjCyB,EAASqP,WACX7O,EAAS4O,MAAM,cAEV5O,EAASoI,OAAS,GAAIpI,GAG/BwM,UAAUhN,IACD,EAGTkN,QAAS,kBACT/K,aAAa4M,EAAQvH,EAAgBiC,GAGnC,MAAMzJ,EAAW9B,EAAAoH,IAAImE,EAAUjC,GAC/B,OAAKxH,GAIH8N,aAAc9N,EAASyO,KACvBO,gBACAC,kBAAmBzH,EAAM,qBAI7B2H,cACEhC,aAAa,EAEbmC,IAAKX,oEA3EHA,8iBCNN,MAAAzO,EAAAxB,EAAA5C,EAAA,IAEA4D,EAAA5D,EAAA,GAEAW,EAAAX,EAAA,GAEAqE,EAAAnE,EAAAF,EAAA,KACAgL,EAAA9K,EAAAF,EAAA,KAIAyT,EAAAvT,EAAAF,EAAA,MACA0T,EAAAxT,EAAAF,EAAA,MACA2T,EAAAzT,EAAAF,EAAA,MACA4T,EAAA1T,EAAAF,EAAA,MACA6T,EAAA3T,EAAAF,EAAA,MACA8T,EAAA5T,EAAAF,EAAA,KACA+T,EAAA7T,EAAAF,EAAA,MACAgU,EAAA9T,EAAAF,EAAA,MACAiU,EAAA/T,EAAAF,EAAA,MACAkU,EAAAhU,EAAAF,EAAA,MAEA,SAAAmU,EACEC,EACAC,GAEA,MAAM1L,EAAO/E,EAAA0Q,YAAYF,EAASG,MAClC,OAAQ5L,GACN,KAAK/E,EAAA4Q,sBAAsBlL,MACzB,OAAQpG,GACNmR,EACEjQ,EAAAO,cAACqG,EAAA5K,SAAkBoE,OAAQ7D,EAAA2E,OAAOG,QAASiG,KAAMxI,EAAMwI,MAAI,gBAI3DtH,EAAAO,cAAC8O,EAAArT,QAAc4B,OAAAyS,UAAKvR,GAAOwR,QAASN,EAASO,SAAU,MAE7D,KAAK/Q,EAAA4Q,sBAAsBI,QACzB,OAAQ1R,GAA4BkB,EAAAO,cAAC+O,EAAAtT,QAAU4B,OAAAyS,UAAKvR,IACtD,KAAKU,EAAA4Q,sBAAsBK,KACzB,OAAQ3R,GACNkB,EAAAO,cAACmP,EAAA1T,QAAY4B,OAAAyS,UAAKvR,GAAO2D,SAAU,EAAGC,SAAU,OAEpD,KAAKlD,EAAA4Q,sBAAsBM,OACzB,OAAQ5R,GAA4BkB,EAAAO,cAACgP,EAAAvT,QAAU4B,OAAAyS,UAAKvR,IACtD,KAAKU,EAAA4Q,sBAAsBO,WACzB,OAAQ7R,GACNmR,EACEjQ,EAAAO,cAACqG,EAAA5K,SAAkBoE,OAAQ7D,EAAA2E,OAAOG,QAASiG,KAAMxI,EAAMwI,MAAI,qBAI3DtH,EAAAO,cAACiP,EAAAxT,QAAe4B,OAAAyS,QAACC,QAASN,EAASO,SAAU,IAAQzR,IAE3D,KAAKU,EAAA4Q,sBAAsBQ,OACzB,OAAQ9R,GACNkB,EAAAO,cAACmP,EAAA1T,QAAY4B,OAAAyS,UAAKvR,GAAO6D,UAAU,YAEvC,KAAKnD,EAAA4Q,sBAAsBS,YACzB,OAAQ/R,GACNkB,EAAAO,cAACkP,EAAAzT,QAAgB4B,OAAAyS,UAAKvR,GAAOgS,gBAAiBd,EAASpC,gBAE3D,KAAKpO,EAAA4Q,sBAAsBW,QACzB,OAAQjS,GACNmR,EACEjQ,EAAAO,cAACqG,EAAA5K,SAAkBoE,OAAQ7D,EAAA2E,OAAOG,QAASiG,KAAMxI,EAAMwI,MAAI,kBAI3DtH,EAAAO,cAAC8O,EAAArT,QAAc4B,OAAAyS,UAAKvR,GAAOwR,QAASN,EAASO,SAAU,MAE7D,KAAK/Q,EAAA4Q,sBAAsBY,MACzB,OAAQlS,GACNkB,EAAAO,cAACmP,EAAA1T,QAAY4B,OAAAyS,UAAKvR,GAAO6D,UAAU,WAEvC,KAAKnD,EAAA4Q,sBAAsBa,MACzB,OAAQnS,GACNkB,EAAAO,cAACmP,EAAA1T,QAAY4B,OAAAyS,UAAKvR,GAAO6D,UAAU,WAEvC,KAAKnD,EAAA4Q,sBAAsBc,MACzB,MAAO,IAAMlR,EAAAO,cAACN,EAAAjE,SAAKoE,OAAQ7D,EAAA2E,OAAOiQ,WAAS,cAC7C,KAAK3R,EAAA4Q,sBAAsBgB,KACzB,OAAQtS,GACNmR,EACEjQ,EAAAO,cAACqG,EAAA5K,SAAkBoE,OAAQ7D,EAAA2E,OAAOG,QAASiG,KAAMxI,EAAMwI,MAAI,gBAI3DtH,EAAAO,cAAC8O,EAAArT,QAAc4B,OAAAyS,UAAKvR,GAAOwR,QAASN,EAASO,SAAU,MAE7D,KAAK/Q,EAAA4Q,sBAAsBiB,KACzB,MAAO,IAAMrR,EAAAO,cAACN,EAAAjE,SAAKoE,OAAQ7D,EAAA2E,OAAOiQ,WAAS,aAC7C,KAAK3R,EAAA4Q,sBAAsBkB,MACzB,OAAQxS,GACNkB,EAAAO,cAACmP,EAAA1T,QAAY4B,OAAAyS,UAAKvR,GAAO2D,UAAW,IAAKC,SAAU,OAEvD,KAAKlD,EAAA4Q,sBAAsBmB,MACzB,OAAQzS,GACNkB,EAAAO,cAAC8O,EAAArT,QAAc4B,OAAAyS,UAAKvR,GAAOwR,QAASN,EAASO,SAAU,MAE3D,KAAK/Q,EAAA4Q,sBAAsBoB,OACzB,OAAQ1S,GACNkB,EAAAO,cAACmP,EAAA1T,QAAY4B,OAAAyS,UAAKvR,GAAO6D,UAAU,YAEvC,KAAKnD,EAAA4Q,sBAAsBqB,OACzB,OAAQ3S,GAA4BkB,EAAAO,cAACoP,EAAA3T,QAAS4B,OAAAyS,UAAKvR,IACrD,KAAKU,EAAA4Q,sBAAsBsB,OACzB,OAAQ5S,GACNkB,EAAAO,cAACmP,EAAA1T,QAAY4B,OAAAyS,UAAKvR,GAAO6D,UAAU,YAEvC,KAAKnD,EAAA4Q,sBAAsBuB,OACzB,OAAQ7S,GACNkB,EAAAO,cAACmP,EAAA1T,QAAY4B,OAAAyS,UAAKvR,GAAO6D,UAAU,YAEvC,KAAKnD,EAAA4Q,sBAAsBwB,OACzB,MAAO,IAAM5R,EAAAO,cAACN,EAAAjE,SAAKoE,OAAQ7D,EAAA2E,OAAOiQ,WAAS,eAC7C,KAAK3R,EAAA4Q,sBAAsByB,YACzB,OAAQ/S,GACNkB,EAAAO,cAACqG,EAAA5K,SAAkBoE,OAAQ7D,EAAA2E,OAAOG,QAASiG,KAAMxI,EAAMwI,UACnD0I,EAASpC,cAAgB,cACT,KAExB,KAAKpO,EAAA4Q,sBAAsB0B,QACzB,OAAOlC,EAAA5T,QACT,KAAKwD,EAAA4Q,sBAAsB2B,SACzB,OAAOlC,EAAA7T,QACT,KAAKwD,EAAA4Q,sBAAsB4B,QACzB,OAAOlC,EAAA9T,QACT,QACE,OAAOiW,EAAkB1N,IAI/B,SAAA0N,EAA2B/O,GACzB,MAAM,IAAIqI,oBAAoBrI,kBAhHhCnH,EAAAC,QAAA+T,2TAtBA/P,oHAMAC,qHACA2G,kIAIAyI,+HACAC,2HACAC,2HACAC,gIACAC,iIACAC,6HACAC,0HACAC,6HACAC,8HACAC,6HAEAC,mIA+GAkC,6RCrIA,MAAMC,GACJlO,MAAO,QACPmO,IAAK,UAGPpW,EAAAC,QAAekW,kEALTA,uTCAN,MAAAE,EAAAtW,EAAAF,EAAA,MACAG,EAAAC,QAAeoW,EAAApW,uLADfoW,8RCAA,MAAA9V,EAAAV,EAAA,IAYA,SAAAoL,EAA+BtG,GAC7B,OAAOpE,EAAA+V,SAAS,WAAa3R,EAAQ,aAH1B3E,EAAAsK,SAAW,EAAG,YAAa,aAExCtK,EAAAiL,6UCZA,MAAA1K,EAAAV,EAAA,IAEAkQ,EAAAlQ,EAAA,IAGM0W,GACJtW,QAAS,UACTuK,QAAS,UACTD,UAAW,UACXE,UAAW,UACX+L,KAAM,WAGFC,GACJxW,QAAS,QACTuK,QAAS,QACTD,UAAW,QACXE,UAAW,QACX+L,KAAM,SAGFE,GACJzW,QAAS,UACT0W,OAAQ,UACRtM,MAAO,WAGT,IAAYvF,EA8CZ,SAAAiG,EAA8B6L,GAC5B,OAAOrW,EAAA+V,SAAS,UAAYM,EAAO,UAAY9R,EAAM+R,gBA/CvD,SAAY/R,GACVA,EAAA,+BACAA,EAAA,+BACAA,EAAA,mCACAA,EAAA,mCACAA,EAAA,yBAEAA,EAAA,gDACAA,EAAA,gDACAA,EAAA,oDACAA,EAAA,oDACAA,EAAA,0CAEAA,EAAA,+BACAA,EAAA,6BACAA,EAAA,2BAEAA,EAAA,6BAjBF,CAAYA,EAAA9E,EAAA8E,QAAA9E,EAAA8E,WAmBZ,SAAiBA,GACCA,EAAAoL,WAAhB,SAA2B7L,EAAgByS,GACzC,OAAQzS,GACN,QACE,OAAOyS,EAAWhS,EAAMiS,sBAAwBjS,EAAM+R,cACxD,KAAK9G,EAAA5K,OAAOG,QACV,OAAOwR,EAAWhS,EAAMkS,sBAAwBlS,EAAMmS,cACxD,KAAKlH,EAAA5K,OAAO+R,UACV,OAAOJ,EAAWhS,EAAMqS,wBAA0BrS,EAAMsS,gBAC1D,KAAKrH,EAAA5K,OAAOiQ,UACV,OAAO0B,EAAWhS,EAAMuS,wBAA0BvS,EAAMwS,gBAC1D,KAAKvH,EAAA5K,OAAOE,KACV,OAAOyR,EAAWhS,EAAMyS,mBAAqBzS,EAAMC,aAZ3D,CAAiBD,EAAA9E,EAAA8E,QAAA9E,EAAA8E,WAiBJ9E,EAAAmK,QACX9F,OAAMxC,OAAAyS,UACDiC,GACHO,SAAUL,IAEZrM,GAAIsM,EAEJc,UAAW,WAGbxX,EAAA+K,gFApEMwL,4FAQAE,oGAQAC,gGAMM5R,qFA8CZiG,0PCzEA,MAAAxK,EAAAV,EAAA,IAgBA,SAAAsL,EAA+BsM,GAC7B,OAAOlX,EAAA+V,SAAS,SAAWmB,EAAQ,WAHxBzX,EAAA0X,OAAS,EAAG,EAAG,EAAG,GAE/B1X,EAAAmL,2UChBA,MAAA5K,EAAAV,EAAA,IAaA,SAAAwL,EAA8BtK,GAC5B,OAAOR,EAAA+V,SAAS,SAAWvV,EAAO,WAHvBf,EAAAe,OAAS,EAAG,EAAG,EAAG,IAE/Bf,EAAAqL,yUCbA,MAAAvL,EAAAD,EAAA,IAEAa,EAAAb,EAAA,IAIAmQ,EAAAnQ,EAAA,IAMM8X,EAAgBtT,GAAmBvE,EAAAQ;WAC9B0P,EAAAjF,cAAciF,EAAAlL,MAAMoL,WAAW7L,GAAQ;sBAC5B2L,EAAAjF,cAAciF,EAAAlL,MAAMoL,WAAW7L;EAG/CuT,EAAsB9X,EAAAQ;IACxByC,GAAUA,EAAMsB,OAASsT,EAAa5U,EAAMsB,aAAUwT;EAG7C7X,EAAA8X,WAAapX,EAAAO,YAAY2W,GACpCvH,GAAIsH,oEAVAA,kGAKAC,2MCfN,MAAArX,EAAAV,EAAA,IAQAC,EAAAD,EAAA,IAEAkY,EAAAlY,EAAA,IAKaG,EAAAgY,SAAWzX,EAAA0X,OACtBC,KAAM,WACNC,YAAa,cAMFnY,EAAAoY,UAAY7X,EAAA0X,OACvBC,KAAM,YACNC,YAAa,eAMFnY,EAAAqY,WAAa9X,EAAA0X,OACxBC,KAAM,aACNC,YAAa,gBAUFnY,EAAAY,KAAOd,EAAAQ;IAChByX,EAAA3H;IACA7P,EAAA+X;IACA/X,EAAAgY;IACAvY,EAAAgY;IACAhY,EAAAoY;IACApY,EAAAqY;6CC9CJ,SAAAG,EAEE7U,EAA+B4H,EAAgB9E,EAAYgS,GAC3D,OACEtR,KAAMnH,EAAA0Y,gDACNjN,SAAW9H,eAAc4H,OAAM9E,QAAOgS,UAS1C,SAAAE,EAEEhV,EAA+B4H,EAAgB9E,GAC/C,OACEU,KAAMnH,EAAA4Y,gDACNnN,SAAW9H,eAAc4H,OAAM9E,UASnC,SAAAoS,EAEElV,EAA+B4H,EAAgBkN,GAC/C,OACEtR,KAAMnH,EAAA8Y,iDACNrN,SAAW9H,eAAc4H,OAAMkN,UAYnC,SAAAM,EACEC,GAEA,OAAQA,EAAO7R,MACb,KAAKnH,EAAA0Y,gDACL,KAAK1Y,EAAA4Y,gDACL,KAAK5Y,EAAA8Y,iDACH,OAAO,EACT,QACE,OAAO,kGAxDA9Y,EAAA0Y,gDACX,6DACF1Y,EAAAwY,wCAYaxY,EAAA4Y,gDACX,6DACF5Y,EAAA2Y,wCAYa3Y,EAAA8Y,iDACX,8DACF9Y,EAAA6Y,wCAiBA7Y,EAAA+Y,qGA7CAP,wJAcAG,wJAcAE,wJAiBAE,2ZClDA,MAAAE,EAAAlZ,EAAAF,EAAA,MAEAoC,EAAApC,EAAA,IAMAgJ,EAAAhJ,EAAA,IAEA,SAAAgE,EACE7B,EACA4B,GAEA,GAA2B,UAAvB5B,EAAMT,aACR,OAAOS,EAGT,MAAMuJ,EAAO1C,EAAAmE,0BAA0BhL,GACvC,OAAKuJ,EAIE0N,EAAAhZ,QAAQ+B,EAAOA,IACpB,MAAM8B,EAAyB7B,EAAAoH,IAAIrH,EAAMN,QAAS6J,GAClD,GAAKzH,EAIL,OAAOF,EAASE,KATT9B,EAVXhC,EAAA6D,8LAVAoV,8FAUApV,+MCRa7D,EAAAkZ,qBAAuB,uCACvBlZ,EAAAmZ,aAAe,EAC1BC,EACAC,MAEAlS,KAAMnH,EAAAkZ,qBACNzN,SAAW2N,gBAAeC,mGCNfrZ,EAAAsZ,mCACX,iDACWtZ,EAAAuZ,yBAA2B,EACtCC,EACAC,MAEAtS,KAAMnH,EAAAsZ,mCACN7N,SAAW+N,YAAWC,kGCPXzZ,EAAA0Z,wBAA0B,sCAC1B1Z,EAAA2Z,gBAAmB3X,MAC9BmF,KAAMnH,EAAA0Z,wBACNjO,QAASzJ,oFCHEhC,EAAA4Z,kCACX,gDACW5Z,EAAA6Z,kBAAqBC,MAChC3S,KAAMnH,EAAA4Z,kCACNnO,QAASqO,oFCNE9Z,EAAA+Z,iCACX,+CACW/Z,EAAAga,iBAAmB,EAACC,EAAoBxT,MACnDU,KAAMnH,EAAA+Z,iCACNtO,SAAWwO,aAAYxT,2FCJZzG,EAAAka,kBAAoB,yCACpBla,EAAAma,SAAW,EAACC,EAAiBC,MACxClT,KAAMnH,EAAAka,kBACNzO,SAAW2O,UAASC,2FCDTra,EAAAsa,6BAA+B,wBAC/Bta,EAAAua,mBAAsBlN,MACjClG,KAAMnH,EAAAsa,6BACN7O,QAAS4B,oFCLErN,EAAAwa,qBAAuB,gBACvBxa,EAAAya,aAAe,OAC1BtT,KAAMnH,EAAAwa,uGCAKxa,EAAA0a,oBAAsB,sBACtB1a,EAAA2a,YAAe/Y,MAC1BuF,KAAMnH,EAAA0a,oBACNjP,QAAS7J,oFCLE5B,EAAA4a,oBAAsB,gBACtB5a,EAAA6a,YAAeC,MAC1B3T,KAAMnH,EAAA4a,oBACNnP,QAASqP,6MCHX5a,EAAAL,EAAA,4QCAaG,EAAA+a,oBAAsB,gBACtB/a,EAAAgb,YAAeC,MAC1B9T,KAAMnH,EAAA+a,oBACNtP,QAASwP,+ICDX,MAAMC,EAAwBlZ,GAAoBA,EAAMT,aACxDvB,EAAAC,QAAeib,kEADTA,mbCAN,MAAA1a,EAAAiC,EAAA5C,EAAA,IAQAY,EAAAZ,EAAA,GAOMsb,EAAS3a,EAAAP,QAA8B;IACzCQ,EAAAqX;;mBAEetX,EAAA2K,eAAc;YACrB3K,EAAA6K,cAAa;eACVtI,GAAStC,EAAAyJ,SAASnH,GAAOqY,UAAS;EAEjDD,EAAOna,YAAc,SACrBma,EAAO1V,cACLpB,OAAQ5D,EAAA0E,OAAOC,SAGjBpF,EAAAC,QAAekb,6JA3Bf3a,sFAeM2a,sUCjBN,MAAA1X,EAAA5D,EAAA,GAIAwb,EAAAtb,EAAAF,EAAA,MAEaG,EAAAsb,mBACXpV,YAAYiL,GACV,MAAMoK,EAAa9X,EAAAO,YAAYmN,EAAK1N,EAAA+X,mBAOpC,UALGD,GACCA,EAAWrI,cACXqI,EAAWrI,aAAauI,YAC1B,qBACctK,EAAIuK,SAAS7O,EAAE8O,QAAQ,OAAOxK,EAAIuK,SAASE,EAAED,QAAQ,SAIvEzV,YAAYpC,GACV,MAAM+X,UAAEA,GAAc/X,EACtB,OAAK+X,EAIEA,EAAUhJ,IAAI,CAACC,EAAGhG,KAAO,eAAgBA,UAGlDmE,QAAS,sBAET4K,WACE3K,aAAa,EACbmC,IAAKgI,EAAApb,4NA3BTob,+XCJA,MAAAS,EAAA/b,EAAAF,EAAA,MACAG,EAAAC,QAAe6b,EAAA7b,8KADf6b,yuCCAA,MAAA7X,MAAAxB,aAAA5C,oBAAA,IAEA+F,kBAAA/F,oBAAA,IAEAW,QAAAT,gBAAAF,oBAAA,IAEAkG,QAAAlG,oBAAA,IAEMkc,cAAgBvb,QAAAP,QAAkC;IACpD8F,QAAAkE;QAcJ+R,eAAoC/X,MAAMgC,UACxCC,SACE,MAAM+V,EAAA7V,KAAArD,OAAAmZ,QAAEA,EAAFzV,MAAWA,EAAXlC,SAAkBA,EAAlB+C,SAA4BA,GAAQ2U,EAAEE,EAAAC,OAAAH,GAAA,0CAC5C,OACEhY,MAAAO,cAACuX,cAAala,OAAAyS,UAAK6H,GAAM1V,MAAOA,EAAOa,SAAUlB,KAAKiW,YACnDH,EAAQrJ,IAAIhG,GACX5I,MAAAO,cAAA,UAAQlC,IAAKuK,EAAEpG,MAAOA,MAAOoG,EAAEpG,OAC5BoG,EAAEyP,SAQLpW,UAAU0B,GAChB,MAAMN,SAAEA,GAAalB,KAAKrD,MAE1BuE,EADcM,EAAEC,OAAOpB,OAjBqCP,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAe9DE,YADC9C,kBAAA+C,yCAKA,MAnBH3I,QAAAC,QAAA+b,6fAvBA/X,yFAIAzD,6FAIMub,yGAeNC,+8BCvBA,MAAA/X,MAAAxB,aAAA5C,oBAAA,IAEA+F,kBAAA/F,oBAAA,IAEAgG,OAAA9F,gBAAAF,oBAAA,KAEAkG,QAAAhG,gBAAAF,oBAAA,WAcA0c,kBAAuCtY,MAAMgC,UAG3CC,YAAYnD,GACVoD,MAAMpD,GAHAqD,KAAAoW,UAAYvY,MAAMqC,YAKxBF,KAAKpE,OACHuE,UAAW,KACXkW,SAAS,GAIbvW,SACE,MAAMO,MAAEA,EAAFiW,UAASA,EAATC,UAAoBA,GAAcvW,KAAKrD,OACvCwD,UAAEA,GAAcH,KAAKpE,MAErB6E,EAA4B,MAAbN,EAAoBA,EAAYE,EAErD,OACExC,MAAAO,cAACuB,QAAA9F,SACCiH,SAAUd,KAAKoW,UACfrV,KAAK,OACLuV,UAAWA,EACXC,UAAWA,EACXlW,MAAOI,EACPS,SAAUlB,KAAKmB,eACfC,WAAYpB,KAAKqB,iBACjBC,OAAQtB,KAAKuB,eAMXzB,eAAe0B,GACrB,MAAMnB,EAAQmB,EAAEC,OAAOpB,MACvBL,KAAKwW,cAAcnW,GAIbP,iBAAiB0B,GACnBA,EAAEtF,MAAQuD,OAAA5F,QAAKgI,OACjB7B,KAAK8B,cAKDhC,eACNE,KAAK8B,cAGChC,cAAcO,GACpB,MAAMoW,EAAazW,KAAK0W,UAAUrW,GAC5BgW,GAAWI,EAEbzW,KAAKoW,UAAUpU,SACjBhC,KAAKoW,UAAUpU,QAAQL,kBAAkB8U,GAAc,IAGzDzW,KAAK4B,UACHzB,UAAWE,EACXgW,YAIIvW,cACN,MAAMK,UAAEA,EAAFkW,QAAaA,GAAYrW,KAAKpE,OAC9BmG,SAAEA,GAAa/B,KAAKrD,MAE1BqD,KAAK4B,UACHzB,UAAW,OAGRA,GAAckW,GAInBtU,EAAS5B,GAGHL,UAAUO,GAChB,MAAMiW,UAAEA,EAAFC,UAAaA,GAAcvW,KAAKrD,MACtC,OAAiB,MAAb2Z,KAAuBjW,GAASA,EAAMkG,OAAS+P,6BAChBA,gBAGlB,MAAbC,GAAqBlW,EAAMkG,OAASgQ,6BACJA,gBAG7B,KAzFyDzW,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAiClEE,YADC9C,kBAAA+C,iDAIA,MAGDD,YADC9C,kBAAA+C,mDAKA,MAGDD,YADC9C,kBAAA+C,+CAGA,MAhDH3I,QAAAC,QAAAsc,8aApBAtY,4FAIA4B,8FAEAE,gGAcAwW,0hBCpBA,MAAAQ,EAAAhd,EAAAF,EAAA,MACAU,EAAAV,EAAA,IAEAW,EAAAiC,EAAA5C,EAAA,IAQAkG,EAAAlG,EAAA,IAQA,SAAAmd,EAA6Bja,GAC3B,MAAM6T,EAAQpW,EAAAuK,cAAcvK,EAAAsE,MAAMoL,WAAW1P,EAAA2E,OAAOG,SAAtC9E,CAAgDuC,GAE9D,OADgBka,mBAAmBrG,GANrC/W,EAAA,KAUA,MAAMqd,EAAY1c,EAAAP,QAAkD8c,EAAA9c;;MAE9DM,EAAAkE;MACAlE,EAAAmE;;;;;;;MAOAqB,EAAAkE;;;;MAIAzJ,EAAA6D,OAAOgM,GAAG7P,EAAA2E,OAAO+R;wBACC1W,EAAAuK,cAAcvK,EAAAsE,MAAMqY;;;;;;MAMtC3c,EAAA6D,OAAOgM,GAAG7P,EAAA2E,OAAOG;;;;;sHAK+F0X;;;;;;;;sHAQAA;;;;;;;MAOhHxc,EAAA6D,OAAOgM,GAAG7P,EAAA2E,OAAOC;;EAIvB8X,EAAUlc,YAAc,YACxBkc,EAAUzX,gBAQVzF,EAAAC,QAAeid,uRA/EfH,0GAGAvc,oGAgBAwc,gHAMME,ggBCzBN,MAAAjZ,EAAAxB,EAAA5C,EAAA,IAIA+C,EAAA7C,EAAAF,EAAA,KACAqE,EAAAnE,EAAAF,EAAA,KAEMud,EAA0B,EAAG7Y,cACjCN,EAAAO,cAAC5B,EAAA3C,SAAIwE,MAAM,OAAO5D,UAAU,WAAWwc,GAAE,GACvCpZ,EAAAO,cAACN,EAAAjE,SAAKqY,SAAQ,EAAoBC,WAAW,QAC1ChU,IAIP6Y,EAAapc,YAAc,eAC3BhB,EAAAC,QAAemd,iVAffnZ,+HAIArB,+HACAsB,gIAEMkZ,mSCLN,MAAME,EAAoBtb,GAAoBA,EAAMJ,SACpD5B,EAAAC,QAAeqd,kEADTA,kVCFN,MAAAC,EAAAxd,EAAAF,EAAA,MACAG,EAAAC,QAAesd,EAAAtd,uOADfsd,0/BCAA,MAAAtZ,MAAAxB,aAAA5C,oBAAA,IACA+F,kBAAA/F,oBAAA,IAEA+P,OAAA7P,gBAAAF,oBAAA,KACA2d,aAAAzd,gBAAAF,oBAAA,WAkBA4d,sBAA2CxZ,MAAMgC,UAC/CC,YAAYnD,GACVoD,MAAMpD,GACNqD,KAAKpE,OACH0b,UAAgC,OAArBtX,KAAKrD,MAAM0D,OAI1BP,0BAA0BnD,GACxB,IAAI2a,EAA4B,OAAhB3a,EAAM0D,MAClBiX,IAActX,KAAKpE,MAAM0b,WAC3BtX,KAAK4B,UACH0V,cAKNxX,SACE,MAAMwX,UAAEA,GAActX,KAAKpE,OACrB2b,UAAEA,EAAFC,WAAaA,GAAexX,KAAKrD,MAEvC,IAAI8a,EAAkC,KACtC,GAAIH,EAAW,CACb,MAAMI,YAAEA,EAAF3V,SAAeA,EAAf4V,aAAyBA,GAAiB3X,KAAKrD,MAErD8a,EAAUC,GAAcrX,MADVL,KAAKrD,MAAM0D,OAASuX,QAAQD,GACX5V,kBACtByV,IACTC,EAAUG,QAAQJ,IAGpB,OACE3Z,MAAAO,cAACoL,OAAA3P,SAAK0d,UAAWA,EAAWpa,UAAU,OACpCU,MAAAO,cAACgZ,aAAAvd,SAAWwG,MAAOiX,EAAWvV,SAAU/B,KAAK6X,oBAC5CJ,GACC5Z,MAAAO,cAACoL,OAAA3P,QAAKuD,MAAKR,MAAI,EAACC,QAAM,GACnB4a,IAQH3X,kBAAkBO,GACxB,MAAMsX,aAAEA,EAAF5V,SAAgBA,GAAa/B,KAAKrD,MACxCqD,KAAK4B,UACH0V,UAAWjX,IAGX0B,EADE1B,EACOsX,EAEA,MAnDyD7X,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAwDxE,SAAAwV,QAAoBvX,GAClB,MAAqB,mBAAVA,EACFA,IAEFA,EAjBPiC,YADC9C,kBAAA+C,wDAWA,MArDH3I,QAAAC,QAAAwd,8bAtBAxZ,gGAGA2L,kGACA4N,8GAkBAC,gHAwDAO,k6BC9EA,MAAA/Z,MAAAxB,aAAA5C,oBAAA,IAEAqe,SAAAne,gBAAAF,oBAAA,YAYAse,oBAAyCla,MAAMgC,UAK7CC,SACE,MAAM+V,EAAA7V,KAAArD,OAAA0D,MAAEA,EAAFyV,QAASA,EAAT/T,SAAkBA,GAAQ8T,EAAElZ,EAAAqZ,OAAAH,GAAA,+BAElC,OACEhY,MAAAO,cAAC0Z,SAAAje,QAAM4B,OAAAyS,UAAKvR,GAAO0D,MAAOA,EAAOyV,QAASA,EAAS5U,SAAUa,KATJjC,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OACtD2V,YAAA1Y,cACL2Y,WAAW,GAFfpe,QAAAC,QAAAke,8aAdAla,8FAEAia,oGAYAC,qkBCdA,MAAAla,EAAAxB,EAAA5C,EAAA,IACAwe,EAAA5b,EAAA5C,EAAA,KAEAye,EAAAve,EAAAF,EAAA,MAEAA,EAAA,GAEA,MAAA0e,EAAAxe,EAAAF,EAAA,MAEM2e,EAASC,SAASC,eAAe,QACnCF,IACFF,EAAAre,QAAM0e,cAAcH,GACpBH,EAASO,OAAO3a,EAAAO,cAAC+Z,EAAAte,QAAI,MAAKue,uOAZ5Bva,yEACAoa,4EAEAC,iFAIAC,0EAEMC,kICRN,IAAAK,EAAAhf,EAAA,KAEA,iBAAAgf,QAAAC,EAAAhS,EAAA+R,EAAA,MAOA,IAAA3C,GAAe6C,KAAA,EAEfC,eAPAA,EAQAC,gBAAApH,GAEAhY,EAAA,IAAAA,CAAAgf,EAAA3C,GAEA2C,EAAAK,SAAAJ,EAAA9e,QAAA6e,EAAAK,0BCjBAJ,EAAA9e,QAAAH,EAAA,IAAAA,EAAA,IAKAsT,MAAA2L,EAAAhS,EAAA,yJAA8K,iNCL9K5M,EAAAL,EAAA,MACAK,EAAAL,EAAA,MACAK,EAAAL,EAAA,KACAK,EAAAL,EAAA,MACAK,EAAAL,EAAA,MACAK,EAAAL,EAAA,MACAK,EAAAL,EAAA,2TCNA,MAAAC,EAAAD,EAAA,IAEAa,EAAAb,EAAA,IAIAmQ,EAAAnQ,EAAA,IAQMsf,EAAW,CAAChY,EAAcyP,EAAca,IAAoB3X,EAAAQ;YACtD0P,EAAA/E,eAAe9D;kBACT6I,EAAAjF,cAAc6L;IAC5Ba,oBAA2BzH,EAAA7E,eAAesM,UAAYI;EAGpDuH,EAAkBtf,EAAAQ;IACpByC,GACgB,MAAhBA,EAAM4B,kBACSqL,EAAA/E,eAAelI,EAAM4B,OAArBqL,CAA6BjN,UACxC8U;;IAEJ9U,GACqB,MAArBA,EAAM8B,6BACemL,EAAAjF,cAAchI,EAAM8B,YAApBmL,CAAiCjN,UAClD8U;;IAEJ9U,GACsB,MAAtBA,EAAM6B,+BACgBoL,EAAA7E,eAAepI,EAAM6B,aAArBoL,CAAmCjN,YACrD8U;EAGK7X,EAAA2E,OAASjE,EAAAO,YAAYme,GAChC/O,GAAI8O,oEAxBAA,yFAMAC,6PCpBN,MAAA7e,EAAAV,EAAA,IAEAmL,EAAAnL,EAAA,KACAiL,EAAAjL,EAAA,KACAwf,EAAAxf,EAAA,KACAqL,EAAArL,EAAA,KACAuL,EAAAvL,EAAA,KAaA,SAAAqK,EAAyBnH,GACvB,OAAOA,EAAMuc,OAAStf,EAAAsf,MAGxB,SAAAC,EACEC,EACAzB,GAEA,OAAQhb,IACN,GAAsB,iBAAXyc,EACT,OAAOjf,EAAA+V,SAASkJ,EAAQzB,GAG1B,MAAM0B,EAAMD,EAAOtV,EAASnH,IAC5B,YAAY8U,IAAR4H,EACK1B,EAEF0B,GA3BEzf,EAAAsf,OACXhV,QAAAU,EAAAV,QACAH,OAAAW,EAAAX,OACAiR,UAAAiE,EAAAjE,UACA1D,MAAAxM,EAAAwM,MACA3W,MAAAqK,EAAArK,OAKFf,EAAAkK,WAIAlK,EAAAuf,+EAJArV,uFAIAqV,gMCbavf,EAAAob,WAAa,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,+ICV9D,MAAAtb,EAAAD,EAAA,IAEAa,EAAAb,EAAA,IAEAkQ,EAAAlQ,EAAA,IAEAmQ,EAAAnQ,EAAA,IAaMsf,EAAY9a,GAAmBvE,EAAAQ;YACzB0P,EAAA/E,eAAc;kBACR+E,EAAAjF,cAAciF,EAAAlL,MAAMoL,WAAW7L;IAC7CA,IAAW0L,EAAA5K,OAAOC,0BACE4K,EAAA7E,eAAc,UAChC0M;EAGAuH,EAAkBtf,EAAAQ;IACpByC,GAAUA,EAAMsB,OAAS8a,EAASpc,EAAMsB,aAAUwT;EAGzC7X,EAAAwF,aAAe9E,EAAAO,YAAYme,GACtC/O,GAAI8O,oEAbAA,gGAQAC,oQC3BN,MAAAtf,EAAAD,EAAA,IAEAa,EAAAb,EAAA,IAIAkY,EAAAlY,EAAA,IACA6f,EAAA7f,EAAA,KAMM8f,EAAW,CAACtb,EAAgBub,GAAgB,IAAU9f,EAAAQ;IACxDsf,EAAOF,EAAA5H,WAAWzH,GAAGhM,GAAU0T,EAAA3H,YAAYC,GAAGhM;EAG5Cwb,EAAkB/f,EAAAQ;IACpByC,IACA,GAAoB,MAAhBA,EAAMsB,OAGV,OAAOtB,EAAM2C,WAAaga,EAAA5H,WAAaC,EAAA3H;EAI9BpQ,EAAAqE,OAAS3D,EAAAO,YAAY4e,GAChCxP,GAAIsP,oEAdAA,yFAIAE,kMCjBN,MAAAC,EAAAjgB,EAAA,KACAC,EAAAD,EAAA,IAIaG,EAAA+f,KAAOjgB,EAAAQ;IAChBwf,EAAAlf;;;yYCNJ,MAAAqD,EAAAxB,EAAA5C,EAAA,IACAmgB,EAAAngB,EAAA,GACA+J,EAAA/J,EAAA,IAEAW,EAAAX,EAAA,GAEAogB,EAAAlgB,EAAAF,EAAA,MAEAqgB,EAAAngB,EAAAF,EAAA,MAEMsgB,EAAkB,IACtBlc,EAAAO,cAACoF,EAAAwW,UAASC,MAAOJ,EAAAhgB,SACfgE,EAAAO,cAAChE,EAAAJ,eAAckf,MAAO9e,EAAA8e,OACpBrb,EAAAO,cAAC0b,EAAAjgB,QAAG,QAKVD,EAAAC,QAAe+f,EAAAM,IAAIxB,EAAJkB,CAAYG,oOAlB3Blc,wEAMAgc,0EAEAC,wEAEMC,oOCVN,MAEME,EAFNxgB,EAAA,KAEc0gB,cACdvgB,EAAAC,QAAeogB,kEADTA,+TCFN,MAAAG,EAAA3gB,EAAA,IAMA4gB,EAAA1gB,EAAAF,EAAA,KAEA6gB,EAAA3gB,EAAAF,EAAA,MACA8gB,EAAA5gB,EAAAF,EAAA,MAEA+gB,EAAA/gB,EAAA,KAEA,SAAA0gB,IACE,MAAMM,EACHC,OAAOC,sCACND,OAAOC,sCACLC,gBAAAJ,EAAAI,gBACAC,eAAAL,EAAAK,kBAEJT,EAAAU,QAEIC,EAAiBV,EAAAxgB,UAEjBogB,EAAQG,EAAAD,YACZG,EAAAzgB,QACA4gB,EAAiBL,EAAAY,gBAAgBD,KAGnC,OADAA,EAAeE,IAAIV,EAAA1gB,SACZogB,EAhBTrgB,EAAAugB,sKAPAE,qFAEAC,kFACAC,+EAIAJ,qUCZA,MAAAe,EAAAvhB,EAAAF,EAAA,KAIAwb,EAAAtb,EAAAF,EAAA,MACAgJ,EAAA9I,EAAAF,EAAA,MAEA0hB,EAAAxhB,EAAAF,EAAA,MACA2hB,EAAAzhB,EAAAF,EAAA,MACA4hB,EAAA1hB,EAAAF,EAAA,MACA6hB,EAAA3hB,EAAAF,EAAA,MACA8hB,EAAA5hB,EAAAF,EAAA,MACA+hB,EAAA7hB,EAAAF,EAAA,MAEMgiB,GACJxG,EAAApb,QACA4I,EAAA5I,QACAshB,EAAAthB,QACAuhB,EAAAvhB,QACAwhB,EAAAxhB,QACAyhB,EAAAzhB,QACA0hB,EAAA1hB,QACA2hB,EAAA3hB,SAGFD,EAAAC,QAAeqhB,EAAArhB,WAAiC4hB,6JAzBhDP,4FAIAjG,sFACAxS,wFAEA0Y,0FACAC,2FACAC,mGACAC,4FACAC,wFACAC,yFAEMC,oUCfN,MAAAP,EAAAvhB,EAAAF,EAAA,KAIAiiB,EAAA/hB,EAAAF,EAAA,MACAkiB,EAAAhiB,EAAAF,EAAA,MACAmiB,EAAAjiB,EAAAF,EAAA,MACAoiB,EAAAliB,EAAAF,EAAA,MACAqiB,EAAAniB,EAAAF,EAAA,MACAsiB,EAAApiB,EAAAF,EAAA,MACAuiB,EAAAriB,EAAAF,EAAA,MACAwiB,EAAAtiB,EAAAF,EAAA,MAEMgiB,GACJC,EAAA7hB,QACA8hB,EAAA9hB,QACA+hB,EAAA/hB,QACAgiB,EAAAhiB,QACAiiB,EAAAjiB,QACAkiB,EAAAliB,QACAmiB,EAAAniB,QACAoiB,EAAApiB,SAGFD,EAAAC,QAAeqhB,EAAArhB,WAAiC4hB,uKAxBhDP,sGAIAQ,0HACAC,oGACAC,uHACAC,0GACAC,uGACAC,0GACAC,0GACAC,uGAEMR,0PCXN,MAAA5f,EAAApC,EAAA,IAEAyiB,EAAAziB,EAAA,IAEAiiB,EAAAjiB,EAAA,KAOAa,EAAAb,EAAA,IAEA,SAAA0iB,EACEvgB,EAAkBsgB,EAAAhhB,gBAClB0X,GAEA,IAAK8I,EAAA/I,mCAAmCC,GACtC,OAAOhX,EAGT,MAAM2B,aAAEA,EAAF4H,KAAgBA,GAASyN,EAAOvN,QAEtC,OAAO/K,EAAAgD,oBAAoB1B,EAAO2B,EAAcI,IAC9C,MAAMye,EAAQvgB,EAAAoH,IAAItF,EAAUwH,GAC5B,OAAQyN,EAAO7R,MACb,KAAK2a,EAAApJ,gDAAiD,CACpD,MAAMjS,MAAEA,EAAFgS,MAASA,GAAUO,EAAOvN,QAMhC,YALa,MAATgN,EACF+J,EAAMC,OAAOhK,EAAO,EAAGhS,GAEvB+b,EAAMrP,KAAK1M,IAIf,KAAKqb,EAAAlJ,gDAAiD,CACpD,MAAMnS,MAAEA,GAAUuS,EAAOvN,QACnBgN,EAAQ+J,EAAME,QAAQjc,GAI5B,YAHIgS,GAAS,GACX+J,EAAMC,OAAOhK,EAAO,IAIxB,KAAKqJ,EAAAhJ,iDAAkD,CACrD,MAAML,MAAEA,GAAUO,EAAOvN,QACzB,GAAIgN,EAAQ,GAAKA,GAAS+J,EAAM7V,OAC9B,OAGF,YADA6V,EAAMC,OAAOhK,EAAO,OAnC5BzY,EAAAC,QAAAsiB,+bCfA,MAAA9e,EAAA5D,EAAA,GAMAyiB,EAAAziB,EAAA,IAEAkiB,EAAAliB,EAAA,KAIAa,EAAAb,EAAA,IAEA,SAAA8iB,EACE3gB,EAAkBsgB,EAAAhhB,gBAClB0X,GAEA,OAAIA,EAAO7R,OAAS4a,EAAA7I,qBACXlX,EAGFtB,EAAAgD,oBAAoB1B,EAAOyB,EAAAmf,qBAAsB7e,IACtD,MAAMsV,cAAEA,EAAFD,cAAiBA,GAAkBJ,EAAOvN,SAC1CoX,YAAEA,GAAgB9e,EAASmP,aAE3B4P,EAAiBrf,EAAAsf,wBAAwBF,EAAazJ,GAE5D,GAAsB,OAAlBC,EAGF,YADAwJ,EAAYJ,OAAOK,EAAgB,GAIrC,MAAME,EAAevf,EAAAwf,UAAU5J,IAEP,IAApByJ,EAEFD,EAAY1P,KAAK6P,GAGjBH,EAAYC,GAAkBE,IA3BpChjB,EAAAC,QAAA0iB,+UCdA,MAAA1gB,EAAApC,EAAA,IAEAyiB,EAAAziB,EAAA,IAEAmiB,EAAAniB,EAAA,IAKAa,EAAAb,EAAA,IAEA,SAAAqjB,EACElhB,EAAkBsgB,EAAAhhB,gBAClB0X,GAEA,GAAIA,EAAO7R,OAAS6a,EAAAxW,wCAClB,OAAOxJ,EAGT,MAAM2B,aAAEA,EAAF4H,KAAgBA,EAAhB9E,MAAsBA,GAAUuS,EAAOvN,QAE7C,OAAO/K,EAAAgD,oBAAoB1B,EAAO2B,EAAcI,IAC9C9B,EAAAkhB,IAAIpf,EAAUwH,EAAM9E,KAXxBzG,EAAAC,QAAAijB,mXCXA,MAAAzf,EAAA5D,EAAA,GAEAyiB,EAAAziB,EAAA,IAEAoiB,EAAApiB,EAAA,KAKAa,EAAAb,EAAA,IAEA,SAAAujB,EACEphB,EAAkBsgB,EAAAhhB,gBAClB0X,GAEA,OAAIA,EAAO7R,OAAS8a,EAAA3I,mCACXtX,EAGFtB,EAAAgD,oBAAoB1B,EAAOyB,EAAA4f,uBAAwBtf,IACxD,MAAMyV,UAAEA,EAAFC,aAAaA,GAAiBT,EAAOvN,QAC3C1H,EAASmP,aAAaoQ,UAAY9J,EAClCzV,EAASmP,aAAauG,aAAeA,IAXzCzZ,EAAAC,QAAAmjB,0VCXA,MAAA3f,EAAA5D,EAAA,GAEAyiB,EAAAziB,EAAA,IAEAqiB,EAAAriB,EAAA,KAKAa,EAAAb,EAAA,IAEA,SAAA0jB,EACEvhB,EAAkBsgB,EAAAhhB,gBAClB0X,GAEA,OAAIA,EAAO7R,OAAS+a,EAAAxI,wBACX1X,EAGFtB,EAAAgD,oBAAoB1B,EAAOyB,EAAA+f,eAAgBzf,IAChDA,EAASmP,aAAauQ,MAAQzK,EAAOvN,UATzCzL,EAAAC,QAAAsjB,oVCXA,MAAA9f,EAAA5D,EAAA,GAEAyiB,EAAAziB,EAAA,IAEAsiB,EAAAtiB,EAAA,KAKAa,EAAAb,EAAA,IAEA,SAAA6jB,EACE1hB,EAAkBsgB,EAAAhhB,gBAClB0X,GAEA,OAAIA,EAAO7R,OAASgb,EAAAvI,kCACX5X,EAGFtB,EAAAgD,oBAAoB1B,EAAOyB,EAAAkgB,uBAAwB5f,IACxDA,EAASmP,aAAa4G,OAASd,EAAOvN,QACtC1H,EAASmP,aAAa0Q,gBAAkB5K,EAAOvN,UAVnDzL,EAAAC,QAAAyjB,0VCXA,MAAAjgB,EAAA5D,EAAA,GAEAyiB,EAAAziB,EAAA,IAEAuiB,EAAAviB,EAAA,KAKAa,EAAAb,EAAA,IAEA,SAAAgkB,EACE7hB,EAAkBsgB,EAAAhhB,gBAClB0X,GAEA,OAAIA,EAAO7R,OAASib,EAAArI,iCACX/X,EAGFtB,EAAAgD,oBAAoB1B,EAAOyB,EAAAqgB,wBAAyB/f,IACzD,MAAMkW,WAAEA,EAAFxT,MAAcA,GAAUuS,EAAOvN,QACrC,IAAK1H,EAASqP,UACZ,OAEF,MAAM2Q,EAAShgB,EAASqP,UAAU4Q,QAAQC,KAAKpX,GAAKA,EAAE2F,OAASyH,GAC1D8J,IAGLA,EAAOtd,MAAMA,MAAQA,KAjBzBzG,EAAAC,QAAA4jB,0VCXA,MAAApgB,EAAA5D,EAAA,GAEAyiB,EAAAziB,EAAA,IAEAwiB,EAAAxiB,EAAA,KAKAa,EAAAb,EAAA,IAEA,SAAAqkB,EACEliB,EAAkBsgB,EAAAhhB,gBAClB0X,GAEA,OAAIA,EAAO7R,OAASkb,EAAAnI,kBACXlY,EAGFtB,EAAAgD,oBAAoB1B,EAAOyB,EAAA0gB,iBAAkBpgB,IAClD,MAAMqW,QAAEA,EAAFC,MAAWA,GAAUrB,EAAOvN,SAC5B2Y,SAAEA,GAAargB,EAASmP,aACxBuF,EAAQ2L,EAASC,UAAUxX,GAAKA,IAAMuN,IAC7B,IAAX3B,EACG4B,GACH+J,EAAS3B,OAAOhK,EAAO,GAGrB4B,GACF+J,EAASjR,KAAKiH,KAlBtBpa,EAAAC,QAAAikB,kaCXA,MAAA5C,EAAAvhB,EAAAF,EAAA,KAIAykB,EAAAvkB,EAAAF,EAAA,MAEMgiB,GAAYyC,EAAArkB,SAElBD,EAAAC,QAAeqhB,EAAArhB,WAAiC4hB,yKARhDP,wGAIAgD,kGAEMzC,4PCNN,MAAAS,EAAAziB,EAAA,IAEAykB,EAAAzkB,EAAA,KAKAa,EAAAb,EAAA,KAEA,SAAA0kB,EACEviB,EAAkBsgB,EAAAhhB,gBAClB0X,GAEA,OAAIA,EAAO7R,OAASmd,EAAAhK,6BACXtY,EAGFtB,EAAAmD,sBAAsB7B,EAAO8B,IAClC,MAAM+I,EAAEA,EAAF+O,EAAKA,EAAL4I,EAAQA,GAAMxL,EAAOvN,QAC3B3H,EAAWuJ,MAAMR,EAAIA,EACrB/I,EAAWuJ,MAAMuO,EAAIA,EACrB9X,EAAWuJ,MAAMmX,EAAIA,IAZzBxkB,EAAAC,QAAAskB,mVCTA,MAAAjC,EAAAziB,EAAA,IAEA0hB,EAAA1hB,EAAA,KAKA,SAAA4kB,EACEziB,EAAkBsgB,EAAAhhB,gBAClB0X,GAEA,OAAIA,EAAO7R,OAASoa,EAAA/G,qBACXxY,EAGTH,OAAAyS,UACKtS,GACHP,MAAO,OAVXzB,EAAAC,QAAAwkB,yZCPA,MAAAxL,EAAAlZ,EAAAF,EAAA,MAEAoC,EAAApC,EAAA,IAEAyiB,EAAAziB,EAAA,IAEA2hB,EAAA3hB,EAAA,IAKA,SAAA6kB,EACE1iB,EAAkBsgB,EAAAhhB,gBAClB0X,GAEA,GAAIA,EAAO7R,OAASqa,EAAAlR,sBAClB,OAAOtO,EAGT,MAAMT,aAAEA,EAAFG,QAAgBA,GAAYM,EAClC,GAAqB,UAAjBT,IAA6BG,EAC/B,OAAOM,EAGT,MAAMuJ,KAAEA,EAAF9E,MAAQA,GAAUuS,EAAOvN,QAE/B,OAAOwN,EAAAhZ,QAAQ+B,EAAO2iB,IACpB1iB,EAAAkhB,IAAIwB,EAAMjjB,QAAU6J,EAAM9E,KAhB9BzG,EAAAC,QAAAykB,qKAXAzL,2FAWAyL,qQCXA,MAAApC,EAAAziB,EAAA,IAEA4hB,EAAA5hB,EAAA,IAKA,SAAA+kB,EACE5iB,EAAkBsgB,EAAAhhB,gBAClB0X,GAEA,OAAIA,EAAO7R,OAASsa,EAAAjR,8BACXxO,EAGTH,OAAAyS,UACKtS,GACHR,uBAAwBwX,EAAOvN,QAAQiF,UAV3C1Q,EAAAC,QAAA2kB,+UCPA,MAAAlD,EAAA7hB,EAAA,IAMAyiB,EAAAziB,EAAA,IAEA,SAAAglB,EACE7iB,EAAkBsgB,EAAAhhB,gBAClB0X,GAEA,OAAQA,EAAO7R,MACb,KAAKua,EAAAhW,6BACH,OAAA7J,OAAAyS,UACKtS,GACHP,MAAO,KACPF,aAAcyX,EAAOvN,QAAQG,UAC7BpK,uBAAwB,KACxBG,gBACAD,QAASsX,EAAOvN,QAAQI,cAAgB,KAAO7J,EAAMN,UAEzD,KAAKggB,EAAA5V,6BACH9J,EAAKH,OAAAyS,UACAtS,GACHT,aAAc,OACdI,gBACAF,MAAOuX,EAAOvN,UAEhB,MACF,KAAKiW,EAAA1V,+BACHhK,EAAKH,OAAAyS,UACAtS,GACHT,aAAc,QACdC,uBAAwB,KACxBC,MAAO,KACPE,gBACAD,QAASsX,EAAOvN,UAItB,OAAOzJ,EAjCThC,EAAAC,QAAA4kB,yUCRA,MAAAvC,EAAAziB,EAAA,IAEA8hB,EAAA9hB,EAAA,IAEA,SAAAilB,EACE9iB,EAAkBsgB,EAAAhhB,gBAClB0X,GAEA,OAAIA,EAAO7R,OAASwa,EAAAhR,mBACX3O,EAGTH,OAAAyS,UACKtS,GACHL,aAAcqX,EAAOvN,UAVzBzL,EAAAC,QAAA6kB,iUCJA,MAAAlD,EAAA/hB,EAAA,KACAyiB,EAAAziB,EAAA,IAEA,SAAA8a,EACE3Y,EAAkBsgB,EAAAhhB,gBAClB0X,GAEA,OAAIA,EAAO7R,OAASya,EAAAlH,oBACX1Y,EAGTH,OAAAyS,UACKtS,GACHJ,SAAUoX,EAAOvN,UAVrBzL,EAAAC,QAAA0a,gZCHA,MAAAoK,EAAAllB,EAAA,IAEAmlB,EAAAjlB,EAAAF,EAAA,MACAolB,EAAAllB,EAAAF,EAAA,MAEA,SAAwBqlB,UAChBH,EAAAI,KAAKH,EAAA/kB,eACL8kB,EAAAI,KAAKF,EAAAhlB,SAFbD,EAAAC,QAAAilB,yJAHAF,sFACAC,sFAEwBC,yOCLxB,MAAAzE,EAAA5gB,EAAA,IACAklB,EAAAllB,EAAA,IAEAmlB,EAAAnlB,EAAA,KAEA6hB,EAAA7hB,EAAA,IAKA4hB,EAAA5hB,EAAA,IAEAulB,EAAAvlB,EAAA,KAEA,SAAwBwlB,UAChBN,EAAAO,UAAUN,EAAApK,oBAAqB2K,GAGvC,SAASA,EAAmBvM,GAC1B,MAAM8B,EAAO9B,EAAOvN,cAEdsZ,EAAAS,IAAI9D,EAAA/V,oBAAoB,WAAW,IAEzC,MAEM8Z,EAAcC,QAFYX,EAAAY,KAAKC,EAAU9K,IAI/C,OAAa,CACX,MAAM+K,QAAYd,EAAAe,KAAKL,GACvB,GAAiB,aAAbI,EAAI1e,KAAR,CAGO,GAAiB,YAAb0e,EAAI1e,KAEb,kBADM4d,EAAAS,IAAI9D,EAAAzV,sBAAsB4Z,EAAIrY,YAE/B,GAAiB,UAAbqY,EAAI1e,KAEb,kBADM4d,EAAAS,IAAI9D,EAAA3V,oBAAoB8Z,EAAIpkB,oBAN5BsjB,EAAAS,IAAI/D,EAAAhR,cAAcoV,EAAInV,WAYlC,SAAAgV,EAA2BK,GACzB,OAAOtF,EAAAuF,aAAaC,IA0BlB,OAlBAb,EAAAc,UAAUH,EAPV,SAAoBrV,GAClBuV,GACE9e,KAAM,WACNuJ,cAKDyV,KAAK3Y,IACJyY,GACE9e,KAAM,UACNqG,aAEFyY,EAAQxF,EAAA2F,OAETC,MAAM5kB,IACLwkB,GACE9e,KAAM,QACN1F,UAEFwkB,EAAQxF,EAAA2F,OAKL,SAIX,SAAAR,EAAkB9K,GAChB,MAAMwL,EAAS,IAAIC,WACnB,OAAO,IAAIC,QAAqB,CAACC,EAAQC,KACvCJ,EAAOK,OAAS,MACdF,EAAOH,EAAOM,UAEhBN,EAAOO,QAAU,MACfH,EAAOJ,EAAO7kB,SAEhB6kB,EAAOQ,kBAAkBhM,KApE7B9a,EAAAC,QAAAolB,kEAAwBA,6FAIfE,gGAwBTG,gGA+BAE,wUCvEA,MAAAmB,EAAAlnB,EAAA,KAYAmnB,EAAAjnB,EAAAF,EAAA,MAEMonB,EAAS,IAAID,EAAA/mB,QAEnB,SAAAimB,EACEH,EACAmB,GAEA,MAAMC,EAAU,IAAIX,QAAkB,CAACC,EAAQC,KAC7C,MAAMU,EAAS,KACbH,EAAOJ,QAAU,KACjBI,EAAOI,UAAY,MAGrBJ,EAAOJ,QAAUplB,IAASilB,EAAOjlB,IACjCwlB,EAAOI,UAAa3W,KAClB,MAAMqV,KAAEA,GAASrV,EACjB,OAAQqV,EAAK5e,MACX,KAAK4f,EAAAO,kBACHJ,GAAcA,EAAWnB,EAAKrV,SAC9B,MACF,KAAKqW,EAAAQ,uBACHH,IACAX,EAAOV,EAAKvY,UACZ,MACF,KAAKuZ,EAAAS,qBACHJ,IACAV,EAAOK,EAAAU,YAAY1B,EAAKtkB,aAQhC,OAFAwlB,EAAOS,YAAYX,EAAAb,UAAiBH,IAE7BoB,EAGT,SAAAQ,EACEna,EACA0Z,GAEA,MAAMC,EAAU,IAAIX,QAAqB,CAACC,EAAQC,KAChD,MAAMU,EAAS,KACbH,EAAOJ,QAAU,KACjBI,EAAOI,UAAY,MAGrBJ,EAAOJ,QAAUplB,IAASilB,EAAOjlB,IACjCwlB,EAAOI,UAAa3W,KAClB,MAAMqV,KAAEA,GAASrV,EACjB,OAAQqV,EAAK5e,MACX,KAAK4f,EAAAO,kBACHJ,GAAcA,EAAWnB,EAAKrV,SAC9B,MACF,KAAKqW,EAAAa,uBACHR,IACAX,EAAOV,EAAKA,MACZ,MACF,KAAKgB,EAAAc,qBACHT,IACAV,EAAOK,EAAAU,YAAY1B,EAAKtkB,aAQhC,OAFAwlB,EAAOS,YAAYX,EAAAY,UAAiBna,IAE7B2Z,EAjETnnB,EAAAkmB,YAkCAlmB,EAAA2nB,iMAtCAX,8HAEMC,4GAENf,+GAkCAyB,4QClDa3nB,EAAAsnB,kBAAoB,WACpBtnB,EAAA8nB,aAAgBpX,MAC3BvJ,KAAMnH,EAAAsnB,kBACN5W,aAKW1Q,EAAAkmB,UAAaH,MACxB5e,KAFoB,aAGpB4e,UAIW/lB,EAAAunB,uBAAyB,qBACzBvnB,EAAA+nB,iBAAoBva,MAC/BrG,KAAMnH,EAAAunB,uBACN/Z,cAIWxN,EAAAwnB,qBAAuB,mBACvBxnB,EAAAgoB,eAAkBvmB,MAC7B0F,KAAMnH,EAAAwnB,qBACN/lB,MAAOwmB,EAAYxmB,MAmDrB,SAAAwmB,EAA4BrgB,GAC1B,OACE4K,KAAM5K,EAAE4K,KACR9B,QAAS9I,EAAE8I,QACXwX,MAAOtgB,EAAEsgB,OAGb,SAAAT,EAA4BtW,GAC1B,MAAMvJ,EAAI,IAAI4H,MAAM2B,EAAIT,SAGxB,OAFA9I,EAAE4K,KAAOrB,EAAIqB,KACb5K,EAAEsgB,MAAQ/W,EAAI+W,MACPtgB,EApDI5H,EAAA2nB,UAAana,MACxBrG,KAFoB,aAGpBqG,cAIWxN,EAAA4nB,uBAAyB,qBACzB5nB,EAAAmoB,iBAAoBpC,MAC/B5e,KAAMnH,EAAA4nB,uBACN7B,UAIW/lB,EAAA6nB,qBAAuB,mBACvB7nB,EAAAooB,eAAkB3mB,MAC7B0F,KAAMnH,EAAA6nB,qBACNpmB,MAAOwmB,EAAYxmB,MAyBrBzB,EAAAioB,cAOAjoB,EAAAynB,8EA3EsB,8HA0BA,8HA0CtBQ,iHAOAR,qJCpFA3I,EAAA9e,QAAA,WACA,WAAAqoB,OAAAxoB,EAAAmF,EAAA,iQCDA,MAAAyb,EAAA5gB,EAAA,IACAklB,EAAAllB,EAAA,IAIAyoB,EAAAzoB,EAAA,KAEAolB,EAAAplB,EAAA,KAEA6hB,EAAA7hB,EAAA,IAMA4hB,EAAA5hB,EAAA,IAEAulB,EAAAvlB,EAAA,KAEA2M,EAAAzM,EAAAF,EAAA,KAEA,SAAwBwlB,UAChBN,EAAAO,UAAUL,EAAAlK,oBAAqBwN,GAGvC,SAASA,EAAoBvP,GAC3B,MAAMwP,EAAWxP,EAAOvN,QAElB+B,QAAkCuX,EAAA0D,OAAOjc,EAAAvM,SAC/C,IAAKuN,EACH,aAGIuX,EAAAS,IAAI9D,EAAA/V,oBAAoB,WAE9B,MAAM+c,EAAcC,EAAkBnb,GAEtC,OAAa,CACX,MAAMqY,QAAYd,EAAAe,KAAK4C,GACvB,GAAiB,aAAb7C,EAAI1e,KAAR,CAGO,GAAiB,YAAb0e,EAAI1e,KAGb,OAFAmhB,EAAAM,OAAO/C,EAAIgD,KAAML,cACXzD,EAAAS,IAAI9D,EAAAzV,sBAAsBuB,KAE3B,GAAiB,UAAbqY,EAAI1e,KAEb,kBADM4d,EAAAS,IAAI9D,EAAA3V,oBAAoB8Z,EAAIpkB,oBAP5BsjB,EAAAS,IAAI/D,EAAAhR,cAAcoV,EAAInV,WAalC,SAAAiY,EAA2Bnb,GACzB,OAAOiT,EAAAuF,aAAaC,IA2BlB,OAnBAb,EAAAuC,UAAUna,EAPV,SAAoBkD,GAClBuV,GACE9e,KAAM,WACNuJ,cAKDyV,KAAKJ,IACJ,MAAM8C,EAAO,IAAIC,MAAM/C,IACvBE,GACE9e,KAAM,UACN0hB,SAEF5C,EAAQxF,EAAA2F,OAETC,MAAM5kB,IACLwkB,GACE9e,KAAM,QACN1F,UAEFwkB,EAAQxF,EAAA2F,OAKL,SA5DXpmB,EAAAC,QAAAolB,gKAFA7Y,yFAEwB6Y,6FAIfkD,iGA4BTI,gQCjDA,MAAAjH,EAAA7hB,EAAA,IAGA,SAAAmhB,EAAgChI,GAC9B,OAAIA,EAAO7R,OAASua,EAAA1V,+BAClBnK,OAAAyS,UACK0E,GACHvN,QAASsd,EAAa/P,EAAOvN,WAG1BuN,EAGT,SAAAiI,EAA+Bjf,GAC7B,OAAAH,OAAAyS,UACKtS,GACHN,QAASM,EAAMN,QAAUqnB,EAAa/mB,EAAMN,SAAW,OAI3D,SAAAqnB,EAAsBC,GACpB,OAAAnnB,OAAAyS,UACK0U,GACHzX,MAAK1P,OAAAyS,UACA0U,EAAKzX,OACR0X,SAAU,aAtBhBjpB,EAAAghB,kBAUAhhB,EAAAihB,iFAVAD,oGAUAC,mGAOA8H,kVCxBA,MAAA7I,EAAAngB,EAAAF,EAAA,MACAG,EAAAC,QAAeigB,EAAAjgB,8JADfigB,8jBCAA,MAAAjc,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAEAgK,gBAAA9J,gBAAAF,oBAAA,MACAiK,SAAA/J,gBAAAF,oBAAA,MAEAqpB,SAAAnpB,gBAAAF,oBAAA,MACAspB,QAAAppB,gBAAAF,oBAAA,MACAupB,UAAArpB,gBAAAF,oBAAA,MACAwpB,aAAAtpB,gBAAAF,oBAAA,MAEAypB,eAAAvpB,gBAAAF,oBAAA,MACA0pB,aAAAxpB,gBAAAF,oBAAA,MACA2pB,SAAAzpB,gBAAAF,oBAAA,YAGA4pB,YAAkBxlB,MAAMgC,UACtBC,SACE,MAAMzE,MAAEA,EAAFF,aAASA,EAATmoB,eAAuBA,GAAmBtjB,KAAKrD,MAErD,IAAI8a,EAEJ,GAAIpc,EACFoc,EAAU5Z,MAAAO,cAAC2kB,QAAAlpB,SAAUwB,MAAOA,EAAOkoB,UAAWD,SAE9C,OAAQnoB,GACN,IAAK,OACHsc,EAAU5Z,MAAAO,cAAC0kB,SAAAjpB,QAAM,MACjB,MACF,IAAK,UACL,IAAK,SACH4d,EAAU5Z,MAAAO,cAAC4kB,UAAAnpB,QAAO,MAClB,MACF,IAAK,QACH4d,EAAU5Z,MAAAO,cAAC6kB,aAAAppB,QAAU,MACrB,MACF,QACE4d,EAAU5Z,MAAAO,cAAA,kBAKhB,OACEP,MAAAO,cAAC8kB,eAAArpB,QAAY,KACXgE,MAAAO,cAACglB,SAAAvpB,QAAe,MAChBgE,MAAAO,cAAC+kB,aAAAtpB,QAAU,KAAE4d,IA7BmB3X,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAmCxCxI,QAAAC,QAAe2J,cAAAI,QACbH,gBAAA5J,QACA6J,SAAA7J,QAFa2J,CAGb6f,ySAtDFxlB,+EAGA4F,mGACAC,qFAEAof,qFACAC,mFACAC,uFACAC,6FAEAC,iGACAC,6FACAC,qFAGAC,wVChBA,MAAA7gB,EAAA/I,EAAA,IAIA+pB,EAAA7pB,EAAAF,EAAA,MACAgqB,EAAA9pB,EAAAF,EAAA,MAEMiqB,GACJvoB,aAAAsoB,EAAA5pB,QACAwB,MAAAmoB,EAAA3pB,SAGI8pB,EAAkBnhB,EAAAohB,yBACtBF,GAEF9pB,EAAAC,QAAe8pB,gKAXfH,sFACAC,8FAEMC,6FAKAC,2PCVN,MAAME,EAAiBjoB,GAAoBA,EAAMP,MACjDzB,EAAAC,QAAegqB,kEADTA,uPCFN,MAEMC,GACJR,eAHF7pB,EAAA,KAGkB4a,cAGlBza,EAAAC,QAAeiqB,kEAJTA,2UCFN,MAAAhB,EAAAnpB,EAAAF,EAAA,MACAG,EAAAC,QAAeipB,EAAAjpB,uKADfipB,kfCAA,MAAAjlB,EAAAxB,EAAA5C,EAAA,IAEAW,EAAAX,EAAA,GAEAsqB,EAAAtqB,EAAA,KAEAuqB,EAAArqB,EAAAF,EAAA,KACAqE,EAAAnE,EAAAF,EAAA,KACAwqB,EAAAtqB,EAAAF,EAAA,MAEMyqB,GACJC,QAAS,8CACTC,IAAK,KACLC,MAAO,wDACPC,QAAS,MAGLC,EAAoB,IACxB1mB,EAAAO,cAAC4lB,EAAAnqB,SAAcoE,OAAQ7D,EAAA2E,OAAOE,KAAMf,OAAQ,kBAC1CL,EAAAO,cAACN,EAAAjE,SAAKoE,OAAQ7D,EAAA2E,OAAOE,MACnBpB,EAAAO,cAAA,gEACC8lB,EAAcH,EAAAS,SACb3mB,EAAAO,cAAA,wCAEEP,EAAAO,cAAC6lB,EAAApqB,QAAI,KAAEqqB,EAAcH,EAAAS,YAM/BD,EAAO3pB,YAAc,SACrBhB,EAAAC,QAAe0qB,iQA/Bf1mB,uFAMAmmB,iGACAlmB,wFACAmmB,wFAEMC,+FAOAK,yUCjBN,MAAAE,EAAA9qB,EAAAF,EAAA,MAEMirB,EAAa,WACbC,EAAS,kBACTC,EAAW,SAIXC,EAAcJ,EAAA5qB,QAASirB,IAAML,EAAA5qB,QAASirB,GAAGC,QAAW,UAC7CnrB,EAAA4qB,OAAiBE,EAAW/d,KAAKke,GAC1C,UACAF,EAAOhe,KAAKke,GACV,MACAD,EAASje,KAAKke,GACZ,QACA,kKAfRJ,mFAEMC,mFACAC,+EACAC,iFAIAC,8ZCRN,MAAAzqB,EAAAiC,EAAA5C,EAAA,IAWMurB,EAAO5qB,EAAAP,QAA+B;IACxCO,EAAAgF;IACAhF,EAAAmE;;;;;;EAOJymB,EAAKpqB,YAAc,OAEnBoqB,EAAK3lB,cACHpB,OAAQ7D,EAAA2E,OAAOE,KACfT,aAAY,GAGd5E,EAAAC,QAAemrB,2JA3Bf5qB,oFAWM4qB,kUCXN,MAAAjC,EAAAppB,EAAAF,EAAA,MACAG,EAAAC,QAAekpB,EAAAlpB,sKADfkpB,gfCAA,MAAAllB,EAAAxB,EAAA5C,EAAA,IAEA+P,EAAA7P,EAAAF,EAAA,KACAwrB,EAAAtrB,EAAAF,EAAA,MACAqE,EAAAnE,EAAAF,EAAA,KACAW,EAAAX,EAAA,GAOMyrB,EAAmC,EAAG7pB,QAAOkoB,eACjD1lB,EAAAO,cAACoL,EAAA3P,SAAKsD,UAAU,SAASkB,MAAM,OAAOC,OAAO,QAC3CT,EAAAO,cAACoL,EAAA3P,QAAKuD,MAAKR,MAAI,GACbiB,EAAAO,cAACN,EAAAjE,SAAKoE,OAAQ7D,EAAA2E,OAAOiQ,WACnBnR,EAAAO,cAAA,mBACAP,EAAAO,cAAA,YAAO/C,EAAMymB,OAASzmB,EAAMiP,SAAWgF,OAAOjU,MAGlDwC,EAAAO,cAACoL,EAAA3P,QAAKuD,KAAI,KACRS,EAAAO,cAAC6mB,EAAAprB,SAAOoE,OAAQ7D,EAAA2E,OAAOG,QAASimB,QAAS5B,GAAS,WAMxD2B,EAAUtqB,YAAc,QACxBhB,EAAAC,QAAeqrB,6PA5BfrnB,qFAEA2L,sFACAyb,wFACAnnB,sFAQMonB,0UCZN,MAAAlC,EAAArpB,EAAAF,EAAA,MACAG,EAAAC,QAAempB,EAAAnpB,wKADfmpB,ofCAA,MAAAnlB,EAAAxB,EAAA5C,EAAA,IACA+J,EAAA/J,EAAA,IAEAW,EAAAX,EAAA,GAEAgK,EAAA9J,EAAAF,EAAA,MAEAqE,EAAAnE,EAAAF,EAAA,KACA+C,EAAA7C,EAAAF,EAAA,KAGM2rB,EAA4B,EAChCjqB,eACAkqB,oCAEAxnB,EAAAO,cAAC5B,EAAA3C,SAAI+E,EAAC,GACJf,EAAAO,cAACN,EAAAjE,SAAKoE,OAAQ7D,EAAA2E,OAAOG,SACD,YAAjB/D,EAA6B,UAAY,UAE5C0C,EAAAO,cAAA,WACAP,EAAAO,cAACN,EAAAjE,SAAKoE,OAAQ7D,EAAA2E,OAAO+R,WAAYuU,IAGrCD,EAAQxqB,YAAc,UACtBhB,EAAAC,QAAe2J,EAAAI,QAAQH,EAAA5J,QAAR2J,CAAyB4hB,sQAxBxCvnB,yFAKA4F,mGAEA3F,0FACAtB,yFAGM4oB,4UCXN,MAAA5iB,EAAA/I,EAAA,IAIAgqB,EAAA9pB,EAAAF,EAAA,MACA6rB,EAAA3rB,EAAAF,EAAA,MAEM8rB,GACJpqB,aAAAsoB,EAAA5pB,QACAwrB,+BAAAC,EAAAzrB,SAGI8pB,EAAkBnhB,EAAAohB,yBACtB2B,GAEF3rB,EAAAC,QAAe8pB,0KAXfF,wGACA6B,0GAEMC,2GAKA5B,qQCVN,MAAM0B,EAAkCzpB,GACtCA,EAAMR,uBACRxB,EAAAC,QAAewrB,kEAFTA,sWCFN,MAAApC,EAAAtpB,EAAAF,EAAA,MACAG,EAAAC,QAAeopB,EAAAppB,2KADfopB,klBCAA,MAAAplB,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAEAgK,gBAAA9J,gBAAAF,oBAAA,MAEA+rB,yBAAA7rB,gBAAAF,oBAAA,MACAgsB,cAAA9rB,gBAAAF,oBAAA,MAEAisB,UAAAjsB,oBAAA,KAEAksB,sBAAAhsB,gBAAAF,oBAAA,MACAmsB,mBAAAjsB,gBAAAF,oBAAA,MACAosB,kBAAAlsB,gBAAAF,oBAAA,MAEAqsB,UAAAnsB,gBAAAF,oBAAA,MACAssB,YAAApsB,gBAAAF,oBAAA,YAGAusB,mBAAyBnoB,MAAMgC,UAC7BC,YAAYnD,GACVoD,MAAMpD,GAENqD,KAAKpE,OACHL,aAAc,MAIlBuE,SACE,MAAMmmB,WAAEA,EAAFC,YAAcA,GAAgBlmB,KAAKrD,MAEnCwpB,EAAeT,UAAAU,UAAUH,GAE/B,OACEpoB,MAAAO,cAACunB,sBAAA9rB,QAAmB,KAClBgE,MAAAO,cAACqnB,cAAA5rB,QAAW,KACVgE,MAAAO,cAAC0nB,UAAAjsB,QAAO,OAEVgE,MAAAO,cAACwnB,mBAAA/rB,QAAgB,KACfgE,MAAAO,cAAConB,yBAAA3rB,QAAsB,MACvBgE,MAAAO,cAAC2nB,YAAAlsB,SAAUwE,MAAM,SACjBR,MAAAO,cAACynB,kBAAAhsB,QAAe,KACdgE,MAAAO,cAAC+nB,EAAY1qB,OAAAyS,UAAKgY,OAvBiBpmB,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OA8B/CxI,QAAAC,QAAe2J,cAAAI,QAAQH,gBAAA5J,QAAR2J,CAAyBwiB,wVAhDxCnoB,mGAGA4F,uHAEA+hB,yIACAC,mHAIAE,mIACAC,6HACAC,2HAEAC,2GACAC,+GAGAC,0XClBA,MAAAxjB,EAAA/I,EAAA,IAIAyN,EAAAzN,EAAA,IAKA2M,EAAAzM,EAAAF,EAAA,KACA0M,EAAAxM,EAAAF,EAAA,KAEMiqB,GACJuC,WAAYzjB,EAAAG,eACVyD,EAAAvM,QACAsM,EAAAtM,QACA,CAACyB,EAASC,IACPD,GAAW4L,EAAAmf,kBAAkB9qB,EAAcD,IAAa,MAE7D4qB,YAAa1jB,EAAAG,eACXyD,EAAAvM,QACAsM,EAAAtM,QACA,CAACyB,EAASC,IACRD,GAAW4L,EAAAof,uBAAuB/qB,EAAcD,KAIhDqoB,EAAkBnhB,EAAAohB,yBACtBF,GAEF9pB,EAAAC,QAAe8pB,6KArBfvd,sGACAD,2GAEMud,0GAeAC,wQCpBN,MAAA9nB,EAAApC,EAAA,IAIA8sB,EAAA9sB,EAAA,KAMM+sB,GAA+B,cAAe,KACpD,SAAAC,EACEthB,EACAiC,GAEA,OAAIjC,EAAKoB,OAASigB,EAA4BjgB,OACrC,MAGTpB,EAAOA,EAAK2B,MAAM,EAAG0f,EAA4BjgB,SAGzCC,MAAM,CAACC,EAAGC,IAAMggB,EAAiBjgB,EAAGC,EAAG8f,IAKxC3qB,EAAAoH,IAAImE,EAAUjC,GAHZ,KAbXvL,EAAA6sB,yBAmBA,MAAME,GAAyB,cAAe,IAAK,aAAc,KACjE,SAAAC,EACEzhB,EACAiC,GAEA,OAAIjC,EAAKoB,OAASogB,EAAsBpgB,OAC/B,MAGTpB,EAAOA,EAAK2B,MAAM,EAAG6f,EAAsBpgB,SAEjCC,MAAM,CAACC,EAAGC,IAAMggB,EAAiBjgB,EAAGC,EAAGigB,IAI1C9qB,EAAAoH,IAAImE,EAAUjC,GAHZ,KAXXvL,EAAAgtB,oBAiBA,MAAMC,GACJ,cACA,IACA,aACA,IACA,YACA,KAEF,SAAAC,EACE3hB,EACAiC,GAEA,OAAIjC,EAAKoB,OAASsgB,EAA+BtgB,OACxC,MAGTpB,EAAOA,EAAK2B,MAAM,EAAG+f,EAA+BtgB,SAG5CC,MAAM,CAACC,EAAGC,IACdggB,EAAiBjgB,EAAGC,EAAGmgB,IAMpBhrB,EAAAoH,IAAImE,EAAUjC,GAHZ,KAMX,SAAAuhB,EAA0BK,EAAc1U,EAAe2U,GACrD,MAAqB,MAAjBA,EAAM3U,IACN0U,IAASC,EAAM3U,GAIrB,SAAA4U,EAAiC9hB,EAAgBiC,GAC/C,MAAM8f,EAAMX,EAAAY,oBAAoBhiB,EAAMiC,GACtC,IAAIggB,EACJ,GAAIF,EAAK,CACP,MAAMG,EAAeH,EAAIpc,YACzB,GAA4B,mBAAjBuc,EAA6B,CAEtCD,EAAaC,EADCliB,EAAKoB,OAAS,EAAI1K,EAAAoH,IAAImE,EAAUjC,GAAQiC,EACrBjC,EAAMiC,OACN,iBAAjBigB,IAChBD,EAAaC,GAOjB,OAAOD,GAAcjiB,EAAKA,EAAKoB,OAAS,GAG1C,SAAA+gB,EACEniB,EACAiC,GAEA,MAAMmgB,KACN,IAAK,MAAMC,KAAiBjB,EAAAkB,sBAAsBtiB,EAAMiC,GAAW,CACjE,MAAM8f,IAAEA,EAAK/hB,KAAMuiB,GAAYF,EAC/B,IAAIG,GAAwB,EAC5B,MAAMN,EAAeH,EAAIpc,YACzB,GAA4B,mBAAjBuc,EAA6B,CAEtCM,EAAQN,EADMK,EAAQnhB,OAAS,EAAI1K,EAAAoH,IAAImE,EAAUsgB,GAAWtgB,EAChCsgB,EAAStgB,KAAa,OAC7C,GAA4B,iBAAjBigB,EAChBM,EAAQN,MACH,KAAqB,IAAjBA,EAET,SAEAM,EAAQD,EAAQA,EAAQnhB,OAAS,GAG/BohB,GACFJ,EAAYxa,MACV4a,QACAxiB,KAAMuiB,IAKZ,OAAOH,EAGT,SAAAlgB,EAAqClC,EAAgBiC,GACnD,OAAOjC,EAAKoB,OAAS,EAAI1K,EAAAoH,IAAImE,EAAUjC,GAAQiC,EAGjD,SAAAwgB,EACEziB,EACAiC,EACA5L,GAIA,OADmBqsB,EAAkB1iB,EAAMiC,EAD/Bmf,EAAAY,oBAAoBhiB,EAAMiC,GACoB5L,GAI5D,SAAA6qB,EACElhB,EACAiC,GAEA,MAAM8f,EAAMX,EAAAY,oBAAoBhiB,EAAMiC,GACtC,OAAQ8f,GAAOA,EAAIrc,SAAY,KAGjC,SAAAyb,EACEnhB,EACAiC,GAEA,MAAM8f,EAAMX,EAAAY,oBAAoBhiB,EAAMiC,GACtC,IAAK8f,IAAQA,EAAIrc,QACf,SAGF,MAAMid,EAAcZ,EAAI1b,aACxB,OAAKsc,EAKEA,EADO3iB,EAAKoB,OAAS,EAAI1K,EAAAoH,IAAImE,EAAUjC,GAAQiC,EAC5BjC,EAAMiC,MAWlC,SAAAygB,EACEE,EACAzsB,EACA4rB,EACA1rB,GAEA,IAAIwsB,EAAad,EAAMA,EAAIe,YAAc,KAEzC,MAAM5nB,EAAQ0nB,EAAaxhB,OAAS,EAAI1K,EAAAoH,IAAI3H,EAASysB,GAAgBzsB,EAMrE,GAJ0B,mBAAf0sB,IACTA,EAAaA,EAAW3nB,KAGP,IAAf2nB,EAEF,SAGF,GAAkB,MAAdA,GAAsBd,EAAK,CAM7B,MAAMgB,EAAoBzsB,OAAO8Q,KAAK2a,GAAK1a,OAAO/F,GAAc,MAATA,EAAE,KAC3B,IAA1ByhB,EAAQ5L,QAAQ,KAElB0L,EAAavsB,OAAO8Q,KAAKlM,GAAOoM,IAAIhG,IAAMA,IACjCyhB,EAAQ3hB,OAAS,IAE1ByhB,EAAaE,EAAQzb,IAAIhG,IAAMA,KAqBnC,OAhBkB,MAAduhB,IACFA,EAAaG,EAAsBJ,EAAczsB,EAASE,KAI5DwsB,EAAaA,EAAaA,EAAWvb,IAAIhG,OAASshB,KAAiBthB,UAIjEuhB,EAAaA,EAAWxb,OAAOrH,IAG7B,OAAOijB,EAFYvsB,EAAAoH,IAAI3H,EAAS6J,GACfohB,EAAAY,oBAAoBhiB,EAAM7J,GACAE,MAIxCwsB,EAGT,SAAAI,EACE/nB,EACA6mB,EACA1rB,GAEA,GAAiB,aAAbA,EACF,OAAO,EAIT,IACI6sB,EADAC,GAAmBpB,GAAMA,EAAIvc,UAUjC,QAPE0d,EAD8B,kBAArBC,EACEA,EAC0B,mBAArBA,GACLA,EAAiBjoB,IAQhC,SAAA8nB,EACEJ,EACAzsB,EACAE,GAEA,GAAiB,aAAbA,EAEF,SAGF,MAAM6E,EAAQ0nB,EAAaxhB,OAAS,EAAI1K,EAAAoH,IAAI3H,EAASysB,GAAgBzsB,EACrE,IAAI0sB,EAAgC,KAWpC,OAVInsB,EAAAsQ,SAAS9L,GAEX2nB,EAAavsB,OAAO8Q,KAAKlM,GACtBmM,OAAO/F,GAAK8hB,EAAgBloB,EAAMoG,KAClCgG,IAAIhG,IAAMA,IACJ1D,MAAMC,QAAQ3C,KAEvB2nB,EAAa3nB,EAAMmM,OAAO+b,GAAiB9b,IAAI,CAACC,EAAGhG,QAAUA,OAGxDshB,MAGT,SAAAO,EAAyBloB,GACvB,OAAOxE,EAAAsQ,SAAS9L,GAtOlBzG,EAAAktB,kBA2BAltB,EAAAqtB,mBAmBArtB,EAAA0tB,wBAgCA1tB,EAAAyN,uBAIAzN,EAAAguB,wBAUAhuB,EAAAysB,oBAQAzsB,EAAA0sB,yFAlJME,sHACNC,iHAmBME,gHACNC,4GAiBMC,yHAQNC,0GAqBAJ,2GAMAO,2GAmBAK,gHAgCAjgB,+GAIAugB,gHAUAvB,4GAQAC,iHA0BAuB,4GAuDAO,wGAuBAD,gHAyBAI,yZCpSAzuB,EAAAL,EAAA,KAEAK,EAAAL,EAAA,MAEA,MAAA0e,EAAAxe,EAAAF,EAAA,KACAG,EAAAC,QAAese,EAAAte,ySADfse,wQCAA,MAEMqQ,GACJ1d,YAAY2d,GACHA,EAAMrc,KAGf6b,YAAYQ,GACHA,EAAMnd,YAAYmB,IAAI,CAACC,EAAGhG,KAAO,iBAAkBA,MAG5DmE,QAAS,mBAKT6d,UAhBFjvB,EAAA,KAgBakvB,0BAA0B,cAAe,OAGhDC,GACJ/d,QAAS,yBAIToC,IAAKub,GAEP5uB,EAAAC,QAAe+uB,kEAxBTJ,0IAiBAI,+cCvBN,MAAA/sB,EAAApC,EAAA,IAEAovB,EAAApvB,EAAA,IAGAqvB,EAAAzsB,EAAA5C,EAAA,MAEAsvB,EAAAtvB,EAAA,KAEMuvB,GAAyBF,GAE/B,SAAAH,EACEM,GAEA,MAAMC,GACJve,WAAW,GAEbwe,EAAaD,EAAgBD,EAAgBF,EAAA7T,mBAE7C,MAAMkU,EAAWJ,EAAsBvc,IAAIuB,IACzC,MAAMqb,GACJC,OAAQT,EAAA3c,aAAa8B,EAAKub,iBAG5B,OADAJ,EAAaE,EAAaJ,EAAgBjb,EAAKwb,qBACxCH,IAKT,OADAD,EAASrc,KAAKmc,GACPE,EAGT,SAAAD,EACEpe,EACA5F,EACAskB,GAEA,GAAItkB,GAAQA,EAAKoB,OAAS,EAAG,CAE3B,IAAK,IAAIG,EAAI,EAAGA,EAAIvB,EAAKoB,OAAQG,IAC/B7K,EAAAkhB,IAAIhS,MAAS5F,EAAK2B,MAAM,EAAGJ,GAAI,gBAAgB,GAEjD7K,EAAAkhB,IAAIhS,EAAK5F,EAAMskB,QAIf1e,EAAI2d,WAAae,GAnCrB7vB,EAAA+uB,wOANAG,uIAIME,sJAENL,yJAqBAQ,0SChCA,MAAA9rB,EAAA5D,EAAA,GAQAsvB,EAAAtvB,EAAA,KAEMiwB,EAAgBjuB,OAAAyS,UACjB6a,EAAA7T,mBAEHrK,QAAS,qBAETC,YAAcC,IACZ,MAAM4e,EAAmBtsB,EAAAO,YAAYmN,EAAK1N,EAAAkgB,wBAM1C,OAJGoM,GACCA,EAAiB7c,cACjB6c,EAAiB7c,aAAaV,MAChC,iBAKOxS,EAAA2vB,eAAiB,SACjB3vB,EAAA4vB,oBAAsBE,EAEnC9vB,EAAAC,QAAe6vB,kEAnBTA,+SCNN,MAAAX,EAAAtvB,EAAA,IACAmwB,EAAAnwB,EAAA,KAGMkE,GACJ+qB,WAHFjvB,EAAA,KAGcowB,gBAAiBD,EAAAE,uBAAwBf,EAAAlc,kBAEvDjT,EAAAC,QAAe8D,kEAHTA,qOCRN,MAAAN,EAAA5D,EAAA,GAGAovB,EAAApvB,EAAA,IAEAsvB,EAAAtvB,EAAA,IAEaG,EAAAkwB,uBAAsBruB,OAAAyS,UAG9B6a,EAAAlc,iBACHyc,OAAQT,EAAAxc,WAAWhP,EAAA4f,oKCXrB,MAAA5f,EAAA5D,EAAA,GAEAoC,EAAApC,EAAA,IAGAovB,EAAApvB,EAAA,IAEAsvB,EAAAtvB,EAAA,IAEMswB,GAGJjf,aAAa,EAEbD,QAAS,mBAEToC,KACEpC,QAAS,sBACTC,YAAA,CAAYC,EAAuB5F,OACnBA,EAAKA,EAAKoB,OAAS,OACbwE,EAAIqB,OAE1Bsc,eAOS9uB,EAAAiwB,gBAAepuB,OAAAyS,UACtB6a,EAAAlc,iBAEJyc,OAAQT,EAAAxc,WAAWhP,EAAA2sB,iBAEnBlqB,YAAYnC,GACV,MAAMQ,KAwBN,OAtBER,EAASmP,cACTrR,OAAO8Q,KAAK5O,EAASmP,cAAcvG,OAAS,GAE5C1K,EAAAI,QAAQ0B,EAASmP,aAAc,CAACJ,EAAGxQ,KAI7BL,EAAAsQ,SAAUxO,EAASmP,aAAqB5Q,KAI1CiC,EAAS4O,MAAM,eAAgB7Q,MAKjCyB,EAASqP,WAEXnR,EAAAI,QAAQ0B,EAASqP,UAAW,CAACN,EAAGxQ,KAC9BiC,EAAS4O,MAAM,eAAgB7Q,QAG5BiC,EAASoI,OAAS,GAAIpI,GAG/B6O,UAAW+c,oEArDPA,sYCPN,MAAAluB,EAAApC,EAAA,IAEA0e,EAAAxe,EAAAF,EAAA,KAGA,SAAA0tB,EACEY,EACAnF,GAGA,MAAMqH,EAAOxC,EAAsBM,EAAcnF,GACjD,IAAIpC,EACJ,GACEA,EAASyJ,EAAKC,cACN1J,EAAO2J,MACjB,OAAO3J,EAAOngB,MAQhB,SAAgBonB,EACdM,EACA3gB,GAEA,IAAIqiB,EAA8BtR,EAAAte,QAC9BwG,EAAa+G,QAGf8f,IAAK/O,EAAAte,QACLsL,SAGF,IAAK,IAAIuB,EAAI,EAAGA,EAAIqhB,EAAaxhB,OAAQG,IAAK,CAC5C,MAAMxK,EAAM6rB,EAAarhB,GAEzB,IAAI0jB,EAQJ,GAPIvuB,EAAAsQ,SAASsd,KACXW,GAC2C,IAAzC3uB,OAAO8Q,KAAKkd,GAAWnN,QAAQpgB,GAC3ButB,EAAUvtB,GACVutB,EAAU,OAGbW,EACH,OAAO,KAOT,GAHA/pB,EAAQA,EAAMnE,GAGVkuB,EAAa1B,UAAW,CAC1B,MAAM2B,EAAUD,EAAa1B,UAAU7K,KACrCpX,IAAMA,EAAE6iB,QAAU7iB,EAAE6iB,OAAOjpB,IAEzBgqB,IACFD,EAAe3uB,OAAAyS,UACVkc,EACAC,UAQPnD,IAHFuC,EAAYW,EAIVjlB,KAAM4iB,EAAajhB,MAAM,EAAGJ,EAAI,IAIpC,OAAO+iB,EArET7vB,EAAAutB,sBAkBAvtB,EAAA6tB,4MArBAtP,2GAGAgP,wHAkBgBM,2WCzBhB,MAAAjC,EAAA7rB,EAAAF,EAAA,MACAG,EAAAC,QAAe2rB,EAAA3rB,4LADf2rB,+mBCAA,MAAA3nB,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAEAgK,gBAAA9J,gBAAAF,oBAAA,MAEAW,QAAAX,oBAAA,GAEAqE,OAAAnE,gBAAAF,oBAAA,KACAgL,oBAAA9K,gBAAAF,oBAAA,KAEA6wB,sBAAA3wB,gBAAAF,oBAAA,YAGA8wB,+BAAqC1sB,MAAMgC,UACzCC,SACE,MAAM0qB,WAAEA,GAAexqB,KAAKrD,MAC5B,IAAI8tB,KACJ,IAAK,IAAI/jB,EAAI,EAAGA,EAAI8jB,EAAWjkB,OAAQG,IAAK,CAC1C,IAAIgkB,EAAUhkB,EAAI,IAAM8jB,EAAWjkB,OACnC,MAAME,EAAI+jB,EAAW9jB,GACfxK,EAAMuK,EAAEtB,KAAK5B,KAAK,KACxBknB,EAAM1d,KACJlP,MAAAO,cAACqG,oBAAA5K,SACCoE,OAAQysB,EAAUtwB,QAAA2E,OAAOG,QAAU9E,QAAA2E,OAAO+R,UAC1C5U,IAAKA,EACLiJ,KAAMsB,EAAEtB,MAEPsB,EAAEkhB,QAGF+C,GACHD,EAAM1d,KAAKlP,MAAAO,cAACN,OAAAjE,SAAKqC,OAAQA,SAAY,QAGzC,OAAO2B,MAAAO,cAACksB,sBAAAzwB,QAAmB,KAAE4wB,GArB0B3qB,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAwB3DxI,QAAAC,QAAe2J,cAAAI,QAAQH,gBAAA5J,QAAR2J,CAAyB+mB,8ZArCxC1sB,gIAGA4F,oJAIA3F,kIACA2G,4JAEA6lB,gKAGAC,+aCbA,MAAA/nB,EAAA/I,EAAA,IAIAkxB,EAAAhxB,EAAAF,EAAA,MAEM8rB,GACJiF,WAAAG,EAAA9wB,SAGI8pB,EAAkBnhB,EAAAohB,yBACtB2B,GAEF3rB,EAAAC,QAAe8pB,8LATfgH,uIAEMpF,+HAIA5B,6WCVN,MAAAnhB,EAAA/I,EAAA,IAEAyN,EAAAzN,EAAA,IAEA0M,EAAAxM,EAAAF,EAAA,KACA2M,EAAAzM,EAAAF,EAAA,KAEMmxB,EAAiCpoB,EAAAG,eACrCwD,EAAAtM,QACAuM,EAAAvM,QACA,CAAC0B,EAAcD,IACbA,EAAU4L,EAAAogB,sBAAsB/rB,EAAcD,OAElD1B,EAAAC,QAAe+wB,iLATfzkB,+GACAC,0GAEMwkB,s9BCPN,MAAA/sB,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAEA+F,kBAAA/F,oBAAA,IAEAW,QAAAT,gBAAAF,oBAAA,IAEAY,QAAAZ,oBAAA,GAGAiK,SAAA/J,gBAAAF,oBAAA,YAGAoxB,0BAAgChtB,MAAMgC,UACpCC,SACE,MAAM7B,OAAEA,EAAFE,SAAUA,GAAa6B,KAAKrD,MAClC,OACEkB,MAAAO,cAAC0sB,MAAK7sB,OAAQA,EAAQknB,QAASnlB,KAAK+qB,UACjC5sB,GAMC2B,WACN,MAAMqF,KAAEA,EAAFggB,QAAQA,GAAYnlB,KAAKrD,MAC/BwoB,EAAQhgB,GAb0CrF,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAWpDE,YADC9C,kBAAA+C,mDAIA,MAEH3I,QAAAC,QAAe2J,cAAAI,QACb,KACAF,SAAA7J,QAFa2J,CAGbqnB,mBAEF,MAAMC,KAAO1wB,QAAAP,QAA0B;IACnCQ,QAAAsf;qfAnCJ9b,sHAKAzD,0HAKAsJ,4HAGAmnB,8IAqBMC,6SClCN,MAEMhH,GACJqB,QAHF1rB,EAAA,IAGW+Q,YAGX5Q,EAAAC,QAAeiqB,kEAJTA,oWCFN,MAAA1pB,EAAAT,EAAAF,EAAA,IACAY,EAAAZ,EAAA,GAEMuxB,EAAsB5wB,EAAAP,QAAOoxB;mBAChBtuB,GAAStC,EAAAyJ,SAASnH,GAAOhC,MAAK;EAEjDqwB,EAAoBpwB,YAAc,sBAClChB,EAAAC,QAAemxB,+MAPf5wB,qIAGM4wB,kYCHN,MAAAvF,EAAA9rB,EAAAF,EAAA,MACAG,EAAAC,QAAe4rB,EAAA5rB,iLADf4rB,+7BCAA,MAAA5nB,MAAAxB,aAAA5C,oBAAA,IAEAU,gBAAAV,oBAAA,IAEA+F,kBAAA/F,oBAAA,IAEA+P,OAAA7P,gBAAAF,oBAAA,KAEAyxB,eAAAvxB,gBAAAF,oBAAA,MACAW,QAAAT,gBAAAF,oBAAA,UAUA0xB,oBAA0BttB,MAAMgC,UAC9BC,YAAYnD,GACVoD,MAAMpD,GAENqD,KAAKpE,OACHyC,MAAO1B,EAAMyuB,cAAgB,KAIjCtrB,SACE,MAAMyX,UAAEA,EAAFpZ,SAAaA,GAAa6B,KAAKrD,OAC/B0B,MAAEA,GAAU2B,KAAKpE,MAGvB,OACEiC,MAAAO,cAACoL,OAAA3P,SAAK0d,UAAWA,EAAWpa,UAAU,OACpCU,MAAAO,cAACoL,OAAA3P,QAAKuD,MAAKyU,OAASxT,UAAUF,GAC9BN,MAAAO,cAACoL,OAAA3P,QAAKuD,KAAI,KACRS,MAAAO,cAAC8sB,eAAArxB,SAAawxB,SAAUrrB,KAAKsrB,cAO7BxrB,UAAUyrB,GAChBvrB,KAAK4B,SAAS4pB,KACZntB,MAAOmtB,EAAEntB,MAAQktB,KA3BgCzrB,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAyBrDE,YADC9C,kBAAA+C,8CAKA,MAGH3I,QAAAC,QAAeO,QAAAP,QAAOsxB;IAClBhxB,gBAAAmE;gdApDJT,0GAMA2L,4GAEA0hB,4HACA9wB,8GAUA+wB,0+BCnBA,MAAAttB,MAAAxB,aAAA5C,oBAAA,IAEA+F,kBAAA/F,oBAAA,IAEAgyB,kBAAAhyB,oBAAA,KAEAiyB,qBAAA/xB,gBAAAF,oBAAA,YAUAkyB,qBAA2B9tB,MAAMgC,UAC/BC,YAAYnD,GACVoD,MAAMpD,GAENqD,KAAKpE,OACHgwB,YAAY,GAIhB9rB,SACE,OACEjC,MAAAO,cAACqtB,kBAAAI,eACCC,QAAS9rB,KAAK+rB,SACdC,OAAQhsB,KAAKisB,QACbC,OAAQlsB,KAAKmsB,SAEbtuB,MAAAO,cAACstB,qBAAA7xB,SAAmB+xB,WAAY5rB,KAAKpE,MAAMgwB,cAMzC9rB,QAAQ0B,EAAe4qB,GAC7B,MAAMf,SAAEA,GAAarrB,KAAKrD,MAC1B0uB,EAASe,EAAEC,QAILvsB,WACNE,KAAK4B,UACHgqB,YAAY,IAKR9rB,UACNE,KAAK4B,UACHgqB,YAAY,IArCsC9rB,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAsBtDE,YADC9C,kBAAA+C,6CAIA,MAGDD,YADC9C,kBAAA+C,8CAKA,MAGDD,YADC9C,kBAAA+C,6CAKA,MAEH3I,QAAAC,QAAe8xB,+fAzDf9tB,sHAMA6tB,oJAUAC,2eChBA,MAAAvxB,EAAAiC,EAAA5C,EAAA,IAKM6yB,EAAqBlyB,EAAAP,QAAuC;;;sBAG5C8C,GAClBvC,EAAAuK,cACEhI,EAAMivB,WAAaxxB,EAAAsE,MAAMmS,cAAgBzW,EAAAsE,MAAM6tB;;;;;MAM/CnyB,EAAAsX,WAAWzH,GAAG7P,EAAA2E,OAAOG;;EAG3BtF,EAAAC,QAAeyyB,iMAnBflyB,0HAKMkyB,sXCLN,MAAAE,EAAA7yB,EAAAF,EAAA,MAEAgzB,EAAA9yB,EAAAF,EAAA,MACAizB,EAAA/yB,EAAAF,EAAA,MACAkzB,EAAAhzB,EAAAF,EAAA,MACAmzB,EAAAjzB,EAAAF,EAAA,MAEAozB,EAAAlzB,EAAAF,EAAA,MACAqzB,EAAAnzB,EAAAF,EAAA,MAEMszB,GACJC,YAAaP,EAAA5yB,QACbozB,yBAA0BN,EAAA9yB,QAC1BqzB,mBAAoBN,EAAA/yB,QACpBszB,kBAAmBT,EAAA7yB,QACnBuzB,sBAAuBP,EAAAhzB,QACvBwzB,qBAAsBP,EAAAjzB,SAGxB,SAAAusB,EACEH,GAEA,OAAKA,GAIE8G,EAAQ9G,IAHNuG,EAAA3yB,QAJXD,EAAAwsB,kMAnBAoG,4HAEAC,uHACAC,6HACAC,4HACAC,uHAEAC,gIACAC,qHAEMC,8GASN3G,iWCnBA,MAAAoG,EAAA7yB,EAAAF,EAAA,MACAG,EAAAC,QAAe2yB,EAAA3yB,kNADf2yB,w+BCAA,MAAA3uB,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAEA+F,kBAAA/F,oBAAA,IAEAqE,OAAAnE,gBAAAF,oBAAA,KAEA6zB,+BAAA3zB,gBAAAF,oBAAA,MAEA8zB,cAAA5zB,gBAAAF,oBAAA,MAEAgK,gBAAA9J,gBAAAF,oBAAA,MACAiK,SAAA/J,gBAAAF,oBAAA,MAEM+zB,GAAK1vB,OAAAjE,QAAKkB,cAAc,MACxB0yB,GAAK3vB,OAAAjE,QAAKkB,cAAc,YAG9B2yB,4BAAkC7vB,MAAMgC,UACtCC,YAAYnD,GACVoD,MAAMpD,GAGRmD,SACE,MAAM6tB,OAAEA,GAAW3tB,KAAKrD,MAElBixB,EAAgBD,EAAOlhB,IAAIohB,GAAS7tB,KAAK8tB,gBAAgBD,IAE/D,OACEhwB,MAAAO,cAACkvB,+BAAAzzB,QAA4B,KAC3BgE,MAAAO,cAAA,aACEP,MAAAO,cAAA,aACEP,MAAAO,cAAA,UACEP,MAAAO,cAACovB,GAAE,aACH3vB,MAAAO,cAACovB,GAAE,gBAGP3vB,MAAAO,cAAA,aAAQwvB,KAMR9tB,gBAAgB+tB,GACtB,MAAMlG,MAAEA,EAAFzrB,IAASA,EAATmE,MAAcA,GAAUwtB,EAC9B,OACEhwB,MAAAO,cAAA,MAAIlC,IAAKA,GACP2B,MAAAO,cAACqvB,GAAE,KAAE9F,GACL9pB,MAAAO,cAACqvB,GAAE,KACD5vB,MAAAO,cAACmvB,cAAA1zB,SACCk0B,QAAS7xB,EACTmE,MAAOA,EACPa,SAAUlB,KAAKguB,mBAQjBluB,eAAe5D,EAAamE,GAClC,MAAM9E,aAAEA,EAAF0yB,SAAgBA,GAAajuB,KAAKrD,MACxCsxB,MAAa1yB,EAAcW,GAAMmE,GA5CmBP,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OA0CtDE,YADC9C,kBAAA+C,2DAIA,MAEH3I,QAAAC,QAAe2J,cAAAI,QACbH,gBAAA5J,QACA6J,SAAA7J,QAFa2J,CAGbkqB,8lBApEF7vB,mJAKAC,qJAEAwvB,qMAEAC,mKAEA9pB,uKACAC,yJAEM8pB,6IACAC,6IAGNC,4bClBA,MAAAtzB,EAAAT,EAAAF,EAAA,IAEMy0B,EAA+B9zB,EAAAP,QAAOoxB,MAC5CiD,EAA6BtzB,YAAc,+BAC3ChB,EAAAC,QAAeq0B,+OAJf9zB,qKAEM8zB,o7BCFN,MAAArwB,MAAAxB,aAAA5C,oBAAA,IAEA+F,kBAAA/F,oBAAA,UAOA00B,oBAAyCtwB,MAAMgC,UAC7CC,SACE,MAAMO,MAAEA,GAAUL,KAAKrD,MACvB,OACEkB,MAAAO,cAAA,SACE2C,KAAK,OACLG,SAAUlB,KAAKiW,UACf5V,MAAO+tB,KAAKC,UAAUhuB,KAMpBP,UAAU0B,GAChB,MAAMusB,QAAEA,EAAF7sB,SAAWA,GAAalB,KAAKrD,MAC7B0D,EAAQmB,EAAEC,OAAOpB,MACvB,IAEEa,EAAS6sB,EADWK,KAAKE,MAAMjuB,IAE/B,MAAAwV,KAnBoE/V,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAaxEE,YADC9C,kBAAA+C,8CAQA,MApBH3I,QAAAC,QAAAs0B,obATAtwB,sJASAswB,+aCTA,MAAA3rB,EAAA/I,EAAA,IAIA0M,EAAAxM,EAAAF,EAAA,KACA80B,EAAA50B,EAAAF,EAAA,KASMk0B,EAASnrB,EAAAG,eACb4rB,EAAA10B,QACC20B,GACMA,EAIDC,EAAYD,MAKT/yB,OAAO8Q,KAAKiiB,GAChBhiB,OAAOtQ,GAAOuyB,EAAYD,EAActyB,KACxCuQ,IAAIvQ,IAOH,OAJEyrB,MAAOzrB,EACPA,MACAmE,MAJYmuB,EAActyB,UAW9BwyB,GACJnzB,aAAA4K,EAAAtM,QACA8zB,UAGIhK,EAAkBnhB,EAAAohB,yBACtB8K,GAEF90B,EAAAC,QAAe8pB,EAEf,MAAMgL,GAAkB,SAAU,SAAU,WAC5C,SAAAF,EAAqBpV,GACnB,MAAMuV,SAAiBvV,EACvB,OAA4C,IAArCsV,EAAerS,QAAQsS,sNAjDhCzoB,kJACAooB,mJASMZ,yIA0BAe,sJAKA/K,kJAKAgL,iJACNF,2SCnDA,MAEM3K,GACJmK,SAHFx0B,EAAA,IAGY0Q,eAGZvQ,EAAAC,QAAeiqB,kEAJTA,+XCFN,MAAA2I,EAAA9yB,EAAAF,EAAA,MACAG,EAAAC,QAAe4yB,EAAA5yB,6MADf4yB,wnBCAA,MAAA5uB,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAEAW,QAAAX,oBAAA,GAEAqE,OAAAnE,gBAAAF,oBAAA,KACAo1B,WAAAl1B,gBAAAF,oBAAA,MAEAgK,gBAAA9J,gBAAAF,oBAAA,MAEAq1B,0BAAAn1B,gBAAAF,oBAAA,MAEAs1B,gBAAAp1B,gBAAAF,oBAAA,MACAu1B,iBAAAr1B,gBAAAF,oBAAA,YAGAw1B,uBAA6BpxB,MAAMgC,UACjCC,SACE,MAAMxE,QAAEA,GAAY0E,KAAKrD,MACzB,OACEkB,MAAAO,cAAC0wB,0BAAAj1B,QAAuB,KACrByB,EACC0E,KAAKkvB,iBAELrxB,MAAAO,cAACN,OAAAjE,SAAKoE,OAAQ7D,QAAA2E,OAAOE,MAAI,mBAMzBa,iBACN,MAAMxE,EAAU0E,KAAKrD,MAAMrB,QACrB6zB,EAAiB7zB,EAAQgQ,YAAY8jB,OACzC,CAACC,EAAOtS,IAAQsS,EAAQtS,EAAIzR,YAAY/E,OACxC,GAEF,OACE1I,MAAAO,cAACP,MAAMyxB,SAAQ,KACbzxB,MAAAO,cAAC2wB,gBAAAl1B,SAAcoE,OAAQ7D,QAAA2E,OAAOG,SAC3B5D,EAAQ4C,OAAO8M,SAASC,UAE3BpN,MAAAO,cAACywB,WAAAh1B,SAASwG,MAAO/E,EAAQ4C,OAAO8M,SAASukB,gBAAc,UAGvD1xB,MAAAO,cAACywB,WAAAh1B,SAASwG,MAAO/E,EAAQ4C,OAAO8M,SAASwkB,oBAAkB,cAG3D3xB,MAAAO,cAACywB,WAAAh1B,SAASwG,MAAO8uB,GAAc,gBAC/BtxB,MAAAO,cAAC4wB,iBAAAn1B,QAAc,OAhC4BiG,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAqCnDxI,QAAAC,QAAe2J,cAAAI,QAAQH,gBAAA5J,QAAR2J,CAAyByrB,waArDxCpxB,yIAKAC,2IACA+wB,mJAEAprB,6JAEAqrB,iLAEAC,6JACAC,+JAGAC,ilBChBA,MAAApxB,EAAAxB,EAAA5C,EAAA,IAEAqE,EAAAnE,EAAAF,EAAA,KACAW,EAAAX,EAAA,GAOMg2B,EAAqC,EAAGpvB,QAAOlC,cACnDN,EAAAO,cAAA,WACEP,EAAAO,cAACN,EAAAjE,SAAKoE,OAAQ7D,EAAA2E,OAAO+R,WAAYzQ,OAAcxC,EAAAO,cAACN,EAAAjE,QAAI,KAAEsE,IAG1DvE,EAAAC,QAAe41B,iQAff5xB,uFAEAC,wFAQM2xB,2UCVN,MAAAjtB,EAAA/I,EAAA,IAIA2M,EAAAzM,EAAAF,EAAA,KAEM8rB,GACJjqB,QAAA8K,EAAAvM,SAGI8pB,EAAkBnhB,EAAAohB,yBACtB2B,GAEF3rB,EAAAC,QAAe8pB,+MATfvd,wIAEMmf,gJAIA5B,8XCVN,MAAAvpB,EAAAT,EAAAF,EAAA,IAEMi2B,EAA0Bt1B,EAAAP,QAAOoxB;;;EAIvCyE,EAAwB90B,YAAc,0BACtChB,EAAAC,QAAe61B,qOAPft1B,2JAEMs1B,4ZCFN,MAAA5xB,EAAAnE,EAAAF,EAAA,KAEMk2B,EAAgB7xB,EAAAjE,QAAKkB,cAAc,MAAM2B;;EAG/CizB,EAAc/0B,YAAc,gBAC5BhB,EAAAC,QAAe81B,2NANf7xB,gJAEM6xB,wYCFN,MAAAX,EAAAr1B,EAAAF,EAAA,MACAG,EAAAC,QAAem1B,EAAAn1B,uOADfm1B,kpBCAA,MAAAnxB,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAEAW,QAAAX,oBAAA,GAEAgK,gBAAA9J,gBAAAF,oBAAA,MAEAgL,oBAAA9K,gBAAAF,oBAAA,KAEAm2B,oBAAAj2B,gBAAAF,oBAAA,MACAo2B,0BAAAl2B,gBAAAF,oBAAA,MACAq2B,wBAAAn2B,gBAAAF,oBAAA,YAGAs2B,uBAA6BlyB,MAAMgC,UACjCC,SACE,MAAMkwB,kBAAEA,EAAFC,iBAAqBA,GAAqBjwB,KAAKrD,MACrD,IAAKqzB,IAAsBC,EACzB,MAAO,iBAGT,MAAMC,EAAqBD,EAAiBxjB,IAAIhG,GAC9C5I,MAAAO,cAACwxB,oBAAA/1B,SAAkBqC,IAAKuK,EAAG0pB,gBAAiB1pB,KAG9C,OACE5I,MAAAO,cAACyxB,0BAAAh2B,QAAuB,KACtBgE,MAAAO,cAACqG,oBAAA5K,SAAkBoE,OAAQ7D,QAAA2E,OAAOG,QAASiG,KAAM6qB,GAAiB,cAGlEnyB,MAAAO,cAAC0xB,wBAAAj2B,QAAqB,KAAEq2B,IAhBmBpwB,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAqBnDxI,QAAAC,QAAe2J,cAAAI,QAAQH,gBAAA5J,QAAR2J,CAAyBusB,4dAnCxClyB,mKAKA4F,uLAEAgB,+LAEAmrB,+LACAC,2MACAC,uMAGAC,kcCdA,MAAAvtB,EAAA/I,EAAA,IAEAoC,EAAApC,EAAA,IAIA2M,EAAAzM,EAAAF,EAAA,KAEMu2B,EAAoBxtB,EAAAG,eAAeyD,EAAAvM,QAASyB,IAChD,IAAKA,EACH,OAAO,KAET,MAAM+W,EAAQ/W,EAAQgQ,YAAY2S,UAAUxX,GAAgB,WAAXA,EAAE2F,MACnD,OAAe,IAAXiG,EACK,MAED,iBAAkBA,OAGtB4d,EAAmBztB,EAAAG,eAAeyD,EAAAvM,QAASyB,IAC/C,IAAKA,EACH,SAEF,MAAM80B,EAAY90B,EAAQgQ,YAAYuS,KAAKpX,GAAgB,WAAXA,EAAE2F,MAClD,OAAKgkB,EAGEv0B,EAAAw0B,MAAMD,EAAU9kB,YAAY/E,aAG/Bgf,GACJyK,oBACAC,oBAGItM,EAAkBnhB,EAAAohB,yBACtB2B,GAEF3rB,EAAAC,QAAe8pB,yOAhCfvd,kKAEM4pB,yKAWAC,wKAWA1K,0KAKA5B,wZCnCN,MAAAiM,EAAAj2B,EAAAF,EAAA,MACAG,EAAAC,QAAe+1B,EAAA/1B,oQADf+1B,krBCAA,MAAA/xB,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAEAW,QAAAX,oBAAA,GAIAgK,gBAAA9J,gBAAAF,oBAAA,MAEAqE,OAAAnE,gBAAAF,oBAAA,KACAgL,oBAAA9K,gBAAAF,oBAAA,KACAic,WAAA/b,gBAAAF,oBAAA,YAGA62B,0BAAgCzyB,MAAMgC,UACpCC,SACE,MAAMqF,KAAEA,EAAFiH,KAAQA,EAARsH,OAAcA,EAAd6c,aAAsBA,GAAiBvwB,KAAKrD,MAClD,OACEkB,MAAAO,cAACsX,WAAA7b,QAAQ,KACPgE,MAAAO,cAACsX,WAAA7b,QAASkE,OAAM,KACboH,EACCtH,MAAAO,cAACqG,oBAAA5K,SAAkBoE,OAAQ7D,QAAA2E,OAAOG,QAASiG,KAAMA,GAC9CiH,GAGH,kBAGJvO,MAAAO,cAACsX,WAAA7b,QAAS22B,OAAM,KACd3yB,MAAAO,cAAA,WACEP,MAAAO,cAACN,OAAAjE,SAAKoE,OAAQ7D,QAAA2E,OAAO+R,WAAY4C,IAEnC7V,MAAAO,cAAA,WACEP,MAAAO,cAACN,OAAAjE,SAAKoE,OAAQ7D,QAAA2E,OAAO+R,WAAYyf,EAA+B,kBAnBtBzwB,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OA0BtDxI,QAAAC,QAAe2J,cAAAI,QAAQH,gBAAA5J,QAAR2J,CAAyB8sB,+hBAxCxCzyB,mMAOA4F,uNAEA3F,qMACA2G,+NACAiR,6MAGA4a,weCdA,MAAAG,EAAA92B,EAAAF,EAAA,KACA4D,EAAA5D,EAAA,GAIA2M,EAAAzM,EAAAF,EAAA,KAIM02B,EAAkB,CAACzjB,EAAa/P,IACpCA,EAAMwzB,gBAEFO,EAAmBP,EAEnBzyB,EAAa+yB,EAAA52B,QACjBuM,EAAAvM,QACAs2B,EACA,CAAC70B,EAAS60B,KACR,IAAK70B,EACH,OAAO,KAET,MAAMq1B,EAAar1B,EAAQgQ,YAAYuS,KAAKpX,GAAgB,WAAXA,EAAE2F,MACnD,OAAKukB,GAIEA,EAAWrlB,YAAY6kB,IAHrB,MATMM,CAcjBC,GAEIE,EAAoBH,EAAA52B,QAAqB6D,EAAYA,IACzD,IAAKA,EACH,OAAO,KAET,MAAMmzB,EAAgBxzB,EAAAO,YAAYF,EAAYL,EAAAkgB,wBAC9C,OAAKsT,GAAkBA,EAAc/jB,aAG9B+jB,EAAc/jB,aAFZ,MANe2jB,CASvBC,GAEGvrB,EAAO,CAACvJ,EAAiBe,KAC7B,MAAMm0B,EAAW1qB,EAAAvM,QAAQ+B,GACzB,IAAKk1B,EACH,OAAO,KAET,MAAMC,EAAaD,EAASxlB,YAAY2S,UAAUxX,GAAgB,WAAXA,EAAE2F,MACzD,OAAoB,IAAhB2kB,EACK,MAGD,iBAAkBA,IAAc,iBAD1BZ,EAAgBv0B,EAAOe,OAIjCyP,EAAO,CAACxQ,EAAiBe,KAC7B,MAAMq0B,EAAQJ,EAAkBh1B,EAAOe,GACvC,OAAQq0B,GAASA,EAAM5kB,MAAS,MAG5BsH,EAAS,CAAC9X,EAAiBe,KAC/B,MAAMq0B,EAAQJ,EAAkBh1B,EAAOe,GACvC,OAAQq0B,GAASA,EAAMxT,iBAAoB,MAGvC+S,EAAe,CAAC30B,EAAiBe,KACrC,MAAMq0B,EAAQJ,EAAkBh1B,EAAOe,GACvC,OAAQq0B,IAAUA,EAAMC,YAAc,KAAK1b,QAAQ,IAAO,MAG5D,SAAAoO,EAAyB/nB,EAAiBe,GACxC,OACEwI,KAAMA,EAAKvJ,EAAOe,GAClByP,KAAMA,EAAKxQ,EAAOe,GAClB+W,OAAQA,EAAO9X,EAAOe,GACtB4zB,aAAcA,EAAa30B,EAAOe,IAItC/C,EAAAC,QAAe8pB,uQA9Ef8M,mMAKArqB,gMAIM+pB,qMAGAO,sMAEAhzB,gMAgBAkzB,uMAWAzrB,0LAaAiH,0LAKAsH,4LAKA6c,kMAKN5M,sbCrEA,MAAAvpB,EAAAT,EAAAF,EAAA,IAEAa,EAAAb,EAAA,IAEAY,EAAAZ,EAAA,GAEAy3B,EAAAv3B,EAAAF,EAAA,MACA03B,EAAAx3B,EAAAF,EAAA,MAEM23B,EAAWh3B,EAAAP,QAAOoxB;mBACLtuB,GAAStC,EAAAyJ,SAASnH,GAAO2U,MAAK;sBAC3B3U,GAAStC,EAAAyJ,SAASnH,GAAOoH,OAAOC,GAAGC;;;;;;;EAQzDmtB,EAASx2B,YAAc,WAEvBhB,EAAAC,QAAeS,EAAAO,YAAYu2B,GACzBrzB,OAAAmzB,EAAAr3B,QACA22B,OAAAW,EAAAt3B,mLAvBFO,iGAMA82B,0GACAC,0GAEMC,mVCTN,MAAAh3B,EAAAT,EAAAF,EAAA,IAKM43B,EAAiBj3B,EAAAP,QAAwB;IAH/CJ,EAAA,GAIIe;;;;;;EAOJ62B,EAAez2B,YAAc,iBAC7BhB,EAAAC,QAAew3B,iLAdfj3B,uGAKMi3B,+VCLN,MAAAj3B,EAAAT,EAAAF,EAAA,IAIM63B,EAAiBl3B,EAAAP,QAAOoxB;;;;;;;;EAS9BqG,EAAe12B,YAAc,iBAC7BhB,EAAAC,QAAey3B,iLAdfl3B,uGAIMk3B,wgBCJN,MAAAzzB,EAAAxB,EAAA5C,EAAA,IAEAW,EAAAX,EAAA,GAEA+C,EAAA7C,EAAAF,EAAA,KAEM83B,EAAqC,EAAGpzB,cAC5CN,EAAAO,cAAC5B,EAAA3C,SACCwE,MAAM,OACNS,GAAE,EACFF,EAAC,EACDL,OAAM,EACNE,YAAarE,EAAAsE,MAAM6tB,kBAElBpuB,GAILozB,EAAwB32B,YAAc,0BACtChB,EAAAC,QAAe03B,ybAnBf1zB,mLAIArB,mLAEM+0B,sbCNN,MAAAn3B,EAAAT,EAAAF,EAAA,IAEM+3B,EAAwBp3B,EAAAP,QAAOoxB;;;;;;EAOrCuG,EAAsB52B,YAAc,wBACpChB,EAAAC,QAAe23B,4PAVfp3B,kLAEMo3B,ibCFN,MAAA9E,EAAA/yB,EAAAF,EAAA,MACAG,EAAAC,QAAe6yB,EAAA7yB,mNADf6yB,ooBCAA,MAAA7uB,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAEAW,QAAAX,oBAAA,GAGAgK,gBAAA9J,gBAAAF,oBAAA,MAEAqE,OAAAnE,gBAAAF,oBAAA,KACMg0B,GAAK3vB,OAAAjE,QAAKkB,cAAc,MAE9B02B,gCAAA93B,gBAAAF,oBAAA,MAEAi4B,gBAAA/3B,gBAAAF,oBAAA,WAGAk4B,6BAAmC9zB,MAAMgC,UACvCC,SACE,MAAM2L,aAAEA,EAAFmmB,SAAgBA,EAAhB/jB,SAA0BA,EAA1BtS,aAAoCA,GAAiByE,KAAKrD,MAEhE,IAAI8b,EACJ,GAAImZ,EAAU,CACZ,MAAMC,MACAD,EAASjE,cACTiE,EAASE,gBACbrlB,IAAIhG,IACJ,MAAMsrB,EAAcL,gBAAA73B,QAA0B4M,EAAE1F,MAAM,GACtD,OACElD,MAAAO,cAAA,MAAIlC,IAAKuK,EAAE2F,MACTvO,MAAAO,cAACqvB,GAAE,KAAEhnB,EAAE2F,MACPvO,MAAAO,cAAA,UACEP,MAAAO,cAAC2zB,GAAY5sB,SAAU5J,EAAckL,EAAE2F,YAM/CqM,EACE5a,MAAAO,cAAA,aACEP,MAAAO,cAAA,aAAQyzB,SAGP,GAAIhkB,EAAU,CACnB,MAAMkkB,EAAcL,gBAAA73B,QAA0BgU,GAC9C4K,EAAU5a,MAAAO,cAAC2zB,GAAY5sB,KAAM5J,SAE7Bkd,EAAU5a,MAAAO,cAACN,OAAAjE,SAAKoE,OAAQ7D,QAAA2E,OAAOiQ,WAAS,oBAE1C,OACEnR,MAAAO,cAACqzB,gCAAA53B,QAA6B,KAC5BgE,MAAAO,cAACN,OAAAjE,QAAKiB,IAAGmD,OAAQ7D,QAAA2E,OAAOG,SAAUuM,GACjCgN,GAnCgD3Y,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAwCzDxI,QAAAC,QAAe2J,cAAAI,QAAQH,gBAAA5J,QAAR2J,CAAyBmuB,scAxDxC9zB,qJAMA4F,yKAEA3F,uJACM2vB,+IAENgE,yMAEAC,yKAGAC,gcChBA,MAAAnvB,EAAA/I,EAAA,IAEA4D,EAAA5D,EAAA,GAUA2M,EAAAzM,EAAAF,EAAA,KACA0M,EAAAxM,EAAAF,EAAA,KAIMgS,EAAe,CAACiB,EAAa/P,IACjCA,EAAM8O,aAEFkB,EAAe,CAACD,EAAa/P,IACjCA,EAAMgQ,aAEFqlB,EAAY,CAACp2B,EAAiBe,IAClCA,EAAMiQ,eAAiBzG,EAAAtM,QAAa+B,GAEhCiS,EAAWrL,EAAAG,eACfyD,EAAAvM,QACA4R,EACAkB,EACA,CAACrR,EAASmQ,EAAckB,KACtB,IAAKrR,EACH,OAAO,KAGT,IAAIuS,GACFG,KAAM3Q,EAAA40B,sBAAsBviB,YAC5BjE,gBAEEmmB,EAAWt2B,EAAQ4P,UAAU2S,KAAKpX,GAAKA,EAAE2F,OAASX,GAEtD,IAAK,IAAI/E,EAAI,EAAGA,EAAIiG,EAAapG,OAAQG,IAAK,CAC5C,MAAMqgB,EAAOpa,EAAajG,GAE1B,GAAgB,MAAZkrB,EACF,OAAO,KAGT,MAAMM,EACJN,EAASjE,OAAO9P,KAAKpX,GAAKA,EAAE2F,OAAS2a,IACrC6K,EAASE,WAAWjU,KAAKpX,GAAKA,EAAE2F,OAAS2a,GAC3C,IAAKmL,EACH,OAAO,KAGTrkB,EAAWqkB,EAAOnxB,KAElB,MAAMoxB,EAAW90B,EAAA0Q,YAAYF,EAASG,MAEtC,GAAImkB,IAAa90B,EAAA4Q,sBAAsByB,YACrCkiB,EAAWt2B,EAAQ4P,UAAU2S,KAC3BpX,GAAKA,EAAE2F,OAAS8lB,EAAOnxB,KAAK0K,mBAEzB,IAAsC,IAAlCpO,EAAA+0B,WAAW9V,QAAQ6V,GAAkB,CAE9C,KADAzrB,IACUiG,EAAapG,OAErB,MAIAlJ,EAAA0Q,YAAYF,EAASO,SAAU,GAAGJ,QAClC3Q,EAAA4Q,sBAAsByB,cAEtB7B,EAAWA,EAASO,SAAU,GAC9BwjB,EAAWt2B,EAAQ4P,UAAU2S,KAC3BpX,GAAKA,EAAE2F,OAASyB,EAASpC,mBAGxB,IAAI0mB,IAAa90B,EAAA4Q,sBAAsBO,WA8B5C,OAAO,KA9BiD,CAExD,KADA9H,IACUiG,EAAapG,OAErB,MAKF,KADAG,IACUiG,EAAapG,OAAQ,CAG7BsH,GACEG,KAAM3Q,EAAA40B,sBAAsB/iB,KAC5Bd,SAAUP,EAASO,UAErB,MAEF,IAAIikB,EAAgBC,OAAO3lB,EAAajG,IAExC,KADAmH,EAAWA,EAASO,SAAUikB,IAE5B,MAGEh1B,EAAA0Q,YAAYF,EAASG,QAAU3Q,EAAA4Q,sBAAsByB,cACvDkiB,EAAWt2B,EAAQ4P,UAAU2S,KAC3BpX,GAAKA,EAAE2F,OAASyB,EAASpC,iBAQjC,OAAOoC,IAIL+jB,EAAWpvB,EAAAG,eAAeyD,EAAAvM,QAASgU,EAAU,CAACvS,EAASuS,KAC3D,IAAKvS,IAAYuS,EACf,OAAO,KAIT,GADiBxQ,EAAA0Q,YAAYF,EAASG,QACrB3Q,EAAA4Q,sBAAsByB,YACrC,OAAO,KAIT,OADepU,EAAQ4P,UAAU2S,KAAKpX,GAAKA,EAAE2F,OAASyB,EAASpC,gBAI3D8Z,GACJqM,WACA/jB,WACAtS,aAAcy2B,GAGVrO,EAAkBnhB,EAAAohB,yBAItB2B,GACF3rB,EAAAC,QAAe8pB,qNAlIfvd,8IACAD,mJAIMsF,gJAGAkB,gJAGAqlB,6IAGAnkB,4IA2FA+jB,4IAcArM,sJAMA5B,oYCzIN,MAAAvpB,EAAAT,EAAAF,EAAA,IAEM84B,EAAgCn4B,EAAAP,QAAOoxB,MAC7CsH,EAA8B33B,YAAc,gCAC5ChB,EAAAC,QAAe04B,gPAJfn4B,sKAEMm4B,slBCFN,MAAA10B,EAAAxB,EAAA5C,EAAA,IAIAqE,EAAAnE,EAAAF,EAAA,KAEA+K,EAAA7K,EAAAF,EAAA,KAKAW,EAAAX,EAAA,GAEAi4B,EAAA/3B,EAAAF,EAAA,KAEMg0B,EAAK3vB,EAAAjE,QAAKkB,cAAc,MAKxBy3B,EAAiE,EACrErtB,OACAgJ,UACA9N,YAEA,GAAa,MAATA,EACF,OAAOxC,EAAAO,cAACN,EAAAjE,SAAKoE,OAAQ7D,EAAA2E,OAAOE,MAAI,cAElC,MAAMwzB,EAAef,EAAA73B,QAAqBsU,GACpCukB,EAAYryB,EAAgBoM,IAAI,CAACC,EAAGhG,IAEtC7I,EAAAO,cAAA,MAAIlC,IAAKwK,GACP7I,EAAAO,cAACqvB,EAAE,KAAE/mB,GACL7I,EAAAO,cAAA,UACEP,EAAAO,cAACq0B,GAAattB,SAAUA,KAASuB,UAKzC,OACE7I,EAAAO,cAAA,aACEP,EAAAO,cAAA,aACEP,EAAAO,cAAA,UACEP,EAAAO,cAAA,UACEP,EAAAO,cAACN,EAAAjE,SAAKoE,OAAQ7D,EAAA2E,OAAOG,SAAO,QAE9BrB,EAAAO,cAAA,UACEP,EAAAO,cAACN,EAAAjE,SAAKoE,OAAQ7D,EAAA2E,OAAOG,SAAO,YAIlCrB,EAAAO,cAAA,aAAQs0B,KAIdF,EAAe53B,YAAc,iBAC7BhB,EAAAC,QAAe2K,EAAA3K,SAAA2K,CAAqBguB,8TAxDpC30B,qHAIAC,sHAEA0G,+HAOAktB,+HAEMjE,kHAKA+E,+WCpBN,MAAA/B,EAAA92B,EAAAF,EAAA,KAEAoC,EAAApC,EAAA,IAIA2M,EAAAzM,EAAAF,EAAA,KAIMk5B,EAAmB,CAACjmB,EAAa/P,IAA4BA,EAAMwI,KAEnEytB,EAAoB,CAAClmB,EAAa/P,IACtCA,EAAMwI,KAAK5B,KAAK,KAEZsvB,EAAYpC,EAAA52B,QAChB84B,EACAvsB,EAAAvM,QACA,CAACsL,EAAM7J,IACe,IAAhB6J,EAAKoB,OACAjL,EAEFO,EAAAoH,IAAI3H,EAAS6J,GAPNsrB,CAShBmC,GAEF,SAAAjP,EAAyB/nB,EAAiBe,GACxC,OACE0D,MAAOwyB,EAAUj3B,EAAOe,IAI5B/C,EAAAC,QAAe8pB,8MAhCf8M,0IAMArqB,uIAIMusB,6IAEAC,8IAGAC,sIAWNlP,ySC1BA,MAAAvI,EAAA3hB,EAAA,IAKA,SAAAqqB,EAA4BgP,EAAoBn2B,GAC9C,OACEmD,SAASO,GACH1D,EAAMo2B,QACRp2B,EAAMo2B,QAAQ92B,QAAQkJ,IACpB2tB,EAAS1X,EAAAjR,cAAcxN,EAAMwI,KAAM9E,MAGrCyyB,EAAS1X,EAAAjR,cAAcxN,EAAMwI,KAAM9E,MAM3CzG,EAAAC,QAAeiqB,kEAdfA,wXCLA,MAAA1M,EAAAzd,EAAAF,EAAA,KAEA+K,EAAA7K,EAAAF,EAAA,KAEAG,EAAAC,QAAe2K,EAAA3K,SAAA2K,CAAqB4S,EAAAvd,oMAJpCud,wHAEA5S,qhBCFA,MAAA3G,EAAAxB,EAAA5C,EAAA,IAEA8F,EAAA5F,EAAAF,EAAA,KAIA8T,EAAA5T,EAAAF,EAAA,KAEMu5B,EAA0C,EAAG7tB,UACjDtH,EAAAO,cAAA,WACEP,EAAAO,cAACmB,EAAA1F,SAAUqc,MAAM,KACfrY,EAAAO,cAACmP,EAAA1T,SACC2G,UAAU,SACVF,SAAU,EACVC,SAAU,EACV4E,SAAUA,EAAM,QAGpBtH,EAAAO,cAACmB,EAAA1F,SAAUqc,MAAM,KACfrY,EAAAO,cAACmP,EAAA1T,SACC2G,UAAU,SACVF,SAAU,EACVC,SAAU,EACV4E,SAAUA,EAAM,QAGpBtH,EAAAO,cAACmB,EAAA1F,SAAUqc,MAAM,KACfrY,EAAAO,cAACmP,EAAA1T,SACC2G,UAAU,SACVF,SAAU,EACVC,SAAU,EACV4E,SAAUA,EAAM,QAGpBtH,EAAAO,cAACmB,EAAA1F,SAAUqc,MAAM,KACfrY,EAAAO,cAACmP,EAAA1T,SACC2G,UAAU,SACVF,SAAU,EACVC,SAAU,EACV4E,SAAUA,EAAM,SAKxB6tB,EAAWp4B,YAAc,aACzBhB,EAAAC,QAAem5B,qTA7Cfn1B,iHAEA0B,uHAIAgO,0HAEMylB,wmBCRN,MAAAn1B,MAAAxB,aAAA5C,oBAAA,IAKA+P,OAAA7P,gBAAAF,oBAAA,KACA+C,MAAA7C,gBAAAF,oBAAA,KACAqE,OAAAnE,gBAAAF,oBAAA,WAQAw5B,kBAAuCp1B,MAAMgC,UAC3CC,SACE,MAAMoW,MAAEA,EAAFjY,OAASA,EAATi1B,OAAiBA,EAAjBhhB,SAAyBA,GAAalS,KAAKrD,MAEjD,IAAIwB,EAAW6B,KAAKrD,MAAMwB,SAE1B,OACEN,MAAAO,cAACoL,OAAA3P,SAAKsD,UAAW+1B,EAAS,MAAQ,SAAUC,GAAE,GAC5Ct1B,MAAAO,cAACN,OAAAjE,QAAKmB,OACJP,UAAU,WACVyX,SAAUA,EACVkhB,GAAIF,EAAQ,EAAc,EAC1Bj1B,OAAQA,GAEPiY,GAEHrY,MAAAO,cAAC5B,MAAA3C,SACCwE,MAAM,OACN5D,UAAU,WACV44B,GAAIH,EAAQ,EAAa,GAExB/0B,IArBkD2B,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAA7DxI,QAAAC,QAAAo5B,4VAfAp1B,sGAKA2L,wGACAhN,sGACAsB,wGAQAm1B,oiBCfA,MAAAp1B,EAAAxB,EAAA5C,EAAA,IAIAqE,EAAAnE,EAAAF,EAAA,KAEA+K,EAAA7K,EAAAF,EAAA,KAKAW,EAAAX,EAAA,GAEAi4B,EAAA/3B,EAAAF,EAAA,KAEMg0B,EAAK3vB,EAAAjE,QAAKkB,cAAc,MAKxBu4B,EAAmE,EACvEnuB,OACAgJ,UACA9N,YAEA,MAAMoyB,EAAef,EAAA73B,QAAqBsU,GACpCukB,EAAYryB,EAAgBoM,IAAI,EAAEvQ,EAAKmE,GAAQqG,IAEjD7I,EAAAO,cAAA,MAAIlC,IAAKwK,GACP7I,EAAAO,cAACqvB,EAAE,KAAEW,KAAKC,UAAUnyB,IACpB2B,EAAAO,cAAA,UACEP,EAAAO,cAACq0B,GAAattB,SAAUA,KAASuB,IAAK,UAK9C,OACE7I,EAAAO,cAAA,aACEP,EAAAO,cAAA,aACEP,EAAAO,cAAA,UACEP,EAAAO,cAAA,UACEP,EAAAO,cAACN,EAAAjE,SAAKoE,OAAQ7D,EAAA2E,OAAOG,SAAO,QAE9BrB,EAAAO,cAAA,UACEP,EAAAO,cAACN,EAAAjE,SAAKoE,OAAQ7D,EAAA2E,OAAOG,SAAO,YAIlCrB,EAAAO,cAAA,aAAQs0B,KAIdY,EAAgB14B,YAAc,kBAC9BhB,EAAAC,QAAe2K,EAAA3K,SAAA2K,CAAqB8uB,gUArDpCz1B,sHAIAC,uHAEA0G,gIAOAktB,gIAEMjE,mHAKA6F,w9BCpBN,MAAAz1B,MAAAxB,aAAA5C,oBAAA,IAEA+F,kBAAA/F,oBAAA,IACA4D,kBAAA5D,oBAAA,GAEAW,QAAAX,oBAAA,GAEAqE,OAAAnE,gBAAAF,oBAAA,KACA8K,eAAA5K,gBAAAF,oBAAA,KACAqe,SAAAne,gBAAAF,oBAAA,MAEA+K,gBAAA7K,gBAAAF,oBAAA,WAUA85B,yBAA+B11B,MAAMgC,UACnCC,SACE,MAAM6O,gBAAEA,EAAFtO,MAAmBA,EAAnB0B,SAA0BA,GAAa/B,KAAKrD,MAC5C62B,EAAcC,eAAe9kB,GACnC,GAAK6kB,EAOE,CAEL,MAKM1d,EALWra,OAAO8Q,KAAKinB,GAAahnB,OAGxC/F,GAAKtE,MAAMuxB,SAASjtB,KAEqBgG,IAAIhG,KAC7CyP,MAAOzP,EACPpG,MAAOmzB,EAAY/sB,MAErB,OACE5I,MAAAO,cAAC0Z,SAAAje,SACCwG,MAAOA,EACPyV,QAASA,EACT5U,SAAUlB,KAAK2zB,qBACft1B,MAAM,UAtBV,OACER,MAAAO,cAAA,YACEP,MAAAO,cAACmG,eAAA1K,SAAawG,MAAOA,EAAO0B,SAAUA,IACtClE,MAAAO,cAACN,OAAAjE,SAAKoE,OAAQ7D,QAAA2E,OAAOE,MAAO0P,EAAiC,eA0B7D7O,qBAAqBO,GAC3B,IAAKA,EACH,OAEF,MAAM0B,SAAEA,GAAa/B,KAAKrD,MAC1BoF,EAAS1B,GAvCwCP,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OA6CrD,SAAAqxB,eACE9kB,GAEA,OACGlT,OAAOm4B,UAAUC,eAAetU,KAAKliB,kBAAAy2B,mBAAoBnlB,GAKpDtR,kBAAAy2B,mBAA2BnlB,GAH1B,KAjBTrM,YADC9C,kBAAA+C,8DAOA,MAGH3I,QAAAC,QAAe2K,gBAAA3K,SAAA2K,CAAqB+uB,mhBAhEpC11B,2HAOAC,6HACAyG,6IACAuT,iIAEAtT,+IAUA+uB,iJA6CAE,0ZClEA,MAAAM,EAAAp6B,EAAAF,EAAA,MAEA+K,EAAA7K,EAAAF,EAAA,KAEAG,EAAAC,QAAe2K,EAAA3K,SAAA2K,CAAqBuvB,EAAAl6B,mMAJpCk6B,sHAEAvvB,ohBCFA,MAAA3G,EAAAxB,EAAA5C,EAAA,IAEA8F,EAAA5F,EAAAF,EAAA,KAIA8T,EAAA5T,EAAAF,EAAA,KAEMu6B,EAA4C,EAAG7uB,UACnDtH,EAAAO,cAAA,WACEP,EAAAO,cAACmB,EAAA1F,SAAUqc,MAAM,KACfrY,EAAAO,cAACmP,EAAA1T,SAAa2G,UAAU,SAAS2E,SAAUA,EAAM,QAEnDtH,EAAAO,cAACmB,EAAA1F,SAAUqc,MAAM,KACfrY,EAAAO,cAACmP,EAAA1T,SAAa2G,UAAU,SAAS2E,SAAUA,EAAM,SAIvD6uB,EAAap5B,YAAc,eAC3BhB,EAAAC,QAAem6B,yTAnBfn2B,mHAEA0B,yHAIAgO,4HAEMymB,ohBCRN,MAAAn2B,EAAAxB,EAAA5C,EAAA,IAEA8F,EAAA5F,EAAAF,EAAA,KAIA8T,EAAA5T,EAAAF,EAAA,KAEMw6B,EAA6C,EAAG9uB,UACpDtH,EAAAO,cAAA,WACEP,EAAAO,cAACmB,EAAA1F,SAAUqc,MAAM,KACfrY,EAAAO,cAACmP,EAAA1T,SAAa2G,UAAU,QAAQ2E,SAAUA,EAAM,QAElDtH,EAAAO,cAACmB,EAAA1F,SAAUqc,MAAM,KACfrY,EAAAO,cAACmP,EAAA1T,SAAa2G,UAAU,QAAQ2E,SAAUA,EAAM,SAItD8uB,EAAcr5B,YAAc,gBAC5BhB,EAAAC,QAAeo6B,2TAnBfp2B,oHAEA0B,0HAIAgO,6HAEM0mB,shBCRN,MAAAp2B,EAAAxB,EAAA5C,EAAA,IAEA8F,EAAA5F,EAAAF,EAAA,KAIA8T,EAAA5T,EAAAF,EAAA,KAEMy6B,EAA4C,EAAG/uB,UACnDtH,EAAAO,cAAA,WACEP,EAAAO,cAACmB,EAAA1F,SAAUqc,MAAM,KACfrY,EAAAO,cAACmP,EAAA1T,SAAa2G,UAAU,SAAS2E,SAAUA,EAAM,QAEnDtH,EAAAO,cAACmB,EAAA1F,SAAUqc,MAAM,KACfrY,EAAAO,cAACmP,EAAA1T,SAAa2G,UAAU,SAAS2E,SAAUA,EAAM,QAEnDtH,EAAAO,cAACmB,EAAA1F,SAAUqc,MAAM,KACfrY,EAAAO,cAACmP,EAAA1T,SAAa2G,UAAU,SAAS2E,SAAUA,EAAM,SAIvD+uB,EAAat5B,YAAc,eAC3BhB,EAAAC,QAAeq6B,yTAtBfr2B,mHAEA0B,yHAIAgO,4HAEM2mB,2WCRN,MAAAvH,EAAAhzB,EAAAF,EAAA,MACAG,EAAAC,QAAe8yB,EAAA9yB,kNADf8yB,koBCAA,MAAA9uB,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAIAgK,gBAAA9J,gBAAAF,oBAAA,MAEAW,QAAAX,oBAAA,GAEAgL,oBAAA9K,gBAAAF,oBAAA,KACAqM,YAAAnM,gBAAAF,oBAAA,KAKAosB,kBAAAlsB,gBAAAF,oBAAA,WAGA06B,4BAAkCt2B,MAAMgC,UACtCC,SACE,MAAMs0B,iBAAEA,GAAqBp0B,KAAKrD,MAE5B03B,IAEFt2B,OAAQ,mBACRu2B,GAAI,OACJC,SAAU9tB,GAAKA,EACf+tB,KAAOC,GACL52B,MAAAO,cAACqG,oBAAA5K,SAAkBoE,OAAQ7D,QAAA2E,OAAOG,QAASiG,KAAMsvB,EAAIp0B,MAAM8E,MACxDsvB,EAAIp0B,MAAM+L,MAGfsoB,UAAU,EACVC,WAAY,CAACrrB,EAAcC,IACzBD,EAAE8C,KAAKwoB,cAAcrrB,EAAE6C,MACzByoB,YAAY,EAEZC,aAAc,CAACtoB,EAAgBioB,IAC5BA,EAAI1zB,KAAKqL,KACP2oB,cACA7uB,UAAUsG,EAAOnM,OAAS,IAAI00B,iBAGnCh3B,OAAQ,QACRw2B,SAAU,QACVG,UAAU,IAGd,OACE72B,MAAAO,cAACynB,kBAAAhsB,SAAgBqE,OAAO,oBACtBL,MAAAO,cAAC0H,YAAAjM,SAAUw6B,QAASA,EAAS1U,KAAMyU,KAhCat0B,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAqCxDxI,QAAAC,QAAe2J,cAAAI,QAAQH,gBAAA5J,QAAR2J,CAAyB2wB,icAvDxCt2B,mJAKA4F,uKAIAgB,+KACAqB,+JAKA+f,2KAGAsO,4bClBA,MAAA3xB,EAAA/I,EAAA,IAIA2M,EAAAzM,EAAAF,EAAA,KAQM26B,EAAmB5xB,EAAAG,eAAeyD,EAAAvM,QAASyB,GAC1CA,EAIEA,EAAQgQ,YAAYmB,IAAI,CAAChG,EAAGC,KAMjC,OAJE0F,KAAM3F,EAAE2F,KACRijB,MAAO5oB,EAAE6E,YAAY/E,OACrBpB,MAAO,iBAAkBuB,YAMzB6e,GACJ6O,oBAGIzQ,EAAkBnhB,EAAAohB,yBACtB2B,GAEF3rB,EAAAC,QAAe8pB,qNA9Bfvd,8IAQMguB,oJAeA7O,sJAIA5B,sYC/BN,MAAAiJ,EAAAjzB,EAAAF,EAAA,MACAG,EAAAC,QAAe+yB,EAAA/yB,6MADf+yB,wnBCAA,MAAA/uB,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAEAgK,gBAAA9J,gBAAAF,oBAAA,MAEAW,QAAAX,oBAAA,GAGAic,WAAA/b,gBAAAF,oBAAA,MACAgL,oBAAA9K,gBAAAF,oBAAA,KAEAosB,kBAAAlsB,gBAAAF,oBAAA,KAGAu7B,wBAAAr7B,gBAAAF,oBAAA,YAGAw7B,uBAA6Bp3B,MAAMgC,UACjCC,SACE,MAAMo1B,gBAAEA,GAAoBl1B,KAAKrD,MAC3Bw4B,EAAYD,EAAgBzoB,IAAIhG,GACpC5I,MAAAO,cAACsX,WAAA7b,SAASqC,IAAKuK,EAAE2F,MACfvO,MAAAO,cAACsX,WAAA7b,QAASkE,QAAOiU,UAAU,aACzBnU,MAAAO,cAACqG,oBAAA5K,SAAkBoE,OAAQ7D,QAAA2E,OAAOG,QAASiG,KAAMsB,EAAEtB,MAChDsB,EAAE2F,SAKX,OACEvO,MAAAO,cAACynB,kBAAAhsB,SAAgBqE,OAAO,eACtBL,MAAAO,cAAC42B,wBAAAn7B,QAAqB,KAAEs7B,IAdmBr1B,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAmBnDxI,QAAAC,QAAe2J,cAAAI,QAAQH,gBAAA5J,QAAR2J,CAAyByxB,waApCxCp3B,yIAGA4F,6JAKAiS,mJACAjR,qKAEAohB,iKAGAmP,6KAGAC,waCjBA,MAAAzyB,EAAA/I,EAAA,IAIAoC,EAAApC,EAAA,IAIA2M,EAAAzM,EAAAF,EAAA,KACA0M,EAAAxM,EAAAF,EAAA,KAEAyN,EAAAzN,EAAA,IAOMy7B,EAAkB1yB,EAAAG,eACtByD,EAAAvM,QACAsM,EAAAtM,QACA,CAACyB,EAASC,KACR,IAAKD,EACH,SAGF,MAAMmtB,EAAyB5sB,EAAAoH,IAAI3H,EAASC,GAC5C,OAAKktB,EAIEA,EAAMnd,YAAYmB,IAAI,CAAChG,EAAGC,KAC/B,MAAMvB,MAAW5J,EAAc,iBAAkBmL,KAMjD,OAHE0F,KAFWlF,EAAA+f,iBAAiB9hB,EAAM7J,GAGlC6J,eAOFogB,GACJ2P,mBAGIvR,EAAkBnhB,EAAAohB,yBACtB2B,GAEF3rB,EAAAC,QAAe8pB,+MA1Cfvd,wIACAD,6IASM+uB,6IAyBA3P,gJAIA5B,8XC/CN,MAAAvpB,EAAAT,EAAAF,EAAA,IAEM27B,EAAmBh7B,EAAAP,QAAOoxB;;;;;;EAOhCmK,EAAiBx6B,YAAc,mBAC/BhB,EAAAC,QAAeu7B,mOAVfh7B,yJAEMg7B,mZCFN,MAAAvI,EAAAlzB,EAAAF,EAAA,MACAG,EAAAC,QAAegzB,EAAAhzB,mOADfgzB,upBCAA,MAAAhvB,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAEAW,QAAAX,oBAAA,GAEAgK,gBAAA9J,gBAAAF,oBAAA,MAEAuqB,gBAAArqB,gBAAAF,oBAAA,KACA8F,YAAA5F,gBAAAF,oBAAA,KACAwW,oBAAAtW,gBAAAF,oBAAA,KAEA8T,eAAA5T,gBAAAF,oBAAA,KAEAosB,kBAAAlsB,gBAAAF,oBAAA,KACA0d,mBAAAxd,gBAAAF,oBAAA,YAGA47B,gCAAsCx3B,MAAMgC,UAC1CC,SACE,MAAMmpB,eAAEA,EAAFM,eAAkBA,GAAmBvpB,KAAKrD,MAOhD,OANKssB,GACHprB,MAAAO,cAAC4lB,gBAAAnqB,SAAcoE,OAAQ7D,QAAA2E,OAAOiQ,UAAW9Q,OAAO,0BAAwB,sEAMxEL,MAAAO,cAACynB,kBAAAhsB,SACCqE,OAAQL,MAAAO,cAAC+Y,mBAAAtd,QAAgB,KAAE0vB,IAE3B1rB,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,YACfrY,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,IAAIgd,QAAM,GACzBr1B,MAAAO,cAACmP,eAAA1T,SACC2G,UAAU,SACV2E,SAAU8jB,EAAgB,WAAY,QAG1CprB,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,IAAIgd,QAAM,GACzBr1B,MAAAO,cAACmP,eAAA1T,SACC2G,UAAU,SACV2E,SAAU8jB,EAAgB,WAAY,QAG1CprB,MAAAO,cAAC6R,oBAAApW,SAAkB2B,SAAS,YAC1BqC,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,IAAIgd,QAAM,GACzBr1B,MAAAO,cAACmP,eAAA1T,SACC2G,UAAU,SACV2E,SAAU8jB,EAAgB,WAAY,UAK9CprB,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,SACfrY,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,IAAIgd,QAAM,GACzBr1B,MAAAO,cAACmP,eAAA1T,SACC2G,UAAU,SACV2E,SAAU8jB,EAAgB,QAAS,QAGvCprB,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,IAAIgd,QAAM,GACzBr1B,MAAAO,cAACmP,eAAA1T,SACC2G,UAAU,SACV2E,SAAU8jB,EAAgB,QAAS,UA7CWnpB,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAqD5DxI,QAAAC,QAAe2J,cAAAI,QAAQH,gBAAA5J,QAAR2J,CAAyB6xB,+eAtExCx3B,wKAKA4F,4LAEAugB,4LACAzkB,oLACA0Q,oMAEA1C,0LAEAsY,gMACA1O,kMAGAke,ydCjBA,MAAA7yB,EAAA/I,EAAA,IAEA4D,EAAA5D,EAAA,GAIAyN,EAAAzN,EAAA,IAEA80B,EAAA50B,EAAAF,EAAA,KACA0M,EAAAxM,EAAAF,EAAA,KACA2M,EAAAzM,EAAAF,EAAA,KAEM8rB,GACJ0D,eAAgB9iB,EAAAtM,QAChB0vB,eAAgB/mB,EAAAG,eACd4rB,EAAA10B,QACAsM,EAAAtM,QACAuM,EAAAvM,QACA,CAAC20B,EAAejzB,EAAcD,KAC5B,IAAKA,EACH,MAAO,mBAGT,IAAKkzB,EACH,MAAO,sBAGT,MAAM8G,EAAmBj4B,EAAAO,YAAY4wB,EAAenxB,EAAA+X,mBACpD,IAAImgB,EACDD,GACCA,EAAiBxoB,cACjBwoB,EAAiBxoB,aAAauI,YAChC,mBAEF,MAAMoT,EAAQvhB,EAAAuf,uBAAuBlrB,EAAcD,GAEnD,SAAUmtB,EAAQA,EAAMrc,KAAO,gBAAgBmpB,OAK/C5R,EAAkBnhB,EAAAohB,yBACtB2B,GAEF3rB,EAAAC,QAAe8pB,qOApCf4K,oKACApoB,mKACAC,8JAEMmf,sKA6BA5B,qpBCzCN,MAAA9lB,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAIAgK,gBAAA9J,gBAAAF,oBAAA,YAMA+7B,0BAAgC33B,MAAMgC,UACpCC,SACE,MAAM21B,gBAAEA,EAAFj6B,SAAmBA,EAAnB2C,SAA6BA,GAAa6B,KAAKrD,MACrD,OAAI84B,IAAoBj6B,EACf,KAGF2C,EAP2C2B,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAUtDxI,QAAAC,QAAe2J,cAAAI,QAAQH,gBAAA5J,QAAR2J,CAAyBgyB,qYArBxC33B,sHAKA4F,0IAMA+xB,2ZCXA,MAAAhzB,EAAA/I,EAAA,IAIAi8B,EAAA/7B,EAAAF,EAAA,MAEM8rB,GACJkQ,gBAAiBC,EAAA77B,SAGb8pB,EAAkBnhB,EAAAohB,yBACtB2B,GAEF3rB,EAAAC,QAAe8pB,yLATf+R,mHAEMnQ,0HAIA5B,ymBCVN,MAAA9lB,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAEAW,QAAAX,oBAAA,GAEAk8B,SAAAl8B,oBAAA,KAEAgK,gBAAA9J,gBAAAF,oBAAA,MAEAm8B,UAAAj8B,gBAAAF,oBAAA,MACAqE,OAAAnE,gBAAAF,oBAAA,KAEAo8B,4BAAAl8B,gBAAAF,oBAAA,YAGAq8B,yBAA+Bj4B,MAAMgC,UACnCC,SACE,MAAMwV,SAAEA,EAAFygB,eAAYA,GAAmB/1B,KAAKrD,MAC1C,OACEkB,MAAAO,cAACy3B,4BAAAh8B,QAAyB,KACxBgE,MAAAO,cAACw3B,UAAA/7B,QAAO,KACNgE,MAAAO,cAACw3B,UAAA/7B,QAAQmB,MAAK,KAAEgF,KAAKrD,MAAMwB,UAE3BN,MAAAO,cAACw3B,UAAA/7B,QAAQm8B,OAAMC,MAAM,SAASh5B,aAAa,UACzCY,MAAAO,cAACN,OAAAjE,SACCoE,OAAQ7D,QAAA2E,OAAO+R,UACfsiB,GAAI,EACJnhB,WAAW,SACXC,SAAQ,GAEPoD,EAAWqgB,SAAAO,eAAe5gB,GAAY,yBAI3CzX,MAAAO,cAACw3B,UAAA/7B,QAAQm8B,OAAMC,MAAM,QAAQh5B,aAAa,UACvC84B,GACCl4B,MAAAO,cAACN,OAAAjE,SACCoE,OAAQ7D,QAAA2E,OAAO+R,UACfsiB,GAAI,EACJlhB,SAAQ,GAEPyjB,SAAAQ,cAAcJ,OA1BsBj2B,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAmCrDxI,QAAAC,QAAe2J,cAAAI,QAAQH,gBAAA5J,QAAR2J,CAAyBsyB,keAlDxCj4B,qKAOA4F,yLAEAmyB,6KACA93B,uKAEA+3B,iNAGAC,oXCfA,MAAAz4B,EAAA5D,EAAA,GAEM28B,EAAqB,EAE3B,SAAAC,EAAoCC,GAClC,OAAOA,EAAEC,YAAYH,GAGvB,SAAAF,EAA+Bt3B,GAC7B,UAAWy3B,EAAoBz3B,EAAE6H,OAAO4vB,EAAoBz3B,EAAE4W,MAGhE,SAAA2gB,EAA8BK,GAC5B,OAAOn5B,EAAAo5B,UAAUD,GAGnB,SAAAE,EAA8BtjB,GAE5B,iBAAkBA,EAAUojB,QAd9B58B,EAAAy8B,sBAIAz8B,EAAAs8B,iBAIAt8B,EAAAu8B,gBAIAv8B,EAAA88B,gFAdMN,sFAENC,uFAIAH,kFAIAC,iFAIAO,kUChBA,MAAAl0B,EAAA/I,EAAA,IAEA4D,EAAA5D,EAAA,GAQA80B,EAAA50B,EAAAF,EAAA,KAEM6b,EAAW9S,EAAAG,eACf4rB,EAAA10B,QACCwG,GAAsBA,GAASA,EAAMiV,UAGlCwU,EAAyBtnB,EAAAG,eAAe4rB,EAAA10B,QAAewG,GACtDA,EAIEhD,EAAAO,YAAYyC,EAAOhD,EAAA4f,wBAHjB,MAML8Y,EAAiBvzB,EAAAG,eAAemnB,EAAwBnsB,GACvDA,EAIEA,EAASmP,aAAa6pB,UAHpB,MAMLpR,GACJjQ,WACAygB,kBAGIpS,EAAkBnhB,EAAAohB,yBACtB2B,GAEF3rB,EAAAC,QAAe8pB,yOA/Bf4K,wKAEMjZ,gKAKAwU,8KAQAiM,sKAQAxQ,0KAKA5B,ifCpCN,MAAAxpB,EAAAV,EAAA,IAEAW,EAAAiC,EAAA5C,EAAA,IAEAa,EAAAb,EAAA,IAMMm9B,EAAcx8B,EAAAF;eACLyC,GAASA,EAAMs5B;kBACZt5B,GAASA,EAAMs5B;gBACjBt5B,GAASA,EAAMM,cAAgB;EAIzC45B,EAAez8B,EAAAP,QAAmC;IACpDO,EAAAI;IACAo8B;EAEJC,EAAax3B,cACX42B,MAAO,QAETY,EAAaj8B,YAAc,eAG3B,MAAMk8B,EAAe18B,EAAAP,QAAiC;;IAElD+8B;EAEJE,EAAaz3B,cACX42B,MAAO,SAETa,EAAal8B,YAAc,qBAG3B,MAAMm8B,EAAU38B,EAAAP,QAA4B;;;;iBAI3B8C,GAASvC,EAAA0J,SAASnH,GAAOhC,MAAK;;;IAG3CR,EAAA68B;EAEJD,EAAQ13B,cACN23B,WAAY58B,EAAAsE,MAAMqY,iBAEpBggB,EAAQn8B,YAAc,UAEtBhB,EAAAC,QAAeS,EAAAO,YAAYk8B,GACzB/7B,MAAO67B,EACPb,MAAOc,gKAnDT18B,uFAQMw8B,2FAOAC,4FAUAC,4FAUAC,wUCvCN,MAAAv6B,EAAA7C,EAAAF,EAAA,KAEMw9B,EAA4Bz6B,EAAA3C,QAClCo9B,EAA0Br8B,YAAc,4BACxChB,EAAAC,QAAeo9B,iQAJfz6B,qLAEMy6B,0bCFN,MAAAnK,EAAAnzB,EAAAF,EAAA,MACAG,EAAAC,QAAeizB,EAAAjzB,wNADfizB,ioBCAA,MAAAjvB,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAEAgK,gBAAA9J,gBAAAF,oBAAA,MAEAuqB,gBAAArqB,gBAAAF,oBAAA,KACAy9B,eAAAv9B,gBAAAF,oBAAA,MAEAosB,kBAAAlsB,gBAAAF,oBAAA,KAEA0d,mBAAAxd,gBAAAF,oBAAA,MAEA09B,qBAAAx9B,gBAAAF,oBAAA,MACA29B,sBAAAz9B,gBAAAF,oBAAA,MACA49B,qBAAA19B,gBAAAF,oBAAA,MACA69B,mBAAA39B,gBAAAF,oBAAA,MACA89B,kBAAA59B,gBAAAF,oBAAA,MACA+9B,gBAAA79B,gBAAAF,oBAAA,MACAg+B,kBAAA99B,gBAAAF,oBAAA,MACAi+B,kBAAA/9B,gBAAAF,oBAAA,MACAk+B,oBAAAh+B,gBAAAF,oBAAA,MACAW,QAAAX,oBAAA,SAGAm+B,wBAA8B/5B,MAAMgC,UAClCC,SACE,MAAM+3B,eAAEA,EAAF5O,eAAkBA,GAAmBjpB,KAAKrD,MAChD,OAAKk7B,EASHh6B,MAAAO,cAACynB,kBAAAhsB,SACCqE,OACEL,MAAAO,cAAC+Y,mBAAAtd,QAAgB,KACfgE,MAAAO,cAAC+4B,qBAAAt9B,SAAag+B,eAAgBA,MAIlCh6B,MAAAO,cAAC84B,eAAAr9B,SAAawE,MAAM,OAAOC,OAAO,QAChCT,MAAAO,cAAC84B,eAAAr9B,QAAai+B,KAAIC,OAAO,aAAa75B,OAAO,cAC3CL,MAAAO,cAACg5B,sBAAAv9B,QAAmB,OAGtBgE,MAAAO,cAAC84B,eAAAr9B,QAAai+B,KAAIC,OAAO,SAAS75B,OAAO,UACvCL,MAAAO,cAACm5B,kBAAA19B,QAAe,OAGlBgE,MAAAO,cAAC84B,eAAAr9B,QAAai+B,KAAIC,OAAO,SAAS75B,OAAO,UACvCL,MAAAO,cAACs5B,kBAAA79B,QAAe,OAGlBgE,MAAAO,cAAC84B,eAAAr9B,QAAai+B,KAAIC,OAAO,SAAS75B,OAAO,UACvCL,MAAAO,cAACq5B,kBAAA59B,QAAe,OAGlBgE,MAAAO,cAAC84B,eAAAr9B,QAAai+B,KAAIC,OAAO,OAAO75B,OAAO,QACrCL,MAAAO,cAACo5B,gBAAA39B,QAAa,OAGhBgE,MAAAO,cAAC84B,eAAAr9B,QAAai+B,KAAIC,OAAO,WAAW75B,OAAO,aACzCL,MAAAO,cAACi5B,qBAAAx9B,QAAkB,OAGrBgE,MAAAO,cAAC84B,eAAAr9B,QAAai+B,KAAIC,OAAO,UAAU75B,OAAO,WACxCL,MAAAO,cAACk5B,mBAAAz9B,QAAgB,OAGnBgE,MAAAO,cAAC84B,eAAAr9B,QAAai+B,KAAIC,OAAO,WAAW75B,OAAO,YACzCL,MAAAO,cAACu5B,oBAAA99B,SAAkBovB,eAAgBA,OA5CvCprB,MAAAO,cAAC4lB,gBAAAnqB,SAAcoE,OAAQ7D,QAAA2E,OAAOiQ,UAAW9Q,OAAO,kBAAgB,qDALpB4B,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAwDpDxI,QAAAC,QAAe2J,cAAAI,QAAQH,gBAAA5J,QAAR2J,CAAyBo0B,2bAhFxC/5B,kJAGA4F,sKAEAugB,sKACAkT,oKAEArR,0KAEA1O,4KAEAggB,gLACAC,kLACAC,gLACAC,4KACAC,0KACAC,sKACAC,0KACAC,0KACAC,8KAIAC,mbCxBA,MAAAp1B,EAAA/I,EAAA,IACA4D,EAAA5D,EAAA,GAIA0M,EAAAxM,EAAAF,EAAA,KACA2M,EAAAzM,EAAAF,EAAA,KACAoC,EAAApC,EAAA,IAEM8rB,GACJ0D,eAAgB9iB,EAAAtM,QAChBg+B,eAAgBr1B,EAAAG,eAAewD,EAAAtM,QAAcuM,EAAAvM,QAAS,CAACsL,EAAM7J,KAC3D,MAAMoC,EAAyB7B,EAAAoH,IAAI3H,EAAS6J,GAC5C,IAAKzH,EACH,OAAO,KAET,MAAMs6B,EAAgBt6B,EAAW+X,UAAUwI,UACzCxX,GAAKA,EAAE2F,OAAS/O,EAAAkgB,wBAElB,OAAuB,IAAnBya,EACK,SAEE7yB,EAAM,eAAgB6yB,IAAiB,eAAgB,WAIhErU,EAAkBnhB,EAAAohB,yBACtB2B,GAEF3rB,EAAAC,QAAe8pB,0NAxBfxd,wJACAC,mJAGMmf,2JAiBA5B,yYC1BN,MAAAuT,EAAAv9B,EAAAF,EAAA,MACAG,EAAAC,QAAeq9B,EAAAr9B,kLADfq9B,i8BCAA,MAAAr5B,MAAAxB,aAAA5C,oBAAA,IAEA+F,kBAAA/F,oBAAA,IAEAa,QAAAb,oBAAA,IAGA+P,OAAA7P,gBAAAF,oBAAA,KAEAw+B,aAAAt+B,gBAAAF,oBAAA,MACAy+B,kBAAAv+B,gBAAAF,oBAAA,MAEA0+B,MAAAx+B,gBAAAF,oBAAA,YAQA2+B,qBAA2Bv6B,MAAMgC,UAC/BC,YAAYnD,GACVoD,MAAMpD,GAENqD,KAAKpE,OACHy8B,YAAa,MAIjBv4B,SACE,IAAI3B,SAAEA,GAAa6B,KAAKrD,OACpB07B,YAAEA,GAAgBr4B,KAAKpE,MAE3B,MAAM08B,EAAOz6B,MAAM06B,SAAS9rB,IAC1BtO,EACAsI,GACE5I,MAAM26B,eAAyB/xB,IAAMA,EAAE9J,MAAMo7B,QAAUtxB,EAAE9J,MAAMuB,OAC3DuI,EACA,MACN+F,OAAO/F,GAAW,OAANA,GAEK,MAAf4xB,GAAuBC,EAAK/xB,OAAS,IACvC8xB,EAAcC,EAAK,GAAG37B,MAAMo7B,QAG9B,MAAMU,EAAWH,EAAK7rB,IAAI,CAACisB,EAAKhyB,IAC9B7I,MAAAO,cAAC85B,kBAAAr+B,SACCqC,IAAKw8B,EAAI/7B,MAAMo7B,OACfY,WAAYD,EAAI/7B,MAAMo7B,SAAWM,EACjClT,QAASnlB,KAAK44B,gBAAgBC,KAAK74B,KAAM04B,EAAI/7B,MAAMo7B,SAElDW,EAAI/7B,MAAMuB,SAITua,EAAU4f,EACZC,EAAKza,KAAKpX,GAAKA,EAAE9J,MAAMo7B,SAAWM,QAClC5mB,EAEJ,OACE5T,MAAAO,cAACoL,OAAA3P,QAAI4B,OAAAyS,UAAKlO,KAAKrD,OAAOQ,UAAU,QAC9BU,MAAAO,cAACoL,OAAA3P,QAAKuD,MAAKP,QAAM,GAAE47B,GACnB56B,MAAAO,cAAC65B,aAAAp+B,QAAU,KAAE4e,IAMX3Y,gBAAgB5D,GACtB8D,KAAK4B,UACHy2B,YAAan8B,IAlDqC4D,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAgDtDE,YADC9C,kBAAA+C,qDAKA,MAIH3I,QAAAC,QAAeS,QAAAO,YAAYu9B,cACzBN,IAAAK,MAAAt+B,8dA7EFgE,4GAOA2L,8GAEAyuB,0HACAC,oIAEAC,4GAQAC,gjBCpBA,MAAAv6B,EAAAxB,EAAA5C,EAAA,IAEA+P,EAAA7P,EAAAF,EAAA,KAEMq/B,EAAwB,EAAG36B,cAC/BN,EAAAO,cAACoL,EAAA3P,QAAKuD,MAAKR,MAAI,EAACC,QAAM,EAACk8B,GAAI,GACxB56B,GAGL26B,EAAWl+B,YAAc,aACzBhB,EAAAC,QAAei/B,qTAVfj7B,iHAEA2L,kHAEMsvB,gcCJN,MAAA1+B,EAAAiC,EAAA5C,EAAA,IAMMu/B,EAAkB5+B,EAAAP,QAAwB;;;aAGnC8C,GAASvC,EAAA0J,SAASnH,GAAOhC,MAAK;;IAEvCgC,GACAA,EAAMg8B,WACFv+B,EAAA6D,OAAOgM,GAAG7P,EAAA2E,OAAOG,SACjB9E,EAAA6D,OAAOgM,GAAG7P,EAAA2E,OAAO+R;qBACJnU,IACf,MAAMuc,EAAQ9e,EAAA0J,SAASnH,GACvB,SAAUuc,EAAMhV,QAAQ,MAAMgV,EAAMnV,OAAO9F,OAAOkG;;;IAIpDxH,IACA,MAAMuc,EAAQ9e,EAAA0J,SAASnH,GACvB,uBAAwBuc,EAAMhV,QAAQ,MACpCvH,EAAMg8B,WAAa,cAAgBzf,EAAMnV,OAAO9F,OAAOkG;EAI7D60B,EAAgBp+B,YAAc,kBAC9BhB,EAAAC,QAAem/B,8LA7Bf5+B,uHAMM4+B,ycCNN,MAAAn7B,EAAAxB,EAAA5C,EAAA,IAOMq+B,EAA2B,EAAG35B,cAClCN,EAAAO,cAACP,EAAMyxB,SAAQ,KAAEnxB,GAEnB25B,EAAIl9B,YAAc,MAClBhB,EAAAC,QAAei+B,mLAXfj6B,0GAOMi6B,kgBCPN,MAAAj6B,EAAAxB,EAAA5C,EAAA,IAEAW,EAAAX,EAAA,GAEA+P,EAAA7P,EAAAF,EAAA,KAEAw/B,EAAAt/B,EAAAF,EAAA,MAEAgQ,EAAA9P,EAAAF,EAAA,MAKMy/B,EAA6C,EAAGrB,oBACpDh6B,EAAAO,cAACP,EAAMyxB,SAAQ,KACbzxB,EAAAO,cAACqL,EAAA5P,QAAY,KACXgE,EAAAO,cAACoL,EAAA3P,SAAKsD,UAAU,OACdU,EAAAO,cAACoL,EAAA3P,QAAKuD,MAAKg2B,GAAI,GAAC,SAChBv1B,EAAAO,cAACoL,EAAA3P,QAAKuD,MAAKR,MAAI,EAACC,QAAM,GACpBgB,EAAAO,cAAC66B,EAAAp/B,SAAkBoE,OAAQ7D,EAAA2E,OAAOG,QAASiG,KAAM0yB,QAM3DqB,EAAat+B,YAAc,eAC3BhB,EAAAC,QAAeq/B,iZA1Bfr7B,+JAIA2L,gKAEAyvB,6KAEAxvB,wKAKMyvB,uZCbN,MAAA10B,EAAA7K,EAAAF,EAAA,KAEA0/B,EAAAx/B,EAAAF,EAAA,MAEAG,EAAAC,QAAe2K,EAAA3K,SAAA2K,CAAqB20B,EAAAt/B,2MAJpC2K,kIAEA20B,kXCFA,MAAAA,EAAAx/B,EAAAF,EAAA,MACAG,EAAAC,QAAes/B,EAAAt/B,kLADfs/B,i8BCAA,MAAAt7B,MAAAxB,aAAA5C,oBAAA,IAEA+F,kBAAA/F,oBAAA,IAEAgG,OAAA9F,gBAAAF,oBAAA,KAEAqE,OAAAnE,gBAAAF,oBAAA,KAEA2/B,oBAAAz/B,gBAAAF,oBAAA,YAaA4/B,qBAA0Cx7B,MAAMgC,UAC9CC,YAAYnD,GACVoD,MAAMpD,GAENqD,KAAKpE,OACHuE,UAAW,MAIfL,SACE,MAAMyX,UAAEA,EAAFlX,MAAaA,EAAbpC,OAAoBA,GAAW+B,KAAKrD,OACpCwD,UAAEA,GAAcH,KAAKpE,MAE3B,OAAkB,OAAduE,EAEAtC,MAAAO,cAACg7B,oBAAAv/B,SACC0d,UAAWA,EACX+hB,WAAS,EACTr7B,OAAQA,EACRoC,MAAOF,EACPe,SAAUlB,KAAKu5B,kBACfC,QAASx5B,KAAKy5B,iBACdC,QAAS15B,KAAK25B,iBACdr4B,OAAQtB,KAAK45B,kBAKf/7B,MAAAO,cAACN,OAAAjE,SAAK0d,UAAWA,EAAWtZ,OAAQA,EAAQknB,QAASnlB,KAAK65B,cACvDx5B,GAODP,eACN,MAAMO,MAAEA,GAAUL,KAAKrD,MACvBqD,KAAK4B,UACHzB,UAAWE,IAKPP,kBAAkB0B,GACxBxB,KAAK4B,UACHzB,UAAWqB,EAAEC,OAAOpB,QAKhBP,iBAAiB0B,GACvB,OAAQA,EAAEtF,KACR,KAAKuD,OAAA5F,QAAKgI,MACR7B,KAAK85B,UACL,MACF,KAAKr6B,OAAA5F,QAAKmW,IACRhQ,KAAK+5B,UAMHj6B,iBAAiB0B,GACvBA,EAAEC,OAAO4gB,SAIHviB,kBACNE,KAAK85B,UAGCh6B,UACN,MAAMK,UAAEA,GAAcH,KAAKpE,OACrBmG,SAAEA,GAAa/B,KAAKrD,MAErBwD,IAIL4B,EAAS5B,GAETH,KAAK+5B,UAGCj6B,SACNE,KAAK4B,UACHzB,UAAW,OAvFsDL,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAoCrEE,YADC9C,kBAAA+C,kDAMA,MAGDD,YADC9C,kBAAA+C,uDAKA,MAGDD,YADC9C,kBAAA+C,sDAUA,MAGDD,YADC9C,kBAAA+C,sDAGA,MAGDD,YADC9C,kBAAA+C,qDAGA,MAtEH3I,QAAAC,QAAAw/B,ieArBAx7B,4GAIA4B,8GAEA3B,8GAEAs7B,wIAaAC,uYCrBA,MAAAj/B,EAAAT,EAAAF,EAAA,IAKMugC,EAAoB5/B,EAAAP,QAAmC;IAH7DJ,EAAA,GAIIe;;;;EAKJw/B,EAAkBp/B,YAAc,oBAChChB,EAAAC,QAAemgC,oMAZf5/B,0HAKM4/B,qXCLN,MAAA5C,EAAAz9B,EAAAF,EAAA,MACAG,EAAAC,QAAeu9B,EAAAv9B,uPADfu9B,6gCCAA,MAAAv5B,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAEA+F,kBAAA/F,oBAAA,IAEA4D,kBAAA5D,oBAAA,GAOAW,QAAAX,oBAAA,GAEAgK,gBAAA9J,gBAAAF,oBAAA,MACAiK,SAAA/J,gBAAAF,oBAAA,MAEA8F,YAAA5F,gBAAAF,oBAAA,KACAwgC,gBAAAtgC,gBAAAF,oBAAA,MAGAs6B,YAAAp6B,gBAAAF,oBAAA,MACAwW,oBAAAtW,gBAAAF,oBAAA,KACAqE,OAAAnE,gBAAAF,oBAAA,KACAygC,wBAAAvgC,gBAAAF,oBAAA,MAEA8K,eAAA5K,gBAAAF,oBAAA,KACA0gC,cAAAxgC,gBAAAF,oBAAA,MAEM2gC,OAASt8B,OAAAjE,QAAKkB,cAAc,MAE5Bs/B,YAAcx8B,MAAAO,cAACN,OAAAjE,SAAKoE,OAAQ7D,QAAA2E,OAAO+R,WAAS,QAC5CwpB,iBAAmBz8B,MAAAO,cAACN,OAAAjE,SAAKoE,OAAQ7D,QAAA2E,OAAOiQ,WAAS,uBAGvDurB,4BAAkC18B,MAAMgC,UACtCC,SACE,MAAM4T,OAAEA,EAAF8mB,YAAUA,EAAVvzB,MAAuBA,GAAUjH,KAAKrD,MAEtCgxB,EAAStwB,kBAAAo9B,eAAehuB,IAAI1L,GAAQf,KAAK06B,sBAAsB35B,IAE/D45B,EAAuBt9B,kBAAAu9B,wBAAwBnuB,IAAIukB,KACvD9a,MAAO8a,EACP3wB,MAAO2wB,KAGT,OACEnzB,MAAAO,cAACP,MAAMyxB,SAAQ,KACbzxB,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,UACfrY,MAAAO,cAAC+7B,cAAAtgC,SACCwG,MAAOqT,GAAUrW,kBAAAu9B,wBAAwB,GACzC9kB,QAAS6kB,EACT54B,SAAUy4B,KAGd38B,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,cACfrY,MAAAO,cAAA,aACEP,MAAAO,cAAA,aAAQuvB,KAGZ9vB,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,SACfrY,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,IAAIgd,QAAM,GACzBr1B,MAAAO,cAACmG,eAAA1K,SACCwG,MAAO4G,EAAQA,EAAMR,EAAI,EACzBjG,UAAU,SACVuB,SAAU/B,KAAK66B,cAGnBh9B,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,IAAIgd,QAAM,GACzBr1B,MAAAO,cAACmG,eAAA1K,SACCwG,MAAO4G,EAAQA,EAAMuO,EAAI,EACzBhV,UAAU,SACVuB,SAAU/B,KAAK86B,gBASnBh7B,WAAWO,GACjB,MAAM4G,MAAEA,EAAF8zB,WAASA,GAAe/6B,KAAKrD,MACnCo+B,GACEt0B,EAAGpG,EACHmV,EAAGvO,EAAQA,EAAMuO,EAAI,EACrB4I,EAAGnX,EAAQA,EAAMmX,EAAI,IAKjBte,WAAWO,GACjB,MAAM4G,MAAEA,EAAF8zB,WAASA,GAAe/6B,KAAKrD,MACnCo+B,GACEt0B,EAAGQ,EAAQA,EAAMR,EAAI,EACrB+O,EAAGnV,EACH+d,EAAGnX,EAAQA,EAAMmX,EAAI,IAIjBte,sBAAsBiB,GAC5B,MAAMi6B,eAAEA,GAAmBh7B,KAAKrD,MAChC,IAAIs+B,EACFp9B,MAAAO,cAAA,MAAIlC,IAAK6E,GACPlD,MAAAO,cAACg8B,OAAM,KAAEr5B,GACTlD,MAAAO,cAAA,UACEP,MAAAO,cAAC67B,gBAAApgC,SACC6d,YAAa/a,GAASqD,KAAKk7B,yBAAyBn6B,EAAMpE,GAC1D6a,WAAqB,UAATzW,EAAmBs5B,YAAcC,iBAC7Cj6B,MAAOL,KAAKrD,MAAMoE,GAClB4W,cAAeta,kBAAA89B,kBAAkBp6B,QAAa,IAAM,GACpDgB,SAAUi5B,EAAenC,KAAK74B,KAAMe,OAc5C,MARa,aAATA,GAAgC,gBAATA,IACzBk6B,EACEp9B,MAAAO,cAAC6R,oBAAApW,SAAkBqC,IAAK6E,EAAMvF,SAAS,YACpCy/B,IAKAA,EAGDn7B,yBACNiB,EACApE,GAEA,MAAMy+B,EAAiB/9B,kBAAA89B,kBAAkBp6B,GACzC,OAAKq6B,GAA4C,IAA1BA,EAAe70B,OAIlC1I,MAAAO,cAAC87B,wBAAArgC,SACCwG,MAAO1D,EAAM0D,MACbg7B,MAAOD,EACPr5B,SAAUpF,EAAMoF,WANblE,MAAAO,cAAC21B,YAAAl6B,QAAS4B,OAAAyS,UAAKvR,GAAO2Z,UAAW,KAnGUxW,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OA8CtDE,YADC9C,kBAAA+C,uDAQA,MAGDD,YADC9C,kBAAA+C,uDAQA,MAgDH3I,QAAAC,QAAe2J,cAAAI,QACbH,gBAAA5J,QACA6J,SAAA7J,QAFa2J,CAGb+2B,6sBArJF18B,wLAcA4F,4MACAC,8LAEAnE,oMACA06B,4MAGAlG,oMACA9jB,oNACAnS,0LACAo8B,4NAEA31B,0MACA41B,wMAEMC,0LAEAC,oMACAC,8MAGNC,ieCnCA,MAAA/3B,EAAA/I,EAAA,IAEA4D,EAAA5D,EAAA,GAYA6hC,EAAA7hC,EAAA,KACAgJ,EAAAhJ,EAAA,IAEA80B,EAAA50B,EAAAF,EAAA,KACA0M,EAAAxM,EAAAF,EAAA,KAEM8hC,EAAuB/4B,EAAAG,eAC3B4rB,EAAA10B,QACC6D,GACMA,EAGEL,EAAAO,YAAYF,EAAYL,EAAAmf,sBAFtB,MAMb,SAAAgf,EACExoB,GAEA,OAAOxQ,EAAAG,eAAe44B,EAAsB59B,IAC1C,IAAKA,EACH,OAAO,KAGT,MAAM8e,YAAEA,GAAgB9e,EAASmP,aAE3B2uB,EAAYp+B,EAAAq+B,mBAAmBjf,EAAazJ,GAClD,OAAKyoB,EAIEp+B,EAAAs+B,iBAAiBF,GAHf,OAOb,MAAMlW,GACJhqB,aAAA4K,EAAAtM,QACA6Z,OAAQ4nB,EAAAM,4BACR30B,MAAOxE,EAAAuE,4BAET3J,EAAAo9B,eAAex+B,QAAQwK,IACpB8e,EAA2B9e,GAAK+0B,EAAwB/0B,KAK3D,MAAMkd,EAAkBnhB,EAAAohB,yBACtB2B,GAEF3rB,EAAAC,QAAe8pB,yPA9Cf4K,wLACApoB,uLAEMo1B,4LAUNC,+LAmBMjW,0LAWA5B,yRC5DN,MAAAtmB,EAAA5D,EAAA,GAIAa,EAAAb,EAAA,IAEaG,EAAAiiC,sCAAwCvhC,EAAA6I,qCACnD9F,EAAAkgB,wBAGW3jB,EAAAgiC,4BAA+BhgC,KAC1C,MAAM+B,EAAW/D,EAAAiiC,sCAAsCjgC,GACvD,OAAK+B,EAGEA,EAASmP,aAAa0Q,gBAFpB,iJCbX,MAAAzB,EAAAtiB,EAAA,KACAkiB,EAAAliB,EAAA,KAGMqqB,GACJiX,WAHFthC,EAAA,KAGc0a,mBACZqmB,YAAaze,EAAAtI,kBACbunB,eAAgBrf,EAAA5I,cAGlBnZ,EAAAC,QAAeiqB,kEANTA,2gCCJN,MAAAjmB,MAAAxB,aAAA5C,oBAAA,IAEA+F,kBAAA/F,oBAAA,IAEAqiC,eAAAniC,gBAAAF,oBAAA,YAeAsiC,8BAAmDl+B,MAAMgC,UAMvDC,YAAYnD,GACVoD,MAAMpD,GAHAqD,KAAAoW,UAAYvY,MAAMqC,YAKxBF,KAAKpE,OACHuE,UAAW,KACXkW,SAAS,GAIbvW,SACE,MAAMO,MAAEA,EAAFiW,UAASA,EAATC,UAAoBA,EAApB8kB,MAA+BA,GAAUr7B,KAAKrD,OAC9CwD,UAAEA,GAAcH,KAAKpE,MAErB6E,EAA4B,MAAbN,EAAoBA,EAAYE,EAErD,OACExC,MAAAO,cAAC09B,eAAAjiC,SACCwG,MAAOI,EACP46B,MAAOA,EACP/kB,UAAWA,EACXC,UAAWA,EACXylB,aAAcv1B,GAAKA,EACnBvF,SAAUlB,KAAKmB,eACf86B,SAAUj8B,KAAKk8B,eACfC,cAAY,IAMVr8B,eAAe0B,GACrB,MAAMnB,EAAQmB,EAAEC,OAAOpB,MACvBL,KAAKwW,cAAcnW,GAIbP,eAAeO,GACrBL,KAAKwW,cAAcnW,GACnBL,KAAK8B,cAUChC,cAAcO,GACpB,MAAMoW,EAAazW,KAAK0W,UAAUrW,GAC5BgW,GAAWI,EAEbzW,KAAKoW,UAAUpU,SACjBhC,KAAKoW,UAAUpU,QAAQL,kBAAkB8U,GAAc,IAGzDzW,KAAK4B,UACHzB,UAAWE,EACXgW,YAIIvW,cACN,MAAMK,UAAEA,EAAFkW,QAAaA,GAAYrW,KAAKpE,OAC9BmG,SAAEA,GAAa/B,KAAKrD,MAE1BqD,KAAK4B,UACHzB,UAAW,OAGRA,GAAckW,GAInBtU,EAAS5B,GAGHL,UAAUO,GAChB,MAAMiW,UAAEA,EAAFC,UAAaA,GAAcvW,KAAKrD,MACtC,OAAiB,MAAb2Z,KAAuBjW,GAASA,EAAMkG,OAAS+P,6BAChBA,gBAGlB,MAAbC,GAAqBlW,EAAMkG,OAASgQ,6BACJA,gBAG7B,KA1FVzW,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAiCCE,YADC9C,kBAAA+C,6DAIA,MAGDD,YADC9C,kBAAA+C,6DAIA,MA7CH3I,QAAAC,QAAAkiC,8dAnBAl+B,wGAIAi+B,0HAeAC,y2BCnBA,MAAAl+B,EAAAxB,EAAA5C,EAAA,IAEA2iC,EAAAziC,EAAAF,EAAA,MAEAW,EAAAX,EAAA,GAEAkG,EAAAhG,EAAAF,EAAA,KACA+C,EAAA7C,EAAAF,EAAA,KACAqE,EAAAnE,EAAAF,EAAA,KASM4iC,EAAmBv+B,EAAAjE,QAAKkB,cAAc,OAAO2B;;cAErCC,GAASvC,EAAA0J,SAASnH,GAAOhC,MAAK;EAGtC2hC,EAA6C3/B,GACjDkB,EAAAO,cAACg+B,EAAAviC,QAAiB4B,OAAAyS,UACZvR,GACJ+a,YAAa6kB,GAAc1+B,EAAAO,cAACuB,EAAA9F,QAAK4B,OAAAyS,UAAKsuB,EAAaD,KACnDE,WAAY,CAACC,EAAMC,EAAe9qB,IAChChU,EAAAO,cAACi+B,GACCp+B,OAAQ0+B,EAAgBviC,EAAA2E,OAAOG,QAAU9E,EAAA2E,OAAO+R,YAE9CnU,EAAM8/B,YAAcG,GAAmBF,EAAMC,EAAe9qB,IAGlEgrB,WAAYlgC,EAAMkgC,YAAcA,EAAWhE,KAAK,KAAMl8B,MAM1D,SAAA6/B,EACE7/B,GAEA,MAAMmgC,IAAEA,GAAiBngC,EAAZoZ,EAAAC,EAAArZ,GAAA,QACb,OAAAlB,OAAAyS,UACM6H,GACJjV,SAAUnE,EAAMmgC,MAIpB,SAAAF,EACEF,EACAC,EACA9qB,GAIA,OAFAA,EAAQA,OACFxT,MAAQ,OACPR,EAAAO,cAAA,OAAKyT,MAAOA,GAAQ6qB,GApB7BJ,EAAa1hC,YAAc,eAC3BhB,EAAAC,QAAeyiC,EAsBf,MAAMS,EAAmBvgC,EAAA3C,QAAI6C;gBACbC,GAASvC,EAAA0J,SAASnH,GAAOoH,OAAOC,GAAGC;YACvCtH,IACR,MAAMuc,EAAQ9e,EAAA0J,SAASnH,GACvB,SAAUuc,EAAMhV,QAAQ,MACtBgV,EAAMnV,OAAO9F,OAAOtB,EAAMsB,QAAU7D,EAAA2E,OAAO+R;;EAMjD,SAAA+rB,EACElgC,EACA0+B,EACAh7B,EACA28B,GAGA,MAAMtK,EAAW2I,EAAM5uB,IAAI,CAAChG,EAAGC,IAAM7I,EAAAO,cAAA,OAAKlC,IAAKwK,GAAID,IACnD,OACE5I,EAAAO,cAAC2+B,GAAiB9+B,OAAQtB,EAAMsB,OAAQ4T,MAAOmrB,GAC5CtK,uWAhFP70B,2FAEAu+B,0GAIAz8B,6FACAnD,2FACAsB,4FASMu+B,sGAKAC,kGAiBNE,kGAUAI,uGAUMG,sGAWNF,qVCtEA,MAAAxF,EAAA19B,EAAAF,EAAA,MACAG,EAAAC,QAAew9B,EAAAx9B,sPADfw9B,qqBCAA,MAAAx5B,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAEAiG,OAAAjG,oBAAA,IACAW,QAAAX,oBAAA,GAEAgK,gBAAA9J,gBAAAF,oBAAA,MACAiK,SAAA/J,gBAAAF,oBAAA,MAEAuqB,gBAAArqB,gBAAAF,oBAAA,KACAqM,YAAAnM,gBAAAF,oBAAA,KAIA8K,eAAA5K,gBAAAF,oBAAA,WAGAwjC,2BAAiCp/B,MAAMgC,UACrCC,SACE,MAAMo9B,UAAEA,EAAFC,YAAaA,GAAgBn9B,KAAKrD,MAExC,IAAKugC,GAAkC,IAArBA,EAAU32B,OAC1B,OACE1I,MAAAO,cAAC4lB,gBAAAnqB,SAAcoE,OAAQ7D,QAAA2E,OAAOiQ,UAAW9Q,OAAO,WAAS,sDAM7D,MAAMm2B,IAEFt2B,OAAQ,OACR22B,UAAU,EACVG,YAAY,EACZN,SAAU,WAGVx2B,OAAQ,WACR22B,UAAU,EACVG,YAAY,EACZP,GAAI,WACJC,SAAU9tB,GAAKA,EACf+tB,KAAOC,GACL52B,MAAAO,cAACmG,eAAA1K,SACC2G,UAAU,SACVF,SAAU,EACVD,MAAOo0B,EAAIp0B,MAAM+8B,SACjBr7B,SAAUo7B,EAAYtE,KAAK,KAAMpE,EAAIp0B,MAAMgS,SAG/CsiB,WAAY,CAACrrB,EAAiBC,IAC5B7J,OAAA2J,QAAQC,EAAE8zB,SAAU7zB,EAAE6zB,YAI5B,OACEv/B,MAAAO,cAAC0H,YAAAjM,SACCyE,OAAO,OACP+1B,QAASA,EACTgJ,gBAAgB,EAChB1d,KAAMud,IA3CyCp9B,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAgDvDxI,QAAAC,QAAe2J,cAAAI,QACbH,gBAAA5J,QACA6J,SAAA7J,QAFa2J,CAGby5B,sgBApEFp/B,sLAMA4F,0MACAC,4LAEAsgB,0MACAle,kMAIAvB,wMAGA04B,yYCjBA,MAAAz6B,EAAA/I,EAAA,IAEA4D,EAAA5D,EAAA,GAMM6jC,EAFN7jC,EAAA,IAE0B4J,6CAGxBhG,EAAAkgC,sBAAuB,eAAgB,wBAQnCC,EAAuBh7B,EAAAG,eAAe26B,EAAmBJ,IAC7D,IAAKA,EACH,OAAO,KAGT,MAAMvd,KAEN,IAAK,IAAIjZ,EAAI,EAAGA,EAAIw2B,EAAU32B,OAAQG,IAAK,CACzC,MAAO+2B,EAAML,GAAYF,EAAUx2B,GAC7Bg3B,EAASrgC,EAAAsgC,gBAAgBF,EAAKjH,MAC/BkH,GAGL/d,EAAK5S,MACH2wB,SACAE,SAAUH,EAAKjH,KACf4G,WACA/qB,MAAO3L,IAIX,OAAOiZ,IAGH4F,GACJ2X,UAAWM,GAGP7Z,EAAkBnhB,EAAAohB,yBACtB2B,GAEF3rB,EAAAC,QAAe8pB,kEA1CT2Z,wLAWAE,2LAwBAjY,yLAIA5B,mVC/CN,MAAAtmB,EAAA5D,EAAA,GACAmiB,EAAAniB,EAAA,IAEMqqB,GACJqZ,YAAA,CAAY9qB,EAAe+qB,IAClBxhB,EAAA1W,8BACL7H,EAAAkgC,sBACC,eAAgB,yBAA0BlrB,IAAS,KACpD+qB,IAKNxjC,EAAAC,QAAeiqB,kEAVTA,maCHN,MAAAwT,EAAA39B,EAAAF,EAAA,MACAG,EAAAC,QAAey9B,EAAAz9B,oPADfy9B,iqBCAA,MAAAz5B,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAEA4D,kBAAA5D,oBAAA,GAEAiG,OAAAjG,oBAAA,IACAW,QAAAX,oBAAA,GAEAgK,gBAAA9J,gBAAAF,oBAAA,MACAiK,SAAA/J,gBAAAF,oBAAA,MAEAuqB,gBAAArqB,gBAAAF,oBAAA,KACAqM,YAAAnM,gBAAAF,oBAAA,KAIAwgC,gBAAAtgC,gBAAAF,oBAAA,MACA8K,eAAA5K,gBAAAF,oBAAA,WAGAokC,yBAA+BhgC,MAAMgC,UACnCC,SACE,MAAMg+B,QAAEA,EAAFC,gBAAWA,GAAoB/9B,KAAKrD,MAE1C,IAAKmhC,EACH,OACEjgC,MAAAO,cAAC4lB,gBAAAnqB,SAAcoE,OAAQ7D,QAAA2E,OAAOiQ,UAAW9Q,OAAO,WAAS,qDAM7D,MAAMyhB,EAAOtiB,kBAAA2gC,cAAcvxB,IAAIwxB,IAC7B,MAAMC,EAAcJ,EAAQ7f,UAAUxX,GAAKA,EAAE6tB,KAAO2J,GAC9CE,EAASD,GAAe,EAAIJ,EAAQI,GAAe,KACzD,OACED,WACAC,cACAE,cAAeD,EAASA,EAAOC,cAAgB,QAI7C/J,IAEFt2B,OAAQ,SACR22B,UAAU,EACVG,YAAY,EACZN,SAAU,aAGVx2B,OAAQ,iBACR22B,UAAU,EACVG,YAAY,EACZP,GAAI,QACJC,SAAU9tB,GAAKA,EACf+tB,KAAOC,GACL52B,MAAAO,cAAC67B,gBAAApgC,SACCwG,MAAOo0B,EAAIp0B,MAAM+9B,cACjBr8B,SAAUg8B,EAAgBlF,KACxB,KACApE,EAAIp0B,MAAM49B,SACVxJ,EAAIp0B,MAAM69B,aAEZvmB,aAAc,KACdD,YAAa/a,GACXkB,MAAAO,cAACmG,eAAA1K,QAAY4B,OAAAyS,QAAC1N,UAAU,SAASF,SAAU,GAAO3D,MAIxDg4B,WAAY,CAACrrB,EAAmBC,IAC9B7J,OAAA2J,QAAQC,EAAE80B,eAAiB,EAAG70B,EAAE60B,eAAiB,KAIvD,OAAOvgC,MAAAO,cAAC0H,YAAAjM,SAAUyE,OAAO,OAAO+1B,QAASA,EAAS1U,KAAMA,IAtDP7f,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAyDrDxI,QAAAC,QAAe2J,cAAAI,QACbH,gBAAA5J,QACA6J,SAAA7J,QAFa2J,CAGbq6B,4fAhFFhgC,kLAQA4F,sMACAC,wLAEAsgB,sMACAle,8LAIAm0B,sMACA11B,oMAGAs5B,iYCpBA,MAAAr7B,EAAA/I,EAAA,IAEA4D,EAAA5D,EAAA,GAMMqkC,EAFNrkC,EAAA,IAEgB4J,6CAGdhG,EAAAghC,mBAAoB,eAAgB,oBAEhC9Y,GACJuY,WAGIna,EAAkBnhB,EAAAohB,yBACtB2B,GAEF3rB,EAAAC,QAAe8pB,kEAZTma,4KAKAvY,uLAIA5B,iVCjBN,MAAAtmB,EAAA5D,EAAA,GAEAiiB,EAAAjiB,EAAA,KAKAmiB,EAAAniB,EAAA,IAEM6kC,GAAe,eAAgB,mBAE/Bxa,GACJhkB,gBACEm+B,EACAC,EACAE,GAEA,GAAqB,MAAjBA,GAAyBA,EAAgB,EAAG,CAC9C,IAAqB,IAAjBF,EAAoB,CAEtB,MAAMC,GACJ7J,GAAI2J,EACJG,iBAEF,OAAO1iB,EAAAtJ,sCACL/U,EAAAghC,kBACAC,EACAH,GAIF,OAAOviB,EAAA1W,8BACL7H,EAAAghC,sBACIC,KAAgBJ,IAAe,iBACnCE,GAGC,GAAIF,GAAe,EAExB,OAAOxiB,EAAAjJ,sCACLpV,EAAAghC,kBACAC,EACAJ,IAINp+B,eAAeo+B,MAGjBtkC,EAAAC,QAAeiqB,kEAxCTwa,yKAEAxa,iaCXN,MAAAyT,EAAA59B,EAAAF,EAAA,MACAG,EAAAC,QAAe09B,EAAA19B,mPADf09B,qgCCAA,MAAA15B,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAEA+F,kBAAA/F,oBAAA,IAEA4D,kBAAA5D,oBAAA,GAEAgK,gBAAA9J,gBAAAF,oBAAA,MACAiK,SAAA/J,gBAAAF,oBAAA,MAEAqE,OAAAnE,gBAAAF,oBAAA,KAEA8F,YAAA5F,gBAAAF,oBAAA,KACA0gC,cAAAxgC,gBAAAF,oBAAA,MACA8K,eAAA5K,gBAAAF,oBAAA,KAEMg0B,GAAK3vB,OAAAjE,QAAKkB,cAAc,YAG9BwjC,wBAA8B1gC,MAAMgC,UAClCC,SACE,MAAM0+B,YACJA,EADIC,sBAEJA,EAFIC,UAGJA,EAHIC,mBAIJA,EAJIC,QAKJA,EALIC,iBAMJA,EANIC,SAOJA,EAPIC,kBAQJA,EARIC,OASJA,EATIC,gBAUJA,EAVIC,OAWJA,EAXIC,gBAYJA,EAZIC,QAaJA,EAbIC,iBAcJA,EAdIC,iBAeJA,EAfIC,oBAgBJA,EAhBIC,YAiBJA,EAjBIC,qBAkBJA,EAlBIC,cAmBJA,EAnBIC,uBAoBJA,EApBIC,UAqBJA,EArBIC,mBAsBJA,EAtBIC,SAuBJA,EAvBIC,kBAwBJA,EAxBIC,UAyBJA,EAzBIC,mBA0BJA,EA1BIC,OA2BJA,EA3BIC,gBA4BJA,EA5BIC,QA6BJA,EA7BIC,iBA8BJA,GACErgC,KAAKrD,MAEHmZ,EAAUra,OAAO8Q,KAAKlP,kBAAAijC,aACzB9zB,OAAO/F,GAAKtE,MAAMuxB,SAASjtB,KAC3BgG,IAAIhG,KACHyP,MAAOzP,EACPpG,MAAOhD,kBAAAijC,YAAY75B,MAMvB,OACE5I,MAAAO,cAACP,MAAMyxB,SAAQ,KACbzxB,MAAAO,cAAA,WACEP,MAAAO,cAACN,OAAAjE,QAAKiB,GAAE,iBACR+C,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,SAASgd,QAAM,GAC9Br1B,MAAAO,cAAC+7B,cAAAtgC,SACCwG,MAAOm+B,GAAenhC,kBAAAijC,YAAYC,QAClCzqB,QAASA,EACT/T,SAAU08B,KAGd5gC,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,YAAYgd,QAAM,GACjCr1B,MAAAO,cAACmG,eAAA1K,SACCwG,MAAOq+B,GAAa,EACpB38B,SAAU48B,EACVr+B,SAAU,KAGdzC,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,UAAUgd,QAAM,GAC/Br1B,MAAAO,cAACmG,eAAA1K,SACCwG,MAAOu+B,GAAW,EAClBp+B,UAAU,SACVuB,SAAU88B,EACVv+B,SAAU,KAGdzC,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,WAAWgd,QAAM,GAChCr1B,MAAAO,cAACmG,eAAA1K,SACCwG,MAAOy+B,GAAY,EACnBt+B,UAAU,SACVuB,SAAUg9B,EACVz+B,SAAU,KAGdzC,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,SAASgd,QAAM,GAC9Br1B,MAAAO,cAACmG,eAAA1K,SACCwG,MAAO2+B,GAAU,EACjBx+B,UAAU,SACVuB,SAAUk9B,EACV3+B,SAAU,KAGdzC,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,SAASgd,QAAM,GAC9Br1B,MAAAO,cAACmG,eAAA1K,SACCwG,MAAO6+B,GAAU,EACjB1+B,UAAU,SACVuB,SAAUo9B,EACV7+B,SAAU,KAGdzC,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,UAAUgd,QAAM,GAC/Br1B,MAAAO,cAACmG,eAAA1K,SACCwG,MAAO++B,GAAW,EAClB5+B,UAAU,SACVuB,SAAUs9B,EACV/+B,SAAU,MAIhBzC,MAAAO,cAAA,WACEP,MAAAO,cAACN,OAAAjE,QAAKiB,GAAE,iBACR+C,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,eAAoBgd,QAAM,GACzCr1B,MAAAO,cAACmG,eAAA1K,SACCyG,SAAU,EACVE,UAAU,SACVH,MAAOm/B,GAAe,EACtBz9B,SAAU09B,KAGd5hC,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,iBACfrY,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,YAAYgd,QAAM,GACjCr1B,MAAAO,cAACmG,eAAA1K,SACCwG,MAAOi/B,EAAmBA,EAAiB9I,KAAO,EAClDz0B,SAAU/B,KAAKwgC,6BAGnB3iC,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,QAAQgd,QAAM,GAC7Br1B,MAAAO,cAACmG,eAAA1K,SACCyG,SAAU,EACVE,UAAU,SACVH,MAAOk/B,GAAuB,EAC9Bx9B,SAAU/B,KAAKygC,iCAIrB5iC,MAAAO,cAACmB,YAAA1F,SAAUqc,MAAM,cACfrY,MAAAO,cAAA,aACEP,MAAAO,cAAA,aACEP,MAAAO,cAAA,UACEP,MAAAO,cAACqvB,GAAE,uBACH5vB,MAAAO,cAAA,UACEP,MAAAO,cAACmG,eAAA1K,SACCyG,SAAU,EACVE,UAAU,SACVH,MAAOq/B,GAAiB,EACxB39B,SAAU49B,MAIhB9hC,MAAAO,cAAA,UACEP,MAAAO,cAACqvB,GAAE,mBACH5vB,MAAAO,cAAA,UACEP,MAAAO,cAACmG,eAAA1K,SACCyG,SAAU,EACVE,UAAU,SACVH,MAAO2/B,GAAa,EACpBj+B,SAAUk+B,MAIhBpiC,MAAAO,cAAA,UACEP,MAAAO,cAACqvB,GAAE,eACH5vB,MAAAO,cAAA,UACEP,MAAAO,cAACmG,eAAA1K,SACCyG,SAAU,EACVE,UAAU,SACVH,MAAO6/B,GAAU,EACjBn+B,SAAUo+B,MAIhBtiC,MAAAO,cAAA,UACEP,MAAAO,cAACqvB,GAAE,oBACH5vB,MAAAO,cAAA,UACEP,MAAAO,cAACmG,eAAA1K,SACCyG,SAAU,EACVE,UAAU,SACVH,MAAOu/B,GAAa,EACpB79B,SAAU89B,MAIhBhiC,MAAAO,cAAA,UACEP,MAAAO,cAACqvB,GAAE,qBACH5vB,MAAAO,cAAA,UACEP,MAAAO,cAACmG,eAAA1K,SACCyG,SAAU,EACVE,UAAU,SACVH,MAAOy/B,GAAY,EACnB/9B,SAAUg+B,MAIhBliC,MAAAO,cAAA,UACEP,MAAAO,cAACqvB,GAAE,gBACH5vB,MAAAO,cAAA,UACEP,MAAAO,cAACmG,eAAA1K,SACCyG,SAAU,EACVE,UAAU,SACVH,MAAO+/B,GAAW,EAClBr+B,SAAUs+B,WAatBvgC,0BAA0BO,GAChC,MAAMqgC,wBAAEA,GAA4B1gC,KAAKrD,MACzC+jC,GAA0BlK,KAAMn2B,GAAS,GAInCP,6BAA6BO,GACnC,MAAMi/B,iBAAEA,EAAFoB,wBAAoBA,GAA4B1gC,KAAKrD,MAC3D+jC,EAAwBpB,IAAsB9I,KAAM,GAAKn2B,GAxNTP,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAgNlDE,YADC9C,kBAAA+C,kEAIA,MAGDD,YADC9C,kBAAA+C,qEAIA,MAEH3I,QAAAC,QAAe2J,cAAAI,QACbH,gBAAA5J,QACA6J,SAAA7J,QAFa2J,CAGb+6B,irBAjPF1gC,gLAOA4F,oMACAC,sLAEA5F,kLAEAyB,4LACA46B,gMACA51B,kMAEMkpB,0KAGN8Q,6XCnBA,MAAA/7B,EAAA/I,EAAA,IAUAknC,EAAAlnC,EAAA,KAEAmwB,EAAAnwB,EAAA,KAKAmnC,EAAAnnC,EAAA,KAEM8rB,GACJiZ,YAAamC,EAAAE,iCACbvB,iBAAkB1V,EAAAkX,sCAClBvB,oBAAqB3V,EAAAmX,yCACrBrC,UAAWkC,EAAAI,2CAA2C,aACtDpC,QAASgC,EAAAI,2CAA2C,WACpDlC,SAAU8B,EAAAI,2CAA2C,YACrDxB,YAAaoB,EAAAI,2CAA2C,eACxDhC,OAAQ4B,EAAAI,2CAA2C,UACnD9B,OAAQ0B,EAAAI,2CAA2C,UACnD5B,QAASwB,EAAAI,2CAA2C,WACpDtB,cAAekB,EAAAI,2CAA2C,iBAC1DpB,UAAWgB,EAAAI,2CAA2C,aACtDlB,SAAUc,EAAAI,2CAA2C,YACrDhB,UAAWY,EAAAI,2CAA2C,aACtDZ,QAASQ,EAAAI,2CAA2C,WACpDd,OAAQU,EAAAI,2CAA2C,WAG/Crd,EAAkBnhB,EAAAohB,yBACtB2B,GAEF3rB,EAAAC,QAAe8pB,kEAtBT4B,sLAmBA5B,qRCtCN,MAAAnhB,EAAA/I,EAAA,IAEA4D,EAAA5D,EAAA,GAIAgJ,EAAAhJ,EAAA,IAEaG,EAAAqnC,oCAAsCz+B,EAAAG,eACjDF,EAAAsE,sBACArJ,GACOA,EAIEL,EAAAO,YAAYF,EAAYL,EAAA+f,gBAHtB,MAOAxjB,EAAAinC,iCAAoCjlC,KAC/C,MAAM+B,EAAW/D,EAAAqnC,oCAAoCrlC,GACrD,OAAK+B,EAGEA,EAASmP,aAAauQ,MAFpB,sFCtBX,MAAAhgB,EAAA5D,EAAA,GAIAa,EAAAb,EAAA,IAEaG,EAAAsnC,qCAAuC5mC,EAAA6I,qCAClD9F,EAAA4f,wBAGWrjB,EAAAknC,sCAAyCllC,KACpD,MAAM+B,EAAW/D,EAAAsnC,qCAAqCtlC,GACtD,OAAK+B,EAGEA,EAASmP,aAAaoQ,UAFpB,OAKEtjB,EAAAmnC,yCAA4CnlC,KACvD,MAAM+B,EAAW/D,EAAAsnC,qCAAqCtlC,GACtD,OAAK+B,EAGEA,EAASmP,aAAauG,aAFpB,iJCrBX,MAAA7Q,EAAA/I,EAAA,IAEAoC,EAAApC,EAAA,IAEA4D,EAAA5D,EAAA,GAIAa,EAAAb,EAAA,IAMA,SAAA0nC,EACEC,GAEA,OAAO5+B,EAAAG,eAAe/I,EAAAynC,uCAAwC1jC,IAC5D,IAAKA,EACH,OAAO,KAGT,MAAMqP,EAAYrP,EAASqP,UAC3B,IAAKA,EACH,OAAO,KAGT,MAAM2Q,EAAS3Q,EAAU4Q,QAAQC,KAAKpX,GAAKA,EAAE2F,OAASg1B,GACtD,OAAKzjB,EAGEA,EAAOtd,MAAMA,MAFX,OAnBAzG,EAAAynC,uCAAyC/mC,EAAA6I,qCACpD9F,EAAAqgB,yBAwBW9jB,EAAAonC,2CAA6CnlC,EAAAuH,QACxD+9B,mEAtBFA,4SCdA,MAAArlB,EAAAriB,EAAA,KACAuiB,EAAAviB,EAAA,KACAoiB,EAAApiB,EAAA,KAEMqqB,GACJ2a,sBAAuB3iB,EAAAvI,gBACvBorB,mBAAmBD,GACV1iB,EAAApI,iBAAiB,YAAa8qB,GAEvCG,iBAAiBD,GACR5iB,EAAApI,iBAAiB,UAAWgrB,GAErCG,kBAAkBD,GACT9iB,EAAApI,iBAAiB,WAAYkrB,GAEtCW,qBAAqB6B,GACZtlB,EAAApI,iBAAiB,cAAe0tB,GAEzCrC,gBAAgBqC,GACPtlB,EAAApI,iBAAiB,SAAU0tB,GAEpCnC,gBAAgBmC,GACPtlB,EAAApI,iBAAiB,SAAU0tB,GAEpCjC,iBAAiBiC,GACRtlB,EAAApI,iBAAiB,UAAW0tB,GAErC3B,uBAAuB2B,GACdtlB,EAAApI,iBAAiB,gBAAiB0tB,GAE3CzB,mBAAmByB,GACVtlB,EAAApI,iBAAiB,YAAa0tB,GAEvCvB,kBAAkBuB,GACTtlB,EAAApI,iBAAiB,WAAY0tB,GAEtCrB,mBAAmBqB,GACVtlB,EAAApI,iBAAiB,YAAa0tB,GAEvCjB,iBAAiBiB,GACRtlB,EAAApI,iBAAiB,UAAW0tB,GAErCnB,gBAAgBmB,GACPtlB,EAAApI,iBAAiB,SAAU0tB,GAGpCZ,wBAAyB7kB,EAAA1I,0BAG3BvZ,EAAAC,QAAeiqB,kEA7CTA,gaCJN,MAAA0T,EAAA79B,EAAAF,EAAA,MACAG,EAAAC,QAAe29B,EAAA39B,iPADf29B,2pBCAA,MAAA35B,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAEAW,QAAAX,oBAAA,GAEAgK,gBAAA9J,gBAAAF,oBAAA,MACAiK,SAAA/J,gBAAAF,oBAAA,MAEAuqB,gBAAArqB,gBAAAF,oBAAA,KACAqM,YAAAnM,gBAAAF,oBAAA,KAIA8K,eAAA5K,gBAAAF,oBAAA,KACA2d,aAAAzd,gBAAAF,oBAAA,WAGA8nC,sBAA4B1jC,MAAMgC,UAChCC,SACE,MAAM0hC,KAAEA,EAAFC,cAAQA,EAARC,WAAuBA,GAAe1hC,KAAKrD,MAEjD,IAAK6kC,GAAwB,IAAhBA,EAAKj7B,OAChB,OACE1I,MAAAO,cAAC4lB,gBAAAnqB,SAAcoE,OAAQ7D,QAAA2E,OAAOiQ,UAAW9Q,OAAO,WAAS,6CAM7D,MAAMm2B,IAEFt2B,OAAQ,MACR22B,UAAU,EACVG,YAAY,EACZN,SAAU,OAGVx2B,OAAQ,aACR22B,UAAU,EACVG,YAAY,EACZP,GAAI,aACJC,SAAU9tB,GAAKA,EACf+tB,KAAOC,GACL52B,MAAAO,cAACmG,eAAA1K,SACC2G,UAAU,SACVF,SAAU,EACVD,MAAOo0B,EAAIp0B,MAAMshC,WACjB5/B,SAAU0/B,EAAc5I,KAAK,KAAMpE,EAAIp0B,MAAMuhC,qBAKjD7jC,OAAQ,UACR22B,UAAU,EACVG,YAAY,EACZP,GAAI,UACJC,SAAU9tB,GAAKA,EACf+tB,KAAOC,GACL52B,MAAAO,cAACgZ,aAAAvd,SACCwG,MAAOo0B,EAAIp0B,MAAMwhC,QACjB9/B,SAAU2/B,EAAW7I,KAAK,KAAMpE,EAAIp0B,MAAMyhC,kBAMlD,OACEjkC,MAAAO,cAAC0H,YAAAjM,SACCyE,OAAO,OACP+1B,QAASA,EACTgJ,gBAAgB,EAChB1d,KAAM6hB,IAtDoC1hC,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OA2DlDxI,QAAAC,QAAe2J,cAAAI,QACbH,gBAAA5J,QACA6J,SAAA7J,QAFa2J,CAGb+9B,6eA/EF1jC,4KAKA4F,gMACAC,kLAEAsgB,gMACAle,wLAIAvB,8LACA6S,0LAGAmqB,qXCjBA,MAAA/+B,EAAA/I,EAAA,IAEA4D,EAAA5D,EAAA,GAIAa,EAAAb,EAAA,IAEMsoC,EAAoBznC,EAAA+I,6CAGxBhG,EAAAkgC,sBAAuB,eAAgB,oBAEnCyE,EAAqB1nC,EAAA+I,6CAGzBhG,EAAAkgC,sBAAuB,eAAgB,uBAUnC0E,EAAez/B,EAAAG,eACnBo/B,EACAC,EACA,CAACE,EAAWP,KACV,IAAKO,IAAcP,EACjB,OAAO,KAGT,MAAMH,KAyBN,OAvBAU,EAAUjmC,QAAQ,CAACwK,EAAGC,KACpB,MAAOxK,EAAKmE,GAASoG,EACT,WAARvK,IAGJslC,EAAKtlC,IACHo4B,GAAIp4B,EACJ2lC,QAASxhC,EACTyhC,aAAcp7B,EACdi7B,WAAY,EACZC,iBAAkB,MAItBD,EAAW1lC,QAAQ,CAACwK,EAAGC,KACrB,MAAOxK,EAAKmE,GAASoG,EACT,WAARvK,IAGJslC,EAAKtlC,GAAKylC,WAAathC,EACvBmhC,EAAKtlC,GAAK0lC,gBAAkBl7B,KAGvBjL,OAAO8Q,KAAKi1B,GAAM/0B,IAAIhG,GAAK+6B,EAAK/6B,MAIrC8e,GACJic,KAAMS,GAGFte,EAAkBnhB,EAAAohB,yBACtB2B,GAEF3rB,EAAAC,QAAe8pB,kEA9DToe,mLAKAC,oLAaAC,8KAqCA1c,oLAIA5B,8UCnEN,MAAAtmB,EAAA5D,EAAA,GAEAmiB,EAAAniB,EAAA,IAEMqqB,GACJ2d,cAAA,CAAcpvB,EAAesvB,IACpB/lB,EAAA1W,8BACL7H,EAAAkgC,sBACC,eAAgB,wBAAyBlrB,IAAS,KACnDsvB,GAIJD,WAAA,CAAWrvB,EAAewvB,IACjBjmB,EAAA1W,8BACL7H,EAAAkgC,sBACC,eAAgB,qBAAsBlrB,IAAS,KAChDwvB,IAKNjoC,EAAAC,QAAeiqB,kEAlBTA,8ZCJN,MAAA2T,EAAA99B,EAAAF,EAAA,MACAG,EAAAC,QAAe49B,EAAA59B,mPADf49B,+pBCAA,MAAA55B,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAEAiG,OAAAjG,oBAAA,IACAW,QAAAX,oBAAA,GAEAgK,gBAAA9J,gBAAAF,oBAAA,MACAiK,SAAA/J,gBAAAF,oBAAA,MAEAuqB,gBAAArqB,gBAAAF,oBAAA,KACAqM,YAAAnM,gBAAAF,oBAAA,KAIA8K,eAAA5K,gBAAAF,oBAAA,WAGA0oC,wBAA8BtkC,MAAMgC,UAClCC,SACE,MAAMsiC,OAAEA,EAAFC,cAAUA,EAAVC,mBAAyBA,GAAuBtiC,KAAKrD,MAE3D,IAAKylC,GAA4B,IAAlBA,EAAO77B,OACpB,OACE1I,MAAAO,cAAC4lB,gBAAAnqB,SAAcoE,OAAQ7D,QAAA2E,OAAOiQ,UAAW9Q,OAAO,WAAS,+CAM7D,MAAMyhB,EAAOyiB,EAAO31B,IAAI,CAAChG,EAAGC,IAAMjL,OAAAyS,UAC7BzH,GACH4L,MAAO3L,KAGH2tB,IAEFt2B,OAAQ,QACR22B,UAAU,EACVG,YAAY,EACZN,SAAU,gBAGVx2B,OAAQ,QACRu2B,GAAI,QACJC,SAAU9tB,GAAKA,EACf+tB,KAAOC,GACL52B,MAAAO,cAACmG,eAAA1K,SACC2G,UAAU,QACVF,SAAU,EACVD,MAAOo0B,EAAIp0B,MAAMihC,MACjBv/B,SAAUsgC,EAAcxJ,KAAK,KAAMpE,EAAIp0B,MAAMgS,SAGjDqiB,UAAU,EACVC,WAAY,CAACrrB,EAAmBC,IAC9B7J,OAAA2J,QAAQC,EAAEg4B,MAAO/3B,EAAE+3B,SAGrBvjC,OAAQ,aACRu2B,GAAI,aACJC,SAAU9tB,GAAKA,EACf+tB,KAAOC,GACL52B,MAAAO,cAACmG,eAAA1K,SACC2G,UAAU,SACVH,MAAOo0B,EAAIp0B,MAAMshC,WACjB5/B,SAAUugC,EAAmBzJ,KAAK,KAAMpE,EAAIp0B,MAAMgS,SAGtDqiB,UAAU,EACVC,WAAY,CAACrrB,EAAmBC,IAC9B7J,OAAA2J,QAAQC,EAAEq4B,WAAYp4B,EAAEo4B,cAI9B,OAAO9jC,MAAAO,cAAC0H,YAAAjM,SAAUyE,OAAO,OAAO+1B,QAASA,EAAS1U,KAAMA,IAzDR7f,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OA4DpDxI,QAAAC,QAAe2J,cAAAI,QACbH,gBAAA5J,QACA6J,SAAA7J,QAFa2J,CAGb2+B,ufAhFFtkC,gLAMA4F,oMACAC,sLAEAsgB,oMACAle,4LAIAvB,kMAGA49B,6XCjBA,MAAA3/B,EAAA/I,EAAA,IAEA4D,EAAA5D,EAAA,GAMM8rB,GACJ6c,OAHF3oC,EAAA,IAGU4J,6CAGNhG,EAAAklC,2BAA4B,eAAgB,oBAG1C5e,EAAkBnhB,EAAAohB,yBACtB2B,GAEF3rB,EAAAC,QAAe8pB,kEAVT4B,sLAOA5B,gVCfN,MAAAtmB,EAAA5D,EAAA,GAEAmiB,EAAAniB,EAAA,IAEMqqB,GACJue,cAAA,CAAchwB,EAAeivB,IACpB1lB,EAAA1W,8BACL7H,EAAAklC,2BACC,eAAgB,oBAAqBlwB,IAAS,SAC/CivB,GAGJgB,mBAAA,CAAmBjwB,EAAesvB,IACzB/lB,EAAA1W,8BACL7H,EAAAklC,2BACC,eAAgB,oBAAqBlwB,IAAS,cAC/CsvB,IAKN/nC,EAAAC,QAAeiqB,kEAjBTA,gaCJN,MAAA4T,EAAA/9B,EAAAF,EAAA,MACAG,EAAAC,QAAe69B,EAAA79B,mPADf69B,+pBCAA,MAAA75B,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAEA4D,kBAAA5D,oBAAA,GAEAW,QAAAX,oBAAA,GAEAgK,gBAAA9J,gBAAAF,oBAAA,MACAiK,SAAA/J,gBAAAF,oBAAA,MAEA+oC,QAAA7oC,gBAAAF,oBAAA,MACAuqB,gBAAArqB,gBAAAF,oBAAA,KAKA2d,aAAAzd,gBAAAF,oBAAA,WAKAgpC,wBAA8B5kC,MAAMgC,UAClCC,SACE,MAAM4iC,OAAEA,EAAFC,WAAUA,GAAe3iC,KAAKrD,MAEpC,GAAc,MAAV+lC,GAAoC,IAAlBA,EAAOn8B,OAC3B,OACE1I,MAAAO,cAAC4lB,gBAAAnqB,SAAcoE,OAAQ7D,QAAA2E,OAAOiQ,UAAW9Q,OAAO,WAAS,+CAM7D,MAAM0kC,EAAOvlC,kBAAAwlC,aAAar2B,OAAO/F,GAAW,SAANA,GAAcgG,IAAIq2B,GACtDjlC,MAAAO,cAACokC,QAAA3oC,QAAMkpC,IAAG7mC,IAAK4mC,GACbjlC,MAAAO,cAACokC,QAAA3oC,QAAM4zB,GAAE,KACP5vB,MAAAO,cAACgZ,aAAAvd,SACCwG,MAAOqiC,EAAOM,KAAKv8B,GAAKA,IAAMq8B,GAC9B/gC,SAAU4gC,EAAW9J,KAAK,KAAMiK,MAGpCjlC,MAAAO,cAACokC,QAAA3oC,QAAM4zB,GAAE,KAAEqV,KAIf,OACEjlC,MAAAO,cAACokC,QAAA3oC,QAAK,KACJgE,MAAAO,cAACokC,QAAA3oC,QAAMopC,MAAK,KACVplC,MAAAO,cAACokC,QAAA3oC,QAAMkpC,GAAE,KACPllC,MAAAO,cAACokC,QAAA3oC,QAAM2zB,GAAE,MACT3vB,MAAAO,cAACokC,QAAA3oC,QAAM2zB,GAAE,gBAGb3vB,MAAAO,cAACokC,QAAA3oC,QAAMqpC,MAAK,KAAEN,IAhC8B9iC,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAsFpDxI,QAAAC,QAAe2J,cAAAI,QACbH,gBAAA5J,QACA6J,SAAA7J,QAFa2J,CAGbi/B,ufA9GF5kC,gLAOA4F,oMACAC,sLAEA8+B,oLACAxe,oMAKA5M,8LAKAqrB,6XCrBA,MAAAjgC,EAAA/I,EAAA,IAMM8rB,GACJmd,OAHFjpC,EAAA,KAGU0pC,6BAGJxf,EAAkBnhB,EAAAohB,yBACtB2B,GAEF3rB,EAAAC,QAAe8pB,kEAPT4B,sLAIA5B,qRCVN,MAAAtmB,EAAA5D,EAAA,GAEAa,EAAAb,EAAA,IACA+I,EAAA/I,EAAA,IAEaG,EAAAiiC,sCAAwCvhC,EAAA6I,qCACnD9F,EAAA0gB,kBAGWnkB,EAAAupC,4BAA8B3gC,EAAAG,eACzC/I,EAAAiiC,sCACAl+B,GACkB,MAAZA,EACK,KAGFA,EAASmP,aAAakR,oJChBjC,MAEM8F,GACJ6e,WAHFlpC,EAAA,KAGcsa,UAGdna,EAAAC,QAAeiqB,kEAJTA,gaCFN,MAAA0e,EAAA7oC,EAAAF,EAAA,MACAG,EAAAC,QAAe2oC,EAAA3oC,2KADf2oC,qaCAA,MAAApoC,EAAAiC,EAAA5C,EAAA,IAWAa,EAAAb,EAAA,IAEM2pC,EAAQhpC,EAAAP,QAAOwpC;;;;EAMrBzpC,EAAAC,QAAeS,EAAAO,YAAYuoC,GACzBH,MAAO7oC,EAAAP,QAAOypC;wBACQlpC,EAAAuK,cAAcvK,EAAAsE,MAAMqY;IAE1CyW,GAAIpzB,EAAAP,QAAO0pC;MACPnpC,EAAA6D,OAAOgM,GAAG7P,EAAA2E,OAAO+R;IAErBoyB,MAAO9oC,EAAAP,QAAO2pC,QACdT,GAAI3oC,EAAAP,QAAO4pC;MACPrpC,EAAAI;IAEJizB,GAAIrzB,EAAAP,QAAO6pC;MACPtpC,EAAAI;;;;;;;;;;;;;;sBAcgBJ,EAAAyK,eAAc;wBACZzK,EAAAuK,cAAcvK,EAAAsE,MAAMoL,WAAW1P,EAAA2E,OAAO+R;;;;;;;;;;;;;;sBAcxC1W,EAAAyK,eAAc;wBACZzK,EAAAuK,cAAcvK,EAAAsE,MAAMoL,WAAW1P,EAAA2E,OAAO+R;;;;;;;sKA7D9D1W,2FAaMgpC,mfCbN,MAAAvlC,EAAAxB,EAAA5C,EAAA,IAEA8F,EAAA5F,EAAAF,EAAA,KACA8T,EAAA5T,EAAAF,EAAA,KACAwW,EAAAtW,EAAAF,EAAA,KAKMkqC,EAAwD,EAC5D1a,oBAEAprB,EAAAO,cAACP,EAAMyxB,SAAQ,KACbzxB,EAAAO,cAACmB,EAAA1F,SAAUqc,MAAM,KACfrY,EAAAO,cAACmP,EAAA1T,SACC2G,UAAU,SACV2E,SAAU8jB,EAAgB,WAAY,QAG1CprB,EAAAO,cAACmB,EAAA1F,SAAUqc,MAAM,KACfrY,EAAAO,cAACmP,EAAA1T,SACC2G,UAAU,SACV2E,SAAU8jB,EAAgB,WAAY,QAG1CprB,EAAAO,cAAC6R,EAAApW,SAAkB2B,SAAS,YAC1BqC,EAAAO,cAACmB,EAAA1F,SAAUqc,MAAM,KACfrY,EAAAO,cAACmP,EAAA1T,SACC2G,UAAU,SACV2E,SAAU8jB,EAAgB,WAAY,UAMhD0a,EAAkB/oC,YAAc,oBAChChB,EAAAC,QAAe8pC,+YApCf9lC,8JAEA0B,oKACAgO,uKACA0C,4KAKM0zB,2ZCTN,MAAAvpC,EAAAT,EAAAF,EAAA,IAEMmqC,EAAsBxpC,EAAAP,QAAOoxB;;;;;EAMnCrxB,EAAAC,QAAe+pC,+LARfxpC,qHAEMwpC,kXCFN,MAAAxpC,EAAAT,EAAAF,EAAA,IAIMoqC,EAAmBzpC,EAAAP,QAAOoxB;;;;;;;;EAShCrxB,EAAAC,QAAegqC,4LAbfzpC,kHAIMypC,4WCJN,MAAAzpC,EAAAT,EAAAF,EAAA,IAEMiQ,EAAkBtP,EAAAP,QAAOoxB;;;;;EAM/BvhB,EAAgB9O,YAAc,kBAC9BhB,EAAAC,QAAe6P,0LATftP,gHAEMsP,yWCFN,MAAAoc,EAAAnsB,EAAAF,EAAA,MACAG,EAAAC,QAAeisB,EAAAjsB,8LADfisB,0gBCAA,MAAAjoB,EAAAxB,EAAA5C,EAAA,IAEA+P,EAAA7P,EAAAF,EAAA,KAEAqqC,EAAAnqC,EAAAF,EAAA,MAEAsqC,EAAApqC,EAAAF,EAAA,MACAuqC,EAAArqC,EAAAF,EAAA,MAEMwqC,EAAqB,IACzBpmC,EAAAO,cAAC0lC,EAAAjqC,QAAgB,KACfgE,EAAAO,cAACoL,EAAA3P,SAAKsD,UAAU,SAASmB,OAAO,QAC9BT,EAAAO,cAAC2lC,EAAAlqC,QAAkB,MACnBgE,EAAAO,cAACoL,EAAA3P,QAAKuD,MAAKN,YAAU,EAACC,UAAU,UAC9Bc,EAAAO,cAAC4lC,EAAAnqC,QAAiB,SAK1BoqC,EAAQrpC,YAAc,UACtBhB,EAAAC,QAAeoqC,iTApBfpmC,+GAEA2L,gHAEAs6B,4HAEAC,8HACAC,6HAEMC,kWCTN,MAAAC,EAAAvqC,EAAAF,EAAA,MAEM0qC,EAAmBD,EAAArqC,QAAM6C;;;;;;EAO/BynC,EAAiBvpC,YAAc,mBAC/BhB,EAAAC,QAAesqC,+MAVfD,qIAEMC,+XCFN,MAAA/pC,EAAAT,EAAAF,EAAA,IACAU,EAAAV,EAAA,IACAY,EAAAZ,EAAA,GAIM2qC,EAAQhqC,EAAAP,QAAwB;IAClCM,EAAAkE;IACAlE,EAAAmE;sBACkB3B,GAAStC,EAAAyJ,SAASnH,GAAOoH,OAAOC,GAAGC;EAEzDmgC,EAAMxpC,YAAc,QACpBhB,EAAAC,QAAeuqC,+JAZfhqC,qFAMMgqC,oUCNN,MAAAL,EAAApqC,EAAAF,EAAA,MACAG,EAAAC,QAAekqC,EAAAlqC,4NADfkqC,i/BCAA,MAAAlmC,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAEA+F,kBAAA/F,oBAAA,IAEAW,QAAAX,oBAAA,GAEAiK,SAAA/J,gBAAAF,oBAAA,MAEAqE,OAAAnE,gBAAAF,oBAAA,KACAkG,QAAAhG,gBAAAF,oBAAA,WAGA4qC,2BAAiCxmC,MAAMgC,UACrCC,SACE,OACEjC,MAAAO,cAAA,WACEP,MAAAO,cAACN,OAAAjE,QAAKmB,OAAMspC,QAAQ,gBAAgBrmC,OAAQ7D,QAAA2E,OAAO+R,WAAS,iBAG5DjT,MAAAO,cAACuB,QAAA9F,SACCy6B,GAAG,gBACHvzB,KAAK,WACLG,SAAUlB,KAAKukC,yBAOfzkC,sBAAsB0B,GAC5B,MAAM+S,YAAEA,GAAgBvU,KAAKrD,MAC7B4X,EAAY/S,EAAEC,OAAO8F,QAAU,WAAa,UAnBOzH,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAiBrDE,YADC9C,kBAAA+C,iEAIA,MAEH3I,QAAAC,QAAe2J,cAAAI,aACb6N,EACA/N,SAAA7J,QAFa2J,CAGb6gC,wnBAtCFxmC,4JAOA6F,kKAEA5F,8JACA6B,gKAGA0kC,+WCbA,MAEMvgB,GACJvP,YAHF9a,EAAA,KAGE8a,aAGF3a,EAAAC,QAAeiqB,kEAJTA,yYCFN,MAAAkgB,EAAArqC,EAAAF,EAAA,MACAG,EAAAC,QAAemqC,EAAAnqC,2NADfmqC,yoBCAA,MAAAnmC,MAAAxB,aAAA5C,oBAAA,IAEA+qC,6BAAA7qC,gBAAAF,oBAAA,MACAgrC,oBAAA9qC,gBAAAF,oBAAA,YAGAirC,0BAA+C7mC,MAAMgC,UAArDC,kCACUE,KAAA2kC,cAAgB9mC,MAAMqC,YAE9BJ,SACE,OACEjC,MAAAO,cAAComC,6BAAA3qC,SAA2BiH,SAAUd,KAAK2kC,eACzC9mC,MAAAO,cAACqmC,oBAAA5qC,SACC+qC,gBACAC,gBAAiB7kC,KAAK2kC,iBARqC7kC,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAArExI,QAAAC,QAAA6qC,4cANA7mC,0JAEA2mC,wMACAC,sLAGAC,+bCNA,MAAAtqC,EAAAT,EAAAF,EAAA,IAEMqrC,EAA6B1qC,EAAAP,QAAOoxB;;;;EAK1CrxB,EAAAC,QAAeirC,sPAPf1qC,4KAEM0qC,gbCFN,MAAAL,EAAA9qC,EAAAF,EAAA,MACAG,EAAAC,QAAe4qC,EAAA5qC,wPADf4qC,4gCCAA,MAAA5mC,MAAAxB,aAAA5C,oBAAA,IAEA+J,cAAA/J,oBAAA,IAEA+F,kBAAA/F,oBAAA,IAEAsrC,uBAAAprC,gBAAAF,oBAAA,MAEAW,QAAAX,oBAAA,GAGAgK,gBAAA9J,gBAAAF,oBAAA,MACAiK,SAAA/J,gBAAAF,oBAAA,MAEAurC,6BAAArrC,gBAAAF,oBAAA,MACAwrC,0BAAAtrC,gBAAAF,oBAAA,MACAyrC,2BAAAvrC,gBAAAF,oBAAA,YAOA0rC,mCAAyCtnC,MAAMgC,UAG7CC,YAAYnD,GACVoD,MAAMpD,GAENqD,KAAKolC,KAAOvnC,MAAMqC,YAElBF,KAAKpE,OACHypC,YAAY,GAIhBvlC,oBACqC,aAA/BE,KAAKrD,MAAM2oC,iBACbtlC,KAAKulC,kBAITzlC,mBAAmB0lC,GAEc,aAA7BA,EAASF,iBACsB,aAA/BtlC,KAAKrD,MAAM2oC,iBAEXtlC,KAAKulC,kBAITzlC,SACE,MAAM6nB,MAAEA,EAAF2d,gBAASA,EAATG,WAA0BA,EAA1BZ,gBAAsCA,GAAoB7kC,KAAKrD,MACrE,IAAI0oC,WAAEA,GAAerlC,KAAKpE,MAE1B,MAAM8pC,EAAeD,EAAWl/B,OAAS,EAEzC,IAAIo/B,EACJ,OAAQL,GACN,QACEK,EAAcvrC,QAAA2E,OAAOC,QACrB,MACF,IAAK,UACH2mC,EAAcvrC,QAAA2E,OAAO+R,UACrBu0B,EAAaK,EACb,MACF,IAAK,WACHC,EAAcvrC,QAAA2E,OAAOG,QAIzB,IAAI0mC,EAAuC,KAc3C,OAbIF,GAAgBL,IAClBO,EAAeH,EAAWh5B,IAAIo5B,IAC5B,MAAM3pC,EAAM2pC,EAAUA,EAAUt/B,OAAS,GACzC,OACE1I,MAAAO,cAAC0nC,mBACC5pC,IAAKA,EACL0oC,aAAciB,EACdhB,gBAAiBA,OAOvBhnC,MAAAO,cAAC4mC,6BAAAnrC,QAA0B,KACzBgE,MAAAO,cAAC6mC,0BAAAprC,SACCiH,SAAUd,KAAKolC,KACfW,WAAYL,EACZM,SAAUX,EACVnnC,OAAQypB,EACR1pB,OAAQ0nC,EACRxgB,QAASnlB,KAAK+qB,SACdkb,eAAgBjmC,KAAKkmC,kBAEvBroC,MAAAO,cAAC8mC,2BAAArrC,QAAwB,KAAE+rC,IAKzB9lC,kBACN,MAAMqmC,EAAcnmC,KAAKolC,KAAKpjC,SACxByjC,WAAEA,EAAFZ,gBAAcA,GAAoB7kC,KAAKrD,MAEzC8oC,EAAWl/B,OAAS,GACtBvG,KAAK4B,UACHyjC,YAAY,IAIZc,GAAetB,EAAgB7iC,SACjC+iC,uBAAAlrC,QAAessC,EAAatB,EAAgB7iC,SAC1CokC,uBAAuB,EACvBC,oBAAoB,EACpBC,aAAc,IACdC,UAAW,MAMTzmC,WACN,MAAM8kC,aAAEA,EAAFzf,QAAgBA,GAAYnlB,KAAKrD,MACvCqD,KAAK4B,UACHyjC,YAAY,IAEdlgB,EAAQyf,GAIF9kC,kBACNE,KAAK4B,UACHyjC,YAAarlC,KAAKpE,MAAMypC,aA9GwCvlC,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OAmGpEE,YADC9C,kBAAA+C,4DAOA,MAGDD,YADC9C,kBAAA+C,mEAKA,MAEH,MAAMujC,kBAAoBtiC,cAAAI,QACxBH,gBAAA5J,QACA6J,SAAA7J,QAFwB2J,CAGxB2hC,4BACFvrC,QAAAC,QAAeisC,usBA7IfjoC,uLAMAknC,yNAKAthC,2MACAC,6LAEAshC,qOACAC,+NACAC,iOAOAC,iOAkHMW,+dCxIN,MAAArV,EAAA92B,EAAAF,EAAA,KAEA+sC,EAAA7sC,EAAAF,EAAA,MAIAyN,EAAAzN,EAAA,IAMA2M,EAAAzM,EAAAF,EAAA,KACA0M,EAAAxM,EAAAF,EAAA,KACAi8B,EAAA/7B,EAAAF,EAAA,MAIMm5B,EAAoB,CAAClmB,EAAa/P,IACtCA,EAAMioC,aAAarhC,KAAK,KAEpBovB,EAAmB,CAACjmB,EAAa/P,IACrCA,EAAMioC,aAEFjd,EAAQ8I,EAAA52B,QAOZ84B,EACAvsB,EAAAvM,QACA,CAACsL,EAAMiC,IACLA,EAAWF,EAAA+f,iBAAiB9hB,EAAMiC,GAAY,cAVpCqpB,CAWZmC,GAEI0S,EAAkB7U,EAAA52B,QAMtB84B,EAAkBxsB,EAAAtM,QAAsB,CAAC4sC,EAAUlrC,KAEnD,OADmBkrC,EAASjgC,MAAM,CAACC,EAAGC,IAAMnL,EAAamL,IAAMD,GAK3DggC,EAASlgC,SAAWhL,EAAagL,OAC5B,WAGF,UAPE,cATakqB,CAiBrBmC,GAEG6S,EAAahV,EAAA52B,QAQjB84B,EACAvsB,EAAAvM,QACA67B,EAAA77B,QACA,CAACsL,EAAMiC,EAAU5L,KACf,GAAgB,MAAZ4L,EACF,SAOF,OADmBF,EAAA0gB,sBAAsBziB,EAAMiC,EAAU5L,GACvCkrC,KAAK,CAACp9B,EAAGC,KACzB,MAAMo9B,EAASz/B,EAAA+f,iBAAiB3d,EAAGlC,GAC7Bw/B,EAAS1/B,EAAA+f,iBAAiB1d,EAAGnC,GACnC,OAAOo/B,EAAA3sC,QAAe8sC,EAAQC,MAvBjBnW,CA0BjBmC,GAEIjP,EAAkB,SACtB/nB,EACAe,GAUA,OALEgrB,MAAOA,EAAM/rB,EAAOe,GACpB2oC,gBAAiBA,EAAgB1pC,EAAOe,GACxC8oC,WAAYA,EAAW7pC,EAAOe,KAMlC/C,EAAAC,QAAe8pB,0PAnGf8M,sLAEA+V,iMAUApgC,mLACAD,wLACAuvB,oLAIM9C,0LAGAD,yLAGAhL,8KAaA2d,wLAmBAG,mLA4BA9hB,sVCrFN,MAEMG,GACJqB,QAHF1rB,EAAA,IAGW+Q,YAGX5Q,EAAAC,QAAeiqB,kEAJTA,qaCFN,MAAA1pB,EAAAT,EAAAF,EAAA,IAEMotC,EAA6BzsC,EAAAP,QAAOoxB,MAC1C4b,EAA2BjsC,YAAc,6BACzChB,EAAAC,QAAegtC,mRAJfzsC,yMAEMysC,6cCFN,MAAA5B,EAAAtrC,EAAAF,EAAA,MACAG,EAAAC,QAAeorC,EAAAprC,2RADforC,unBCAA,MAAApnC,EAAAxB,EAAA5C,EAAA,IAEAW,EAAAT,EAAAF,EAAA,IAEAqtC,EAAAntC,EAAAF,EAAA,MACAstC,EAAAptC,EAAAF,EAAA,MAaMutC,EAAmC5sC,EAAAP,QAAOotC;;;EAIhDD,EAAiCpsC,YAAc,6BAE/C,MAAMssC,EAEF,EACF3vB,YACAwuB,aACAC,WACA9nC,SACAD,SACAknB,UACA8gB,iBACAnlC,cAEAjD,EAAAO,cAAC4oC,GAAiClmC,SAAUA,EAAUyW,UAAWA,GAC9DwuB,GACCloC,EAAAO,cAAC0oC,EAAAjtC,SACCmsC,SAAUA,EACV7gB,QAAS4gB,EAAaE,OAAiBx0B,IAG3C5T,EAAAO,cAAC2oC,EAAAltC,SAASoE,OAAQA,EAAQknB,QAASA,GAChCjnB,IAIPgpC,EAAwBtsC,YAAc,0BACtChB,EAAAC,QAAeqtC,2gBAjDfrpC,4NAEAzD,8NAEA0sC,iOACAC,iOAaMC,uPAMAE,wjBCxBN,MAAArpC,EAAAxB,EAAA5C,EAAA,IAUM0tC,EAA8D,EAClE5vB,YACAyuB,WACA7gB,aAEAtnB,EAAAO,cAAA,OACEmZ,UAAWA,EACXlZ,MAfc,GAgBdC,OAhBc,GAiBd8oC,QAAS,UACTjiB,QAASA,GAETtnB,EAAAO,cAAA,QAAMguB,EAAG4Z,EAnBS,6BACC,yBAkBiCqB,KAAK,WAG7DztC,EAAAC,QAAestC,iSAzBftpC,wNAEkB,6NACI,2PACC,wPAMjBspC,4cCVN,MAAA/sC,EAAAX,EAAA,GAEAqE,EAAAnE,EAAAF,EAAA,KAEM6tC,EAAWxpC,EAAAjE,QAAK6C;iBACLC,GAASvC,EAAA0J,SAASnH,GAAOhC,MAAK;EAE/Cf,EAAAC,QAAeytC,oSALfxpC,yNAEMwpC,4cCJN,MAAAltC,EAAAT,EAAAF,EAAA,IAEM8tC,EAA2BntC,EAAAP,QAAOoxB;;EAGxCrxB,EAAAC,QAAe0tC,iRALfntC,uMAEMmtC,ycCFN,MAAAntC,EAAAT,EAAAF,EAAA,IAEAU,EAAAV,EAAA,IAEAY,EAAAZ,EAAA,GAKM+tC,EAAYptC,EAAAP,QAA8B;;kBAE9B8C,GACdtC,EAAAsK,cAAchI,EAAM6T,OAASnW,EAAAqE,MAAM6tB,iBAAnClyB,CAAqDsC;IACrDxC,EAAAkE;IACAlE,EAAAQ;;EAGJ6sC,EAAU5sC,YAAc,YACxBhB,EAAAC,QAAe2tC,oKAlBfptC,0FASMotC,6UCTN,MAAAptC,EAAAT,EAAAF,EAAA,IAEAY,EAAAZ,EAAA,GAEMguC,EAAertC,EAAAP,QAAOoxB;;;;;;sBAMNtuB,GAAStC,EAAAyJ,SAASnH,GAAOoH,OAAOC,GAAGnK;EAEzD4tC,EAAa7sC,YAAc,eAC3BhB,EAAAC,QAAe4tC,2KAbfrtC,iGAIMqtC,uVCJN,MAAArtC,EAAAT,EAAAF,EAAA,IAEMguC,EAAertC,EAAAP,QAAOoxB;;;;;EAM5Bwc,EAAa7sC,YAAc,eAC3BhB,EAAAC,QAAe4tC,yKATfrtC,+FAEMqtC,qVCFN,MAAArkB,EAAAzpB,EAAAF,EAAA,MACAG,EAAAC,QAAeupB,EAAAvpB,gLADfupB,y7BCAA,MAAAvlB,MAAAxB,aAAA5C,oBAAA,IACA+J,cAAA/J,oBAAA,IAEA+F,kBAAA/F,oBAAA,IAEAW,QAAAX,oBAAA,GAEAwrB,SAAAtrB,gBAAAF,oBAAA,MAEAiK,SAAA/J,gBAAAF,oBAAA,MAEAiuC,kBAAA/tC,gBAAAF,oBAAA,MAEAkuC,cAAAhuC,gBAAAF,oBAAA,MACAmuC,kBAAAjuC,gBAAAF,oBAAA,YAGAouC,eAAqBhqC,MAAMgC,UAA3BC,kCACUE,KAAAC,OAA6B,KAErCH,SACE,MAAMgoC,eAAEA,GAAmB9nC,KAAKrD,MAChC,OACEkB,MAAAO,cAACspC,kBAAA7tC,QAAe,KACdgE,MAAAO,cAACwpC,kBAAA/tC,QAAe,kBAChBgE,MAAAO,cAACupC,cAAA9tC,QAAW,KACVgE,MAAAO,cAAA,SACE0+B,IAAKiL,GAAO/nC,KAAKC,OAAS8nC,EAC1Bl2B,OAASm2B,QAAS,QAClBjnC,KAAK,OACLsf,OAAO,OACPnf,SAAUlB,KAAKioC,mBAEjBpqC,MAAAO,cAAC6mB,SAAAprB,SAAOsrB,QAASnlB,KAAKkoC,kBAAgB,QACtCrqC,MAAAO,cAAC6mB,SAAAprB,SAAOsrB,QAAS2iB,GAAc,QAC/BjqC,MAAAO,cAAC6mB,SAAAprB,SAAOoE,OAAQ7D,QAAA2E,OAAOG,QAASimB,QAASnlB,KAAKmoC,kBAAgB,UAS9DroC,mBACDE,KAAKC,QAGVD,KAAKC,OAAOmoC,QAINtoC,iBAAiB0B,GACvB,MAAM6mC,EAAQ7mC,EAAEC,OAAO4mC,MACvB,IAAKA,GAA0B,IAAjBA,EAAM9hC,OAClB,OAEF,MAAMmO,EAAO2zB,EAAM,IAEbC,OAAEA,GAAWtoC,KAAKrD,MACxB2rC,EAAO5zB,GAID5U,mBACN,MAAMyoC,OAAEA,GAAWvoC,KAAKrD,MAExB4rC,EADiBC,cAAc,UAAW,SAjDH1oC,iCAAA5D,IAAAkG,MAAApC,KAAA9D,KAAAmG,KAAAD,OA0D3C,SAAAomC,cAAuBp8B,EAAcq8B,GACnC,OAAIr8B,EAAKs8B,SAASD,GAAar8B,EACxBA,EAAOq8B,EAjCdnmC,YADC9C,kBAAA+C,gDAMA,MAGDD,YADC9C,kBAAA+C,gDAUA,MAGDD,YADC9C,kBAAA+C,gDAKA,MAEH3I,QAAAC,QAAe2J,cAAAI,QACb,KACAF,SAAA7J,QAFa2J,CAGbqkC,ocAzEFhqC,oGAOAonB,0GAEAvhB,0GAEAgkC,4HAEAC,oHACAC,4HAGAC,sGA0DAW,iYC3EA,MAAAG,EAAAhvC,EAAAF,EAAA,MAEAmlB,EAAAnlB,EAAA,KACAolB,EAAAplB,EAAA,KAEA6hB,EAAA7hB,EAAA,IAEMqqB,GACJwkB,OAAQ1pB,EAAAnK,YACRqzB,eAAgB,IAAMxsB,EAAAzV,sBAAsB8iC,EAAA9uC,SAC5C0uC,OAAQ1pB,EAAAjK,aAEVhb,EAAAC,QAAeiqB,2KAZf6kB,0GAOM7kB,yhzjHCPN,MAAA1pB,EAAAT,EAAAF,EAAA,IAEAY,EAAAZ,EAAA,GAEMmvC,EAAkBxuC,EAAAP,QAAOoxB;;;;;;;sBAOTtuB,GAAStC,EAAAyJ,SAASnH,GAAOoH,OAAOC,GAAGuM;EAEzDq4B,EAAgBhuC,YAAc,kBAC9BhB,EAAAC,QAAe+uC,gMAdfxuC,sHAIMwuC,+WCJN,MAAAxuC,EAAAT,EAAAF,EAAA,IAEMovC,EAAczuC,EAAAP,QAAOoxB;;;;;EAM3B4d,EAAYjuC,YAAc,cAC1BhB,EAAAC,QAAegvC,4LATfzuC,kHAEMyuC,uWCFN,MAAAzuC,EAAAT,EAAAF,EAAA,IACAY,EAAAZ,EAAA,GAEMqvC,EAAkB1uC,EAAAP,QAAOotC;;;WAGpBtqC,GAAStC,EAAAyJ,SAASnH,GAAOoH,OAAO9F,OAAOmG;EAElD0kC,EAAgBluC,YAAc,kBAC9BhB,EAAAC,QAAeivC,+LATf1uC,qHAGM0uC","file":"client.75cbe0c015e0b4ddff6c.bundle.js","sourcesContent":["import \"./style.css\";\r\n\r\nimport styled from \"./styled\";\r\nexport default styled;\r\n\r\nexport * from \"./styles\";\r\nexport * from \"./theme\";\r\n\r\nexport * from \"./intent\";\r\n\r\nexport {\r\n  ThemeProvider,\r\n  ThemeProps,\r\n  ThemedOuterStyledProps,\r\n  injectGlobal,\r\n  css\r\n} from \"./styled\";\r\n","import {\r\n  AlignSelfProps,\r\n  JustifySelfProps,\r\n  SpaceProps,\r\n  alignSelf,\r\n  justifySelf,\r\n  space\r\n} from \"styled-system\";\r\n\r\nimport styled from \"@/style\";\r\n\r\nimport { TextProps as TextStyleProps, text } from \"@/style\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nexport type TextProps = TextStyleProps &\r\n  AlignSelfProps &\r\n  JustifySelfProps &\r\n  SpaceProps;\r\nconst Text = styled<TextProps, \"span\">(\"span\")`\r\n  ${text};\r\n  ${alignSelf};\r\n  ${justifySelf};\r\n  ${space};\r\n`;\r\nText.displayName = \"Text\";\r\nexport default attachProps(Text, {\r\n  H4: Text.withComponent(\"h4\") as StyledWithComponentTag<\"h4\", TextProps>,\r\n  Label: Text.withComponent(\"label\") as StyledWithComponentTag<\r\n    \"label\",\r\n    TextProps\r\n  >,\r\n  Div: Text.withComponent(\"div\") as StyledWithComponentTag<\"div\", TextProps>\r\n});\r\n","import { SaveGame } from \"oni-save-parser\";\r\nimport { EditMode } from \"@/services/save-structure\";\r\n\r\nexport type LoadingState = \"idle\" | \"loading\" | \"saving\" | \"ready\";\r\n\r\nexport interface AppState {\r\n  loadingState: LoadingState;\r\n  loadingProgressMessage: string | null;\r\n  error: Error | null;\r\n  oniSave: SaveGame | null;\r\n  selectedPath: string[];\r\n  editMode: EditMode;\r\n}\r\nexport const defaultAppState: Readonly<AppState> = {\r\n  loadingState: \"idle\" as \"idle\",\r\n  loadingProgressMessage: null,\r\n  error: null,\r\n  oniSave: null,\r\n  selectedPath: [],\r\n  editMode: \"normal\"\r\n};\r\nObject.freeze(defaultAppState);\r\n","import { AppState } from \"@/state\";\r\n\r\nconst oniSaveSelector = (state: AppState) => state.oniSave;\r\nexport default oniSaveSelector;\r\n","import { forEach } from \"lodash-es\";\r\n\r\nexport function attachProps<\r\n  TTarget,\r\n  TSubComponents extends Record<string, any>\r\n>(component: TTarget, subComponents: TSubComponents): TTarget & TSubComponents {\r\n  const c = component as any;\r\n  forEach(subComponents, (component, key) => {\r\n    c[key] = component;\r\n  });\r\n  return c as any;\r\n}\r\n","import { AppState } from \"@/state\";\r\n\r\nconst selectedPathSelector = (state: AppState) => state.selectedPath;\r\nexport default selectedPathSelector;\r\n","import * as styledComponents from \"styled-components\";\r\nimport {\r\n  ThemedStyledComponentsModule,\r\n  ThemedOuterStyledProps as _ThemedOuterStyledProps\r\n} from \"styled-components\";\r\n\r\nimport { Theme } from \"./theme\";\r\n\r\nconst {\r\n  default: styled,\r\n  css,\r\n  injectGlobal,\r\n  keyframes,\r\n  ThemeProvider\r\n} = styledComponents as ThemedStyledComponentsModule<Theme>;\r\n\r\nexport type ThemeProps = {\r\n  theme?: Theme;\r\n};\r\nexport type ThemedOuterStyledProps<P> = _ThemedOuterStyledProps<P, Theme>;\r\n\r\nexport { css, injectGlobal, keyframes, ThemeProvider };\r\nexport default styled;\r\n","import { attachProps } from \"@/utils\";\r\n\r\nimport Box, { BoxProps } from \"@/components/Box\";\r\n\r\nimport {\r\n  AlignContentProps,\r\n  JustifyContentProps,\r\n  alignContent,\r\n  justifyContent\r\n} from \"styled-system\";\r\n\r\nexport interface FlexItemProps extends BoxProps {\r\n  grow?: boolean;\r\n  shrink?: boolean;\r\n  fillParent?: boolean;\r\n  constrain?: \"row\" | \"column\";\r\n}\r\n\r\nconst FlexItem = Box.extend<FlexItemProps>`\r\n  ${props => props.grow && \"flex-grow: 1\"};\r\n  ${props => props.shrink && \"flex-shrink: 1\"};\r\n  ${props =>\r\n    props.fillParent &&\r\n    (props.constrain ? \"flex: 0 1 auto\" : \"flex: 1 1 auto\")};\r\n  ${props =>\r\n    props.constrain &&\r\n    (props.constrain === \"row\"\r\n      ? [\"min-width: 0;\", \"width: 100%;\"]\r\n      : [\"min-height: 0;\", \"height: 100%;\"])};\r\n  ${props => props.shrink && \"min-height: 0;\"};\r\n  flex-basis: auto;\r\n  box-sizing: border-box;\r\n`;\r\nFlexItem.displayName = \"FlexItem\";\r\n\r\nexport interface FlexProps\r\n  extends BoxProps,\r\n    AlignContentProps,\r\n    JustifyContentProps {\r\n  direction: \"row\" | \"column\";\r\n}\r\n\r\nconst Flex = Box.extend<FlexProps>`\r\n  display: flex;\r\n  ${alignContent};\r\n  ${justifyContent};\r\n  flex-direction: ${props => props.direction};\r\n  align-items: stretch;\r\n`;\r\nFlex.displayName = \"Flex\";\r\n\r\nexport default attachProps(Flex, {\r\n  Item: FlexItem\r\n});\r\n","import { BehaviorName, GameObjectBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { produceFromGameObject } from \"@/reducer/game-object/utils\";\r\n\r\nexport function produceFromBehavior<TBehav extends GameObjectBehavior>(\r\n  state: AppState,\r\n  behaviorName: BehaviorName<TBehav>,\r\n  producer: (behavior: TBehav) => void\r\n): AppState {\r\n  return produceFromGameObject(state, gameObject => {\r\n    const behavior = getBehavior(gameObject, behaviorName);\r\n    if (!behavior) {\r\n      return;\r\n    }\r\n\r\n    return producer(behavior);\r\n  });\r\n}\r\n","import * as React from \"react\";\r\nimport { IntentProps, Border, Radius, Intent, Space, Color } from \"@/style\";\r\n\r\nimport Box from \"@/components/Box\";\r\nimport Text from \"@/components/Text\";\r\n\r\nexport interface NonIdealStatProps extends IntentProps {\r\n  header?: React.ReactNode;\r\n}\r\n\r\nconst Header = Text.H4.extend`\r\n  margin-top: 0;\r\n  width: auto;\r\n`;\r\nHeader.displayName = \"Header\";\r\nconst NonIdealState: React.SFC<NonIdealStatProps> = ({\r\n  intent,\r\n  header,\r\n  children\r\n}) => (\r\n  <Box width=\"100%\" height=\"100%\">\r\n    <Box\r\n      width=\"75%\"\r\n      intent={intent}\r\n      border={Border.Thick}\r\n      borderRadius={Radius.Medium}\r\n      borderColor={Color.HintIntent}\r\n      p={Space.Medium}\r\n      mx=\"auto\"\r\n      mt={Space.Large}\r\n    >\r\n      {header && (\r\n        <Header\r\n          intent={\r\n            intent === Intent.Default || intent === Intent.Hint\r\n              ? Intent.Primary\r\n              : intent\r\n          }\r\n        >\r\n          {header}\r\n        </Header>\r\n      )}\r\n      {children}\r\n    </Box>\r\n  </Box>\r\n);\r\nNonIdealState.displayName = \"NonIdealState\";\r\nexport default NonIdealState;\r\n","import {\r\n  AlignSelfProps,\r\n  JustifySelfProps,\r\n  WidthProps,\r\n  HeightProps,\r\n  SpaceProps,\r\n  alignSelf,\r\n  justifySelf,\r\n  width,\r\n  height,\r\n  space\r\n} from \"styled-system\";\r\n\r\nimport styled, {\r\n  BorderProps,\r\n  IntentBorderProps,\r\n  intentBorder,\r\n  IntentProps,\r\n  border,\r\n  intent\r\n} from \"@/style\";\r\n\r\nexport type BoxProps = AlignSelfProps &\r\n  JustifySelfProps &\r\n  WidthProps &\r\n  HeightProps &\r\n  SpaceProps &\r\n  BorderProps &\r\n  IntentBorderProps &\r\n  IntentProps;\r\n\r\nconst Box = styled<BoxProps, \"div\">(\"div\")`\r\n  ${alignSelf};\r\n  ${justifySelf};\r\n  ${width};\r\n  ${height};\r\n  ${space};\r\n  ${border};\r\n  /* ${intentBorder}; */\r\n  ${intent};\r\n  box-sizing: border-box;\r\n`;\r\nBox.displayName = \"Box\";\r\nBox.defaultProps = {\r\n  intentIsBg: false\r\n};\r\nexport default Box;\r\n","import FormGroup from \"./FormGroup\";\r\nexport default FormGroup;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Keys from \"@/keys\";\r\n\r\nimport { NumberPrecision, clamp, isFloatingPoint } from \"@/math\";\r\n\r\nimport Input from \"@/components/Input\";\r\n\r\nexport interface NumericInputProps {\r\n  value: number;\r\n  minValue?: number;\r\n  maxValue?: number;\r\n  precision?: NumberPrecision;\r\n  onCommit(value: number): void;\r\n}\r\n\r\ntype Props = NumericInputProps;\r\ninterface State {\r\n  editValue: number | null;\r\n  validationMessage: string | null;\r\n}\r\nexport default class NumericInput extends React.Component<Props, State> {\r\n  private _input = React.createRef<HTMLInputElement>();\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      editValue: null,\r\n      validationMessage: null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { value, minValue, maxValue, precision } = this.props;\r\n    const { editValue } = this.state;\r\n\r\n    const currentValue = editValue != null ? editValue : value;\r\n\r\n    const step = isFloatingPoint(precision || \"int32\") ? Math.pow(10, -16) : 1;\r\n\r\n    return (\r\n      <Input\r\n        innerRef={this._input}\r\n        type=\"number\"\r\n        min={minValue}\r\n        max={maxValue}\r\n        value={currentValue}\r\n        onChange={this._onValueChange}\r\n        onKeyPress={this._onInputKeyPress}\r\n        onBlur={this._onInputBlur}\r\n        step={step}\r\n      />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const { minValue, maxValue } = this.props;\r\n\r\n    const value = e.target.valueAsNumber;\r\n    let validationMessage: string | null = null;\r\n\r\n    if (maxValue != null && value >= maxValue) {\r\n      validationMessage = `Value must be less than ${maxValue}`;\r\n    } else if (minValue != null && value <= minValue) {\r\n      validationMessage = `Value must be greater than ${minValue}`;\r\n    }\r\n\r\n    e.target.setCustomValidity(validationMessage || \"\");\r\n\r\n    this.setState({\r\n      editValue: value,\r\n      validationMessage\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _onInputKeyPress(e: React.KeyboardEvent<HTMLInputElement>) {\r\n    if (e.key === Keys.Enter) {\r\n      this._commitEdit();\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onInputBlur() {\r\n    this._commitEdit();\r\n  }\r\n\r\n  private _commitEdit() {\r\n    const { editValue, validationMessage } = this.state;\r\n    const { precision = \"int32\", onCommit } = this.props;\r\n\r\n    // Reset validation\r\n    if (validationMessage && this._input.current) {\r\n      this._input.current.setCustomValidity(\"\");\r\n    }\r\n\r\n    this.setState({\r\n      editValue: null,\r\n      validationMessage: null\r\n    });\r\n\r\n    if (!editValue || validationMessage) {\r\n      return;\r\n    }\r\n\r\n    const newValue = clamp(precision, editValue);\r\n    if (isNaN(newValue)) {\r\n      return;\r\n    }\r\n\r\n    onCommit(newValue);\r\n  }\r\n}\r\n","import { createSelector, Selector } from \"reselect\";\r\n\r\nimport { memoize, get } from \"lodash-es\";\r\n\r\nimport { BehaviorName, GameObjectBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport getSelectedGameObject from \"@/selectors/game-object\";\r\n\r\nfunction createCurrentGameObjectBehaviorSelector<T extends GameObjectBehavior>(\r\n  behaviorName: BehaviorName<T>\r\n): Selector<AppState, T | null> {\r\n  return createSelector(getSelectedGameObject, gameObject => {\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n\r\n    return getBehavior(gameObject, behaviorName) || null;\r\n  });\r\n}\r\n\r\n// Using an inline function breaks the inference of the behavior.\r\nexport const getCurrentGameObjectBehaviorSelector = memoize(\r\n  createCurrentGameObjectBehaviorSelector\r\n) as typeof createCurrentGameObjectBehaviorSelector;\r\n\r\nexport function createCurrentGameObjectBehaviorPropertySelector<\r\n  T extends GameObjectBehavior,\r\n  TResult\r\n>(\r\n  behaviorName: BehaviorName<T>,\r\n  valueSelector: string[] | Selector<T, TResult>\r\n): Selector<AppState, TResult | null> {\r\n  let valueSelectFunc: Selector<T, TResult>;\r\n  if (Array.isArray(valueSelector)) {\r\n    valueSelectFunc = behavior => get(behavior, valueSelector);\r\n  } else {\r\n    valueSelectFunc = valueSelector;\r\n  }\r\n\r\n  const behaviorSelector = getCurrentGameObjectBehaviorSelector(behaviorName);\r\n  return createSelector(behaviorSelector, behavior => {\r\n    if (!behavior) {\r\n      return null;\r\n    }\r\n    return valueSelectFunc(behavior);\r\n  });\r\n}\r\n\r\ntype getCGOBByPath = <T extends GameObjectBehavior, TResult>(\r\n  behaviorName: BehaviorName<T>,\r\n  valuePath: string[]\r\n) => Selector<AppState, TResult>;\r\n\r\nexport const getCurrentGameObjectBehaviorPropertySelector = memoize(\r\n  createCurrentGameObjectBehaviorPropertySelector,\r\n  (behaviorName: string, behaviorPath: string[]) =>\r\n    [behaviorName, behaviorPath.join(\".\")].join(\"::\")\r\n) as getCGOBByPath;\r\n","import { connect } from \"react-redux\";\r\n\r\nexport * from \"./props\";\r\n\r\nimport { EditorFieldProps } from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\nimport { AppState } from \"@/state\";\r\n\r\nexport type InjectedProps = StateProps & DispatchProps;\r\n\r\nexport default function connectEditorField() {\r\n  return connect<StateProps, DispatchProps, EditorFieldProps, AppState>(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  );\r\n}\r\n","import { WidthProps, width } from \"styled-system\";\r\n\r\nimport styled, { TextProps, getTheme, text, css } from \"@/style\";\r\n\r\n// Note: Should extend TextCssProps, but doing so causes some odd typing issues\r\n//  Props will somehow demand but refuse 'ref'\r\nexport interface InputStyleProps extends TextProps, WidthProps {}\r\n\r\nexport const inputStyle = css<InputStyleProps>`\r\n  ${text};\r\n  ${width};\r\n  padding: 2px;\r\n  background-color: ${props => getTheme(props).colors.bg.panel};\r\n  border: ${props => getTheme(props).borders[1]};\r\n  border-color: ${props => getTheme(props).colors.intent.secondary};\r\n  &:focus {\r\n    border-color: ${props => getTheme(props).colors.intent.primary};\r\n    outline: none;\r\n  }\r\n  &:invalid {\r\n    border-color: ${props => getTheme(props).colors.intent.dangerous};\r\n  }\r\n`;\r\n\r\nconst Input = styled<InputStyleProps, \"input\">(\"input\")`\r\n  ${inputStyle};\r\n`;\r\nInput.displayName = \"Input\";\r\n\r\nexport type InputProps = StyledComponentProps<typeof Input>;\r\nexport default Input;\r\n","import NumericInput from \"@/components/NumericInput\";\r\n\r\nimport connectEditorField from \"./connect-field\";\r\n\r\nexport default connectEditorField()(NumericInput);\r\n","export * from \"./utils\";\r\nexport * from \"./types\";\r\n","export * from \"./props\";\r\nimport SaveStructureLink from \"./SaveStructureLink\";\r\nexport default SaveStructureLink;\r\n","export * from \"./theme\";\r\n\r\nexport { Color, getThemeColor } from \"./colors\";\r\nexport { Border, getThemeBorder } from \"./borders\";\r\nexport { FontSize } from \"./font-sizes\";\r\nexport { Radius, getThemeRadius } from \"./radii\";\r\nexport { Space, getThemeSpace } from \"./space\";\r\n","import { GameObjectBehavior, BehaviorName } from \"oni-save-parser\";\r\n\r\nexport const ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE =\r\n  \"oni-save/current-object/behaviors/set-value\";\r\nexport function setCurrentObjectBehaviorValue<T extends GameObjectBehavior>(\r\n  behaviorName: BehaviorName<T>,\r\n  path: string[],\r\n  value: any\r\n) {\r\n  return {\r\n    type: ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE as typeof ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE,\r\n    payload: { behaviorName, path, value }\r\n  };\r\n}\r\nexport type SetCurrentObjectBehaviorValueAction<\r\n  T extends GameObjectBehavior = GameObjectBehavior\r\n> = {\r\n  type: typeof ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE;\r\n  payload: {\r\n    behaviorName: BehaviorName<T>;\r\n    path: string[];\r\n    value: any;\r\n  };\r\n};\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nexport const ACTION_RECEIVE_ONISAVE_BEGIN = \"oni-save/receive:begin\";\r\nexport const receiveOniSaveBegin = (\r\n  operation: \"loading\" | \"saving\",\r\n  clearExisting?: boolean\r\n) => ({\r\n  type: ACTION_RECEIVE_ONISAVE_BEGIN as typeof ACTION_RECEIVE_ONISAVE_BEGIN,\r\n  payload: { operation, clearExisting }\r\n});\r\nexport type ReceiveOniSaveBeginAction = ReturnType<typeof receiveOniSaveBegin>;\r\n\r\nexport const ACTION_RECEIVE_ONISAVE_ERROR = \"oni-save/receive:error\";\r\nexport const receiveOniSaveError = (error: Error) => ({\r\n  type: ACTION_RECEIVE_ONISAVE_ERROR as typeof ACTION_RECEIVE_ONISAVE_ERROR,\r\n  payload: error\r\n});\r\nexport type ReceiveOniSaveErrorAction = ReturnType<typeof receiveOniSaveError>;\r\n\r\nexport const ACTION_RECEIVE_ONISAVE_SUCCESS = \"oni-save/receive:success\";\r\nexport const receiveOniSaveSuccess = (oniSave: SaveGame) => ({\r\n  type: ACTION_RECEIVE_ONISAVE_SUCCESS as typeof ACTION_RECEIVE_ONISAVE_SUCCESS,\r\n  payload: oniSave\r\n});\r\nexport type ReceiveOniSaveSuccessAction = ReturnType<\r\n  typeof receiveOniSaveSuccess\r\n>;\r\n\r\nexport type ReceiveOniSaveAction =\r\n  | ReceiveOniSaveBeginAction\r\n  | ReceiveOniSaveErrorAction\r\n  | ReceiveOniSaveSuccessAction;\r\n","import DataTable from \"./DataTable\";\r\nexport default DataTable;\r\nexport * from \"./DataTable\";\r\n","import { includes } from \"lodash\";\r\n\r\nexport enum Intent {\r\n  Default = \"default\",\r\n  Primary = \"primary\",\r\n  Secondary = \"secondary\",\r\n  Dangerous = \"dangerous\",\r\n  Hint = \"hint\"\r\n}\r\n\r\nexport function isIntent(str: string | null | undefined): str is Intent {\r\n  return includes(Intent, str);\r\n}\r\n","import { createSelector } from \"reselect\";\r\n\r\nimport { GameObject } from \"oni-save-parser\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport selectedPath from \"./selected-path\";\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nconst GAME_OBJECT_PATH = [/gameObjects/, /.+/, /gameObjects/, /\\d+/];\r\n\r\nexport const getIsGameObjectSelected = createSelector(selectedPath, path => {\r\n  if (!path) {\r\n    return null;\r\n  }\r\n\r\n  if (path.length < GAME_OBJECT_PATH.length) {\r\n    return false;\r\n  }\r\n\r\n  return GAME_OBJECT_PATH.every((x, i) => x.test(path[i]));\r\n});\r\n\r\nexport const getSelectedGameObjectPath = createSelector(\r\n  selectedPath,\r\n  getIsGameObjectSelected,\r\n  (path, valid) => {\r\n    if (!valid) {\r\n      return null;\r\n    }\r\n\r\n    return path.slice(0, GAME_OBJECT_PATH.length);\r\n  }\r\n);\r\n\r\nexport const getSelectedGameObject = createSelector(\r\n  oniSave,\r\n  getSelectedGameObjectPath,\r\n  (oniSave, path) => {\r\n    if (!oniSave || !path) {\r\n      return null;\r\n    }\r\n\r\n    return get(oniSave, path) as GameObject;\r\n  }\r\n);\r\n\r\nexport const getSelectedGameObjectScale = createSelector(\r\n  getSelectedGameObject,\r\n  gameObject => {\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n    return gameObject.scale;\r\n  }\r\n);\r\n\r\nexport default getSelectedGameObject;\r\n","import { createSelector } from \"reselect\";\r\n\r\nimport { getSaveItemEditValue } from \"@/services/save-structure\";\r\n\r\nimport selectedPath from \"./selected-path\";\r\nimport oniSave from \"./oni-save\";\r\n\r\nconst selectedValueSelector = createSelector(\r\n  oniSave,\r\n  selectedPath,\r\n  (saveGame, selectedPath) => {\r\n    if (!saveGame) {\r\n      return null;\r\n    }\r\n\r\n    if (selectedPath.length === 0) {\r\n      return saveGame;\r\n    }\r\n\r\n    return getSaveItemEditValue(selectedPath, saveGame);\r\n  }\r\n);\r\nexport default selectedValueSelector;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Input from \"@/components/Input\";\r\n\r\nexport interface CheckInputProps {\r\n  value: boolean;\r\n  onCommit(value: boolean): void;\r\n}\r\n\r\ntype Props = CheckInputProps;\r\nexport default class CheckInput extends React.Component<Props> {\r\n  render() {\r\n    const { value } = this.props;\r\n    return (\r\n      <Input type=\"checkbox\" checked={value} onChange={this._onValueChange} />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const { onCommit } = this.props;\r\n    const value = e.target.checked;\r\n    onCommit(value);\r\n  }\r\n}\r\n","interface ConstrainedArrayConstructor {\r\n  new (length: number): {\r\n    [value: number]: number;\r\n  };\r\n}\r\n\r\nfunction createClamp(\r\n  type: ConstrainedArrayConstructor\r\n): (value: number) => number {\r\n  const clampArray = new type(1);\r\n  return (value: number) => {\r\n    clampArray[0] = value;\r\n    return clampArray[0];\r\n  };\r\n}\r\n\r\nexport type NumberPrecision =\r\n  | \"int8\"\r\n  | \"uint8\"\r\n  | \"int16\"\r\n  | \"uint16\"\r\n  | \"int32\"\r\n  | \"uint32\"\r\n  | \"single\"\r\n  | \"double\";\r\n\r\nexport const clampInt8 = createClamp(Int8Array);\r\nexport const clampUInt8 = createClamp(Uint8Array);\r\n\r\nexport const clampInt16 = createClamp(Int16Array);\r\nexport const clampUInt16 = createClamp(Uint16Array);\r\n\r\nexport const clampInt32 = createClamp(Int32Array);\r\nexport const clampUInt32 = createClamp(Uint32Array);\r\n\r\nexport const clampSingle = createClamp(Float32Array);\r\nexport const clampDouble = createClamp(Float64Array);\r\n\r\nconst CLAMPS_BY_PRECISION: Record<\r\n  NumberPrecision,\r\n  (value: number) => number\r\n> = {\r\n  int8: clampInt8,\r\n  uint8: clampUInt8,\r\n  int16: clampInt16,\r\n  uint16: clampUInt16,\r\n  int32: clampInt32,\r\n  uint32: clampUInt32,\r\n  single: clampSingle,\r\n  double: clampDouble\r\n};\r\n\r\nexport function clamp(precision: NumberPrecision, value: number): number {\r\n  const clamper = CLAMPS_BY_PRECISION[precision];\r\n  if (!clamper) {\r\n    throw new Error(`Unknown precision \"${precision}\".`);\r\n  }\r\n\r\n  return clamper(value);\r\n}\r\n\r\nexport function isFloatingPoint(\r\n  precision: NumberPrecision\r\n): precision is \"single\" | \"double\" {\r\n  return precision === \"single\" || precision === \"double\";\r\n}\r\n\r\nexport function compare(a: number, b: number) {\r\n  if (a > b) return -1;\r\n  if (a < b) return 1;\r\n  return 0;\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport EditorHeader from \"./EditorHeader\";\r\n\r\nexport interface EditorContainerProps {\r\n  header: React.ReactNode;\r\n}\r\nconst EditorContainer: React.SFC<EditorContainerProps> = ({\r\n  header,\r\n  children\r\n}) => (\r\n  <Flex direction=\"column\" width=\"100%\" height=\"100%\">\r\n    <EditorHeader>{header}</EditorHeader>\r\n    <Flex.Item fillParent constrain=\"column\">\r\n      {children}\r\n    </Flex.Item>\r\n  </Flex>\r\n);\r\nEditorContainer.displayName = \"EditorContainer\";\r\nexport default EditorContainer;\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Intent } from \"../intent\";\r\n\r\nimport { Color, getThemeColor } from \"../theme\";\r\n\r\nexport interface IntentColorProps {\r\n  intent?: Intent;\r\n}\r\n\r\nconst intentColorOf = (intent: Intent) => css`\r\n  color: ${getThemeColor(Color.fromIntent(intent))};\r\n`;\r\n\r\nconst intentColorFromProps = css<IntentColorProps>`\r\n  ${props => intentColorOf(props.intent || Intent.Default)};\r\n`;\r\n\r\nexport const intentColor = attachProps(intentColorFromProps, {\r\n  of: intentColorOf\r\n});\r\n","export const ACTION_ONISAVE_MODIFY = \"oni-save/modify\";\r\nexport const modifyOniSave = (path: string[], value: any) => ({\r\n  type: ACTION_ONISAVE_MODIFY as typeof ACTION_ONISAVE_MODIFY,\r\n  payload: { path, value }\r\n});\r\nexport type ModifyOniSaveAction = ReturnType<typeof modifyOniSave>;\r\n","export const ACTION_ONISAVE_PARSE_PROGRESS = \"onisave/parse-progress\";\r\nexport const parseProgress = (message: string) => ({\r\n  type: ACTION_ONISAVE_PARSE_PROGRESS as typeof ACTION_ONISAVE_PARSE_PROGRESS,\r\n  payload: { message }\r\n});\r\nexport type ParseProgressAction = ReturnType<typeof parseProgress>;\r\n","export const ACTION_SELECT_PATH = \"editor/select-path\";\r\nexport const selectPath = (path: string[]) => ({\r\n  type: ACTION_SELECT_PATH as typeof ACTION_SELECT_PATH,\r\n  payload: path\r\n});\r\nexport type SelectPathAction = ReturnType<typeof selectPath>;\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nimport gameObjectsStructure from \"./gameObjects\";\r\nimport { SaveStructureDef } from \"./types\";\r\n\r\n// The default 'any' makes this useful for variables, but useless for asignment.\r\n//  This is because type 'any' includes all fields, and overrides our selective\r\n//  exclusion of $-prefix fields\r\nconst defaultAdvancedField: SaveStructureDef<{}> = { $advanced: true };\r\n\r\nconst saveStructure: SaveStructureDef<SaveGame> = {\r\n  $editor: \"save-root\",\r\n  $uiPathName: (obj: SaveGame) => obj.header.gameInfo.baseName || \"Save Game\",\r\n\r\n  /**\r\n   * Version info and precalculated values.\r\n   * Changing this stuff can confuse the game or display bad data\r\n   * for the loading screen.\r\n   */\r\n  header: defaultAdvancedField,\r\n\r\n  /**\r\n   * Data templates for the rest of the save.  Changing anything in here\r\n   * is guarenteed to result in a corrupt save.\r\n   */\r\n  templates: defaultAdvancedField,\r\n\r\n  /**\r\n   * World width and height, and opaque engine data we do not understand.\r\n   * Contents of the worldmap and state of the fluid/gas/electrical networks\r\n   * live in here.\r\n   */\r\n  world: defaultAdvancedField,\r\n\r\n  /**\r\n   * Settings for the master game object handler.\r\n   * None of these are related to user-settings, and changing them\r\n   * will most likely result in an immediately or eventually corrupt save.\r\n   */\r\n  settings: defaultAdvancedField,\r\n\r\n  /**\r\n   * Game version info.  Should mirror the same data\r\n   * stored in header.\r\n   * Should never be touched, as ONI makes decisions on how to load the file\r\n   * based on this.\r\n   */\r\n  version: defaultAdvancedField,\r\n\r\n  /**\r\n   * Game objects.  These are the interesting bits\r\n   */\r\n  gameObjects: gameObjectsStructure,\r\n\r\n  /**\r\n   * Another blob of generalized non-object-specific game data\r\n   */\r\n  gameData: {\r\n    $editor: \"template-object\",\r\n    $editorProps() {\r\n      return {\r\n        templateName: \"Game+GameSaveData\"\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Presumably tracks the flow of material through the gas conduits.\r\n     * I am reasonably sure this also ties into native game data,\r\n     * and changing this will probably get the engine into an\r\n     * inconsistant state.\r\n     */\r\n    gasConduitFlow: defaultAdvancedField,\r\n\r\n    /**\r\n     * Presumably tracks the flow of material through the loquid conduits.\r\n     * I am reasonably sure this also ties into native game data,\r\n     * and changing this will probably get the engine into an\r\n     * inconsistant state.\r\n     */\r\n    liquidConduitFlow: defaultAdvancedField,\r\n\r\n    /**\r\n     * Probably deals with limiting the area of the map that the game is running logic for.\r\n     */\r\n    simActiveRegionMin: defaultAdvancedField,\r\n\r\n    /**\r\n     * Probably deals with limiting the area of the map that the game is running logic for.\r\n     */\r\n    simActiveRegionMax: defaultAdvancedField,\r\n\r\n    fallingWater: defaultAdvancedField,\r\n\r\n    unstableGround: defaultAdvancedField,\r\n\r\n    /**\r\n     * While this does contain (multiple) worldgen seeds,\r\n     *  all seeds are the same and reflect the definitivie chosen seed in customGameSettings.\r\n     * It also has a bunch of polygons indicating regions of the overworld.  Not sure what it represents,\r\n     *  might be biome regions.\r\n     */\r\n    worldDetail: defaultAdvancedField,\r\n\r\n    customGameSettings: defaultAdvancedField\r\n  }\r\n};\r\nexport default saveStructure;\r\n","import { isObject } from \"lodash-es\";\r\nimport { GameObjectBehavior, GameObjectGroup } from \"oni-save-parser\";\r\n\r\nexport function gameObjectIs(type: string): (obj: GameObjectGroup) => boolean {\r\n  return obj => isObject(obj) && obj.name === type;\r\n}\r\n\r\nexport function behaviorIs(type: string): (obj: GameObjectBehavior) => boolean {\r\n  return obj => isObject(obj) && obj.name === type;\r\n}\r\n","import { GameObjectBehavior, SaveGame } from \"oni-save-parser\";\r\n\r\nimport { get, forEach, isObject } from \"lodash-es\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\n\r\nconst defaultTemplateDataObj: SaveStructureDef<{}> = {\r\n  $editor: \"template-object\",\r\n  $uiPathName: false,\r\n\r\n  $uiChildren(value: any) {\r\n    let keys = (isObject(value) && Object.keys(value)) || [];\r\n    keys = keys.filter(x => isObject(value[x]));\r\n    if (keys.length === 0) {\r\n      return false;\r\n    }\r\n    return keys.map(x => [x]);\r\n  },\r\n\r\n  $editorProps(_: any, path: string[], saveGame: SaveGame) {\r\n    // 'gameObjects', '1', 'gameObjects', '6', 'behaviors', '4'\r\n    // 6 items deep\r\n    const behavior = get(saveGame, path.slice(0, 6));\r\n    const templatePath = path.slice(7);\r\n    if (!behavior) {\r\n      return {};\r\n    }\r\n    return {\r\n      templateName: behavior.name,\r\n      templatePath,\r\n      valuePathHack: path\r\n    };\r\n  }\r\n};\r\ndefaultTemplateDataObj[\"*\"] = defaultTemplateDataObj;\r\n\r\nexport const defaultBehavior: SaveStructureDef<GameObjectBehavior> = {\r\n  $uiPathName(behavior: GameObjectBehavior) {\r\n    return behavior.name;\r\n  },\r\n\r\n  $uiChildren(behavior: GameObjectBehavior) {\r\n    const children: string[][] = [];\r\n    if (\r\n      behavior.templateData &&\r\n      Object.keys(behavior.templateData).length > 0\r\n    ) {\r\n      forEach(behavior.templateData, (_, key) => {\r\n        if (isObject(behavior.templateData[key])) {\r\n          children.push([\"templateData\", key]);\r\n        }\r\n      });\r\n    }\r\n    if (behavior.extraData) {\r\n      children.push([\"extraData\"]);\r\n    }\r\n    return children.length > 0 ? children : false;\r\n  },\r\n\r\n  $advanced(behavior: GameObjectBehavior) {\r\n    return true;\r\n  },\r\n\r\n  $editor: \"template-object\",\r\n  $editorProps(_: any, path: string[], saveGame: SaveGame) {\r\n    // 'gameObjects', '1', 'gameObjects', '6', 'behaviors', '4'\r\n    // 6 items deep\r\n    const behavior = get(saveGame, path);\r\n    if (!behavior) {\r\n      return {};\r\n    }\r\n    return {\r\n      templateName: behavior.name,\r\n      templatePath: [],\r\n      valuePathHack: [...path, \"templateData\"]\r\n    };\r\n  },\r\n\r\n  templateData: {\r\n    $uiPathName: false,\r\n\r\n    \"*\": defaultTemplateDataObj\r\n\r\n    // TODO: Handle '*' with an object that gets the template editor\r\n    //  set up with the correct template path, and references itself\r\n    //  for its own '*' recursively.\r\n  } as SaveStructureDef<{}>\r\n};\r\n","import * as React from \"react\";\r\n\r\nimport { TypeInfo, SerializationTypeCode, getTypeCode } from \"oni-save-parser\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport ArrayLikeField from \"./ArrayLikeField\";\r\nimport CheckField from \"./CheckField\";\r\nimport ColorField from \"./ColorField\";\r\nimport DictionaryField from \"./DictionaryField\";\r\nimport EnumerationField from \"./EnumerationField\";\r\nimport NumericField from \"./NumericField\";\r\nimport TextField from \"./TextField\";\r\nimport Vector2Field from \"./Vector2Field\";\r\nimport Vector2IField from \"./Vector2IField\";\r\nimport Vector3Field from \"./Vector3Field\";\r\n\r\nexport default function getFieldElementClass(\r\n  typeInfo: TypeInfo,\r\n  short?: boolean\r\n): React.ComponentType<EditorFieldProps> {\r\n  const code = getTypeCode(typeInfo.info);\r\n  switch (code) {\r\n    case SerializationTypeCode.Array:\r\n      return (props: EditorFieldProps) =>\r\n        short ? (\r\n          <SaveStructureLink intent={Intent.Primary} path={props.path}>\r\n            [Edit Array]\r\n          </SaveStructureLink>\r\n        ) : (\r\n          <ArrayLikeField {...props} subType={typeInfo.subTypes![0]} />\r\n        );\r\n    case SerializationTypeCode.Boolean:\r\n      return (props: EditorFieldProps) => <CheckField {...props} />;\r\n    case SerializationTypeCode.Byte:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} minValue={0} maxValue={0xff} />\r\n      );\r\n    case SerializationTypeCode.Colour:\r\n      return (props: EditorFieldProps) => <ColorField {...props} />;\r\n    case SerializationTypeCode.Dictionary:\r\n      return (props: EditorFieldProps) =>\r\n        short ? (\r\n          <SaveStructureLink intent={Intent.Primary} path={props.path}>\r\n            [Edit Dictionary]\r\n          </SaveStructureLink>\r\n        ) : (\r\n          <DictionaryField subType={typeInfo.subTypes![1]} {...props} />\r\n        );\r\n    case SerializationTypeCode.Double:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"double\" />\r\n      );\r\n    case SerializationTypeCode.Enumeration:\r\n      return (props: EditorFieldProps) => (\r\n        <EnumerationField {...props} enumerationName={typeInfo.templateName!} />\r\n      );\r\n    case SerializationTypeCode.HashSet:\r\n      return (props: EditorFieldProps) =>\r\n        short ? (\r\n          <SaveStructureLink intent={Intent.Primary} path={props.path}>\r\n            [Edit HashSet]\r\n          </SaveStructureLink>\r\n        ) : (\r\n          <ArrayLikeField {...props} subType={typeInfo.subTypes![0]} />\r\n        );\r\n    case SerializationTypeCode.Int16:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"int16\" />\r\n      );\r\n    case SerializationTypeCode.Int32:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"int32\" />\r\n      );\r\n    case SerializationTypeCode.Int64:\r\n      return () => <Text intent={Intent.Dangerous}>TODO Int64</Text>;\r\n    case SerializationTypeCode.List:\r\n      return (props: EditorFieldProps) =>\r\n        short ? (\r\n          <SaveStructureLink intent={Intent.Primary} path={props.path}>\r\n            [Edit Array]\r\n          </SaveStructureLink>\r\n        ) : (\r\n          <ArrayLikeField {...props} subType={typeInfo.subTypes![0]} />\r\n        );\r\n    case SerializationTypeCode.Pair:\r\n      return () => <Text intent={Intent.Dangerous}>TODO Pair</Text>;\r\n    case SerializationTypeCode.SByte:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} minValue={-128} maxValue={127} />\r\n      );\r\n    case SerializationTypeCode.Queue:\r\n      return (props: EditorFieldProps) => (\r\n        <ArrayLikeField {...props} subType={typeInfo.subTypes![0]} />\r\n      );\r\n    case SerializationTypeCode.Single:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"single\" />\r\n      );\r\n    case SerializationTypeCode.String:\r\n      return (props: EditorFieldProps) => <TextField {...props} />;\r\n    case SerializationTypeCode.UInt16:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"uint16\" />\r\n      );\r\n    case SerializationTypeCode.UInt32:\r\n      return (props: EditorFieldProps) => (\r\n        <NumericField {...props} precision=\"uint32\" />\r\n      );\r\n    case SerializationTypeCode.UInt64:\r\n      return () => <Text intent={Intent.Dangerous}>TODO UInt64</Text>;\r\n    case SerializationTypeCode.UserDefined:\r\n      return (props: EditorFieldProps) => (\r\n        <SaveStructureLink intent={Intent.Primary} path={props.path}>\r\n          [{typeInfo.templateName || \"Edit Object\"}]\r\n        </SaveStructureLink>\r\n      );\r\n    case SerializationTypeCode.Vector2:\r\n      return Vector2Field;\r\n    case SerializationTypeCode.Vector2I:\r\n      return Vector2IField;\r\n    case SerializationTypeCode.Vector3:\r\n      return Vector3Field;\r\n    default:\r\n      return handleUnknownType(code);\r\n  }\r\n}\r\n\r\nfunction handleUnknownType(type: never): never {\r\n  throw new Error(`Type code \"${type}\" is unknown.`);\r\n}\r\n","const Keys = {\r\n  Enter: \"Enter\",\r\n  Esc: \"Escape\"\r\n};\r\n\r\nexport default Keys;\r\n","import EditModeCondition from \"./EditModeCondition\";\r\nexport default EditModeCondition;\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { ThemeProps } from \"../styled\";\r\n\r\nexport const enum Border {\r\n  None,\r\n  Normal,\r\n  Thick\r\n}\r\n\r\nexport const borders = [0, \"1px solid\", \"2px solid\"];\r\n\r\nexport function getThemeBorder(border: Border): (props: ThemeProps) => string {\r\n  return themeGet(\"borders.\" + border, \"borders.\" + Border.Normal);\r\n}\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { Intent } from \"../intent\";\r\nimport { ThemeProps } from \"../styled\";\r\n\r\nconst intentColors: Record<Intent, string> = {\r\n  default: \"#86BBD8\",\r\n  primary: \"#FFB238\",\r\n  secondary: \"#658E27\",\r\n  dangerous: \"#F34213\",\r\n  hint: \"#86BBD8\"\r\n};\r\n\r\nconst intentContrastColors: Record<Intent, string> = {\r\n  default: \"black\",\r\n  primary: \"black\",\r\n  secondary: \"black\",\r\n  dangerous: \"white\",\r\n  hint: \"black\"\r\n};\r\n\r\nconst backgroundColors = {\r\n  default: \"#313a57\", //\"#3A435E\",\r\n  navbar: \"#355d95\", //\"#313E50\",\r\n  panel: \"#36444f\" //\"#455561\",\r\n};\r\n\r\nexport enum Color {\r\n  DefaultIntent = \"intent.default\",\r\n  PrimaryIntent = \"intent.primary\",\r\n  SecondaryIntent = \"intent.secondary\",\r\n  DangerousIntent = \"intent.dangerous\",\r\n  HintIntent = \"intent.hint\",\r\n\r\n  DefaultIntentContrast = \"intent.contrast.default\",\r\n  PrimaryIntentContrast = \"intent.contrast.primary\",\r\n  SecondaryIntentContrast = \"intent.contrast.secondary\",\r\n  DangerousIntentContrast = \"intent.contrast.dangerous\",\r\n  HintIntentContrast = \"intent.contrast.hint\",\r\n\r\n  DefaultBackground = \"bg.default\",\r\n  NavbarBackground = \"bg.navbar\",\r\n  PanelBackground = \"bg.panel\",\r\n\r\n  DefaultSeparator = \"separator\"\r\n}\r\nexport namespace Color {\r\n  export function fromIntent(intent: Intent, contrast?: boolean) {\r\n    switch (intent) {\r\n      default:\r\n        return contrast ? Color.DefaultIntentContrast : Color.DefaultIntent;\r\n      case Intent.Primary:\r\n        return contrast ? Color.PrimaryIntentContrast : Color.PrimaryIntent;\r\n      case Intent.Secondary:\r\n        return contrast ? Color.SecondaryIntentContrast : Color.SecondaryIntent;\r\n      case Intent.Dangerous:\r\n        return contrast ? Color.DangerousIntentContrast : Color.DangerousIntent;\r\n      case Intent.Hint:\r\n        return contrast ? Color.HintIntentContrast : Color.HintIntent;\r\n    }\r\n  }\r\n}\r\n\r\nexport const colors = {\r\n  intent: {\r\n    ...intentColors,\r\n    contrast: intentContrastColors\r\n  },\r\n  bg: backgroundColors,\r\n\r\n  separator: \"#6C6F7F\"\r\n};\r\n\r\nexport function getThemeColor(color: Color): (props: ThemeProps) => string {\r\n  return themeGet(\"colors.\" + color, \"colors.\" + Color.DefaultIntent);\r\n}\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { ThemeProps } from \"../styled\";\r\n\r\nexport const enum Radius {\r\n  None = 0,\r\n\r\n  Small = 1,\r\n  Button = 1,\r\n\r\n  Medium = 2,\r\n  Large = 3\r\n}\r\n\r\nexport const radii = [0, 2, 4, 8];\r\n\r\nexport function getThemeRadius(radius: Radius): (props: ThemeProps) => string {\r\n  return themeGet(\"radii.\" + radius, \"radii.\" + Radius.None);\r\n}\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { ThemeProps } from \"../styled\";\r\n\r\nexport const enum Space {\r\n  None,\r\n  Small,\r\n  Medium,\r\n  Large\r\n}\r\n\r\nexport const space = [0, 4, 8, 12];\r\n\r\nexport function getThemeSpace(space: Space): (props: ThemeProps) => string {\r\n  return themeGet(\"space.\" + space, \"space.\" + Space.None);\r\n}\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Intent } from \"../intent\";\r\n\r\nimport { Color, getThemeColor } from \"../theme\";\r\n\r\nexport interface IntentFillProps {\r\n  intent?: Intent;\r\n}\r\n\r\nconst intentFillOf = (intent: Intent) => css`\r\n  color: ${getThemeColor(Color.fromIntent(intent, true))};\r\n  background-color: ${getThemeColor(Color.fromIntent(intent))};\r\n`;\r\n\r\nconst intentFillFromProps = css<IntentFillProps>`\r\n  ${props => (props.intent ? intentFillOf(props.intent) : undefined)};\r\n`;\r\n\r\nexport const intentFill = attachProps(intentFillFromProps, {\r\n  of: intentFillOf\r\n});\r\n","import * as CSS from \"csstype\";\r\n\r\nimport {\r\n  FontSizeProps,\r\n  FontWeightProps,\r\n  fontSize,\r\n  fontWeight,\r\n  style\r\n} from \"styled-system\";\r\n\r\nimport { css } from \"../styled\";\r\n\r\nimport { IntentColorProps, intentColor } from \"./intent-color\";\r\n\r\nexport interface WordWrapProps {\r\n  wordWrap?: CSS.WordWrapProperty;\r\n}\r\nexport const wordWrap = style({\r\n  prop: \"wordWrap\",\r\n  cssProperty: \"word-wrap\"\r\n});\r\n\r\nexport interface WordBreakProps {\r\n  wordBreak?: CSS.WordBreakProperty;\r\n}\r\nexport const wordBreak = style({\r\n  prop: \"wordBreak\",\r\n  cssProperty: \"word-break\"\r\n});\r\n\r\nexport interface WhitespaceProps {\r\n  whiteSpace?: CSS.WhiteSpaceProperty;\r\n}\r\nexport const whiteSpace = style({\r\n  prop: \"whiteSpace\",\r\n  cssProperty: \"white-space\"\r\n});\r\n\r\nexport type TextProps = IntentColorProps &\r\n  FontSizeProps &\r\n  FontWeightProps &\r\n  WordWrapProps &\r\n  WordBreakProps &\r\n  WhitespaceProps;\r\n\r\nexport const text = css<TextProps>`\r\n  ${intentColor};\r\n  ${fontSize};\r\n  ${fontWeight};\r\n  ${wordWrap};\r\n  ${wordBreak};\r\n  ${whiteSpace};\r\n`;\r\n","import { Action } from \"redux\";\r\nimport { GameObjectBehavior, BehaviorName } from \"oni-save-parser\";\r\n\r\nexport const ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM =\r\n  \"oni-save/current-object/behaviors/modify-array/insert-item\";\r\nexport function insertCurrentObjectBehaviorArrayValue<\r\n  T extends GameObjectBehavior\r\n>(behaviorName: BehaviorName<T>, path: string[], value: any, index?: number) {\r\n  return {\r\n    type: ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM as typeof ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM,\r\n    payload: { behaviorName, path, value, index }\r\n  };\r\n}\r\nexport type InsertCurrentObjectBehaviorArrayValueAction = ReturnType<\r\n  typeof insertCurrentObjectBehaviorArrayValue\r\n>;\r\n\r\nexport const ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM =\r\n  \"oni-save/current-object/behaviors/modify-array/remove-item\";\r\nexport function removeCurrentObjectBehaviorArrayValue<\r\n  T extends GameObjectBehavior\r\n>(behaviorName: BehaviorName<T>, path: string[], value: any) {\r\n  return {\r\n    type: ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM as typeof ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM,\r\n    payload: { behaviorName, path, value }\r\n  };\r\n}\r\nexport type RemoveCurrentObjectBehaviorArrayValueAction<\r\n  T extends GameObjectBehavior = GameObjectBehavior\r\n> = ReturnType<typeof removeCurrentObjectBehaviorArrayValue>;\r\n\r\nexport const ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX =\r\n  \"oni-save/current-object/behaviors/modify-array/remove-index\";\r\nexport function removeCurrentObjectBehaviorArrayIndex<\r\n  T extends GameObjectBehavior\r\n>(behaviorName: BehaviorName<T>, path: string[], index: number) {\r\n  return {\r\n    type: ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX as typeof ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX,\r\n    payload: { behaviorName, path, index }\r\n  };\r\n}\r\nexport type RemoveCurrentObjectBehaviorArrayValueIndex<\r\n  T extends GameObjectBehavior = GameObjectBehavior\r\n> = ReturnType<typeof removeCurrentObjectBehaviorArrayIndex>;\r\n\r\nexport type CurrentObjectBehaviorArrayAction =\r\n  | InsertCurrentObjectBehaviorArrayValueAction\r\n  | RemoveCurrentObjectBehaviorArrayValueAction\r\n  | RemoveCurrentObjectBehaviorArrayValueIndex;\r\n\r\nexport function isCurrentObjectBehaviorArrayAction(\r\n  action: Action\r\n): action is CurrentObjectBehaviorArrayAction {\r\n  switch (action.type) {\r\n    case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM:\r\n    case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM:\r\n    case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX:\r\n      return true;\r\n    default:\r\n      return false;\r\n  }\r\n}\r\n","import produce from \"immer\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { GameObject } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObjectPath } from \"@/selectors/game-object\";\r\n\r\nexport function produceFromGameObject(\r\n  state: AppState,\r\n  producer: (gameObject: GameObject) => void\r\n): AppState {\r\n  if (state.loadingState !== \"ready\") {\r\n    return state;\r\n  }\r\n\r\n  const path = getSelectedGameObjectPath(state);\r\n  if (!path) {\r\n    return state;\r\n  }\r\n\r\n  return produce(state, state => {\r\n    const gameObject: GameObject = get(state.oniSave, path);\r\n    if (!gameObject) {\r\n      return;\r\n    }\r\n\r\n    return producer(gameObject);\r\n  });\r\n}\r\n","import { AccessoryType } from \"oni-save-parser\";\r\n\r\nexport const ACTION_SET_ACCESSORY = \"behaviors/accessorizer/set-accessory\";\r\nexport const setAccessory = (\r\n  accessoryType: AccessoryType,\r\n  accessoryName: string | null\r\n) => ({\r\n  type: ACTION_SET_ACCESSORY as typeof ACTION_SET_ACCESSORY,\r\n  payload: { accessoryType, accessoryName }\r\n});\r\nexport type SetAccessoryAction = ReturnType<typeof setAccessory>;\r\n","import { HashedString } from \"oni-save-parser\";\r\n\r\nexport const ACTION_PRIMARY_ELEMENT_SET_DISEASE =\r\n  \"oni-save/behaviors/primary-element/set-disease\";\r\nexport const setPrimaryElementDisease = (\r\n  diseaseId: HashedString,\r\n  diseaseCount: number\r\n) => ({\r\n  type: ACTION_PRIMARY_ELEMENT_SET_DISEASE as typeof ACTION_PRIMARY_ELEMENT_SET_DISEASE,\r\n  payload: { diseaseId, diseaseCount }\r\n});\r\nexport type SetPrimaryElementDiseaseAction = ReturnType<\r\n  typeof setPrimaryElementDisease\r\n>;\r\n","import { HealthState } from \"oni-save-parser\";\r\n\r\nexport const ACTION_HEALTH_SET_STATE = \"oni-save/behaviors/health/set-state\";\r\nexport const setHealthStatus = (state: HealthState) => ({\r\n  type: ACTION_HEALTH_SET_STATE as typeof ACTION_HEALTH_SET_STATE,\r\n  payload: state\r\n});\r\nexport type SetHealthStateAction = ReturnType<typeof setHealthStatus>;\r\n","import { MinionGender } from \"oni-save-parser\";\r\n\r\nexport const ACTION_MINION_IDENTITY_SET_GENDER =\r\n  \"oni-save/behaviors/minion-identity/set-gender\";\r\nexport const setIdentityGender = (gender: MinionGender) => ({\r\n  type: ACTION_MINION_IDENTITY_SET_GENDER as typeof ACTION_MINION_IDENTITY_SET_GENDER,\r\n  payload: gender\r\n});\r\nexport type SetMinionIdentityGenderAction = ReturnType<\r\n  typeof setIdentityGender\r\n>;\r\n","export const ACTION_MINION_MODIFIER_SET_VALUE =\r\n  \"oni-save/behaviors/minion-modifier/set-value\";\r\nexport const setModifierValue = (amountType: string, value: number) => ({\r\n  type: ACTION_MINION_MODIFIER_SET_VALUE as typeof ACTION_MINION_MODIFIER_SET_VALUE,\r\n  payload: { amountType, value }\r\n});\r\nexport type SetMinionModifierValueAction = ReturnType<typeof setModifierValue>;\r\n","export const ACTION_TRAITS_SET = \"oni-save/behaviors/ai-traits/set-trait\";\r\nexport const setTrait = (traitId: string, isSet: boolean) => ({\r\n  type: ACTION_TRAITS_SET as typeof ACTION_TRAITS_SET,\r\n  payload: { traitId, isSet }\r\n});\r\nexport type SetTraitAction = ReturnType<typeof setTrait>;\r\n","import { Vector3 } from \"oni-save-parser\";\r\n\r\nexport const ACTION_GAME_OBJECT_SET_SCALE = \"game-object/set-scale\";\r\nexport const setGameObjectScale = (scale: Vector3) => ({\r\n  type: ACTION_GAME_OBJECT_SET_SCALE as typeof ACTION_GAME_OBJECT_SET_SCALE,\r\n  payload: scale\r\n});\r\nexport type SetGameObjectScaleAction = ReturnType<typeof setGameObjectScale>;\r\n","export const ACTION_DISMISS_ERROR = \"dismiss-error\";\r\nexport const dismissError = () => ({\r\n  type: ACTION_DISMISS_ERROR as typeof ACTION_DISMISS_ERROR\r\n});\r\nexport type DismissErrorAction = ReturnType<typeof dismissError>;\r\n","import { EditMode } from \"@/services/save-structure\";\r\n\r\nexport const ACTION_SET_EDITMODE = \"editor/set-editmode\";\r\nexport const setEditMode = (editMode: EditMode) => ({\r\n  type: ACTION_SET_EDITMODE as typeof ACTION_SET_EDITMODE,\r\n  payload: editMode\r\n});\r\nexport type SetEditModeAction = ReturnType<typeof setEditMode>;\r\n","export const ACTION_ONISAVE_LOAD = \"oni-save/load\";\r\nexport const loadOniSave = (file: File) => ({\r\n  type: ACTION_ONISAVE_LOAD as typeof ACTION_ONISAVE_LOAD,\r\n  payload: file\r\n});\r\nexport type LoadOniSaveAction = ReturnType<typeof loadOniSave>;\r\n","export * from \"./worker-instance\";\r\n","export const ACTION_ONISAVE_SAVE = \"oni-save/save\";\r\nexport const saveOniSave = (fileName: string) => ({\r\n  type: ACTION_ONISAVE_SAVE as typeof ACTION_ONISAVE_SAVE,\r\n  payload: fileName\r\n});\r\nexport type SaveOniSaveAction = ReturnType<typeof saveOniSave>;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst loadingStateSelector = (state: AppState) => state.loadingState;\r\nexport default loadingStateSelector;\r\n","import * as React from \"react\";\r\n\r\nimport styled, {\r\n  Space,\r\n  FontSize,\r\n  Radius,\r\n  getThemeRadius,\r\n  getThemeSpace\r\n} from \"@/style\";\r\n\r\nimport { Intent, getTheme, intentFill } from \"@/style\";\r\n\r\nexport interface ButtonProps {\r\n  intent?: Intent;\r\n  onClick?(e: React.MouseEvent<HTMLDivElement>): void;\r\n}\r\n\r\nconst Button = styled<ButtonProps, \"button\">(\"button\")`\r\n  ${intentFill};\r\n  border: none;\r\n  border-radius: ${getThemeRadius(Radius.Button)}px;\r\n  margin: ${getThemeSpace(Space.Small)}px;\r\n  font-size: ${props => getTheme(props).fontSizes[FontSize.Button]}px;\r\n`;\r\nButton.displayName = \"Button\";\r\nButton.defaultProps = {\r\n  intent: Intent.Default\r\n};\r\n\r\nexport default Button;\r\n","import { GameObject, KPrefabIDBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\n\r\nimport behavior from \"../behaviors\";\r\n\r\nexport const defaultGameObject: SaveStructureDef<GameObject> = {\r\n  $uiPathName(obj: GameObject) {\r\n    const idBehavior = getBehavior(obj, KPrefabIDBehavior);\r\n    const id =\r\n      (idBehavior &&\r\n        idBehavior.templateData &&\r\n        idBehavior.templateData.InstanceID) ||\r\n      \"[malformed]\";\r\n    const pos = `(${obj.position.x.toFixed(0)}, ${obj.position.y.toFixed(0)})`;\r\n    return `#${id} ${pos}`;\r\n  },\r\n\r\n  $uiChildren(gameObject: GameObject) {\r\n    const { behaviors } = gameObject;\r\n    if (!behaviors) {\r\n      return [];\r\n    }\r\n\r\n    return behaviors.map((_, i) => [\"behaviors\", `${i}`]);\r\n  },\r\n\r\n  $editor: \"game-object-default\",\r\n\r\n  behaviors: {\r\n    $uiPathName: false,\r\n    \"*\": behavior\r\n  }\r\n};\r\n","import Portrait from \"./Portrait\";\r\nexport default Portrait;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport styled from \"@/style\";\r\n\r\nimport { InputStyleProps, inputStyle } from \"@/components/Input\";\r\n\r\nconst SelectElement = styled<InputStyleProps, \"select\">(\"select\")`\r\n  ${inputStyle};\r\n`;\r\n\r\nexport interface Option<T extends string | number = string | number> {\r\n  label?: string;\r\n  value: T;\r\n}\r\nexport interface SelectProps<T extends string | number = string | number>\r\n  extends InputStyleProps {\r\n  options: Option<T>[];\r\n  value: T;\r\n  onChange(value: T): void;\r\n}\r\n\r\nexport default class Select extends React.Component<SelectProps> {\r\n  render() {\r\n    const { options, value, children, onChange, ...rest } = this.props;\r\n    return (\r\n      <SelectElement {...rest} value={value} onChange={this._onChange}>\r\n        {options.map(x => (\r\n          <option key={x.value} value={x.value}>\r\n            {x.label}\r\n          </option>\r\n        ))}\r\n      </SelectElement>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onChange(e: React.ChangeEvent<HTMLSelectElement>) {\r\n    const { onChange } = this.props;\r\n    const value = e.target.value;\r\n    onChange(value);\r\n  }\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Keys from \"@/keys\";\r\n\r\nimport Input from \"@/components/Input\";\r\n\r\nexport interface TextInputProps {\r\n  value: string;\r\n  minLength?: number;\r\n  maxLength?: number;\r\n  onCommit(value: string): void;\r\n}\r\n\r\ntype Props = TextInputProps;\r\ninterface State {\r\n  editValue: string | null;\r\n  isValid: boolean;\r\n}\r\nexport default class TextInput extends React.Component<Props, State> {\r\n  private _inputRef = React.createRef<HTMLInputElement>();\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      editValue: null,\r\n      isValid: true\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { value, minLength, maxLength } = this.props;\r\n    const { editValue } = this.state;\r\n\r\n    const currentValue = editValue != null ? editValue : value;\r\n\r\n    return (\r\n      <Input\r\n        innerRef={this._inputRef}\r\n        type=\"text\"\r\n        minLength={minLength}\r\n        maxLength={maxLength}\r\n        value={currentValue}\r\n        onChange={this._onValueChange}\r\n        onKeyPress={this._onInputKeyPress}\r\n        onBlur={this._onInputBlur}\r\n      />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const value = e.target.value;\r\n    this._setEditValue(value);\r\n  }\r\n\r\n  @autobind()\r\n  private _onInputKeyPress(e: React.KeyboardEvent<HTMLInputElement>) {\r\n    if (e.key === Keys.Enter) {\r\n      this._commitEdit();\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onInputBlur() {\r\n    this._commitEdit();\r\n  }\r\n\r\n  private _setEditValue(value: string) {\r\n    const validation = this._validate(value);\r\n    const isValid = !validation;\r\n\r\n    if (this._inputRef.current) {\r\n      this._inputRef.current.setCustomValidity(validation || \"\");\r\n    }\r\n\r\n    this.setState({\r\n      editValue: value,\r\n      isValid\r\n    });\r\n  }\r\n\r\n  private _commitEdit() {\r\n    const { editValue, isValid } = this.state;\r\n    const { onCommit } = this.props;\r\n\r\n    this.setState({\r\n      editValue: null\r\n    });\r\n\r\n    if (!editValue || !isValid) {\r\n      return;\r\n    }\r\n\r\n    onCommit(editValue);\r\n  }\r\n\r\n  private _validate(value: string): string | null {\r\n    const { minLength, maxLength } = this.props;\r\n    if (minLength != null && (!value || value.length < minLength)) {\r\n      return `Value must be at least ${minLength} characters.`;\r\n    }\r\n\r\n    if (maxLength != null && value.length > maxLength) {\r\n      return `Value must be less than ${maxLength} characters.`;\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n","import ReactTable, { TableProps, Column, RowRenderProps } from \"react-table\";\r\nimport { WidthProps, HeightProps, width, height } from \"styled-system\";\r\n\r\nimport styled, {\r\n  Color,\r\n  Intent,\r\n  ThemeProps,\r\n  intent,\r\n  getThemeColor\r\n} from \"@/style\";\r\n\r\nimport { inputStyle } from \"@/components/Input\";\r\n\r\n// TODO Use https://reactabular.js.org/#/.\r\n\r\nimport \"react-table/react-table.css\";\r\n\r\nexport interface DataTableStyleProps extends WidthProps, HeightProps {}\r\n\r\nfunction encodedPrimaryColor(props: ThemeProps): any {\r\n  const color = getThemeColor(Color.fromIntent(Intent.Primary))(props);\r\n  const encoded = encodeURIComponent(color);\r\n  return encoded;\r\n}\r\n\r\nconst DataTable = styled<Partial<TableProps> & DataTableStyleProps>(ReactTable)`\r\n  &.ReactTable {\r\n    ${width};\r\n    ${height};\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  &.ReactTable .rt-thead.-filters input,\r\n  &.ReactTable .rt-thead.-filters select {\r\n    border-radius: 0;\r\n    ${inputStyle};\r\n  }\r\n\r\n  &.ReactTable .rt-thead {\r\n    ${intent.of(Intent.Secondary)};\r\n    background-color: ${getThemeColor(Color.PanelBackground)};\r\n    font-weight: bold;\r\n  }\r\n\r\n  &.ReactTable .rt-thead .rt-th.-sort-asc,\r\n  &.ReactTable .rt-thead .rt-th.-sort-desc {\r\n    ${intent.of(Intent.Primary)};\r\n  }\r\n\r\n  &.ReactTable .rt-thead .rt-th.-sort-asc {\r\n    box-shadow: none;\r\n    background: url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' fill='${encodedPrimaryColor}'><polygon points='0,50 100,50 50,0'/></svg>\")\r\n      no-repeat;\r\n    background-size: 12px;\r\n    background-position: calc(100% - 20px) center;\r\n  }\r\n\r\n  &.ReactTable .rt-thead .rt-th.-sort-desc {\r\n    box-shadow: none;\r\n    background: url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='100' height='100' fill='${encodedPrimaryColor}'><polygon points='0,0 100,0 50,50'/></svg>\")\r\n      no-repeat;\r\n    background-size: 12px;\r\n    background-position: calc(100% - 20px) center;\r\n  }\r\n\r\n  &.ReactTable .rt-td {\r\n    ${intent.of(Intent.Default)};\r\n  }\r\n`;\r\n\r\nDataTable.displayName = \"DataTable\";\r\nDataTable.defaultProps = {};\r\n\r\nexport type DataTableProps = TableProps & DataTableStyleProps;\r\nexport type DataTableColumn = Column;\r\nexport type DataTableRow<T = any> = Omit<RowRenderProps, \"value\"> & {\r\n  value: T;\r\n};\r\n\r\nexport default DataTable;\r\n","import * as React from \"react\";\r\n\r\nimport { FontSize, Space } from \"@/style\";\r\n\r\nimport Box from \"@/components/Box\";\r\nimport Text from \"@/components/Text\";\r\n\r\nconst EditorHeader: React.SFC = ({ children }) => (\r\n  <Box width=\"100%\" alignSelf=\"baseline\" pb={Space.Small}>\r\n    <Text fontSize={FontSize.Heading} fontWeight=\"bold\">\r\n      {children}\r\n    </Text>\r\n  </Box>\r\n);\r\nEditorHeader.displayName = \"EditorHeader\";\r\nexport default EditorHeader;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst editModeSelector = (state: AppState) => state.editMode;\r\nexport default editModeSelector;\r\n","import GameObjectHeader from \"./GameObjectHeader\";\r\nexport default GameObjectHeader;\r\n","import * as React from \"react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\nimport CheckInput from \"@/components/CheckInput\";\r\n\r\nexport interface InputCompatibleProps<T = any> {\r\n  value: T;\r\n  onCommit(value: any): void;\r\n}\r\nexport interface NullableInputProps<T = any> {\r\n  className?: string;\r\n  renderInput(props: InputCompatibleProps<T>): React.ReactNode;\r\n  renderNull?: React.ReactNode | (() => React.ReactNode);\r\n  value: T | null;\r\n  defaultValue: T | (() => T);\r\n  onCommit(value: T | null): void;\r\n}\r\ntype Props = NullableInputProps;\r\ninterface State {\r\n  isNotNull: boolean;\r\n}\r\nexport default class NullableInput extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = {\r\n      isNotNull: this.props.value !== null\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(props: Props) {\r\n    let isNotNull = props.value !== null;\r\n    if (isNotNull !== this.state.isNotNull) {\r\n      this.setState({\r\n        isNotNull\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { isNotNull } = this.state;\r\n    const { className, renderNull } = this.props;\r\n\r\n    let element: React.ReactNode | null = null;\r\n    if (isNotNull) {\r\n      const { renderInput, onCommit, defaultValue } = this.props;\r\n      const value = this.props.value || resolve(defaultValue);\r\n      element = renderInput({ value, onCommit });\r\n    } else if (renderNull) {\r\n      element = resolve(renderNull);\r\n    }\r\n\r\n    return (\r\n      <Flex className={className} direction=\"row\">\r\n        <CheckInput value={isNotNull} onCommit={this._onNotNullChecked} />\r\n        {element && (\r\n          <Flex.Item grow shrink>\r\n            {element}\r\n          </Flex.Item>\r\n        )}\r\n      </Flex>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onNotNullChecked(value: boolean) {\r\n    const { defaultValue, onCommit } = this.props;\r\n    this.setState({\r\n      isNotNull: value\r\n    });\r\n    if (value) {\r\n      onCommit(defaultValue);\r\n    } else {\r\n      onCommit(null);\r\n    }\r\n  }\r\n}\r\n\r\nfunction resolve<T>(value: T | (() => T)): T {\r\n  if (typeof value === \"function\") {\r\n    return value();\r\n  }\r\n  return value;\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport Select, { SelectProps, Option } from \"@/components/Select\";\r\n\r\nexport type SelectInputProps = Omit<\r\n  SelectProps,\r\n  \"value\" | \"options\" | \"onChange\"\r\n> & {\r\n  value: any;\r\n  options: Option<any>[];\r\n  onCommit(value: any): void;\r\n};\r\n\r\ntype Props = SelectInputProps;\r\nexport default class SelectInput extends React.Component<Props> {\r\n  static defaultProps = {\r\n    clearable: false\r\n  };\r\n\r\n  render() {\r\n    const { value, options, onCommit, ...props } = this.props;\r\n\r\n    return (\r\n      <Select {...props} value={value} options={options} onChange={onCommit} />\r\n    );\r\n  }\r\n}\r\n","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\n\r\nimport Modal from \"react-modal\";\r\n\r\nimport \"./style\";\r\n\r\nimport Root from \"./root\";\r\n\r\nconst rootEl = document.getElementById(\"root\");\r\nif (rootEl) {\r\n  Modal.setAppElement(rootEl);\r\n  ReactDOM.render(<Root />, rootEl);\r\n}\r\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js!./style.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!./style.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!./style.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"* {\\r\\n  font-family: \\\"Titillium Web\\\", sans-serif;\\r\\n}\\r\\n\\r\\nhtml,\\r\\nbody,\\r\\n#root {\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n  margin: 0;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n","export * from \"./border\";\r\nexport * from \"./intent-border\";\r\nexport * from \"./intent-color\";\r\nexport * from \"./intent-fill\";\r\nexport * from \"./intent\";\r\nexport * from \"./link\";\r\nexport * from \"./text\";\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Border, Color, Radius } from \"../theme\";\r\n\r\nimport { getThemeBorder, getThemeRadius, getThemeColor } from \"../theme\";\r\n\r\nexport interface BorderProps {\r\n  border?: Border;\r\n  borderColor?: Color;\r\n  borderRadius?: Radius;\r\n}\r\n\r\nconst borderOf = (type: Border, color: Color, radius?: Radius) => css`\r\n  border: ${getThemeBorder(type)};\r\n  border-color: ${getThemeColor(color)};\r\n  ${radius ? `border-radius: ${getThemeRadius(radius)}` : undefined};\r\n`;\r\n\r\nconst borderFromProps = css<BorderProps>`\r\n  ${props =>\r\n    props.border != null\r\n      ? `border: ${getThemeBorder(props.border)(props)}`\r\n      : undefined};\r\n\r\n  ${props =>\r\n    props.borderColor != null\r\n      ? `border-color: ${getThemeColor(props.borderColor)(props)}`\r\n      : undefined};\r\n\r\n  ${props =>\r\n    props.borderRadius != null\r\n      ? `border-radius: ${getThemeRadius(props.borderRadius)(props)}px`\r\n      : undefined};\r\n`;\r\n\r\nexport const border = attachProps(borderFromProps, {\r\n  of: borderOf\r\n});\r\n","import { themeGet } from \"styled-system\";\r\n\r\nimport { borders } from \"./borders\";\r\nimport { colors } from \"./colors\";\r\nimport { fontSizes } from \"./font-sizes\";\r\nimport { radii } from \"./radii\";\r\nimport { space } from \"./space\";\r\nimport { ThemeProps } from \"@/style/styled\";\r\n\r\nexport const theme = {\r\n  borders,\r\n  colors,\r\n  fontSizes,\r\n  radii,\r\n  space\r\n};\r\n\r\nexport type Theme = typeof theme;\r\n\r\nexport function getTheme(props: any): Theme {\r\n  return props.theme || theme;\r\n}\r\n\r\nexport function getThemeProp<T>(\r\n  getter: ((theme: Theme) => T) | string,\r\n  defaultValue?: T\r\n): (props: ThemeProps) => string | undefined {\r\n  return (props: ThemeProps) => {\r\n    if (typeof getter === \"string\") {\r\n      return themeGet(getter, defaultValue as any);\r\n    }\r\n\r\n    const val = getter(getTheme(props));\r\n    if (val === undefined) {\r\n      return defaultValue;\r\n    }\r\n    return val;\r\n  };\r\n}\r\n","export const enum FontSize {\r\n  Hint = 0,\r\n  Small = 0,\r\n\r\n  Button = 1,\r\n\r\n  Default = 2,\r\n  HeadingMinor = 3,\r\n  Heading = 4\r\n}\r\nexport const fontSizes = [12, 14, 16, 20, 24, 32, 48, 64, 96, 128];\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Intent } from \"../intent\";\r\n\r\nimport {\r\n  Border,\r\n  Color,\r\n  Radius,\r\n  getThemeBorder,\r\n  getThemeRadius,\r\n  getThemeColor\r\n} from \"../theme\";\r\n\r\nexport interface IntentBorderProps {\r\n  intent?: Intent;\r\n}\r\n\r\nconst borderOf = (intent: Intent) => css`\r\n  border: ${getThemeBorder(Border.Normal)};\r\n  border-color: ${getThemeColor(Color.fromIntent(intent))};\r\n  ${intent !== Intent.Default\r\n    ? `border-radius: ${getThemeRadius(Radius.Medium)}`\r\n    : undefined};\r\n`;\r\n\r\nconst borderFromProps = css<IntentBorderProps>`\r\n  ${props => (props.intent ? borderOf(props.intent) : undefined)};\r\n`;\r\n\r\nexport const intentBorder = attachProps(borderFromProps, {\r\n  of: borderOf\r\n});\r\n","import { css } from \"../styled\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { Intent } from \"../intent\";\r\n\r\nimport { intentColor, IntentColorProps } from \"./intent-color\";\r\nimport { intentFill } from \"./intent-fill\";\r\n\r\nexport interface IntentProps extends IntentColorProps {\r\n  intentIsBg?: boolean;\r\n}\r\n\r\nconst intentOf = (intent: Intent, isBg: boolean = false) => css`\r\n  ${isBg ? intentFill.of(intent) : intentColor.of(intent)};\r\n`;\r\n\r\nconst intentFromProps = css<IntentProps>`\r\n  ${props => {\r\n    if (props.intent == null) {\r\n      return undefined;\r\n    }\r\n    return props.intentIsBg ? intentFill : intentColor;\r\n  }};\r\n`;\r\n\r\nexport const intent = attachProps(intentFromProps, {\r\n  of: intentOf\r\n});\r\n","import { TextProps, text } from \"./text\";\r\nimport { css } from \"../styled\";\r\n\r\nexport interface LinkProps extends TextProps {}\r\n\r\nexport const link = css<LinkProps>`\r\n  ${text};\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n`;\r\n","import * as React from \"react\";\r\nimport { hot } from \"react-hot-loader\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport { ThemeProvider, theme } from \"@/style\";\r\n\r\nimport store from \"./store\";\r\n\r\nimport App from \"./App\";\r\n\r\nconst Root: React.SFC = () => (\r\n  <Provider store={store}>\r\n    <ThemeProvider theme={theme}>\r\n      <App />\r\n    </ThemeProvider>\r\n  </Provider>\r\n);\r\n\r\nexport default hot(module)(Root);\r\n","import { createStore } from \"./store\";\r\n\r\nconst store = createStore();\r\nexport default store;\r\n","import {\r\n  compose,\r\n  createStore as createReduxStore,\r\n  applyMiddleware\r\n} from \"redux\";\r\n\r\nimport createSagaMiddleware from \"redux-saga\";\r\n\r\nimport reducer from \"@/reducer\";\r\nimport saga from \"@/saga\";\r\n\r\nimport { actionSanitizer, stateSanitizer } from \"./devtool-sanitizer\";\r\n\r\nexport function createStore() {\r\n  const composeEnhancers =\r\n    (window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ &&\r\n      window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\r\n        actionSanitizer,\r\n        stateSanitizer\r\n      })) ||\r\n    compose;\r\n\r\n  const sagaMiddleware = createSagaMiddleware();\r\n\r\n  const store = createReduxStore(\r\n    reducer,\r\n    composeEnhancers(applyMiddleware(sagaMiddleware))\r\n  );\r\n  sagaMiddleware.run(saga);\r\n  return store;\r\n}\r\n","import { Reducer } from \"redux\";\r\nimport reduceReducers from \"reduce-reducers\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport behaviorsReducer from \"./behaviors\";\r\nimport gameObjectReducer from \"./game-object\";\r\n\r\nimport dismissErrorReducer from \"./dismiss-error\";\r\nimport modifyOniSave from \"./modify-onisave\";\r\nimport parseProgressReducer from \"./onisave-parse-progress\";\r\nimport receiveOniSaveReducer from \"./receive-onisave\";\r\nimport selectPathReducer from \"./select-path\";\r\nimport setEditModeReducer from \"./set-editmode\";\r\n\r\nconst reducers: Reducer<AppState, any>[] = [\r\n  behaviorsReducer,\r\n  gameObjectReducer,\r\n  dismissErrorReducer,\r\n  modifyOniSave,\r\n  parseProgressReducer,\r\n  receiveOniSaveReducer,\r\n  selectPathReducer,\r\n  setEditModeReducer\r\n];\r\n\r\nexport default reduceReducers<AppState, any>(...reducers);\r\n","import reduceReducers from \"reduce-reducers\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport modifyCurrentObjectBehaviorArray from \"./modify-currentobject-behavior-array\";\r\nimport setAccessoryReducer from \"./set-accessory\";\r\nimport setCurrentObjectBehaviorValueReducer from \"./set-currentobject-behavior-value\";\r\nimport setElementDiseaseReducer from \"./set-element-disease\";\r\nimport setHealthStateReducer from \"./set-health-state\";\r\nimport setIdentityGenderReducer from \"./set-identity-gender\";\r\nimport setModifierAmountReducer from \"./set-modifier-amount\";\r\nimport setTraitReducer from \"./set-traits-trait\";\r\n\r\nconst reducers = [\r\n  modifyCurrentObjectBehaviorArray,\r\n  setAccessoryReducer,\r\n  setCurrentObjectBehaviorValueReducer,\r\n  setElementDiseaseReducer,\r\n  setHealthStateReducer,\r\n  setIdentityGenderReducer,\r\n  setModifierAmountReducer,\r\n  setTraitReducer\r\n];\r\n\r\nexport default reduceReducers<AppState, any>(...reducers);\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  isCurrentObjectBehaviorArrayAction,\r\n  ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM,\r\n  ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM,\r\n  ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX\r\n} from \"@/actions/behaviors/modify-currentobject-behavior-array\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function modifyCurrentObjectBehaviorArray(\r\n  state: AppState = defaultAppState,\r\n  action: AnyAction\r\n): AppState {\r\n  if (!isCurrentObjectBehaviorArrayAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  const { behaviorName, path } = action.payload;\r\n\r\n  return produceFromBehavior(state, behaviorName, behavior => {\r\n    const array = get(behavior, path) as any[];\r\n    switch (action.type) {\r\n      case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_INSERT_ITEM: {\r\n        const { value, index } = action.payload;\r\n        if (index != null) {\r\n          array.splice(index, 0, value);\r\n        } else {\r\n          array.push(value);\r\n        }\r\n        return;\r\n      }\r\n      case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_ITEM: {\r\n        const { value } = action.payload;\r\n        const index = array.indexOf(value);\r\n        if (index >= 0) {\r\n          array.splice(index, 1);\r\n        }\r\n        return;\r\n      }\r\n      case ACTION_CURRENTOBJECT_BEHAVIOR_ARRAY_REMOVE_INDEX: {\r\n        const { index } = action.payload;\r\n        if (index < 0 || index >= array.length) {\r\n          return;\r\n        }\r\n        array.splice(index, 1);\r\n        return;\r\n      }\r\n    }\r\n  });\r\n}\r\n","import {\r\n  AccessorizerBehavior,\r\n  Accessory,\r\n  getIndexOfAccessoryType\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_SET_ACCESSORY,\r\n  SetAccessoryAction\r\n} from \"@/actions/behaviors/set-accessory\";\r\nimport { produceFromBehavior } from \"@/reducer/behaviors/utils\";\r\n\r\nexport default function setAccessoryReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetAccessoryAction\r\n): AppState {\r\n  if (action.type !== ACTION_SET_ACCESSORY) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, AccessorizerBehavior, behavior => {\r\n    const { accessoryName, accessoryType } = action.payload;\r\n    const { accessories } = behavior.templateData;\r\n\r\n    const accessoryIndex = getIndexOfAccessoryType(accessories, accessoryType);\r\n\r\n    if (accessoryName === null) {\r\n      // Remove\r\n      accessories.splice(accessoryIndex, 1);\r\n      return;\r\n    }\r\n\r\n    const newAccessory = Accessory(accessoryName);\r\n\r\n    if (accessoryIndex === -1) {\r\n      // Add\r\n      accessories.push(newAccessory);\r\n    } else {\r\n      // Replace\r\n      accessories[accessoryIndex] = newAccessory;\r\n    }\r\n  });\r\n}\r\n","import { set } from \"lodash-es\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE,\r\n  SetCurrentObjectBehaviorValueAction\r\n} from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setCurrentObjectBehaviorValueReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetCurrentObjectBehaviorValueAction\r\n): AppState {\r\n  if (action.type !== ACTION_CURRENTOBJECT_BEHAVIOR_SET_VALUE) {\r\n    return state;\r\n  }\r\n\r\n  const { behaviorName, path, value } = action.payload;\r\n\r\n  return produceFromBehavior(state, behaviorName, behavior => {\r\n    set(behavior, path, value);\r\n  });\r\n}\r\n","import { PrimaryElementBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_PRIMARY_ELEMENT_SET_DISEASE,\r\n  SetPrimaryElementDiseaseAction\r\n} from \"@/actions/behaviors/set-element-disease\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setElementDiseaseReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetPrimaryElementDiseaseAction\r\n): AppState {\r\n  if (action.type !== ACTION_PRIMARY_ELEMENT_SET_DISEASE) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, PrimaryElementBehavior, behavior => {\r\n    const { diseaseId, diseaseCount } = action.payload;\r\n    behavior.templateData.diseaseID = diseaseId;\r\n    behavior.templateData.diseaseCount = diseaseCount;\r\n  });\r\n}\r\n","import { HealthBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_HEALTH_SET_STATE,\r\n  SetHealthStateAction\r\n} from \"@/actions/behaviors/set-health-state\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setHealthStateReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetHealthStateAction\r\n): AppState {\r\n  if (action.type !== ACTION_HEALTH_SET_STATE) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, HealthBehavior, behavior => {\r\n    behavior.templateData.State = action.payload;\r\n  });\r\n}\r\n","import { MinionIdentityBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_MINION_IDENTITY_SET_GENDER,\r\n  SetMinionIdentityGenderAction\r\n} from \"@/actions/behaviors/set-identity-gender\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setIdentityGenderReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetMinionIdentityGenderAction\r\n): AppState {\r\n  if (action.type !== ACTION_MINION_IDENTITY_SET_GENDER) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, MinionIdentityBehavior, behavior => {\r\n    behavior.templateData.gender = action.payload;\r\n    behavior.templateData.genderStringKey = action.payload;\r\n  });\r\n}\r\n","import { MinionModifiersBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_MINION_MODIFIER_SET_VALUE,\r\n  SetMinionModifierValueAction\r\n} from \"@/actions/behaviors/set-modifier-amount\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setModifierAmountReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetMinionModifierValueAction\r\n): AppState {\r\n  if (action.type !== ACTION_MINION_MODIFIER_SET_VALUE) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, MinionModifiersBehavior, behavior => {\r\n    const { amountType, value } = action.payload;\r\n    if (!behavior.extraData) {\r\n      return;\r\n    }\r\n    const amount = behavior.extraData.amounts.find(x => x.name === amountType);\r\n    if (!amount) {\r\n      return;\r\n    }\r\n    amount.value.value = value;\r\n  });\r\n}\r\n","import { AITraitsBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_TRAITS_SET,\r\n  SetTraitAction\r\n} from \"@/actions/behaviors/set-traits-trait\";\r\n\r\nimport { produceFromBehavior } from \"./utils\";\r\n\r\nexport default function setTraitReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetTraitAction\r\n): AppState {\r\n  if (action.type !== ACTION_TRAITS_SET) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromBehavior(state, AITraitsBehavior, behavior => {\r\n    const { traitId, isSet } = action.payload;\r\n    const { TraitIds } = behavior.templateData;\r\n    const index = TraitIds.findIndex(x => x === traitId);\r\n    if (index !== -1) {\r\n      if (!isSet) {\r\n        TraitIds.splice(index, 1);\r\n      }\r\n    } else {\r\n      if (isSet) {\r\n        TraitIds.push(traitId);\r\n      }\r\n    }\r\n  });\r\n}\r\n","import reduceReducers from \"reduce-reducers\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport setGameObjectScaleReducer from \"./set-scale\";\r\n\r\nconst reducers = [setGameObjectScaleReducer];\r\n\r\nexport default reduceReducers<AppState, any>(...reducers);\r\n","import { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_GAME_OBJECT_SET_SCALE,\r\n  SetGameObjectScaleAction\r\n} from \"@/actions/game-object/set-scale\";\r\n\r\nimport { produceFromGameObject } from \"./utils\";\r\n\r\nexport default function setGameObjectScaleReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SetGameObjectScaleAction\r\n): AppState {\r\n  if (action.type !== ACTION_GAME_OBJECT_SET_SCALE) {\r\n    return state;\r\n  }\r\n\r\n  return produceFromGameObject(state, gameObject => {\r\n    const { x, y, z } = action.payload;\r\n    gameObject.scale.x = x;\r\n    gameObject.scale.y = y;\r\n    gameObject.scale.z = z;\r\n  });\r\n}\r\n","import { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_DISMISS_ERROR,\r\n  DismissErrorAction\r\n} from \"@/actions/dismiss-error\";\r\n\r\nexport default function dismissErrorReducer(\r\n  state: AppState = defaultAppState,\r\n  action: DismissErrorAction\r\n): AppState {\r\n  if (action.type !== ACTION_DISMISS_ERROR) {\r\n    return state;\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    error: null\r\n  };\r\n}\r\n","import produce from \"immer\";\r\n\r\nimport { set } from \"lodash-es\";\r\n\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_ONISAVE_MODIFY,\r\n  ModifyOniSaveAction\r\n} from \"../actions/modify-onisave\";\r\n\r\nexport default function modifyOniSaveReducer(\r\n  state: AppState = defaultAppState,\r\n  action: ModifyOniSaveAction\r\n): AppState {\r\n  if (action.type !== ACTION_ONISAVE_MODIFY) {\r\n    return state;\r\n  }\r\n\r\n  const { loadingState, oniSave } = state;\r\n  if (loadingState !== \"ready\" || !oniSave) {\r\n    return state;\r\n  }\r\n\r\n  const { path, value } = action.payload;\r\n\r\n  return produce(state, draft => {\r\n    set(draft.oniSave!, path, value);\r\n  });\r\n}\r\n","import { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport {\r\n  ACTION_ONISAVE_PARSE_PROGRESS,\r\n  ParseProgressAction\r\n} from \"@/actions/onisave-parse-progress\";\r\n\r\nexport default function parseProgressReducer(\r\n  state: AppState = defaultAppState,\r\n  action: ParseProgressAction\r\n): AppState {\r\n  if (action.type !== ACTION_ONISAVE_PARSE_PROGRESS) {\r\n    return state;\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    loadingProgressMessage: action.payload.message\r\n  };\r\n}\r\n","import {\r\n  ReceiveOniSaveAction,\r\n  ACTION_RECEIVE_ONISAVE_BEGIN,\r\n  ACTION_RECEIVE_ONISAVE_ERROR,\r\n  ACTION_RECEIVE_ONISAVE_SUCCESS\r\n} from \"../actions/receive-onisave\";\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nexport default function receiveOniSaveReducer(\r\n  state: AppState = defaultAppState,\r\n  action: ReceiveOniSaveAction\r\n): AppState {\r\n  switch (action.type) {\r\n    case ACTION_RECEIVE_ONISAVE_BEGIN:\r\n      return {\r\n        ...state,\r\n        error: null,\r\n        loadingState: action.payload.operation,\r\n        loadingProgressMessage: null,\r\n        selectedPath: [],\r\n        oniSave: action.payload.clearExisting ? null : state.oniSave\r\n      };\r\n    case ACTION_RECEIVE_ONISAVE_ERROR:\r\n      state = {\r\n        ...state,\r\n        loadingState: \"idle\",\r\n        selectedPath: [],\r\n        error: action.payload\r\n      };\r\n      break;\r\n    case ACTION_RECEIVE_ONISAVE_SUCCESS:\r\n      state = {\r\n        ...state,\r\n        loadingState: \"ready\",\r\n        loadingProgressMessage: null,\r\n        error: null,\r\n        selectedPath: [],\r\n        oniSave: action.payload\r\n      };\r\n  }\r\n\r\n  return state;\r\n}\r\n","import { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport { ACTION_SELECT_PATH, SelectPathAction } from \"@/actions/select-path\";\r\n\r\nexport default function selectPathReducer(\r\n  state: AppState = defaultAppState,\r\n  action: SelectPathAction\r\n): AppState {\r\n  if (action.type !== ACTION_SELECT_PATH) {\r\n    return state;\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    selectedPath: action.payload\r\n  };\r\n}\r\n","import { ACTION_SET_EDITMODE, SetEditModeAction } from \"@/actions/set-editmode\";\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nexport default function setEditMode(\r\n  state: AppState = defaultAppState,\r\n  action: SetEditModeAction\r\n): AppState {\r\n  if (action.type !== ACTION_SET_EDITMODE) {\r\n    return state;\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    editMode: action.payload\r\n  };\r\n}\r\n","import { fork } from \"redux-saga/effects\";\r\n\r\nimport loadOniSaveSaga from \"./load-onisave\";\r\nimport saveOniSaveSaga from \"./save-onisave\";\r\n\r\nexport default function* saga() {\r\n  yield fork(loadOniSaveSaga);\r\n  yield fork(saveOniSaveSaga);\r\n}\r\n","import { eventChannel, END } from \"redux-saga\";\r\nimport { call, put, takeEvery, take } from \"redux-saga/effects\";\r\n\r\nimport { ACTION_ONISAVE_LOAD, LoadOniSaveAction } from \"@/actions/load-onisave\";\r\n\r\nimport {\r\n  receiveOniSaveBegin,\r\n  receiveOniSaveError,\r\n  receiveOniSaveSuccess\r\n} from \"@/actions/receive-onisave\";\r\nimport { parseProgress } from \"@/actions/onisave-parse-progress\";\r\n\r\nimport { parseSave } from \"@/services/save-serializer\";\r\n\r\nexport default function* saveEditorSaga() {\r\n  yield takeEvery(ACTION_ONISAVE_LOAD, handleOniSaveLoad);\r\n}\r\n\r\nfunction* handleOniSaveLoad(action: LoadOniSaveAction) {\r\n  const file = action.payload;\r\n\r\n  yield put(receiveOniSaveBegin(\"loading\", true));\r\n\r\n  const data: ArrayBuffer = yield call(readFile, file);\r\n\r\n  const loadChannel = createLoadChannel(data);\r\n\r\n  while (true) {\r\n    const msg = yield take(loadChannel);\r\n    if (msg.type === \"progress\") {\r\n      yield put(parseProgress(msg.message));\r\n      continue;\r\n    } else if (msg.type === \"success\") {\r\n      yield put(receiveOniSaveSuccess(msg.saveGame));\r\n      return;\r\n    } else if (msg.type === \"error\") {\r\n      yield put(receiveOniSaveError(msg.error));\r\n      return;\r\n    }\r\n  }\r\n}\r\n\r\nfunction createLoadChannel(data: ArrayBuffer) {\r\n  return eventChannel(emitter => {\r\n    function onProgress(message: string) {\r\n      emitter({\r\n        type: \"progress\",\r\n        message\r\n      });\r\n    }\r\n\r\n    parseSave(data, onProgress)\r\n      .then(saveGame => {\r\n        emitter({\r\n          type: \"success\",\r\n          saveGame\r\n        });\r\n        emitter(END);\r\n      })\r\n      .catch(error => {\r\n        emitter({\r\n          type: \"error\",\r\n          error\r\n        });\r\n        emitter(END);\r\n      });\r\n\r\n    //This is the cancellation func.\r\n    // TODO: We can support cancellation in oni-save-parser rather easily.\r\n    return () => {};\r\n  });\r\n}\r\n\r\nfunction readFile(file: File): Promise<ArrayBuffer> {\r\n  const reader = new FileReader();\r\n  return new Promise<ArrayBuffer>((accept, reject) => {\r\n    reader.onload = () => {\r\n      accept(reader.result as ArrayBuffer);\r\n    };\r\n    reader.onerror = () => {\r\n      reject(reader.error);\r\n    };\r\n    reader.readAsArrayBuffer(file);\r\n  });\r\n}\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nimport {\r\n  RESPONSE_PROGRESS,\r\n  RESPONSE_PARSE_ERROR,\r\n  RESPONSE_PARSE_SUCCESS,\r\n  RESPONSE_WRITE_ERROR,\r\n  RESPONSE_WRITE_SUCCESS,\r\n  SaveParserResultEvent,\r\n  parseSave as parseSaveCommand,\r\n  writeSave as writeSaveCommand,\r\n  jsonToError\r\n} from \"./worker-messages\";\r\n\r\nimport SaveLoadWorker from \"worker-loader!./save-serializer.worker\";\r\n\r\nconst worker = new SaveLoadWorker();\r\n\r\nexport function parseSave(\r\n  data: ArrayBuffer,\r\n  onProgress?: (message: string) => void\r\n): Promise<SaveGame> {\r\n  const promise = new Promise<SaveGame>((accept, reject) => {\r\n    const unhook = () => {\r\n      worker.onerror = null;\r\n      worker.onmessage = null;\r\n    };\r\n\r\n    worker.onerror = error => reject(error);\r\n    worker.onmessage = (message: SaveParserResultEvent) => {\r\n      const { data } = message;\r\n      switch (data.type) {\r\n        case RESPONSE_PROGRESS:\r\n          onProgress && onProgress(data.message);\r\n          break;\r\n        case RESPONSE_PARSE_SUCCESS:\r\n          unhook();\r\n          accept(data.saveGame);\r\n          break;\r\n        case RESPONSE_PARSE_ERROR:\r\n          unhook();\r\n          reject(jsonToError(data.error));\r\n          break;\r\n      }\r\n    };\r\n  });\r\n\r\n  worker.postMessage(parseSaveCommand(data));\r\n\r\n  return promise;\r\n}\r\n\r\nexport function writeSave(\r\n  saveGame: SaveGame,\r\n  onProgress?: (message: string) => void\r\n): Promise<ArrayBuffer> {\r\n  const promise = new Promise<ArrayBuffer>((accept, reject) => {\r\n    const unhook = () => {\r\n      worker.onerror = null;\r\n      worker.onmessage = null;\r\n    };\r\n\r\n    worker.onerror = error => reject(error);\r\n    worker.onmessage = (message: SaveParserResultEvent) => {\r\n      const { data } = message;\r\n      switch (data.type) {\r\n        case RESPONSE_PROGRESS:\r\n          onProgress && onProgress(data.message);\r\n          break;\r\n        case RESPONSE_WRITE_SUCCESS:\r\n          unhook();\r\n          accept(data.data);\r\n          break;\r\n        case RESPONSE_WRITE_ERROR:\r\n          unhook();\r\n          reject(jsonToError(data.error));\r\n          break;\r\n      }\r\n    };\r\n  });\r\n\r\n  worker.postMessage(writeSaveCommand(saveGame));\r\n\r\n  return promise;\r\n}\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nexport const RESPONSE_PROGRESS = \"progress\";\r\nexport const sendProgress = (message: string) => ({\r\n  type: RESPONSE_PROGRESS as typeof RESPONSE_PROGRESS,\r\n  message\r\n});\r\nexport type ProgressResponse = ReturnType<typeof sendProgress>;\r\n\r\nconst COMMAND_PARSE = \"parse-save\";\r\nexport const parseSave = (data: ArrayBuffer) => ({\r\n  type: COMMAND_PARSE as typeof COMMAND_PARSE,\r\n  data\r\n});\r\nexport type ParseSaveCommand = ReturnType<typeof parseSave>;\r\n\r\nexport const RESPONSE_PARSE_SUCCESS = \"parse-save:success\";\r\nexport const parseSaveSuccess = (saveGame: SaveGame) => ({\r\n  type: RESPONSE_PARSE_SUCCESS as typeof RESPONSE_PARSE_SUCCESS,\r\n  saveGame\r\n});\r\nexport type ParseSaveSuccessResponse = ReturnType<typeof parseSaveSuccess>;\r\n\r\nexport const RESPONSE_PARSE_ERROR = \"parse-save:error\";\r\nexport const parseSaveError = (error: Error) => ({\r\n  type: RESPONSE_PARSE_ERROR as typeof RESPONSE_PARSE_ERROR,\r\n  error: errorToJson(error)\r\n});\r\nexport type ParseSaveErrorResponse = ReturnType<typeof parseSaveError>;\r\n\r\nexport type ParseSaveResponse =\r\n  | ParseSaveSuccessResponse\r\n  | ParseSaveErrorResponse\r\n  | ProgressResponse;\r\n\r\nconst COMMAND_WRITE = \"write-save\";\r\nexport const writeSave = (saveGame: SaveGame) => ({\r\n  type: COMMAND_WRITE as typeof COMMAND_WRITE,\r\n  saveGame\r\n});\r\nexport type WriteSaveCommand = ReturnType<typeof writeSave>;\r\n\r\nexport const RESPONSE_WRITE_SUCCESS = \"write-save:success\";\r\nexport const writeSaveSuccess = (data: ArrayBuffer) => ({\r\n  type: RESPONSE_WRITE_SUCCESS as typeof RESPONSE_WRITE_SUCCESS,\r\n  data\r\n});\r\nexport type WriteSaveSuccessResponse = ReturnType<typeof writeSaveSuccess>;\r\n\r\nexport const RESPONSE_WRITE_ERROR = \"write-save:error\";\r\nexport const writeSaveError = (error: Error) => ({\r\n  type: RESPONSE_WRITE_ERROR as typeof RESPONSE_WRITE_ERROR,\r\n  error: errorToJson(error)\r\n});\r\nexport type WriteSaveErrorResponse = ReturnType<typeof writeSaveError>;\r\n\r\nexport type WriteSaveResult =\r\n  | WriteSaveSuccessResponse\r\n  | WriteSaveErrorResponse\r\n  | ProgressResponse;\r\n\r\nexport type SaveParserCommand = ParseSaveCommand | WriteSaveCommand;\r\nexport type SaveParserResponse = ParseSaveResponse | WriteSaveResult;\r\n\r\nexport interface SaveParserCommandEvent extends MessageEvent {\r\n  data: SaveParserCommand;\r\n}\r\n\r\nexport interface SaveParserResultEvent extends MessageEvent {\r\n  data: SaveParserResponse;\r\n}\r\n\r\nexport interface ErrorJson {\r\n  name: string;\r\n  message: string;\r\n  stack?: string;\r\n}\r\nexport function errorToJson(e: Error): ErrorJson {\r\n  return {\r\n    name: e.name,\r\n    message: e.message,\r\n    stack: e.stack\r\n  };\r\n}\r\nexport function jsonToError(obj: ErrorJson): Error {\r\n  const e = new Error(obj.message);\r\n  e.name = obj.name;\r\n  e.stack = obj.stack;\r\n  return e;\r\n}\r\n","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"2ec869ed73943beb6f1d.worker.js\");\n};","import { eventChannel, END } from \"redux-saga\";\r\nimport { put, select, takeEvery, take } from \"redux-saga/effects\";\r\n\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { saveAs } from \"file-saver\";\r\n\r\nimport { ACTION_ONISAVE_SAVE, SaveOniSaveAction } from \"@/actions/save-onisave\";\r\n\r\nimport {\r\n  receiveOniSaveBegin,\r\n  receiveOniSaveError,\r\n  receiveOniSaveSuccess\r\n} from \"@/actions/receive-onisave\";\r\n\r\nimport { parseProgress } from \"@/actions/onisave-parse-progress\";\r\n\r\nimport { writeSave } from \"@/services/save-serializer\";\r\n\r\nimport oniSaveSelector from \"@/selectors/oni-save\";\r\n\r\nexport default function* saveEditorSaga() {\r\n  yield takeEvery(ACTION_ONISAVE_SAVE, handleOniSaveWrite);\r\n}\r\n\r\nfunction* handleOniSaveWrite(action: SaveOniSaveAction) {\r\n  const saveName = action.payload;\r\n\r\n  const saveGame: SaveGame | null = yield select(oniSaveSelector);\r\n  if (!saveGame) {\r\n    return;\r\n  }\r\n\r\n  yield put(receiveOniSaveBegin(\"saving\"));\r\n\r\n  const saveChannel = createSaveChannel(saveGame);\r\n\r\n  while (true) {\r\n    const msg = yield take(saveChannel);\r\n    if (msg.type === \"progress\") {\r\n      yield put(parseProgress(msg.message));\r\n      continue;\r\n    } else if (msg.type === \"success\") {\r\n      saveAs(msg.blob, saveName);\r\n      yield put(receiveOniSaveSuccess(saveGame));\r\n      return;\r\n    } else if (msg.type === \"error\") {\r\n      yield put(receiveOniSaveError(msg.error));\r\n      return;\r\n    }\r\n  }\r\n}\r\n\r\nfunction createSaveChannel(saveGame: SaveGame) {\r\n  return eventChannel(emitter => {\r\n    function onProgress(message: string) {\r\n      emitter({\r\n        type: \"progress\",\r\n        message\r\n      });\r\n    }\r\n\r\n    writeSave(saveGame, onProgress)\r\n      .then(data => {\r\n        const blob = new Blob([data]);\r\n        emitter({\r\n          type: \"success\",\r\n          blob\r\n        });\r\n        emitter(END);\r\n      })\r\n      .catch(error => {\r\n        emitter({\r\n          type: \"error\",\r\n          error\r\n        });\r\n        emitter(END);\r\n      });\r\n\r\n    //This is the cancellation func.\r\n    // TODO: We can support cancellation in oni-save-parser rather easily.\r\n    return () => {};\r\n  });\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { ACTION_RECEIVE_ONISAVE_SUCCESS } from \"@/actions/receive-onisave\";\r\nimport { AppState } from \"@/state\";\r\n\r\nexport function actionSanitizer(action: AnyAction): AnyAction {\r\n  if (action.type === ACTION_RECEIVE_ONISAVE_SUCCESS) {\r\n    return {\r\n      ...action,\r\n      payload: sanitizeSave(action.payload)\r\n    };\r\n  }\r\n  return action;\r\n}\r\n\r\nexport function stateSanitizer(state: AppState): any {\r\n  return {\r\n    ...state,\r\n    oniSave: state.oniSave ? sanitizeSave(state.oniSave) : null\r\n  };\r\n}\r\n\r\nfunction sanitizeSave(save: SaveGame): any {\r\n  return {\r\n    ...save,\r\n    world: {\r\n      ...save.world,\r\n      streamed: \"~snip~\"\r\n    }\r\n  };\r\n}\r\n","import App from \"./App\";\r\nexport default App;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NoSave from \"@/pages/NoSave\";\r\nimport ErrorPage from \"@/pages/Error\";\r\nimport Loading from \"@/pages/Loading\";\r\nimport SaveEditor from \"@/pages/SaveEditor\";\r\n\r\nimport AppContainer from \"./components/AppContainer\";\r\nimport AppContent from \"./components/AppContent\";\r\nimport NavBarContainer from \"./components/NavBar\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass App extends React.Component<Props> {\r\n  render() {\r\n    const { error, loadingState, onDismissError } = this.props;\r\n\r\n    let element: JSX.Element;\r\n\r\n    if (error) {\r\n      element = <ErrorPage error={error} onDismiss={onDismissError} />;\r\n    } else {\r\n      switch (loadingState) {\r\n        case \"idle\":\r\n          element = <NoSave />;\r\n          break;\r\n        case \"loading\":\r\n        case \"saving\":\r\n          element = <Loading />;\r\n          break;\r\n        case \"ready\":\r\n          element = <SaveEditor />;\r\n          break;\r\n        default:\r\n          element = <div>???</div>;\r\n          break;\r\n      }\r\n    }\r\n\r\n    return (\r\n      <AppContainer>\r\n        <NavBarContainer />\r\n        <AppContent>{element}</AppContent>\r\n      </AppContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(App);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport error from \"@/selectors/error\";\r\nimport loadingState from \"@/selectors/loading-state\";\r\n\r\nconst stateSelectors = {\r\n  loadingState,\r\n  error\r\n};\r\nexport type StateProps = StructuredStateProps<typeof stateSelectors>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  stateSelectors\r\n);\r\nexport default mapStateToProps;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst errorSelector = (state: AppState) => state.error;\r\nexport default errorSelector;\r\n","import { dismissError } from \"@/actions/dismiss-error\";\r\n\r\nconst mapDispatchToProps = {\r\n  onDismissError: dismissError\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import NoSave from \"./NoSave\";\r\nexport default NoSave;\r\n","import * as React from \"react\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport { OSType } from \"@/runtime-env\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport Text from \"@/components/Text\";\r\nimport Code from \"@/components/Code\";\r\n\r\nconst SaveFilePaths: Record<OSType, string | null> = {\r\n  windows: \"Documents/Klei/OxygenNotIncluded/save_files\",\r\n  mac: null,\r\n  linux: \"~/.config/unity3d/Klei/Oxygen Not Included/save_files\",\r\n  unknown: null\r\n};\r\n\r\nconst NoSave: React.SFC = () => (\r\n  <NonIdealState intent={Intent.Hint} header={\"No File Loaded\"}>\r\n    <Text intent={Intent.Hint}>\r\n      <div>Load a save using the controls on the upper left.</div>\r\n      {SaveFilePaths[OSType] && (\r\n        <div>\r\n          Save files can be found at\r\n          <Code>{SaveFilePaths[OSType]}</Code>\r\n        </div>\r\n      )}\r\n    </Text>\r\n  </NonIdealState>\r\n);\r\nNoSave.displayName = \"NoSave\";\r\nexport default NoSave;\r\n","import platform from \"platform\";\r\n\r\nconst OS_WINDOWS = /windows/i;\r\nconst OS_MAC = /Mac|iOS|(OS\\ X)/;\r\nconst OS_LINUX = /linux/i;\r\n\r\nexport type OSType = \"windows\" | \"mac\" | \"linux\" | \"unknown\";\r\n\r\nconst osPlatform = (platform.os && platform.os.family) || \"unknown\";\r\nexport const OSType: OSType = OS_WINDOWS.test(osPlatform)\r\n  ? \"windows\"\r\n  : OS_MAC.test(osPlatform)\r\n    ? \"mac\"\r\n    : OS_LINUX.test(osPlatform)\r\n      ? \"linux\"\r\n      : \"unknown\";\r\n","import styled, {\r\n  BorderProps,\r\n  IntentBorderProps,\r\n  border,\r\n  intentBorder,\r\n  Intent,\r\n  Radius\r\n} from \"@/style\";\r\n\r\nexport interface CodeStyleProps extends BorderProps, IntentBorderProps {}\r\n\r\nconst Code = styled<CodeStyleProps, \"code\">(\"code\")`\r\n  ${intentBorder};\r\n  ${border};\r\n\r\n  margin: 0 4px;\r\n  padding: 1px 2px;\r\n  box-sizing: border-box;\r\n  font-family: monospace;\r\n`;\r\nCode.displayName = \"Code\";\r\n\r\nCode.defaultProps = {\r\n  intent: Intent.Hint,\r\n  borderRadius: Radius.Small\r\n};\r\n\r\nexport default Code;\r\n","import ErrorPage from \"./Error\";\r\nexport default ErrorPage;\r\n","import * as React from \"react\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\nimport Button from \"@/components/Button\";\r\nimport Text from \"@/components/Text\";\r\nimport { Intent } from \"@/style\";\r\n\r\nexport interface ErrorProps {\r\n  error: Error;\r\n  onDismiss(): void;\r\n}\r\n\r\nconst ErrorPage: React.SFC<ErrorProps> = ({ error, onDismiss }) => (\r\n  <Flex direction=\"column\" width=\"100%\" height=\"100%\">\r\n    <Flex.Item grow>\r\n      <Text intent={Intent.Dangerous}>\r\n        <h2>Error</h2>\r\n        <code>{error.stack || error.message || String(error)}</code>\r\n      </Text>\r\n    </Flex.Item>\r\n    <Flex.Item>\r\n      <Button intent={Intent.Primary} onClick={onDismiss}>\r\n        Close\r\n      </Button>\r\n    </Flex.Item>\r\n  </Flex>\r\n);\r\nErrorPage.displayName = \"Error\";\r\nexport default ErrorPage;\r\n","import Loading from \"./Loading\";\r\nexport default Loading;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent, Space } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport Box from \"@/components/Box\";\r\n\r\ntype Props = StateProps;\r\nconst Loading: React.SFC<Props> = ({\r\n  loadingState,\r\n  loadingProgressMessageSelector\r\n}) => (\r\n  <Box p={Space.Large}>\r\n    <Text intent={Intent.Primary}>\r\n      {loadingState === \"loading\" ? \"Loading\" : \"Saving\"}\r\n    </Text>\r\n    <br />\r\n    <Text intent={Intent.Secondary}>{loadingProgressMessageSelector}</Text>\r\n  </Box>\r\n);\r\nLoading.displayName = \"Loading\";\r\nexport default connect(mapStateToProps)(Loading);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport loadingState from \"@/selectors/loading-state\";\r\nimport loadingProgressMessageSelector from \"@/selectors/loading-message\";\r\n\r\nconst structuredSelector = {\r\n  loadingState,\r\n  loadingProgressMessageSelector\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { AppState } from \"@/state\";\r\n\r\nconst loadingProgressMessageSelector = (state: AppState) =>\r\n  state.loadingProgressMessage;\r\nexport default loadingProgressMessageSelector;\r\n","import SaveEditor from \"./SaveEditor\";\r\nexport default SaveEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport SelectedPathBreadcrumb from \"@/components/SelectedPathBreadcrumb\";\r\nimport ResizePanel from \"@/components/ResizePanel\";\r\n\r\nimport { getEditor } from \"./components/editors\";\r\n\r\nimport SaveEditorContainer from \"./components/SaveEditorContainer\";\r\nimport ContentContainer from \"./components/ContentContainer\";\r\nimport EditorContainer from \"./components/EditorContainer\";\r\n\r\nimport Sidebar from \"./components/Sidebar\";\r\nimport Separator from \"@/components/Separator\";\r\n\r\ntype Props = StateProps;\r\nclass SaveEditor extends React.Component<Props> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selectedPath: null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { editorType, editorProps } = this.props;\r\n\r\n    const ObjectEditor = getEditor(editorType);\r\n\r\n    return (\r\n      <SaveEditorContainer>\r\n        <ResizePanel>\r\n          <Sidebar />\r\n        </ResizePanel>\r\n        <ContentContainer>\r\n          <SelectedPathBreadcrumb />\r\n          <Separator width=\"100%\" />\r\n          <EditorContainer>\r\n            <ObjectEditor {...editorProps} />\r\n          </EditorContainer>\r\n        </ContentContainer>\r\n      </SaveEditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(SaveEditor);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport {\r\n  getSaveItemEditor,\r\n  getSaveItemEditorProps\r\n} from \"@/services/save-structure\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\n\r\nconst stateSelectors = {\r\n  editorType: createSelector(\r\n    oniSave,\r\n    selectedPath,\r\n    (oniSave, selectedPath) =>\r\n      (oniSave && getSaveItemEditor(selectedPath, oniSave)) || null\r\n  ),\r\n  editorProps: createSelector(\r\n    oniSave,\r\n    selectedPath,\r\n    (oniSave, selectedPath) =>\r\n      oniSave && getSaveItemEditorProps(selectedPath, oniSave)\r\n  )\r\n};\r\nexport type StateProps = StructuredStateProps<typeof stateSelectors>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  stateSelectors\r\n);\r\nexport default mapStateToProps;\r\n","import {\r\n  SaveGame,\r\n  GameObjectBehavior,\r\n  GameObject,\r\n  GameObjectGroup\r\n} from \"oni-save-parser\";\r\n\r\nimport { get, isObject } from \"lodash-es\";\r\n\r\nimport { EditMode, SaveItemBreadcrumb } from \"./types\";\r\n\r\nimport {\r\n  SaveStructureDef,\r\n  getSaveStructureDef,\r\n  walkSaveStructurePath\r\n} from \"./structure\";\r\n\r\nconst GAME_OBJECT_GROUP_PATH_ROOT = [\"gameObjects\", \"*\"];\r\nexport function getPathGameObjectGroup(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): GameObjectGroup | null {\r\n  if (path.length < GAME_OBJECT_GROUP_PATH_ROOT.length) {\r\n    return null;\r\n  }\r\n\r\n  path = path.slice(0, GAME_OBJECT_GROUP_PATH_ROOT.length);\r\n\r\n  if (\r\n    !path.every((x, i) => comparePathMatch(x, i, GAME_OBJECT_GROUP_PATH_ROOT))\r\n  ) {\r\n    return null;\r\n  }\r\n\r\n  return get(saveGame, path);\r\n}\r\n\r\nconst GAME_OBJECT_PATH_ROOT = [\"gameObjects\", \"*\", \"gameObject\", \"*\"];\r\nexport function getPathGameObject(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): GameObject | null {\r\n  if (path.length < GAME_OBJECT_PATH_ROOT.length) {\r\n    return null;\r\n  }\r\n\r\n  path = path.slice(0, GAME_OBJECT_PATH_ROOT.length);\r\n\r\n  if (!path.every((x, i) => comparePathMatch(x, i, GAME_OBJECT_PATH_ROOT))) {\r\n    return null;\r\n  }\r\n\r\n  return get(saveGame, path);\r\n}\r\n\r\nconst GAME_OBJECT_BEHAVIOR_PATH_ROOT = [\r\n  \"gameObjects\",\r\n  \"*\",\r\n  \"gameObject\",\r\n  \"*\",\r\n  \"behaviors\",\r\n  \"*\"\r\n];\r\nexport function getPathBehavior(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): GameObjectBehavior | null {\r\n  if (path.length < GAME_OBJECT_BEHAVIOR_PATH_ROOT.length) {\r\n    return null;\r\n  }\r\n\r\n  path = path.slice(0, GAME_OBJECT_BEHAVIOR_PATH_ROOT.length);\r\n\r\n  if (\r\n    !path.every((x, i) =>\r\n      comparePathMatch(x, i, GAME_OBJECT_BEHAVIOR_PATH_ROOT)\r\n    )\r\n  ) {\r\n    return null;\r\n  }\r\n\r\n  return get(saveGame, path);\r\n}\r\n\r\nfunction comparePathMatch(part: string, index: number, match: string[]) {\r\n  if (match[index] === \"*\") return true;\r\n  if (part === match[index]) return true;\r\n  return false;\r\n}\r\n\r\nexport function getSaveItemTitle(path: string[], saveGame: SaveGame): string {\r\n  const def = getSaveStructureDef(path, saveGame);\r\n  let nameSource: string | false | undefined;\r\n  if (def) {\r\n    const nameProducer = def.$uiPathName;\r\n    if (typeof nameProducer === \"function\") {\r\n      const value = path.length > 0 ? get(saveGame, path) : saveGame;\r\n      nameSource = nameProducer(value, path, saveGame);\r\n    } else if (typeof nameProducer === \"string\") {\r\n      nameSource = nameProducer;\r\n    }\r\n  }\r\n\r\n  // TODO: Object might opt out of a path entry with uiPathName: false\r\n  //  What do we do in this case?\r\n  //  For now, we just return the absolute path.\r\n  return nameSource || path[path.length - 1];\r\n}\r\n\r\nexport function getSaveItemBreadcrumb(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): SaveItemBreadcrumb[] {\r\n  const breadcrumbs: SaveItemBreadcrumb[] = [];\r\n  for (const structurePath of walkSaveStructurePath(path, saveGame)) {\r\n    const { def, path: defPath } = structurePath;\r\n    let title: string | false = false;\r\n    const nameProducer = def.$uiPathName;\r\n    if (typeof nameProducer === \"function\") {\r\n      const value = defPath.length > 0 ? get(saveGame, defPath) : saveGame;\r\n      title = nameProducer(value, defPath, saveGame) || false;\r\n    } else if (typeof nameProducer === \"string\") {\r\n      title = nameProducer;\r\n    } else if (nameProducer === false) {\r\n      // Opting out of a path entry.\r\n      continue;\r\n    } else {\r\n      title = defPath[defPath.length - 1];\r\n    }\r\n\r\n    if (title) {\r\n      breadcrumbs.push({\r\n        title,\r\n        path: defPath\r\n      });\r\n    }\r\n  }\r\n\r\n  return breadcrumbs;\r\n}\r\n\r\nexport function getSaveItemEditValue(path: string[], saveGame: SaveGame) {\r\n  return path.length > 0 ? get(saveGame, path) : saveGame;\r\n}\r\n\r\nexport function getSaveItemChildPaths(\r\n  path: string[],\r\n  saveGame: SaveGame,\r\n  editMode: EditMode\r\n): string[][] {\r\n  const def = getSaveStructureDef(path, saveGame);\r\n  const childPaths = collectChildPaths(path, saveGame, def, editMode);\r\n  return childPaths;\r\n}\r\n\r\nexport function getSaveItemEditor(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): string | null {\r\n  const def = getSaveStructureDef(path, saveGame);\r\n  return (def && def.$editor) || null;\r\n}\r\n\r\nexport function getSaveItemEditorProps(\r\n  path: string[],\r\n  saveGame: SaveGame\r\n): Record<string, any> {\r\n  const def = getSaveStructureDef(path, saveGame);\r\n  if (!def || !def.$editor) {\r\n    return {};\r\n  }\r\n\r\n  const propFactory = def.$editorProps;\r\n  if (!propFactory) {\r\n    return {};\r\n  }\r\n\r\n  const value = path.length > 0 ? get(saveGame, path) : saveGame;\r\n  return propFactory(value, path, saveGame);\r\n}\r\n\r\n/**\r\n * Determine the child values for the given value.\r\n * @param saveGamePath The path to the value whose children to determine\r\n * @param oniSave The oni save game structure\r\n * @param def The definition of the value whose children to determine\r\n * @param editMode The current edit mode.\r\n * @returns A collection of absolute save game paths for the child values of this value.\r\n */\r\nfunction collectChildPaths(\r\n  saveGamePath: string[],\r\n  oniSave: SaveGame,\r\n  def: SaveStructureDef | null,\r\n  editMode: EditMode\r\n): string[][] {\r\n  let uiChildren = def ? def.$uiChildren : null;\r\n\r\n  const value = saveGamePath.length > 0 ? get(oniSave, saveGamePath) : oniSave;\r\n\r\n  if (typeof uiChildren === \"function\") {\r\n    uiChildren = uiChildren(value);\r\n  }\r\n\r\n  if (uiChildren === false) {\r\n    // Explicitly no children.\r\n    return [];\r\n  }\r\n\r\n  if (uiChildren == null && def) {\r\n    // TODO: Not sure if this is a good idea, trying it out.\r\n    // Explicit structure children are candidates for children.\r\n\r\n    // Only process def if it is not advanced, or we are in advanced mode.\r\n    // Determine the save structure keys we can work off of.\r\n    const defKeys: string[] = Object.keys(def).filter(x => x[0] !== \"$\");\r\n    if (defKeys.indexOf(\"*\") !== -1) {\r\n      // Def knows about all child keys.  Probably an array or map.\r\n      uiChildren = Object.keys(value).map(x => [x]);\r\n    } else if (defKeys.length > 0) {\r\n      // We have known child keys, offer them up.\r\n      uiChildren = defKeys.map(x => [x]);\r\n    }\r\n  }\r\n\r\n  // Failed to find any children, attempt to auto-determine them.\r\n  if (uiChildren == null) {\r\n    uiChildren = collectAutoChildPaths(saveGamePath, oniSave, editMode);\r\n  }\r\n\r\n  // Make the path absolute\r\n  uiChildren = uiChildren ? uiChildren.map(x => [...saveGamePath, ...x]) : [];\r\n\r\n  if (uiChildren) {\r\n    // Check for editMode visibility.\r\n    uiChildren = uiChildren.filter(path => {\r\n      const childValue = get(oniSave, path);\r\n      const childDef = getSaveStructureDef(path, oniSave);\r\n      return checkEditMode(childValue, childDef, editMode);\r\n    });\r\n  }\r\n\r\n  return uiChildren;\r\n}\r\n\r\nfunction checkEditMode(\r\n  value: any,\r\n  def: SaveStructureDef | null,\r\n  editMode: EditMode\r\n): boolean {\r\n  if (editMode === \"advanced\") {\r\n    return true;\r\n  }\r\n\r\n  // Unknown objects are implicitly advanced.\r\n  let advancedProducer = def ? def.$advanced : true;\r\n  let advanced: boolean;\r\n  if (typeof advancedProducer === \"boolean\") {\r\n    advanced = advancedProducer;\r\n  } else if (typeof advancedProducer === \"function\") {\r\n    advanced = advancedProducer(value);\r\n  } else {\r\n    advanced = false;\r\n  }\r\n\r\n  return !advanced;\r\n}\r\n\r\nfunction collectAutoChildPaths(\r\n  saveGamePath: string[],\r\n  oniSave: SaveGame,\r\n  editMode: EditMode\r\n): string[][] {\r\n  if (editMode !== \"advanced\") {\r\n    // Do not auto-determine anything when not in advanced mode.\r\n    return [];\r\n  }\r\n\r\n  const value = saveGamePath.length > 0 ? get(oniSave, saveGamePath) : oniSave;\r\n  let uiChildren: string[][] | null = null;\r\n  if (isObject(value)) {\r\n    // Target is an object, offer up all child objects.\r\n    uiChildren = Object.keys(value)\r\n      .filter(x => isImplicitChild(value[x]))\r\n      .map(x => [x]);\r\n  } else if (Array.isArray(value)) {\r\n    // Target is an array, offer up all array items.\r\n    uiChildren = value.filter(isImplicitChild).map((_, i) => [`${i}`]);\r\n  }\r\n\r\n  return uiChildren || [];\r\n}\r\n\r\nfunction isImplicitChild(value: any): boolean {\r\n  return isObject(value);\r\n}\r\n","export * from \"./root\";\r\nexport * from \"./types\";\r\nexport * from \"./utils\";\r\n\r\nimport saveStructure from \"./root\";\r\nexport default saveStructure;\r\n","import { GameObjectGroup, SaveGame } from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../types\";\r\n\r\nimport { createGameObjectVariants } from \"./gameObjectTypes\";\r\n\r\nconst gameObjectGroupsStructure: SaveStructureDef<GameObjectGroup> = {\r\n  $uiPathName(group: GameObjectGroup) {\r\n    return group.name;\r\n  },\r\n\r\n  $uiChildren(group: GameObjectGroup) {\r\n    return group.gameObjects.map((_, i) => [\"gameObjects\", `${i}`]);\r\n  },\r\n\r\n  $editor: \"game-object-list\",\r\n\r\n  // We want to handle each game object type uniquely,\r\n  //  but their uniqueness is keyed off the name of this group.\r\n  // To handle this, we provide variants that match off the group's name.\r\n  $variants: createGameObjectVariants([\"gameObjects\", \"*\"])\r\n};\r\n\r\nconst gameObjectsStructure: SaveStructureDef<SaveGame[\"gameObjects\"]> = {\r\n  $editor: \"game-object-group-list\",\r\n\r\n  // gameObjects is an array, so we use the fallback key to\r\n  //  handle all items.\r\n  \"*\": gameObjectGroupsStructure\r\n};\r\nexport default gameObjectsStructure;\r\n","import { set } from \"lodash-es\";\r\n\r\nimport { gameObjectIs } from \"../../matchers\";\r\nimport { SaveStructureDef } from \"../../types\";\r\n\r\nimport * as minion from \"./minion\";\r\n\r\nimport { defaultGameObject } from \"./default\";\r\n\r\nconst gameObjectVariantInfo = [minion];\r\n\r\nexport function createGameObjectVariants(\r\n  gameObjectPath: string[] | null\r\n): SaveStructureDef<{}>[] {\r\n  const defaultVariant: SaveStructureDef<{}> = {\r\n    $advanced: true\r\n  };\r\n  setStructure(defaultVariant, gameObjectPath, defaultGameObject);\r\n\r\n  const variants = gameObjectVariantInfo.map(info => {\r\n    const rootVariant: SaveStructureDef<{}> = {\r\n      $match: gameObjectIs(info.gameObjectName)\r\n    };\r\n    setStructure(rootVariant, gameObjectPath, info.gameObjectStructure);\r\n    return rootVariant;\r\n  });\r\n\r\n  // Add default as last item\r\n  variants.push(defaultVariant);\r\n  return variants;\r\n}\r\n\r\nfunction setStructure(\r\n  obj: any,\r\n  path: string[] | null,\r\n  structure: SaveStructureDef\r\n) {\r\n  if (path && path.length > 0) {\r\n    // Collapse the intermediate paths.\r\n    for (let i = 1; i < path.length; i++) {\r\n      set(obj, [...path.slice(0, i), \"$uiPathName\"], false);\r\n    }\r\n    set(obj, path, structure);\r\n  } else {\r\n    // Use a one-value rootVariant to ensure we get a reference,\r\n    //  to mantain recursive support.\r\n    obj.$variants = [structure];\r\n  }\r\n}\r\n","import {\r\n  GameObject,\r\n  MinionIdentityBehavior,\r\n  getBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\n\r\nimport { defaultGameObject } from \"./default\";\r\n\r\nconst minionGameObject: SaveStructureDef<GameObject> = {\r\n  ...defaultGameObject,\r\n\r\n  $editor: \"game-object-minion\",\r\n\r\n  $uiPathName: (obj: GameObject) => {\r\n    const identityBehavior = getBehavior(obj, MinionIdentityBehavior);\r\n    const name =\r\n      (identityBehavior &&\r\n        identityBehavior.templateData &&\r\n        identityBehavior.templateData.name) ||\r\n      \"[malformed]\";\r\n    return name;\r\n  }\r\n};\r\n\r\nexport const gameObjectName = \"Minion\";\r\nexport const gameObjectStructure = minionGameObject;\r\n\r\nexport default minionGameObject;\r\n","import { GameObjectBehavior } from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../../../structure\";\r\n\r\nimport { defaultBehavior } from \"./default\";\r\nimport { primaryElementBehavior } from \"./primary-element\";\r\nimport { storageBehavior } from \"./storage\";\r\n\r\nconst behavior: SaveStructureDef<GameObjectBehavior> = {\r\n  $variants: [storageBehavior, primaryElementBehavior, defaultBehavior]\r\n};\r\nexport default behavior;\r\n","import { PrimaryElementBehavior } from \"oni-save-parser\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\nimport { behaviorIs } from \"../../matchers\";\r\n\r\nimport { defaultBehavior } from \"./default\";\r\n\r\nexport const primaryElementBehavior: SaveStructureDef<\r\n  PrimaryElementBehavior\r\n> = {\r\n  ...defaultBehavior,\r\n  $match: behaviorIs(PrimaryElementBehavior)\r\n};\r\n","import { StorageBehavior, StoredGameObject } from \"oni-save-parser\";\r\n\r\nimport { forEach, isObject } from \"lodash-es\";\r\n\r\nimport { SaveStructureDef } from \"../../types\";\r\nimport { behaviorIs } from \"../../matchers\";\r\n\r\nimport { defaultBehavior } from \"./default\";\r\n\r\nconst storageBehaviorExtraData: SaveStructureDef<\r\n  StorageBehavior[\"extraData\"]\r\n> = {\r\n  $uiPathName: false,\r\n\r\n  $editor: \"game-object-list\",\r\n\r\n  \"*\": {\r\n    $editor: \"game-object-default\",\r\n    $uiPathName(obj: StoredGameObject, path: string[]) {\r\n      const index = path[path.length - 1];\r\n      return `${index}: ${obj.name}`;\r\n    },\r\n    $variants: []\r\n  }\r\n};\r\n// TODO: Recurse into behavior editors.\r\n//  Cannot do this currently because we are executing this file to build behaviors for initializing the createGameObjectVariants file.\r\n// storageBehaviorExtraData[\"*\"]!.$variants = createGameObjectVariants(null);\r\n\r\nexport const storageBehavior: SaveStructureDef<StorageBehavior> = {\r\n  ...(defaultBehavior as any),\r\n\r\n  $match: behaviorIs(StorageBehavior),\r\n\r\n  $uiChildren(behavior: StorageBehavior) {\r\n    const children: string[][] = [];\r\n    if (\r\n      behavior.templateData &&\r\n      Object.keys(behavior.templateData).length > 0\r\n    ) {\r\n      forEach(behavior.templateData, (_, key) => {\r\n        // Have to wipe the type here because lodash is being obstinate.\r\n        //  It explicitly calls out that key must be string because 'the type may have properties not defined in the type'.\r\n        //  Not sure why we have a type system if we aren't going to bother using it.\r\n        if (isObject((behavior.templateData as any)[key])) {\r\n          // As of the CU, all of these fields are value fields,\r\n          //  so this does not execute.\r\n          // Leaving it in for future-proofing.\r\n          children.push([\"templateData\", key]);\r\n        }\r\n      });\r\n    }\r\n\r\n    if (behavior.extraData) {\r\n      // extraData is aray of gameObjects stored in this storage.\r\n      forEach(behavior.extraData, (_, key) => {\r\n        children.push([\"extraData\", `${key}`]);\r\n      });\r\n    }\r\n    return children.length > 0 ? children : false;\r\n  },\r\n\r\n  extraData: storageBehaviorExtraData\r\n};\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { isObject } from \"lodash-es\";\r\n\r\nimport saveStructure from \"./root\";\r\nimport { SaveStructureDef } from \"./types\";\r\n\r\nexport function getSaveStructureDef(\r\n  saveGamePath: string[],\r\n  save: SaveGame\r\n): SaveStructureDef | null {\r\n  // TODO: Seems like there would be a builtin utility for this\r\n  const iter = walkSaveStructurePath(saveGamePath, save);\r\n  let result: IteratorResult<any>;\r\n  do {\r\n    result = iter.next();\r\n  } while (!result.done);\r\n  return result.value;\r\n}\r\n\r\n/**\r\n * Walks through a path of a save game, returning the save structure objects in order.\r\n * @param saveGamePath The path to walk the save structure tree to\r\n * @param saveGame The save game to walk.\r\n */\r\nexport function* walkSaveStructurePath(\r\n  saveGamePath: string[],\r\n  saveGame: SaveGame\r\n): IterableIterator<{ def: SaveStructureDef; path: string[] }> {\r\n  let structure: SaveStructureDef = saveStructure;\r\n  let value: any = saveGame;\r\n\r\n  yield {\r\n    def: saveStructure,\r\n    path: []\r\n  };\r\n\r\n  for (let i = 0; i < saveGamePath.length; i++) {\r\n    const key = saveGamePath[i];\r\n\r\n    let subStructure: SaveStructureDef | undefined;\r\n    if (isObject(structure)) {\r\n      subStructure =\r\n        Object.keys(structure).indexOf(key) !== -1\r\n          ? structure[key]\r\n          : structure[\"*\"];\r\n    }\r\n\r\n    if (!subStructure) {\r\n      return null;\r\n    }\r\n\r\n    // Pick the value before searching for variants.\r\n    value = value[key];\r\n\r\n    // Try to pick a variant if possible.\r\n    if (subStructure.$variants) {\r\n      const variant = subStructure.$variants.find(\r\n        x => !x.$match || x.$match(value)\r\n      );\r\n      if (variant) {\r\n        subStructure = {\r\n          ...subStructure,\r\n          ...variant\r\n        } as SaveStructureDef;\r\n      }\r\n    }\r\n\r\n    structure = subStructure;\r\n\r\n    yield {\r\n      def: structure,\r\n      path: saveGamePath.slice(0, i + 1)\r\n    };\r\n  }\r\n\r\n  return structure;\r\n}\r\n\r\n// export function getChildStructures(def: SaveStructureDef): SaveStructureDef[] {\r\n//   return Object.keys(def)\r\n//     .filter(x => x[0] !== \"$\")\r\n//     .map(x => def[x]) as SaveStructureDef[];\r\n// }\r\n","import SelectedPathBreadcrumb from \"./SelectedPathBreadcrumb\";\r\nexport default SelectedPathBreadcrumb;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\n\r\nimport BreadcrumbContainer from \"./components/BreadcrumbContainer\";\r\n\r\ntype Props = StateProps;\r\nclass SelectedPathBreadcrumb extends React.Component<Props> {\r\n  render() {\r\n    const { breadcrumb } = this.props;\r\n    let links: React.ReactNode[] = [];\r\n    for (let i = 0; i < breadcrumb.length; i++) {\r\n      let isFinal = i + 1 === breadcrumb.length;\r\n      const x = breadcrumb[i];\r\n      const key = x.path.join(\".\");\r\n      links.push(\r\n        <SaveStructureLink\r\n          intent={isFinal ? Intent.Primary : Intent.Secondary}\r\n          key={key}\r\n          path={x.path}\r\n        >\r\n          {x.title}\r\n        </SaveStructureLink>\r\n      );\r\n      if (!isFinal) {\r\n        links.push(<Text key={`${key}:sep`}>{\" > \"}</Text>);\r\n      }\r\n    }\r\n    return <BreadcrumbContainer>{links}</BreadcrumbContainer>;\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(SelectedPathBreadcrumb);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport breadcrumb from \"@/selectors/selected-path-breadcrumb\";\r\n\r\nconst structuredSelector = {\r\n  breadcrumb\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { createSelector } from \"reselect\";\r\n\r\nimport { getSaveItemBreadcrumb } from \"@/services/save-structure\";\r\n\r\nimport selectedPath from \"./selected-path\";\r\nimport oniSave from \"./oni-save\";\r\n\r\nconst selectedPathBreadcrumbSelector = createSelector(\r\n  selectedPath,\r\n  oniSave,\r\n  (selectedPath, oniSave) =>\r\n    oniSave ? getSaveItemBreadcrumb(selectedPath, oniSave) : []\r\n);\r\nexport default selectedPathBreadcrumbSelector;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport styled from \"@/style\";\r\n\r\nimport { LinkProps, link } from \"@/style\";\r\n\r\nimport { SaveStructureLinkProps } from \"./props\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\ntype Props = SaveStructureLinkProps & DispatchProps;\r\nclass SaveStructureLink extends React.Component<Props> {\r\n  render() {\r\n    const { intent, children } = this.props;\r\n    return (\r\n      <Link intent={intent} onClick={this._onClick}>\r\n        {children}\r\n      </Link>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onClick() {\r\n    const { path, onClick } = this.props;\r\n    onClick(path);\r\n  }\r\n}\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(SaveStructureLink);\r\n\r\nconst Link = styled<LinkProps, \"span\">(\"span\")`\r\n  ${link};\r\n`;\r\n","import { selectPath } from \"@/actions/select-path\";\r\n\r\nconst mapDispatchToProps = {\r\n  onClick: selectPath\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import styled, { Space } from \"@/style\";\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst BreadcrumbContainer = styled.div`\r\n  margin-bottom: ${props => getTheme(props).space[Space.Small]}px;\r\n`;\r\nBreadcrumbContainer.displayName = \"BreadcrumbContainer\";\r\nexport default BreadcrumbContainer;\r\n","import ResizePanel from \"./ResizePanel\";\r\nexport default ResizePanel;\r\n","import * as React from \"react\";\r\n\r\nimport { HeightProps, height } from \"styled-system\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport ResizeHandle from \"./components/ResizeHandle\";\r\nimport styled from \"@/style\";\r\n\r\nexport interface ResizePanelProps extends HeightProps {\r\n  className?: string;\r\n  defaultWidth?: number;\r\n}\r\ninterface State {\r\n  width: number;\r\n}\r\ntype Props = ResizePanelProps;\r\nclass ResizePanel extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      width: props.defaultWidth || 300\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { className, children } = this.props;\r\n    const { width } = this.state;\r\n    // TODO: too many wrapping divs.\r\n    //  Provide a way to apply flex to an existing item.\r\n    return (\r\n      <Flex className={className} direction=\"row\">\r\n        <Flex.Item style={{ width }}>{children}</Flex.Item>\r\n        <Flex.Item>\r\n          <ResizeHandle onResize={this._onResize} />\r\n        </Flex.Item>\r\n      </Flex>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onResize(delta: number) {\r\n    this.setState(s => ({\r\n      width: s.width + delta\r\n    }));\r\n  }\r\n}\r\n\r\nexport default styled(ResizePanel)`\r\n  ${height};\r\n`;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { DraggableCore, DraggableData } from \"react-draggable\";\r\n\r\nimport ResizeHandleVisual from \"./ResizeHandleVisual\";\r\n\r\nexport interface ResizeHandleProps {\r\n  onResize(delta: number): void;\r\n}\r\n\r\ntype Props = ResizeHandleProps;\r\ninterface State {\r\n  isResizing: boolean;\r\n}\r\nclass ResizeHandle extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      isResizing: false\r\n    };\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <DraggableCore\r\n        onStart={this._onStart}\r\n        onStop={this._onStop}\r\n        onDrag={this._onDrag}\r\n      >\r\n        <ResizeHandleVisual isResizing={this.state.isResizing} />\r\n      </DraggableCore>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onDrag(e: MouseEvent, d: DraggableData) {\r\n    const { onResize } = this.props;\r\n    onResize(d.deltaX);\r\n  }\r\n\r\n  @autobind()\r\n  private _onStart() {\r\n    this.setState({\r\n      isResizing: true\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _onStop() {\r\n    this.setState({\r\n      isResizing: false\r\n    });\r\n  }\r\n}\r\nexport default ResizeHandle;\r\n","import styled, { Intent, intentFill, getThemeColor, Color } from \"@/style\";\r\n\r\nexport interface ResizeHandleVisualProps {\r\n  isResizing: boolean;\r\n}\r\nconst ResizeHandleVisual = styled<ResizeHandleVisualProps, \"div\">(\"div\")`\r\n  width: 4px;\r\n  height: 100%;\r\n  background-color: ${props =>\r\n    getThemeColor(\r\n      props.isResizing ? Color.PrimaryIntent : Color.DefaultSeparator\r\n    )};\r\n  flex: none;\r\n  cursor: ew-resize;\r\n\r\n  :hover {\r\n    ${intentFill.of(Intent.Primary)};\r\n  }\r\n`;\r\nexport default ResizeHandleVisual;\r\n","import DefaultObjectEditor from \"./DefaultObjectEditor\";\r\n\r\nimport SaveRootEditor from \"./SaveRootEditor\";\r\nimport TemplateObjectEditor from \"./TemplateObjectEditor\";\r\nimport GameObjectGroupList from \"./GameObjectGroupList\";\r\nimport GameObjectList from \"./GameObjectList\";\r\n\r\nimport DefaultGameObjectEditor from \"./game-objects/DefaultGameObjectEditor\";\r\nimport MinionEditor from \"./game-objects/MinionEditor\";\r\n\r\nconst editors: Record<string, React.ComponentClass<any>> = {\r\n  \"save-root\": SaveRootEditor,\r\n  \"game-object-group-list\": GameObjectGroupList,\r\n  \"game-object-list\": GameObjectList,\r\n  \"template-object\": TemplateObjectEditor,\r\n  \"game-object-default\": DefaultGameObjectEditor,\r\n  \"game-object-minion\": MinionEditor\r\n};\r\n\r\nexport function getEditor(\r\n  editorType: string | null\r\n): React.ComponentClass<any> {\r\n  if (!editorType) {\r\n    return DefaultObjectEditor;\r\n  }\r\n\r\n  return editors[editorType] || DefaultObjectEditor;\r\n}\r\n","import DefaultObjectEditor from \"./DefaultObjectEditor\";\r\nexport default DefaultObjectEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Text from \"@/components/Text\";\r\n\r\nimport DefaultObjectEditorContainer from \"./components/DefaultObjectEditorContainer\";\r\n\r\nimport EditorField from \"./components/EditorField\";\r\n\r\nimport mapStateToProps, { StateProps, FieldRow } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nconst TH = Text.withComponent(\"th\");\r\nconst TD = Text.withComponent(\"td\");\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass DefaultObjectEditor extends React.Component<Props> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { fields } = this.props;\r\n\r\n    const fieldElements = fields.map(field => this._renderFieldRow(field));\r\n\r\n    return (\r\n      <DefaultObjectEditorContainer>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <TH>Name</TH>\r\n              <TH>Value</TH>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{fieldElements}</tbody>\r\n        </table>\r\n      </DefaultObjectEditorContainer>\r\n    );\r\n  }\r\n\r\n  private _renderFieldRow(field: FieldRow) {\r\n    const { title, key, value } = field;\r\n    return (\r\n      <tr key={key}>\r\n        <TD>{title}</TD>\r\n        <TD>\r\n          <EditorField\r\n            propKey={key}\r\n            value={value}\r\n            onChange={this._onFieldChange}\r\n          />\r\n        </TD>\r\n      </tr>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onFieldChange(key: string, value: any) {\r\n    const { selectedPath, onModify } = this.props;\r\n    onModify([...selectedPath, key], value);\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(DefaultObjectEditor);\r\n","import styled from \"@/style\";\r\n\r\nconst DefaultObjectEditorContainer = styled.div``;\r\nDefaultObjectEditorContainer.displayName = \"DefaultObjectEditorContainer\";\r\nexport default DefaultObjectEditorContainer;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nexport interface EditorFieldProps {\r\n  propKey: string;\r\n  value: any;\r\n  onChange(propKey: string, value: any): void;\r\n}\r\nexport default class EditorField extends React.Component<EditorFieldProps> {\r\n  render() {\r\n    const { value } = this.props;\r\n    return (\r\n      <input\r\n        type=\"text\"\r\n        onChange={this._onChange}\r\n        value={JSON.stringify(value)}\r\n      />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const { propKey, onChange } = this.props;\r\n    const value = e.target.value;\r\n    try {\r\n      const parsedValue = JSON.parse(value);\r\n      onChange(propKey, parsedValue);\r\n    } catch {}\r\n  }\r\n}\r\n","import { createSelector, createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport selectedPath from \"@/selectors/selected-path\";\r\nimport selectedValue from \"@/selectors/selected-value\";\r\n\r\nexport interface FieldEditable {\r\n  title: string;\r\n  key: string;\r\n  value: any;\r\n}\r\nexport type FieldRow = FieldEditable;\r\n\r\nconst fields = createSelector(\r\n  selectedValue,\r\n  (selectedValue): FieldRow[] => {\r\n    if (!selectedValue) {\r\n      return [];\r\n    }\r\n\r\n    if (isPrimitive(selectedValue)) {\r\n      // Cannot edit things in a primitive.\r\n      return [];\r\n    }\r\n\r\n    return Object.keys(selectedValue)\r\n      .filter(key => isPrimitive(selectedValue[key]))\r\n      .map(key => {\r\n        const value = selectedValue[key];\r\n        const editable: FieldEditable = {\r\n          title: key,\r\n          key,\r\n          value\r\n        };\r\n        return editable;\r\n      });\r\n  }\r\n);\r\n\r\nconst structuredSelectors = {\r\n  selectedPath,\r\n  fields\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelectors>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelectors\r\n);\r\nexport default mapStateToProps;\r\n\r\nconst primitiveTypes = [\"string\", \"number\", \"boolean\"];\r\nfunction isPrimitive(val: any) {\r\n  const valType = typeof val;\r\n  return primitiveTypes.indexOf(valType) !== -1;\r\n}\r\n","import { modifyOniSave } from \"@/actions/modify-onisave\";\r\n\r\nconst mapDispatchToProps = {\r\n  onModify: modifyOniSave\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import SaveRootEditor from \"./SaveRootEditor\";\r\nexport default SaveRootEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport InfoText from \"@/components/InfoText\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport SaveRootEditorContainer from \"./components/SaveRootEditorContainer\";\r\n\r\nimport SaveGameTitle from \"./components/SaveGameTitle\";\r\nimport DuplicantsList from \"./components/DuplicantsList\";\r\n\r\ntype Props = StateProps;\r\nclass SaveRootEditor extends React.Component<Props> {\r\n  render() {\r\n    const { oniSave } = this.props;\r\n    return (\r\n      <SaveRootEditorContainer>\r\n        {oniSave ? (\r\n          this._renderContent()\r\n        ) : (\r\n          <Text intent={Intent.Hint}>No Save Loaded</Text>\r\n        )}\r\n      </SaveRootEditorContainer>\r\n    );\r\n  }\r\n\r\n  private _renderContent() {\r\n    const oniSave = this.props.oniSave!;\r\n    const numGameObjects = oniSave.gameObjects.reduce(\r\n      (count, set) => count + set.gameObjects.length,\r\n      0\r\n    );\r\n    return (\r\n      <React.Fragment>\r\n        <SaveGameTitle intent={Intent.Primary}>\r\n          {oniSave.header.gameInfo.baseName}\r\n        </SaveGameTitle>\r\n        <InfoText value={oniSave.header.gameInfo.numberOfCycles}>\r\n          cycles\r\n        </InfoText>\r\n        <InfoText value={oniSave.header.gameInfo.numberOfDuplicants}>\r\n          duplicants\r\n        </InfoText>\r\n        <InfoText value={numGameObjects}>game objects</InfoText>\r\n        <DuplicantsList />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(SaveRootEditor);\r\n","import * as React from \"react\";\r\n\r\nimport Text from \"./Text\";\r\nimport { Intent } from \"@/style\";\r\n\r\nexport interface InfoTextProps {\r\n  value: any;\r\n  pluralize?: boolean;\r\n}\r\n\r\nconst InfoText: React.SFC<InfoTextProps> = ({ value, children }) => (\r\n  <div>\r\n    <Text intent={Intent.Secondary}>{value}</Text> <Text>{children}</Text>\r\n  </div>\r\n);\r\nexport default InfoText;\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nconst structuredSelector = {\r\n  oniSave\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import styled from \"@/style\";\r\n\r\nconst SaveRootEditorContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n`;\r\nSaveRootEditorContainer.displayName = \"SaveRootEditorContainer\";\r\nexport default SaveRootEditorContainer;\r\n","import Text from \"@/components/Text\";\r\n\r\nconst SaveGameTitle = Text.withComponent(\"h3\").extend`\r\n  margin-top: 0;\r\n`;\r\nSaveGameTitle.displayName = \"SaveGameTitle\";\r\nexport default SaveGameTitle;\r\n","import DuplicantsList from \"./DuplicantsList\";\r\nexport default DuplicantsList;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\n\r\nimport DuplicantPortrait from \"./components/DuplicantPortrait\";\r\nimport DuplicantsListContainer from \"./components/DuplicantsListContainer\";\r\nimport DuplicantsListContent from \"./components/DuplicantsListContent\";\r\n\r\ntype Props = StateProps;\r\nclass DuplicantsList extends React.Component<Props> {\r\n  render() {\r\n    const { duplicantsSetPath, duplicantIndexes } = this.props;\r\n    if (!duplicantsSetPath || !duplicantIndexes) {\r\n      return \"Malformed Data\";\r\n    }\r\n\r\n    const duplicantPortraits = duplicantIndexes.map(x => (\r\n      <DuplicantPortrait key={x} gameObjectIndex={x} />\r\n    ));\r\n\r\n    return (\r\n      <DuplicantsListContainer>\r\n        <SaveStructureLink intent={Intent.Primary} path={duplicantsSetPath}>\r\n          Duplicants\r\n        </SaveStructureLink>\r\n        <DuplicantsListContent>{duplicantPortraits}</DuplicantsListContent>\r\n      </DuplicantsListContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(DuplicantsList);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { range } from \"lodash-es\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nconst duplicantsSetPath = createSelector(oniSave, oniSave => {\r\n  if (!oniSave) {\r\n    return null;\r\n  }\r\n  const index = oniSave.gameObjects.findIndex(x => x.name === \"Minion\");\r\n  if (index === -1) {\r\n    return null;\r\n  }\r\n  return [\"gameObjects\", `${index}`];\r\n});\r\n\r\nconst duplicantIndexes = createSelector(oniSave, oniSave => {\r\n  if (!oniSave) {\r\n    return [];\r\n  }\r\n  const minionSet = oniSave.gameObjects.find(x => x.name === \"Minion\");\r\n  if (!minionSet) {\r\n    return [];\r\n  }\r\n  return range(minionSet.gameObjects.length);\r\n});\r\n\r\nconst structuredSelector = {\r\n  duplicantsSetPath,\r\n  duplicantIndexes\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import DuplicantPortrait from \"./DuplicantPortrait\";\r\nexport default DuplicantPortrait;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport { DuplicantPortraitProps } from \"./props\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\nimport Portrait from \"@/components/Portrait\";\r\n\r\ntype Props = DuplicantPortraitProps & StateProps;\r\nclass DuplicantPortrait extends React.Component<Props> {\r\n  render() {\r\n    const { path, name, gender, arrivalCycle } = this.props;\r\n    return (\r\n      <Portrait>\r\n        <Portrait.Header>\r\n          {path ? (\r\n            <SaveStructureLink intent={Intent.Primary} path={path}>\r\n              {name}\r\n            </SaveStructureLink>\r\n          ) : (\r\n            \"Invalid Object\"\r\n          )}\r\n        </Portrait.Header>\r\n        <Portrait.Footer>\r\n          <div>\r\n            <Text intent={Intent.Secondary}>{gender}</Text>\r\n          </div>\r\n          <div>\r\n            <Text intent={Intent.Secondary}>{arrivalCycle} cycles old</Text>\r\n          </div>\r\n        </Portrait.Footer>\r\n      </Portrait>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(DuplicantPortrait);\r\n","import createCachedSelector from \"re-reselect\";\r\nimport { MinionIdentityBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nimport { DuplicantPortraitProps } from \"./props\";\r\n\r\nconst gameObjectIndex = (_: AppState, props: DuplicantPortraitProps) =>\r\n  props.gameObjectIndex;\r\n\r\nconst generateCacheKey = gameObjectIndex;\r\n\r\nconst gameObject = createCachedSelector(\r\n  oniSave,\r\n  gameObjectIndex,\r\n  (oniSave, gameObjectIndex) => {\r\n    if (!oniSave) {\r\n      return null;\r\n    }\r\n    const duplicants = oniSave.gameObjects.find(x => x.name === \"Minion\");\r\n    if (!duplicants) {\r\n      return null;\r\n    }\r\n\r\n    return duplicants.gameObjects[gameObjectIndex] || null;\r\n  }\r\n)(generateCacheKey);\r\n\r\nconst duplicantIdentity = createCachedSelector(gameObject, gameObject => {\r\n  if (!gameObject) {\r\n    return null;\r\n  }\r\n  const identBehavior = getBehavior(gameObject, MinionIdentityBehavior);\r\n  if (!identBehavior || !identBehavior.templateData) {\r\n    return null;\r\n  }\r\n  return identBehavior.templateData;\r\n})(generateCacheKey);\r\n\r\nconst path = (state: AppState, props: DuplicantPortraitProps) => {\r\n  const gameSave = oniSave(state);\r\n  if (!gameSave) {\r\n    return null;\r\n  }\r\n  const groupIndex = gameSave.gameObjects.findIndex(x => x.name === \"Minion\");\r\n  if (groupIndex === -1) {\r\n    return null;\r\n  }\r\n  const index = gameObjectIndex(state, props);\r\n  return [\"gameObjects\", `${groupIndex}`, \"gameObjects\", `${index}`];\r\n};\r\n\r\nconst name = (state: AppState, props: DuplicantPortraitProps) => {\r\n  const ident = duplicantIdentity(state, props);\r\n  return (ident && ident.name) || null;\r\n};\r\n\r\nconst gender = (state: AppState, props: DuplicantPortraitProps) => {\r\n  const ident = duplicantIdentity(state, props);\r\n  return (ident && ident.genderStringKey) || null;\r\n};\r\n\r\nconst arrivalCycle = (state: AppState, props: DuplicantPortraitProps) => {\r\n  const ident = duplicantIdentity(state, props);\r\n  return (ident && (ident.arrivalTime / 200).toFixed(1)) || null;\r\n};\r\n\r\nfunction mapStateToProps(state: AppState, props: DuplicantPortraitProps) {\r\n  return {\r\n    path: path(state, props),\r\n    name: name(state, props),\r\n    gender: gender(state, props),\r\n    arrivalCycle: arrivalCycle(state, props)\r\n  };\r\n}\r\nexport type StateProps = ReturnType<typeof mapStateToProps>;\r\nexport default mapStateToProps;\r\n","import styled, { Radius } from \"@/style\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { getTheme } from \"@/style\";\r\n\r\nimport Header from \"./PortraitHeader\";\r\nimport Footer from \"./PortraitFooter\";\r\n\r\nconst Portrait = styled.div`\r\n  border-radius: ${props => getTheme(props).radii[Radius.Small]}px;\r\n  background-color: ${props => getTheme(props).colors.bg.panel};\r\n  width: 150px;\r\n  height: 150px;\r\n  position: relative;\r\n  padding: 5px;\r\n  margin: 5px;\r\n  box-sizing: border-box;\r\n`;\r\nPortrait.displayName = \"Portrait\";\r\n\r\nexport default attachProps(Portrait, {\r\n  Header,\r\n  Footer\r\n});\r\n","import styled from \"@/style\";\r\n\r\nimport { TextProps, text } from \"@/style\";\r\n\r\nexport interface PortraitHeaderProps extends TextProps {}\r\nconst PortraitHeader = styled<TextProps, \"h4\">(\"h4\")`\r\n  ${text};\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  margin-top: 0;\r\n  margin-bottom: 2px;\r\n  text-align: center;\r\n`;\r\nPortraitHeader.displayName = \"PortraitHeader\";\r\nexport default PortraitHeader;\r\n","import styled from \"@/style\";\r\n\r\nimport { TextProps, text } from \"@/style\";\r\n\r\nconst PortraitFooter = styled.div`\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  margin-top: 2px;\r\n  text-align: center;\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n`;\r\nPortraitFooter.displayName = \"PortraitFooter\";\r\nexport default PortraitFooter;\r\n","import * as React from \"react\";\r\n\r\nimport { Space, Border, Color } from \"@/style\";\r\n\r\nimport Box from \"@/components/Box\";\r\n\r\nconst DuplicantsListContainer: React.SFC = ({ children }) => (\r\n  <Box\r\n    width=\"100%\"\r\n    mt={Space.Small}\r\n    p={Space.Small}\r\n    border={Border.Thick}\r\n    borderColor={Color.DefaultSeparator}\r\n  >\r\n    {children}\r\n  </Box>\r\n);\r\n\r\nDuplicantsListContainer.displayName = \"DuplicantsListContainer\";\r\nexport default DuplicantsListContainer;\r\n","import styled from \"@/style\";\r\n\r\nconst DuplicantsListContent = styled.div`\r\n  padding: 5px;\r\n  overflow-x: auto;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n`;\r\nDuplicantsListContent.displayName = \"DuplicantsListContent\";\r\nexport default DuplicantsListContent;\r\n","import TemplateObjectEditor from \"./TemplateObjectEditor\";\r\nexport default TemplateObjectEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport { TemplateObjectEditorProps } from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Text from \"@/components/Text\";\r\nconst TD = Text.withComponent(\"td\");\r\n\r\nimport TemplateObjectEditorContainer from \"./components/TemplateObjectEditorContainer\";\r\n\r\nimport getTypeInfoFieldComponent from \"../../fields/from-typeinfo\";\r\n\r\ntype Props = TemplateObjectEditorProps & StateProps;\r\nclass TemplateObjectEditor extends React.Component<Props> {\r\n  render() {\r\n    const { templateName, template, typeInfo, selectedPath } = this.props;\r\n\r\n    let content: JSX.Element;\r\n    if (template) {\r\n      const fieldRows = [\r\n        ...(template.fields || []),\r\n        ...(template.properties || [])\r\n      ].map(x => {\r\n        const FieldEditor = getTypeInfoFieldComponent(x.type, true);\r\n        return (\r\n          <tr key={x.name}>\r\n            <TD>{x.name}</TD>\r\n            <td>\r\n              <FieldEditor path={[...selectedPath, x.name]} />\r\n            </td>\r\n          </tr>\r\n        );\r\n      });\r\n\r\n      content = (\r\n        <table>\r\n          <tbody>{fieldRows}</tbody>\r\n        </table>\r\n      );\r\n    } else if (typeInfo) {\r\n      const FieldEditor = getTypeInfoFieldComponent(typeInfo);\r\n      content = <FieldEditor path={selectedPath} />;\r\n    } else {\r\n      content = <Text intent={Intent.Dangerous}>Unknown Editable</Text>;\r\n    }\r\n    return (\r\n      <TemplateObjectEditorContainer>\r\n        <Text.H4 intent={Intent.Primary}>{templateName}</Text.H4>\r\n        {content}\r\n      </TemplateObjectEditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(TemplateObjectEditor);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport {\r\n  LIST_TYPES,\r\n  getTypeCode,\r\n  SerializationTypeCode,\r\n  TypeInfo,\r\n  SerializationTypeInfo\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\n\r\nimport { TemplateObjectEditorProps } from \"./props\";\r\n\r\nconst templateName = (_: AppState, props: TemplateObjectEditorProps) =>\r\n  props.templateName;\r\n\r\nconst templatePath = (_: AppState, props: TemplateObjectEditorProps) =>\r\n  props.templatePath;\r\n\r\nconst valuePath = (state: AppState, props: TemplateObjectEditorProps) =>\r\n  props.valuePathHack || selectedPath(state);\r\n\r\nconst typeInfo = createSelector(\r\n  oniSave,\r\n  templateName,\r\n  templatePath,\r\n  (oniSave, templateName, templatePath) => {\r\n    if (!oniSave) {\r\n      return null;\r\n    }\r\n\r\n    let typeInfo: TypeInfo = {\r\n      info: SerializationTypeInfo.UserDefined,\r\n      templateName\r\n    };\r\n    let template = oniSave.templates.find(x => x.name === templateName);\r\n\r\n    for (let i = 0; i < templatePath.length; i++) {\r\n      const part = templatePath[i];\r\n\r\n      if (template == null) {\r\n        return null;\r\n      }\r\n\r\n      const member =\r\n        template.fields.find(x => x.name === part) ||\r\n        template.properties.find(x => x.name === part);\r\n      if (!member) {\r\n        return null;\r\n      }\r\n\r\n      typeInfo = member.type;\r\n\r\n      const typeCode = getTypeCode(typeInfo.info);\r\n\r\n      if (typeCode === SerializationTypeCode.UserDefined) {\r\n        template = oniSave.templates.find(\r\n          x => x.name === member.type.templateName!\r\n        );\r\n      } else if (LIST_TYPES.indexOf(typeCode) !== -1) {\r\n        i++;\r\n        if (i === templatePath.length) {\r\n          // Targeting an array but no index yet.\r\n          break;\r\n        }\r\n\r\n        if (\r\n          getTypeCode(typeInfo.subTypes![0].info) ===\r\n          SerializationTypeCode.UserDefined\r\n        ) {\r\n          typeInfo = typeInfo.subTypes![0];\r\n          template = oniSave.templates.find(\r\n            x => x.name === typeInfo.templateName\r\n          );\r\n        }\r\n      } else if (typeCode === SerializationTypeCode.Dictionary) {\r\n        i++;\r\n        if (i === templatePath.length) {\r\n          // Targeting a dict but no index yet.\r\n          break;\r\n        }\r\n\r\n        // Select key or value\r\n        i++;\r\n        if (i === templatePath.length) {\r\n          // Targeting an index, but no key or value.\r\n          // Fake a value for the ui.\r\n          typeInfo = {\r\n            info: SerializationTypeInfo.Pair,\r\n            subTypes: typeInfo.subTypes\r\n          };\r\n          break;\r\n        }\r\n        let keyValueIndex = Number(templatePath[i]);\r\n        typeInfo = typeInfo.subTypes![keyValueIndex];\r\n        if (!typeInfo) {\r\n          break;\r\n        }\r\n\r\n        if (getTypeCode(typeInfo.info) === SerializationTypeCode.UserDefined) {\r\n          template = oniSave.templates.find(\r\n            x => x.name === typeInfo.templateName\r\n          );\r\n        }\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n\r\n    return typeInfo;\r\n  }\r\n);\r\n\r\nconst template = createSelector(oniSave, typeInfo, (oniSave, typeInfo) => {\r\n  if (!oniSave || !typeInfo) {\r\n    return null;\r\n  }\r\n\r\n  const typeCode = getTypeCode(typeInfo.info);\r\n  if (typeCode !== SerializationTypeCode.UserDefined) {\r\n    return null;\r\n  }\r\n\r\n  let template = oniSave.templates.find(x => x.name === typeInfo.templateName);\r\n  return template;\r\n});\r\n\r\nconst structuredSelector = {\r\n  template,\r\n  typeInfo,\r\n  selectedPath: valuePath\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<\r\n  AppState,\r\n  TemplateObjectEditorProps,\r\n  StateProps\r\n>(structuredSelector);\r\nexport default mapStateToProps;\r\n","import styled from \"@/style\";\r\n\r\nconst TemplateObjectEditorContainer = styled.div``;\r\nTemplateObjectEditorContainer.displayName = \"TemplateObjectEditorContainer\";\r\nexport default TemplateObjectEditorContainer;\r\n","import * as React from \"react\";\r\n\r\nimport { TypeInfo } from \"oni-save-parser\";\r\n\r\nimport Text from \"@/components/Text\";\r\n\r\nimport connectEditorField, {\r\n  EditorFieldProps,\r\n  InjectedProps\r\n} from \"./connect-field\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport getFieldElementClass from \"./from-typeinfo\";\r\n\r\nconst TD = Text.withComponent(\"td\");\r\n\r\nexport interface ArrayLikeFieldProps extends EditorFieldProps {\r\n  subType: TypeInfo;\r\n}\r\nconst ArrayLikeField: React.SFC<ArrayLikeFieldProps & InjectedProps> = ({\r\n  path,\r\n  subType,\r\n  value\r\n}) => {\r\n  if (value == null) {\r\n    return <Text intent={Intent.Hint}>Null Value</Text>;\r\n  }\r\n  const ValueElement = getFieldElementClass(subType);\r\n  const elements = (value as any[]).map((_, i) => {\r\n    return (\r\n      <tr key={i}>\r\n        <TD>{i}</TD>\r\n        <td>\r\n          <ValueElement path={[...path, `${i}`]} />\r\n        </td>\r\n      </tr>\r\n    );\r\n  });\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>\r\n            <Text intent={Intent.Primary}>Key</Text>\r\n          </th>\r\n          <th>\r\n            <Text intent={Intent.Primary}>Value</Text>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>{elements}</tbody>\r\n    </table>\r\n  );\r\n};\r\nArrayLikeField.displayName = \"ArrayLikeField\";\r\nexport default connectEditorField()(ArrayLikeField);\r\n","import createCachedSelector from \"re-reselect\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nimport { EditorFieldProps } from \"./props\";\r\n\r\nconst itemPathSelector = (_: AppState, props: EditorFieldProps) => props.path;\r\n\r\nconst cacheKeyGenerator = (_: AppState, props: EditorFieldProps) =>\r\n  props.path.join(\".\");\r\n\r\nconst itemValue = createCachedSelector(\r\n  itemPathSelector,\r\n  oniSave,\r\n  (path, oniSave) => {\r\n    if (path.length === 0) {\r\n      return oniSave;\r\n    }\r\n    return get(oniSave, path);\r\n  }\r\n)(cacheKeyGenerator);\r\n\r\nfunction mapStateToProps(state: AppState, props: EditorFieldProps) {\r\n  return {\r\n    value: itemValue(state, props)\r\n  };\r\n}\r\nexport type StateProps = ReturnType<typeof mapStateToProps>;\r\nexport default mapStateToProps;\r\n","import { modifyOniSave } from \"@/actions/modify-onisave\";\r\n\r\nimport { EditorFieldProps } from \"./props\";\r\nimport { Dispatch } from \"redux\";\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch, props: EditorFieldProps) {\r\n  return {\r\n    onCommit(value: any) {\r\n      if (props.writeTo) {\r\n        props.writeTo.forEach(path => {\r\n          dispatch(modifyOniSave(props.path, value));\r\n        });\r\n      } else {\r\n        dispatch(modifyOniSave(props.path, value));\r\n      }\r\n    }\r\n  };\r\n}\r\nexport type DispatchProps = ReturnType<typeof mapDispatchToProps>;\r\nexport default mapDispatchToProps;\r\n","import CheckInput from \"@/components/CheckInput\";\r\n\r\nimport connectEditorField from \"./connect-field\";\r\n\r\nexport default connectEditorField()(CheckInput);\r\n","import * as React from \"react\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport NumericField from \"./NumericField\";\r\n\r\nconst ColorField: React.SFC<EditorFieldProps> = ({ path }) => (\r\n  <div>\r\n    <FormGroup label=\"R\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        minValue={0}\r\n        maxValue={1}\r\n        path={[...path, \"r\"]}\r\n      />\r\n    </FormGroup>\r\n    <FormGroup label=\"G\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        minValue={0}\r\n        maxValue={1}\r\n        path={[...path, \"g\"]}\r\n      />\r\n    </FormGroup>\r\n    <FormGroup label=\"B\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        minValue={0}\r\n        maxValue={1}\r\n        path={[...path, \"b\"]}\r\n      />\r\n    </FormGroup>\r\n    <FormGroup label=\"A\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        minValue={0}\r\n        maxValue={1}\r\n        path={[...path, \"a\"]}\r\n      />\r\n    </FormGroup>\r\n  </div>\r\n);\r\nColorField.displayName = \"ColorField\";\r\nexport default ColorField;\r\n","import * as React from \"react\";\r\nimport { FontSizeProps } from \"styled-system\";\r\n\r\nimport { Intent, Space } from \"@/style\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\nimport Box from \"@/components/Box\";\r\nimport Text from \"@/components/Text\";\r\n\r\nexport interface FormGroupProps extends FontSizeProps {\r\n  label: string;\r\n  inline?: boolean;\r\n  intent?: Intent;\r\n}\r\ntype Props = FormGroupProps;\r\nexport default class FormGroup extends React.Component<Props> {\r\n  render() {\r\n    const { label, intent, inline, fontSize } = this.props;\r\n\r\n    let children = this.props.children;\r\n\r\n    return (\r\n      <Flex direction={inline ? \"row\" : \"column\"} mb={Space.Small}>\r\n        <Text.Label\r\n          alignSelf=\"baseline\"\r\n          fontSize={fontSize}\r\n          mr={inline ? Space.Small : Space.None}\r\n          intent={intent}\r\n        >\r\n          {label}\r\n        </Text.Label>\r\n        <Box\r\n          width=\"100%\"\r\n          alignSelf=\"baseline\"\r\n          px={inline ? Space.None : Space.Medium}\r\n        >\r\n          {children}\r\n        </Box>\r\n      </Flex>\r\n    );\r\n  }\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport { TypeInfo } from \"oni-save-parser\";\r\n\r\nimport Text from \"@/components/Text\";\r\n\r\nimport connectEditorField, {\r\n  EditorFieldProps,\r\n  InjectedProps\r\n} from \"./connect-field\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport getFieldElementClass from \"./from-typeinfo\";\r\n\r\nconst TD = Text.withComponent(\"td\");\r\n\r\nexport interface DictionaryFieldProps extends EditorFieldProps {\r\n  subType: TypeInfo;\r\n}\r\nconst DictionaryField: React.SFC<DictionaryFieldProps & InjectedProps> = ({\r\n  path,\r\n  subType,\r\n  value\r\n}) => {\r\n  const ValueElement = getFieldElementClass(subType);\r\n  const elements = (value as any[]).map(([key, value], i) => {\r\n    return (\r\n      <tr key={i}>\r\n        <TD>{JSON.stringify(key)}</TD>\r\n        <td>\r\n          <ValueElement path={[...path, `${i}`, \"1\"]} />\r\n        </td>\r\n      </tr>\r\n    );\r\n  });\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>\r\n            <Text intent={Intent.Primary}>Key</Text>\r\n          </th>\r\n          <th>\r\n            <Text intent={Intent.Primary}>Value</Text>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>{elements}</tbody>\r\n    </table>\r\n  );\r\n};\r\nDictionaryField.displayName = \"DictionaryField\";\r\nexport default connectEditorField()(DictionaryField);\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\nimport { EnumerationsByName } from \"oni-save-parser\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\nimport Select, { Option } from \"@/components/Select\";\r\n\r\nimport connectEditorField, {\r\n  EditorFieldProps,\r\n  InjectedProps\r\n} from \"./connect-field\";\r\n\r\nexport interface EnumerationFieldProps extends EditorFieldProps {\r\n  enumerationName: string;\r\n}\r\n\r\ntype Props = EnumerationFieldProps & InjectedProps;\r\nclass EnumerationField extends React.Component<Props> {\r\n  render() {\r\n    const { enumerationName, value, onCommit } = this.props;\r\n    const enumeration = getEnumeration(enumerationName);\r\n    if (!enumeration) {\r\n      return (\r\n        <span>\r\n          <NumericInput value={value} onCommit={onCommit} />\r\n          <Text intent={Intent.Hint}>{enumerationName} (unknown)</Text>\r\n        </span>\r\n      );\r\n    } else {\r\n      // Enumeration has keys for names and numbers.\r\n      const nameKeys = Object.keys(enumeration).filter(\r\n        // TODO: This is silly.  Expose a way to match the [enum]Names constants\r\n        //  to the names of enum types.\r\n        x => isNaN(parseInt(x))\r\n      );\r\n      const options: Option<number>[] = nameKeys.map(x => ({\r\n        label: x,\r\n        value: enumeration[x]\r\n      }));\r\n      return (\r\n        <Select\r\n          value={value as number}\r\n          options={options}\r\n          onChange={this._onSelectInputChange}\r\n          width=\"200px\"\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onSelectInputChange(value: number) {\r\n    if (!value) {\r\n      return;\r\n    }\r\n    const { onCommit } = this.props;\r\n    onCommit(value);\r\n  }\r\n}\r\n\r\nexport default connectEditorField()(EnumerationField);\r\n\r\nfunction getEnumeration(\r\n  enumerationName: string\r\n): (Record<string, number> & Record<number, string>) | null {\r\n  if (\r\n    !Object.prototype.hasOwnProperty.call(EnumerationsByName, enumerationName)\r\n  ) {\r\n    return null;\r\n  }\r\n\r\n  return (EnumerationsByName as any)[enumerationName];\r\n}\r\n","import TextInput from \"@/components/TextInput\";\r\n\r\nimport connectEditorField from \"./connect-field\";\r\n\r\nexport default connectEditorField()(TextInput);\r\n","import * as React from \"react\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport NumericField from \"./NumericField\";\r\n\r\nconst Vector2Field: React.SFC<EditorFieldProps> = ({ path }) => (\r\n  <div>\r\n    <FormGroup label=\"X\">\r\n      <NumericField precision=\"single\" path={[...path, \"x\"]} />\r\n    </FormGroup>\r\n    <FormGroup label=\"Y\">\r\n      <NumericField precision=\"single\" path={[...path, \"y\"]} />\r\n    </FormGroup>\r\n  </div>\r\n);\r\nVector2Field.displayName = \"Vector2Field\";\r\nexport default Vector2Field;\r\n","import * as React from \"react\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport NumericField from \"./NumericField\";\r\n\r\nconst Vector2IField: React.SFC<EditorFieldProps> = ({ path }) => (\r\n  <div>\r\n    <FormGroup label=\"X\">\r\n      <NumericField precision=\"int32\" path={[...path, \"x\"]} />\r\n    </FormGroup>\r\n    <FormGroup label=\"Y\">\r\n      <NumericField precision=\"int32\" path={[...path, \"y\"]} />\r\n    </FormGroup>\r\n  </div>\r\n);\r\nVector2IField.displayName = \"Vector2IField\";\r\nexport default Vector2IField;\r\n","import * as React from \"react\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\n\r\nimport { EditorFieldProps } from \"./connect-field\";\r\n\r\nimport NumericField from \"./NumericField\";\r\n\r\nconst Vector3Field: React.SFC<EditorFieldProps> = ({ path }) => (\r\n  <div>\r\n    <FormGroup label=\"X\">\r\n      <NumericField precision=\"single\" path={[...path, \"x\"]} />\r\n    </FormGroup>\r\n    <FormGroup label=\"Y\">\r\n      <NumericField precision=\"single\" path={[...path, \"y\"]} />\r\n    </FormGroup>\r\n    <FormGroup label=\"Z\">\r\n      <NumericField precision=\"single\" path={[...path, \"z\"]} />\r\n    </FormGroup>\r\n  </div>\r\n);\r\nVector3Field.displayName = \"Vector3Field\";\r\nexport default Vector3Field;\r\n","import GameObjectGroupList from \"./GameObjectGroupList\";\r\nexport default GameObjectGroupList;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Filter } from \"react-table\";\r\n\r\nimport mapStateToProps, { StateProps, GroupItem } from \"./derived-state\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\nimport DataTable, {\r\n  DataTableColumn,\r\n  DataTableRow\r\n} from \"@/components/DataTable\";\r\n\r\nimport EditorContainer from \"@/pages/SaveEditor/components/editors/components/EditorContainer\";\r\n\r\ntype Props = StateProps;\r\nclass GameObjectGroupList extends React.Component<Props> {\r\n  render() {\r\n    const { gameObjectGroups } = this.props;\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        Header: \"Game Object Type\",\r\n        id: \"type\",\r\n        accessor: x => x,\r\n        Cell: (row: DataTableRow<GroupItem>) => (\r\n          <SaveStructureLink intent={Intent.Primary} path={row.value.path}>\r\n            {row.value.name}\r\n          </SaveStructureLink>\r\n        ),\r\n        sortable: true,\r\n        sortMethod: (a: GroupItem, b: GroupItem) =>\r\n          a.name.localeCompare(b.name) as any,\r\n        filterable: true,\r\n        // This api is atrocious.\r\n        filterMethod: (filter: Filter, row: any) =>\r\n          (row.type.name as string)\r\n            .toLowerCase()\r\n            .includes((filter.value || \"\").toLowerCase())\r\n      },\r\n      {\r\n        Header: \"Count\",\r\n        accessor: \"count\",\r\n        sortable: true\r\n      }\r\n    ];\r\n    return (\r\n      <EditorContainer header=\"GameObject Types\">\r\n        <DataTable columns={columns} data={gameObjectGroups} />\r\n      </EditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(GameObjectGroupList);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nexport interface GroupItem {\r\n  name: string;\r\n  count: number;\r\n  path: string[];\r\n}\r\n\r\nconst gameObjectGroups = createSelector(oniSave, oniSave => {\r\n  if (!oniSave) {\r\n    return [];\r\n  }\r\n\r\n  return oniSave.gameObjects.map((x, i) => {\r\n    const item: GroupItem = {\r\n      name: x.name,\r\n      count: x.gameObjects.length,\r\n      path: [\"gameObjects\", `${i}`]\r\n    };\r\n    return item;\r\n  });\r\n});\r\n\r\nconst structuredSelector = {\r\n  gameObjectGroups\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import GameObjectList from \"./GameObjectList\";\r\nexport default GameObjectList;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport Portrait from \"@/components/Portrait\";\r\nimport SaveStructureLink from \"@/components/SaveStructureLink\";\r\n\r\nimport EditorContainer from \"@/pages/SaveEditor/components/editors/components/EditorContainer\";\r\nimport EditorHeader from \"@/pages/SaveEditor/components/editors/components/EditorHeader\";\r\n\r\nimport GameObjectListContent from \"./components/GameObjectListContent\";\r\n\r\ntype Props = StateProps;\r\nclass GameObjectList extends React.Component<Props> {\r\n  render() {\r\n    const { gameObjectItems } = this.props;\r\n    const portraits = gameObjectItems.map(x => (\r\n      <Portrait key={x.name}>\r\n        <Portrait.Header wordBreak=\"break-all\">\r\n          <SaveStructureLink intent={Intent.Primary} path={x.path}>\r\n            {x.name}\r\n          </SaveStructureLink>\r\n        </Portrait.Header>\r\n      </Portrait>\r\n    ));\r\n    return (\r\n      <EditorContainer header=\"GameObjects\">\r\n        <GameObjectListContent>{portraits}</GameObjectListContent>\r\n      </EditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(GameObjectList);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { GameObjectGroup } from \"oni-save-parser\";\r\n\r\nimport { get } from \"lodash-es\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport oniSave from \"@/selectors/oni-save\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\n\r\nimport { getSaveItemTitle } from \"@/services/save-structure\";\r\n\r\nexport interface GameObjectItem {\r\n  name: string;\r\n  path: string[];\r\n}\r\n\r\nconst gameObjectItems = createSelector(\r\n  oniSave,\r\n  selectedPath,\r\n  (oniSave, selectedPath) => {\r\n    if (!oniSave) {\r\n      return [];\r\n    }\r\n\r\n    const group: GameObjectGroup = get(oniSave, selectedPath);\r\n    if (!group) {\r\n      return [];\r\n    }\r\n\r\n    return group.gameObjects.map((x, i) => {\r\n      const path = [...selectedPath, \"gameObjects\", `${i}`];\r\n      const name = getSaveItemTitle(path, oniSave);\r\n      const item: GameObjectItem = {\r\n        name,\r\n        path\r\n      };\r\n      return item;\r\n    });\r\n  }\r\n);\r\n\r\nconst structuredSelector = {\r\n  gameObjectItems\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import styled from \"@/style\";\r\n\r\nconst GroupListContent = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  justify-content: flex-start;\r\n  align-items: baseline;\r\n`;\r\nGroupListContent.displayName = \"GroupListContent\";\r\nexport default GroupListContent;\r\n","import DefaultGameObjectEditor from \"./DefaultGameObjectEditor\";\r\nexport default DefaultGameObjectEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport FormGroup from \"@/components/FormGroup\";\r\nimport EditModeCondition from \"@/components/EditModeCondition\";\r\n\r\nimport NumericField from \"@/pages/SaveEditor/components/fields/NumericField\";\r\n\r\nimport EditorContainer from \"../../components/EditorContainer\";\r\nimport GameObjectHeader from \"../components/GameObjectHeader\";\r\n\r\ntype Props = StateProps;\r\nclass DefaultGameObjectEditor extends React.Component<Props> {\r\n  render() {\r\n    const { gameObjectPath, gameObjectName } = this.props;\r\n    if (!gameObjectPath) {\r\n      <NonIdealState intent={Intent.Dangerous} header=\"No GameObject Selected\">\r\n        No object is selected, or the selected object is not a GameObject.\r\n      </NonIdealState>;\r\n    }\r\n\r\n    return (\r\n      <EditorContainer\r\n        header={<GameObjectHeader>{gameObjectName}</GameObjectHeader>}\r\n      >\r\n        <FormGroup label=\"Position\">\r\n          <FormGroup label=\"X\" inline>\r\n            <NumericField\r\n              precision=\"single\"\r\n              path={[...gameObjectPath, \"position\", \"x\"]}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Y\" inline>\r\n            <NumericField\r\n              precision=\"single\"\r\n              path={[...gameObjectPath, \"position\", \"y\"]}\r\n            />\r\n          </FormGroup>\r\n          <EditModeCondition editMode=\"advanced\">\r\n            <FormGroup label=\"Z\" inline>\r\n              <NumericField\r\n                precision=\"single\"\r\n                path={[...gameObjectPath, \"position\", \"z\"]}\r\n              />\r\n            </FormGroup>\r\n          </EditModeCondition>\r\n        </FormGroup>\r\n        <FormGroup label=\"Scale\">\r\n          <FormGroup label=\"X\" inline>\r\n            <NumericField\r\n              precision=\"single\"\r\n              path={[...gameObjectPath, \"scale\", \"x\"]}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Y\" inline>\r\n            <NumericField\r\n              precision=\"single\"\r\n              path={[...gameObjectPath, \"scale\", \"y\"]}\r\n            />\r\n          </FormGroup>\r\n        </FormGroup>\r\n      </EditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(DefaultGameObjectEditor);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { KPrefabIDBehavior, getBehavior, GameObject } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getPathGameObjectGroup } from \"@/services/save-structure\";\r\n\r\nimport selectedValue from \"@/selectors/selected-value\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\nimport oniSave from \"@/selectors/oni-save\";\r\n\r\nconst structuredSelector = {\r\n  gameObjectPath: selectedPath,\r\n  gameObjectName: createSelector(\r\n    selectedValue,\r\n    selectedPath,\r\n    oniSave,\r\n    (selectedValue, selectedPath, oniSave) => {\r\n      if (!oniSave) {\r\n        return \"[no save loaded]\";\r\n      }\r\n\r\n      if (!selectedValue) {\r\n        return \"[no value selected]\";\r\n      }\r\n\r\n      const prefabIdBehavior = getBehavior(selectedValue, KPrefabIDBehavior);\r\n      let prefabId =\r\n        (prefabIdBehavior &&\r\n          prefabIdBehavior.templateData &&\r\n          prefabIdBehavior.templateData.InstanceID) ||\r\n        \"[no instance id]\";\r\n\r\n      const group = getPathGameObjectGroup(selectedPath, oniSave);\r\n\r\n      return `${group ? group.name : \"[unknown]\"} #${prefabId}`;\r\n    }\r\n  )\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { EditMode } from \"@/services/save-structure\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nexport interface EditModeConditionProps {\r\n  editMode?: EditMode;\r\n}\r\ntype Props = EditModeConditionProps & StateProps;\r\nclass EditModeCondition extends React.Component<Props> {\r\n  render() {\r\n    const { currentEditMode, editMode, children } = this.props;\r\n    if (currentEditMode !== editMode) {\r\n      return null;\r\n    }\r\n\r\n    return children;\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(EditModeCondition);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport editMode from \"@/selectors/edit-mode\";\r\n\r\nconst structuredSelector = {\r\n  currentEditMode: editMode\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent, FontSize } from \"@/style\";\r\n\r\nimport { formatPosition, formatSimHash, formatDisease } from \"@/format\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport Toolbar from \"@/components/Toolbar\";\r\nimport Text from \"@/components/Text\";\r\n\r\nimport GameObjectHeaderContainer from \"./components/GameObjectHeaderContainer\";\r\n\r\ntype Props = StateProps;\r\nclass GameObjectHeader extends React.Component<Props> {\r\n  render() {\r\n    const { position, primaryElement } = this.props;\r\n    return (\r\n      <GameObjectHeaderContainer>\r\n        <Toolbar>\r\n          <Toolbar.Label>{this.props.children}</Toolbar.Label>\r\n\r\n          <Toolbar.Group align=\"center\" alignContent=\"center\">\r\n            <Text\r\n              intent={Intent.Secondary}\r\n              mr={1}\r\n              whiteSpace=\"nowrap\"\r\n              fontSize={FontSize.Default}\r\n            >\r\n              {position ? formatPosition(position) : \"(no object selected)\"}\r\n            </Text>\r\n          </Toolbar.Group>\r\n\r\n          <Toolbar.Group align=\"right\" alignContent=\"center\">\r\n            {primaryElement && (\r\n              <Text\r\n                intent={Intent.Secondary}\r\n                mr={1}\r\n                fontSize={FontSize.Default}\r\n              >\r\n                {formatSimHash(primaryElement)}\r\n              </Text>\r\n            )}\r\n          </Toolbar.Group>\r\n        </Toolbar>\r\n      </GameObjectHeaderContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(GameObjectHeader);\r\n","import { Vector3, SimHashes, HashedString } from \"oni-save-parser\";\r\n\r\nconst POSITION_PRECISION = 4;\r\n\r\nexport function formatPositionValue(v: number): string {\r\n  return v.toPrecision(POSITION_PRECISION);\r\n}\r\n\r\nexport function formatPosition(p: Vector3) {\r\n  return `(${formatPositionValue(p.x)}, ${formatPositionValue(p.y)})`;\r\n}\r\n\r\nexport function formatSimHash(hash: SimHashes): string {\r\n  return SimHashes[hash];\r\n}\r\n\r\nexport function formatDisease(diseaseId: HashedString): string {\r\n  // TODO: Look up from oni-save-parser\r\n  return `Disease(${diseaseId.hash})`;\r\n}\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport {\r\n  GameObject,\r\n  PrimaryElementBehavior,\r\n  getBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport selectedValue from \"@/selectors/selected-value\";\r\n\r\nconst position = createSelector(\r\n  selectedValue,\r\n  (value: GameObject) => value && value.position\r\n);\r\n\r\nconst primaryElementBehavior = createSelector(selectedValue, value => {\r\n  if (!value) {\r\n    return null;\r\n  }\r\n\r\n  return getBehavior(value, PrimaryElementBehavior);\r\n});\r\n\r\nconst primaryElement = createSelector(primaryElementBehavior, behavior => {\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n\r\n  return behavior.templateData.ElementID;\r\n});\r\n\r\nconst structuredSelector = {\r\n  position,\r\n  primaryElement\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import * as CSS from \"csstype\";\r\n\r\nimport { BackgroundProps, background } from \"styled-system\";\r\n\r\nimport styled, { TextProps, css, text, getTheme, Space, Color } from \"@/style\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nexport interface ToolbarItemProps {\r\n  align?: \"left\" | \"center\" | \"right\";\r\n  alignContent?: CSS.AlignContentProperty;\r\n}\r\nconst toolbarItem = css<ToolbarItemProps>`\r\n  grid-area: ${props => props.align};\r\n  justify-self: ${props => props.align};\r\n  align-self: ${props => props.alignContent || \"baseline\"};\r\n`;\r\n\r\nexport type ToolbarLabelProps = ToolbarItemProps & TextProps;\r\nconst ToolbarLabel = styled<ToolbarLabelProps, \"label\">(\"label\")`\r\n  ${text};\r\n  ${toolbarItem};\r\n`;\r\nToolbarLabel.defaultProps = {\r\n  align: \"left\"\r\n};\r\nToolbarLabel.displayName = \"ToolbarLabel\";\r\n\r\nexport type ToolbarGroupProps = ToolbarItemProps;\r\nconst ToolbarGroup = styled<ToolbarGroupProps, \"div\">(\"div\")`\r\n  display: inline-block;\r\n  ${toolbarItem};\r\n`;\r\nToolbarGroup.defaultProps = {\r\n  align: \"right\"\r\n};\r\nToolbarGroup.displayName = \"ToolbarButtonGroup\";\r\n\r\nexport type ToolbarProps = BackgroundProps;\r\nconst Toolbar = styled<ToolbarProps, \"div\">(\"div\")`\r\n  width: 100%;\r\n  height: auto;\r\n  display: grid;\r\n  padding: 0px ${props => getTheme(props).space[Space.Small]}px;\r\n  box-sizing: border-box;\r\n  grid-template-columns: [left] 1fr [center] 1fr [right] 1fr;\r\n  ${background};\r\n`;\r\nToolbar.defaultProps = {\r\n  background: Color.PanelBackground\r\n};\r\nToolbar.displayName = \"Toolbar\";\r\n\r\nexport default attachProps(Toolbar, {\r\n  Label: ToolbarLabel,\r\n  Group: ToolbarGroup\r\n});\r\n","import Box from \"@/components/Box\";\r\n\r\nconst GameObjectHeaderContainer = Box;\r\nGameObjectHeaderContainer.displayName = \"GameObjectHeaderContainer\";\r\nexport default GameObjectHeaderContainer;\r\n","import MinionEditor from \"./MinionEditor\";\r\nexport default MinionEditor;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport VerticalTabs from \"@/components/VerticalTabs\";\r\n\r\nimport EditorContainer from \"../../components/EditorContainer\";\r\n\r\nimport GameObjectHeader from \"../components/GameObjectHeader\";\r\n\r\nimport MinionHeader from \"./components/MinionEditableName\";\r\nimport MinionAppearanceTab from \"./components/MinionAppearanceTab\";\r\nimport MinionAptitudesTab from \"./components/MinionAptitudesTab\";\r\nimport MinionEffectsTab from \"./components/MinionEffectsTab\";\r\nimport MinionHealthTab from \"./components/MinionHealthTab\";\r\nimport MinionJobsTab from \"./components/MinionJobsTab\";\r\nimport MinionSkillsTab from \"./components/MinionSkillsTab\";\r\nimport MinionTraitsTab from \"./components/MinionTraitsTab\";\r\nimport MinionPositionTab from \"./components/MinionPositionTab\";\r\nimport { Intent } from \"@/style\";\r\n\r\ntype Props = StateProps;\r\nclass DuplicantEditor extends React.Component<Props> {\r\n  render() {\r\n    const { minionNamePath, gameObjectPath } = this.props;\r\n    if (!minionNamePath) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"Malformed Data\">\r\n          Duplicant is missing the MinionIdentity behavior.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <EditorContainer\r\n        header={\r\n          <GameObjectHeader>\r\n            <MinionHeader minionNamePath={minionNamePath} />\r\n          </GameObjectHeader>\r\n        }\r\n      >\r\n        <VerticalTabs width=\"100%\" height=\"100%\">\r\n          <VerticalTabs.Tab tabKey=\"appearance\" header=\"Appearance\">\r\n            <MinionAppearanceTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"health\" header=\"Health\">\r\n            <MinionHealthTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"traits\" header=\"Traits\">\r\n            <MinionTraitsTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"skills\" header=\"Skills\">\r\n            <MinionSkillsTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"jobs\" header=\"Jobs\">\r\n            <MinionJobsTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"aptitude\" header=\"Aptitudes\">\r\n            <MinionAptitudesTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"effects\" header=\"Effects\">\r\n            <MinionEffectsTab />\r\n          </VerticalTabs.Tab>\r\n\r\n          <VerticalTabs.Tab tabKey=\"position\" header=\"Position\">\r\n            <MinionPositionTab gameObjectPath={gameObjectPath} />\r\n          </VerticalTabs.Tab>\r\n        </VerticalTabs>\r\n      </EditorContainer>\r\n    );\r\n  }\r\n}\r\nexport default connect(mapStateToProps)(DuplicantEditor);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\nimport { MinionIdentityBehavior, GameObject } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport selectedPath from \"@/selectors/selected-path\";\r\nimport oniSave from \"@/selectors/oni-save\";\r\nimport { get } from \"lodash-es\";\r\n\r\nconst structuredSelector = {\r\n  gameObjectPath: selectedPath,\r\n  minionNamePath: createSelector(selectedPath, oniSave, (path, oniSave) => {\r\n    const gameObject: GameObject = get(oniSave, path);\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n    const behaviorIndex = gameObject.behaviors.findIndex(\r\n      x => x.name === MinionIdentityBehavior\r\n    );\r\n    if (behaviorIndex === -1) {\r\n      return null;\r\n    }\r\n    return [...path, \"behaviors\", `${behaviorIndex}`, \"templateData\", \"name\"];\r\n  })\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import VerticalTabs from \"./VerticalTabs\";\r\nexport default VerticalTabs;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nimport { BoxProps } from \"@/components/Box\";\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport TabContent from \"./components/TabContent\";\r\nimport VerticalTabItem from \"./components/VerticalTabItem\";\r\n\r\nimport Tab, { TabProps } from \"./components/Tab\";\r\n\r\nexport interface VerticalTabsProps extends BoxProps {}\r\n\r\ntype Props = VerticalTabsProps;\r\ninterface State {\r\n  selectedKey: string | number | null;\r\n}\r\nclass VerticalTabs extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selectedKey: null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    let { children } = this.props;\r\n    let { selectedKey } = this.state;\r\n\r\n    const tabs = React.Children.map(\r\n      children,\r\n      x =>\r\n        React.isValidElement<TabProps>(x) && x.props.tabKey && x.props.header\r\n          ? x\r\n          : null\r\n    ).filter(x => x !== null) as React.ReactElement<TabProps>[];\r\n\r\n    if (selectedKey == null && tabs.length > 0) {\r\n      selectedKey = tabs[0].props.tabKey;\r\n    }\r\n\r\n    const tabItems = tabs.map((tab, i) => (\r\n      <VerticalTabItem\r\n        key={tab.props.tabKey}\r\n        isSelected={tab.props.tabKey === selectedKey}\r\n        onClick={this._onTabItemClick.bind(this, tab.props.tabKey)}\r\n      >\r\n        {tab.props.header}\r\n      </VerticalTabItem>\r\n    ));\r\n\r\n    const content = selectedKey\r\n      ? tabs.find(x => x.props.tabKey === selectedKey)\r\n      : undefined;\r\n\r\n    return (\r\n      <Flex {...this.props} direction=\"row\">\r\n        <Flex.Item shrink>{tabItems}</Flex.Item>\r\n        <TabContent>{content}</TabContent>\r\n      </Flex>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onTabItemClick(key: string | number) {\r\n    this.setState({\r\n      selectedKey: key\r\n    });\r\n  }\r\n}\r\n\r\nexport { TabProps } from \"./components/Tab\";\r\nexport default attachProps(VerticalTabs, {\r\n  Tab\r\n});\r\n","import * as React from \"react\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nconst TabContent: React.SFC = ({ children }) => (\r\n  <Flex.Item grow shrink pl={1}>\r\n    {children}\r\n  </Flex.Item>\r\n);\r\nTabContent.displayName = \"TabContent\";\r\nexport default TabContent;\r\n","import styled, { getTheme, intent, Intent, Space } from \"@/style\";\r\n\r\nexport interface TabProps {\r\n  isSelected?: boolean;\r\n}\r\n\r\nconst VerticalTabItem = styled<TabProps, \"div\">(\"div\")`\r\n  cursor: pointer;\r\n\r\n  padding: ${props => getTheme(props).space[Space.Small]}px;\r\n\r\n  ${props =>\r\n    props.isSelected\r\n      ? intent.of(Intent.Primary)\r\n      : intent.of(Intent.Secondary)} :not(:last-child) {\r\n    border-bottom: ${props => {\r\n      const theme = getTheme(props);\r\n      return `${theme.borders[1]} ${theme.colors.intent.secondary}`;\r\n    }};\r\n  }\r\n\r\n  ${props => {\r\n    const theme = getTheme(props);\r\n    return `border-right: ${theme.borders[1]} ${\r\n      props.isSelected ? \"transparent\" : theme.colors.intent.secondary\r\n    }`;\r\n  }};\r\n`;\r\nVerticalTabItem.displayName = \"VerticalTabItem\";\r\nexport default VerticalTabItem;\r\n","import * as React from \"react\";\r\n\r\nexport interface TabProps {\r\n  tabKey: string | number;\r\n  header: React.ReactChild;\r\n}\r\n\r\nconst Tab: React.SFC<TabProps> = ({ children }) => (\r\n  <React.Fragment>{children}</React.Fragment>\r\n);\r\nTab.displayName = \"Tab\";\r\nexport default Tab;\r\n","import * as React from \"react\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport EditableTextField from \"@/pages/SaveEditor/components/fields/EditableTextField\";\r\n\r\nimport EditorHeader from \"../../../components/EditorHeader\";\r\n\r\nexport interface MinionHeaderProps {\r\n  minionNamePath: string[];\r\n}\r\nconst MinionHeader: React.SFC<MinionHeaderProps> = ({ minionNamePath }) => (\r\n  <React.Fragment>\r\n    <EditorHeader>\r\n      <Flex direction=\"row\">\r\n        <Flex.Item mr={1}>Name:</Flex.Item>\r\n        <Flex.Item grow shrink>\r\n          <EditableTextField intent={Intent.Primary} path={minionNamePath} />\r\n        </Flex.Item>\r\n      </Flex>\r\n    </EditorHeader>\r\n  </React.Fragment>\r\n);\r\nMinionHeader.displayName = \"MinionHeader\";\r\nexport default MinionHeader;\r\n","import connectEditorField from \"./connect-field\";\r\n\r\nimport EditableText from \"@/components/EditableText\";\r\n\r\nexport default connectEditorField()(EditableText);\r\n","import EditableText from \"./EditableText\";\r\nexport default EditableText;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Keys from \"@/keys\";\r\n\r\nimport Text, { TextProps } from \"../Text\";\r\n\r\nimport EditableTextInput from \"./components/EditableTextInput\";\r\n\r\nexport interface EditableTextProps extends TextProps {\r\n  className?: string;\r\n  value: string;\r\n  minLength?: number;\r\n  maxLength?: number;\r\n  onCommit(value: string): void;\r\n}\r\ntype Props = EditableTextProps;\r\ninterface State {\r\n  editValue: string | null;\r\n}\r\nexport default class EditableText extends React.Component<Props, State> {\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      editValue: null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { className, value, intent } = this.props;\r\n    const { editValue } = this.state;\r\n\r\n    if (editValue !== null) {\r\n      return (\r\n        <EditableTextInput\r\n          className={className}\r\n          autoFocus\r\n          intent={intent}\r\n          value={editValue}\r\n          onChange={this._onEditableChange}\r\n          onKeyUp={this._onEditableKeyUp}\r\n          onFocus={this._onEditableFocus}\r\n          onBlur={this._onEditableBlur}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <Text className={className} intent={intent} onClick={this._onTextClick}>\r\n          {value}\r\n        </Text>\r\n      );\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onTextClick() {\r\n    const { value } = this.props;\r\n    this.setState({\r\n      editValue: value\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _onEditableChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    this.setState({\r\n      editValue: e.target.value\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _onEditableKeyUp(e: React.KeyboardEvent) {\r\n    switch (e.key) {\r\n      case Keys.Enter:\r\n        this._commit();\r\n        break;\r\n      case Keys.Esc:\r\n        this._reset();\r\n        break;\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onEditableFocus(e: React.FocusEvent<HTMLInputElement>) {\r\n    e.target.select();\r\n  }\r\n\r\n  @autobind()\r\n  private _onEditableBlur() {\r\n    this._commit();\r\n  }\r\n\r\n  private _commit() {\r\n    const { editValue } = this.state;\r\n    const { onCommit } = this.props;\r\n\r\n    if (!editValue) {\r\n      return;\r\n    }\r\n\r\n    onCommit(editValue);\r\n\r\n    this._reset();\r\n  }\r\n\r\n  private _reset() {\r\n    this.setState({\r\n      editValue: null\r\n    });\r\n  }\r\n}\r\n","import styled from \"@/style\";\r\n\r\nimport { TextProps, text } from \"@/style\";\r\n\r\nexport type EditableTextProps = TextProps;\r\nconst EditableTextInput = styled<EditableTextProps, \"input\">(\"input\")`\r\n  ${text};\r\n  font-size: inherit;\r\n  background: none;\r\n  border: none;\r\n`;\r\nEditableTextInput.displayName = \"EditableTextInput\";\r\nexport default EditableTextInput;\r\n","import MinionAppearanceTab from \"./MinionAppearanceTab\";\r\nexport default MinionAppearanceTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport {\r\n  AccessoriesByType,\r\n  AccessoryTypes,\r\n  MINION_IDENTITY_GENDERS,\r\n  AccessoryType\r\n} from \"oni-save-parser\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\nimport NullableInput, {\r\n  InputCompatibleProps\r\n} from \"@/components/NullableInput\";\r\nimport TextInput from \"@/components/TextInput\";\r\nimport EditModeCondition from \"@/components/EditModeCondition\";\r\nimport Text from \"@/components/Text\";\r\nimport TextAutocompleteInput from \"@/components/TextAutocompleteInput\";\r\nimport { Option } from \"@/components/Select\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\nimport SelectInput from \"@/components/SelectInput\";\r\n\r\nconst TDText = Text.withComponent(\"td\");\r\n\r\nconst NoAccessory = <Text intent={Intent.Secondary}>None</Text>;\r\nconst NoAccessoryMouth = <Text intent={Intent.Dangerous}>I Must Scream</Text>;\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionAppearanceTab extends React.Component<Props> {\r\n  render() {\r\n    const { gender, onSetGender, scale } = this.props;\r\n\r\n    const fields = AccessoryTypes.map(type => this._renderAccessoryField(type));\r\n\r\n    const genderOpts: Option[] = MINION_IDENTITY_GENDERS.map(ident => ({\r\n      label: ident,\r\n      value: ident\r\n    }));\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <FormGroup label=\"Gender\">\r\n          <SelectInput\r\n            value={gender || MINION_IDENTITY_GENDERS[0]}\r\n            options={genderOpts}\r\n            onCommit={onSetGender}\r\n          />\r\n        </FormGroup>\r\n        <FormGroup label=\"Appearance\">\r\n          <table>\r\n            <tbody>{fields}</tbody>\r\n          </table>\r\n        </FormGroup>\r\n        <FormGroup label=\"Scale\">\r\n          <FormGroup label=\"X\" inline>\r\n            <NumericInput\r\n              value={scale ? scale.x : 1}\r\n              precision=\"single\"\r\n              onCommit={this._setScaleX}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Y\" inline>\r\n            <NumericInput\r\n              value={scale ? scale.y : 1}\r\n              precision=\"single\"\r\n              onCommit={this._setScaleY}\r\n            />\r\n          </FormGroup>\r\n        </FormGroup>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _setScaleX(value: number) {\r\n    const { scale, onSetScale } = this.props;\r\n    onSetScale({\r\n      x: value,\r\n      y: scale ? scale.y : 1,\r\n      z: scale ? scale.z : 1\r\n    });\r\n  }\r\n\r\n  @autobind()\r\n  private _setScaleY(value: number) {\r\n    const { scale, onSetScale } = this.props;\r\n    onSetScale({\r\n      x: scale ? scale.x : 1,\r\n      y: value,\r\n      z: scale ? scale.z : 1\r\n    });\r\n  }\r\n\r\n  private _renderAccessoryField(type: AccessoryType) {\r\n    const { onSetAccessory } = this.props;\r\n    let editGroup = (\r\n      <tr key={type}>\r\n        <TDText>{type}</TDText>\r\n        <td>\r\n          <NullableInput\r\n            renderInput={props => this._renderAccessorySelector(type, props)}\r\n            renderNull={type !== \"mouth\" ? NoAccessory : NoAccessoryMouth}\r\n            value={this.props[type]}\r\n            defaultValue={(AccessoriesByType[type] || [])[0] || \"\"}\r\n            onCommit={onSetAccessory.bind(this, type)}\r\n          />\r\n        </td>\r\n      </tr>\r\n    );\r\n\r\n    if (type === \"hat_hair\" || type === \"hair_always\") {\r\n      editGroup = (\r\n        <EditModeCondition key={type} editMode=\"advanced\">\r\n          {editGroup}\r\n        </EditModeCondition>\r\n      );\r\n    }\r\n\r\n    return editGroup;\r\n  }\r\n\r\n  private _renderAccessorySelector(\r\n    type: AccessoryType,\r\n    props: InputCompatibleProps<string>\r\n  ) {\r\n    const accessoryNames = AccessoriesByType[type];\r\n    if (!accessoryNames || accessoryNames.length === 0) {\r\n      return <TextInput {...props} minLength={1} />;\r\n    } else {\r\n      return (\r\n        <TextAutocompleteInput\r\n          value={props.value}\r\n          items={accessoryNames}\r\n          onCommit={props.onCommit}\r\n        />\r\n      );\r\n    }\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionAppearanceTab);\r\n","import { Selector, createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport {\r\n  AccessoryTypes,\r\n  AccessorizerBehavior,\r\n  GameObject,\r\n  AccessoryType,\r\n  getAccessoryName,\r\n  getAccessoryOfType,\r\n  getBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObjectGender } from \"@/selectors/behaviors/minion-identity\";\r\nimport { getSelectedGameObjectScale } from \"@/selectors/game-object\";\r\n\r\nimport selectedValue from \"@/selectors/selected-value\";\r\nimport selectedPath from \"@/selectors/selected-path\";\r\n\r\nconst accessorizerBehavior = createSelector(\r\n  selectedValue,\r\n  (gameObject: GameObject) => {\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n    return getBehavior(gameObject, AccessorizerBehavior);\r\n  }\r\n);\r\n\r\nfunction createAccessorySelector(\r\n  accessoryType: AccessoryType\r\n): Selector<AppState, string | null> {\r\n  return createSelector(accessorizerBehavior, behavior => {\r\n    if (!behavior) {\r\n      return null;\r\n    }\r\n\r\n    const { accessories } = behavior.templateData;\r\n\r\n    const accessory = getAccessoryOfType(accessories, accessoryType);\r\n    if (!accessory) {\r\n      return null;\r\n    }\r\n\r\n    return getAccessoryName(accessory);\r\n  });\r\n}\r\n\r\nconst structuredSelector = {\r\n  selectedPath,\r\n  gender: getSelectedGameObjectGender,\r\n  scale: getSelectedGameObjectScale\r\n};\r\nAccessoryTypes.forEach(x => {\r\n  (structuredSelector as any)[x] = createAccessorySelector(x);\r\n});\r\nexport type StateProps = StructuredStateProps<\r\n  typeof structuredSelector & Record<AccessoryType, string | null>\r\n>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector as any\r\n);\r\nexport default mapStateToProps;\r\n","import { MinionIdentityBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorSelector } from \"@/selectors/behaviors/utils\";\r\n\r\nexport const getSelectedGameObjectIdentityBehavior = getCurrentGameObjectBehaviorSelector(\r\n  MinionIdentityBehavior\r\n);\r\n\r\nexport const getSelectedGameObjectGender = (state: AppState) => {\r\n  const behavior = getSelectedGameObjectIdentityBehavior(state);\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n  return behavior.templateData.genderStringKey;\r\n};\r\n","import { setIdentityGender } from \"@/actions/behaviors/set-identity-gender\";\r\nimport { setAccessory } from \"@/actions/behaviors/set-accessory\";\r\nimport { setGameObjectScale } from \"@/actions/game-object/set-scale\";\r\n\r\nconst mapDispatchToProps = {\r\n  onSetScale: setGameObjectScale,\r\n  onSetGender: setIdentityGender,\r\n  onSetAccessory: setAccessory\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import * as React from \"react\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport Autocomplete from \"@/components/Autocomplete\";\r\n\r\nexport interface TextAutocompleteInputProps {\r\n  value: string;\r\n  minLength?: number;\r\n  maxLength?: number;\r\n  items: string[];\r\n  onCommit(value: string): void;\r\n}\r\n\r\ntype Props = TextAutocompleteInputProps;\r\ninterface State {\r\n  editValue: string | null;\r\n  isValid: boolean;\r\n}\r\nexport default class TextAutocompleteInput extends React.Component<\r\n  Props,\r\n  State\r\n> {\r\n  private _inputRef = React.createRef<HTMLInputElement>();\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      editValue: null,\r\n      isValid: true\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const { value, minLength, maxLength, items } = this.props;\r\n    const { editValue } = this.state;\r\n\r\n    const currentValue = editValue != null ? editValue : value;\r\n\r\n    return (\r\n      <Autocomplete\r\n        value={currentValue}\r\n        items={items}\r\n        minLength={minLength}\r\n        maxLength={maxLength}\r\n        getItemValue={x => x}\r\n        onChange={this._onValueChange}\r\n        onSelect={this._onValueSelect}\r\n        selectOnBlur\r\n      />\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const value = e.target.value;\r\n    this._setEditValue(value);\r\n  }\r\n\r\n  @autobind()\r\n  private _onValueSelect(value: string) {\r\n    this._setEditValue(value);\r\n    this._commitEdit();\r\n  }\r\n\r\n  // @autobind()\r\n  // private _onInputKeyPress(e: React.KeyboardEvent<HTMLInputElement>) {\r\n  //   if (e.key === Keys.Enter) {\r\n  //     this._commitEdit();\r\n  //   }\r\n  // }\r\n\r\n  private _setEditValue(value: string) {\r\n    const validation = this._validate(value);\r\n    const isValid = !validation;\r\n\r\n    if (this._inputRef.current) {\r\n      this._inputRef.current.setCustomValidity(validation || \"\");\r\n    }\r\n\r\n    this.setState({\r\n      editValue: value,\r\n      isValid\r\n    });\r\n  }\r\n\r\n  private _commitEdit() {\r\n    const { editValue, isValid } = this.state;\r\n    const { onCommit } = this.props;\r\n\r\n    this.setState({\r\n      editValue: null\r\n    });\r\n\r\n    if (!editValue || !isValid) {\r\n      return;\r\n    }\r\n\r\n    onCommit(editValue);\r\n  }\r\n\r\n  private _validate(value: string): string | null {\r\n    const { minLength, maxLength } = this.props;\r\n    if (minLength != null && (!value || value.length < minLength)) {\r\n      return `Value must be at least ${minLength} characters.`;\r\n    }\r\n\r\n    if (maxLength != null && value.length > maxLength) {\r\n      return `Value must be less than ${maxLength} characters.`;\r\n    }\r\n\r\n    return null;\r\n  }\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport ReactAutocomplete from \"react-autocomplete\";\r\n\r\nimport { Intent, getTheme, Space } from \"@/style\";\r\n\r\nimport Input, { InputProps } from \"@/components/Input\";\r\nimport Box from \"@/components/Box\";\r\nimport Text from \"@/components/Text\";\r\n\r\nexport type AutocompleteProps = Omit<ReactAutocomplete.Props, \"renderItem\"> & {\r\n  intent?: Intent;\r\n  renderItem?: ReactAutocomplete.Props[\"renderItem\"];\r\n  minLength?: number;\r\n  maxLength?: number;\r\n};\r\n\r\nconst AutocompleteItem = Text.withComponent(\"div\").extend`\r\n  width: 100%;\r\n  margin: 0 ${props => getTheme(props).space[Space.Small]}px;\r\n`;\r\n\r\nconst Autocomplete: React.SFC<AutocompleteProps> = props => (\r\n  <ReactAutocomplete\r\n    {...props}\r\n    renderInput={inputProps => <Input {...convertProps(inputProps)} />}\r\n    renderItem={(item, isHighlighted, style) => (\r\n      <AutocompleteItem\r\n        intent={isHighlighted ? Intent.Primary : Intent.Secondary}\r\n      >\r\n        {(props.renderItem || defaultRenderItem)(item, isHighlighted, style)}\r\n      </AutocompleteItem>\r\n    )}\r\n    renderMenu={props.renderMenu || renderMenu.bind(null, props)}\r\n  />\r\n);\r\nAutocomplete.displayName = \"Autocomplete\";\r\nexport default Autocomplete;\r\n\r\nfunction convertProps(\r\n  props: React.HTMLProps<HTMLInputElement>\r\n): Omit<InputProps, \"ref\"> {\r\n  const { ref, ...rest } = props;\r\n  return {\r\n    ...(rest as any),\r\n    innerRef: props.ref\r\n  };\r\n}\r\n\r\nfunction defaultRenderItem(\r\n  item: any,\r\n  isHighlighted: boolean,\r\n  style?: React.CSSProperties\r\n) {\r\n  style = style || {};\r\n  style.width = \"100%\";\r\n  return <div style={style}>{item}</div>;\r\n}\r\n\r\nconst AutocompleteMenu = Box.extend`\r\n  background: ${props => getTheme(props).colors.bg.panel};\r\n  border: ${props => {\r\n    const theme = getTheme(props);\r\n    return `${theme.borders[1]} ${\r\n      theme.colors.intent[props.intent || Intent.Secondary]\r\n    }`;\r\n  }};\r\n  border-top: none;\r\n`;\r\n\r\nfunction renderMenu(\r\n  props: AutocompleteProps,\r\n  items: any[],\r\n  value: string,\r\n  styles: React.CSSProperties\r\n): React.ReactNode {\r\n  // TODO: Portal.\r\n  const elements = items.map((x, i) => <div key={i}>{x}</div>);\r\n  return (\r\n    <AutocompleteMenu intent={props.intent} style={styles}>\r\n      {elements}\r\n    </AutocompleteMenu>\r\n  );\r\n}\r\n","import MinionAptitudesTab from \"./MinionAptitudesTab\";\r\nexport default MinionAptitudesTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { compare } from \"@/math\";\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps, AptitudeData } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport DataTable, {\r\n  DataTableColumn,\r\n  DataTableRow\r\n} from \"@/components/DataTable\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionAptitudesTab extends React.Component<Props> {\r\n  render() {\r\n    const { aptitudes, setAptitude } = this.props;\r\n\r\n    if (!aptitudes || aptitudes.length === 0) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No aptitude data could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        Header: \"Role\",\r\n        sortable: true,\r\n        filterable: true,\r\n        accessor: \"roleId\"\r\n      },\r\n      {\r\n        Header: \"Aptitude\",\r\n        sortable: true,\r\n        filterable: false,\r\n        id: \"aptitude\",\r\n        accessor: x => x,\r\n        Cell: (row: DataTableRow<AptitudeData>) => (\r\n          <NumericInput\r\n            precision=\"single\"\r\n            minValue={0}\r\n            value={row.value.aptitude}\r\n            onCommit={setAptitude.bind(null, row.value.index)}\r\n          />\r\n        ),\r\n        sortMethod: (a: AptitudeData, b: AptitudeData) =>\r\n          compare(a.aptitude, b.aptitude)\r\n      }\r\n    ];\r\n\r\n    return (\r\n      <DataTable\r\n        height=\"100%\"\r\n        columns={columns}\r\n        showPagination={false}\r\n        data={aptitudes}\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionAptitudesTab);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { MinionResumeBehavior, MinionRoleGroup } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorPropertySelector } from \"@/selectors/behaviors/utils\";\r\n\r\nconst aptitudesSelector = getCurrentGameObjectBehaviorPropertySelector<\r\n  MinionResumeBehavior,\r\n  MinionResumeBehavior[\"templateData\"][\"AptitudeByRoleGroup\"]\r\n>(MinionResumeBehavior, [\"templateData\", \"AptitudeByRoleGroup\"]);\r\n\r\nexport interface AptitudeData {\r\n  roleId: string;\r\n  roleHash: number;\r\n  aptitude: number;\r\n  index: number;\r\n}\r\nconst aptitudeDataSelector = createSelector(aptitudesSelector, aptitudes => {\r\n  if (!aptitudes) {\r\n    return null;\r\n  }\r\n\r\n  const data: AptitudeData[] = [];\r\n\r\n  for (let i = 0; i < aptitudes.length; i++) {\r\n    const [hstr, aptitude] = aptitudes[i];\r\n    const roleId = MinionRoleGroup[hstr.hash];\r\n    if (!roleId) {\r\n      continue;\r\n    }\r\n    data.push({\r\n      roleId,\r\n      roleHash: hstr.hash,\r\n      aptitude,\r\n      index: i\r\n    });\r\n  }\r\n\r\n  return data;\r\n});\r\n\r\nconst structuredSelector = {\r\n  aptitudes: aptitudeDataSelector\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { MinionResumeBehavior } from \"oni-save-parser\";\r\nimport { setCurrentObjectBehaviorValue } from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nconst mapDispatchToProps = {\r\n  setAptitude(index: number, aptitude: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      MinionResumeBehavior,\r\n      [\"templateData\", \"AptitudeByRoleGroup\", `${index}`, \"1\"],\r\n      aptitude\r\n    );\r\n  }\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionEffectsTab from \"./MinionEffectsTab\";\r\nexport default MinionEffectsTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { AI_EFFECT_IDS } from \"oni-save-parser\";\r\n\r\nimport { compare } from \"@/math\";\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport DataTable, {\r\n  DataTableColumn,\r\n  DataTableRow\r\n} from \"@/components/DataTable\";\r\nimport NullableInput from \"@/components/NullableInput\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionEffectsTab extends React.Component<Props> {\r\n  render() {\r\n    const { effects, onSetEffectData } = this.props;\r\n\r\n    if (!effects) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No effects data could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const data = AI_EFFECT_IDS.map(effectId => {\r\n      const effectIndex = effects.findIndex(x => x.id === effectId);\r\n      const effect = effectIndex > -1 ? effects[effectIndex] : null;\r\n      return {\r\n        effectId,\r\n        effectIndex,\r\n        timeRemaining: effect ? effect.timeRemaining : null\r\n      };\r\n    });\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        Header: \"Effect\",\r\n        sortable: true,\r\n        filterable: true,\r\n        accessor: \"effectId\"\r\n      },\r\n      {\r\n        Header: \"Time Remaining\",\r\n        sortable: true,\r\n        filterable: false,\r\n        id: \"level\",\r\n        accessor: x => x,\r\n        Cell: (row: DataTableRow<typeof data[0]>) => (\r\n          <NullableInput\r\n            value={row.value.timeRemaining}\r\n            onCommit={onSetEffectData.bind(\r\n              null,\r\n              row.value.effectId,\r\n              row.value.effectIndex\r\n            )}\r\n            defaultValue={15000}\r\n            renderInput={props => (\r\n              <NumericInput precision=\"single\" minValue={0} {...props} />\r\n            )}\r\n          />\r\n        ),\r\n        sortMethod: (a: typeof data[0], b: typeof data[0]) =>\r\n          compare(a.timeRemaining || 0, b.timeRemaining || 0)\r\n      }\r\n    ];\r\n\r\n    return <DataTable height=\"100%\" columns={columns} data={data} />;\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionEffectsTab);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AIEffectsBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorPropertySelector } from \"@/selectors/behaviors/utils\";\r\n\r\nconst effects = getCurrentGameObjectBehaviorPropertySelector<\r\n  AIEffectsBehavior,\r\n  AIEffectsBehavior[\"templateData\"][\"saveLoadEffects\"]\r\n>(AIEffectsBehavior, [\"templateData\", \"saveLoadEffects\"]);\r\n\r\nconst structuredSelector = {\r\n  effects\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { AIEffectsBehavior, EffectInstance } from \"oni-save-parser\";\r\n\r\nimport {\r\n  insertCurrentObjectBehaviorArrayValue,\r\n  removeCurrentObjectBehaviorArrayIndex\r\n} from \"@/actions/behaviors/modify-currentobject-behavior-array\";\r\n\r\nimport { setCurrentObjectBehaviorValue } from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nconst EffectsPath = [\"templateData\", \"saveLoadEffects\"];\r\n\r\nconst mapDispatchToProps = {\r\n  onSetEffectData(\r\n    effectId: string,\r\n    effectIndex: number,\r\n    timeRemaining: number | null\r\n  ) {\r\n    if (timeRemaining != null && timeRemaining > 0) {\r\n      if (effectIndex === -1) {\r\n        // New Effect\r\n        const effect: EffectInstance = {\r\n          id: effectId,\r\n          timeRemaining\r\n        };\r\n        return insertCurrentObjectBehaviorArrayValue(\r\n          AIEffectsBehavior,\r\n          EffectsPath,\r\n          effect\r\n        );\r\n      } else {\r\n        // Changing effect time remaining\r\n        return setCurrentObjectBehaviorValue(\r\n          AIEffectsBehavior,\r\n          [...EffectsPath, `${effectIndex}`, \"timeRemaining\"],\r\n          timeRemaining\r\n        );\r\n      }\r\n    } else if (effectIndex > -1) {\r\n      // Removing effect.\r\n      return removeCurrentObjectBehaviorArrayIndex(\r\n        AIEffectsBehavior,\r\n        EffectsPath,\r\n        effectIndex\r\n      );\r\n    }\r\n  },\r\n  onRemoveEffect(effectIndex: number) {}\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionHealthTab from \"./MinionHealthTab\";\r\nexport default MinionHealthTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { HealthState } from \"oni-save-parser\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport VerticalTabs from \"@/components/VerticalTabs\";\r\nimport FormGroup from \"@/components/FormGroup\";\r\nimport SelectInput from \"@/components/SelectInput\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\n\r\nconst TD = Text.withComponent(\"td\");\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionHealthTab extends React.Component<Props> {\r\n  render() {\r\n    const {\r\n      healthState,\r\n      onHealthStatusChanged,\r\n      hitpoints,\r\n      onHitpointsChanged,\r\n      stamina,\r\n      onStaminaChanged,\r\n      calories,\r\n      onCaloriesChanged,\r\n      breath,\r\n      onBreathChanged,\r\n      stress,\r\n      onStressChanged,\r\n      bladder,\r\n      onBladderChanged,\r\n      surfaceDiseaseId,\r\n      surfaceDiseaseCount,\r\n      immuneLevel,\r\n      onImmuneLevelChanged,\r\n      foodPoisoning,\r\n      onFoodPoisoningChanged,\r\n      coldBrain,\r\n      onColdBrainChanged,\r\n      heatRash,\r\n      onHeatRashChanged,\r\n      slimeLung,\r\n      onSlimeLungChanged,\r\n      spores,\r\n      onSporesChanged,\r\n      sunburn,\r\n      onSunburnChanged\r\n    } = this.props;\r\n\r\n    const options = Object.keys(HealthState)\r\n      .filter(x => isNaN(parseInt(x)))\r\n      .map(x => ({\r\n        label: x,\r\n        value: HealthState[x as any]\r\n      }));\r\n\r\n    // TODO: selector for disease type hashes with advanced mode custom\r\n    // string.\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <div>\r\n          <Text.H4>Wellness</Text.H4>\r\n          <FormGroup label=\"Status\" inline>\r\n            <SelectInput\r\n              value={healthState || HealthState.Perfect}\r\n              options={options}\r\n              onCommit={onHealthStatusChanged}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"HitPoints\" inline>\r\n            <NumericInput\r\n              value={hitpoints || 0}\r\n              onCommit={onHitpointsChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Stanima\" inline>\r\n            <NumericInput\r\n              value={stamina || 0}\r\n              precision=\"single\"\r\n              onCommit={onStaminaChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Calories\" inline>\r\n            <NumericInput\r\n              value={calories || 0}\r\n              precision=\"single\"\r\n              onCommit={onCaloriesChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Oxygen\" inline>\r\n            <NumericInput\r\n              value={breath || 0}\r\n              precision=\"single\"\r\n              onCommit={onBreathChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Stress\" inline>\r\n            <NumericInput\r\n              value={stress || 0}\r\n              precision=\"single\"\r\n              onCommit={onStressChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Bladder\" inline>\r\n            <NumericInput\r\n              value={bladder || 0}\r\n              precision=\"single\"\r\n              onCommit={onBladderChanged}\r\n              minValue={0}\r\n            />\r\n          </FormGroup>\r\n        </div>\r\n        <div>\r\n          <Text.H4>Diseases</Text.H4>\r\n          <FormGroup label=\"Immune&nbsp;Level\" inline>\r\n            <NumericInput\r\n              minValue={0}\r\n              precision=\"single\"\r\n              value={immuneLevel || 0}\r\n              onCommit={onImmuneLevelChanged}\r\n            />\r\n          </FormGroup>\r\n          <FormGroup label=\"Surface Germs\">\r\n            <FormGroup label=\"DiseaseID\" inline>\r\n              <NumericInput\r\n                value={surfaceDiseaseId ? surfaceDiseaseId.hash : 0}\r\n                onCommit={this._onSurfaceDiseaseIdCommit}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup label=\"Count\" inline>\r\n              <NumericInput\r\n                minValue={0}\r\n                precision=\"single\"\r\n                value={surfaceDiseaseCount || 0}\r\n                onCommit={this._onSurfaceDiseaseCountCommit}\r\n              />\r\n            </FormGroup>\r\n          </FormGroup>\r\n          <FormGroup label=\"Conditions\">\r\n            <table>\r\n              <tbody>\r\n                <tr>\r\n                  <TD>Food Poisoning</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={foodPoisoning || 0}\r\n                      onCommit={onFoodPoisoningChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Slime Lung</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={slimeLung || 0}\r\n                      onCommit={onSlimeLungChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Spores</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={spores || 0}\r\n                      onCommit={onSporesChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Hypothermia</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={coldBrain || 0}\r\n                      onCommit={onColdBrainChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Hyperthermia</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={heatRash || 0}\r\n                      onCommit={onHeatRashChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <TD>Sunburn</TD>\r\n                  <td>\r\n                    <NumericInput\r\n                      minValue={0}\r\n                      precision=\"single\"\r\n                      value={sunburn || 0}\r\n                      onCommit={onSunburnChanged}\r\n                    />\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </FormGroup>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onSurfaceDiseaseIdCommit(value: number) {\r\n    const { onSurfaceDiseaseChanged } = this.props;\r\n    onSurfaceDiseaseChanged({ hash: value }, 0);\r\n  }\r\n\r\n  @autobind()\r\n  private _onSurfaceDiseaseCountCommit(value: number) {\r\n    const { surfaceDiseaseId, onSurfaceDiseaseChanged } = this.props;\r\n    onSurfaceDiseaseChanged(surfaceDiseaseId || { hash: 0 }, value);\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionHealthTab);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport {\r\n  GameObject,\r\n  HealthBehavior,\r\n  PrimaryElementBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObjectHealthState } from \"@/selectors/behaviors/health\";\r\n\r\nimport {\r\n  getSelectedGameObjectElementDiseaseId,\r\n  getSelectedGameObjectElementDiseaseCount\r\n} from \"@/selectors/behaviors/primary-element\";\r\n\r\nimport { getSelectedGameObjectModifierValueSelector } from \"@/selectors/behaviors/minion-modifiers\";\r\n\r\nconst structuredSelector = {\r\n  healthState: getSelectedGameObjectHealthState,\r\n  surfaceDiseaseId: getSelectedGameObjectElementDiseaseId,\r\n  surfaceDiseaseCount: getSelectedGameObjectElementDiseaseCount,\r\n  hitpoints: getSelectedGameObjectModifierValueSelector(\"HitPoints\"),\r\n  stamina: getSelectedGameObjectModifierValueSelector(\"Stamina\"),\r\n  calories: getSelectedGameObjectModifierValueSelector(\"Calories\"),\r\n  immuneLevel: getSelectedGameObjectModifierValueSelector(\"ImmuneLevel\"),\r\n  breath: getSelectedGameObjectModifierValueSelector(\"Breath\"),\r\n  stress: getSelectedGameObjectModifierValueSelector(\"Stress\"),\r\n  bladder: getSelectedGameObjectModifierValueSelector(\"Bladder\"),\r\n  foodPoisoning: getSelectedGameObjectModifierValueSelector(\"FoodPoisoning\"),\r\n  coldBrain: getSelectedGameObjectModifierValueSelector(\"ColdBrain\"),\r\n  heatRash: getSelectedGameObjectModifierValueSelector(\"HeatRash\"),\r\n  slimeLung: getSelectedGameObjectModifierValueSelector(\"SlimeLung\"),\r\n  sunburn: getSelectedGameObjectModifierValueSelector(\"Sunburn\"),\r\n  spores: getSelectedGameObjectModifierValueSelector(\"Spores\")\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { createSelector } from \"reselect\";\r\n\r\nimport { HealthBehavior, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObject } from \"../game-object\";\r\n\r\nexport const getSelectedGameObjectHealthBehavior = createSelector(\r\n  getSelectedGameObject,\r\n  gameObject => {\r\n    if (!gameObject) {\r\n      return null;\r\n    }\r\n\r\n    return getBehavior(gameObject, HealthBehavior);\r\n  }\r\n);\r\n\r\nexport const getSelectedGameObjectHealthState = (state: AppState) => {\r\n  const behavior = getSelectedGameObjectHealthBehavior(state);\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n  return behavior.templateData.State;\r\n};\r\n","import { PrimaryElementBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorSelector } from \"@/selectors/behaviors/utils\";\r\n\r\nexport const getSelectedGameObjectElementBehavior = getCurrentGameObjectBehaviorSelector(\r\n  PrimaryElementBehavior\r\n);\r\n\r\nexport const getSelectedGameObjectElementDiseaseId = (state: AppState) => {\r\n  const behavior = getSelectedGameObjectElementBehavior(state);\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n  return behavior.templateData.diseaseID;\r\n};\r\n\r\nexport const getSelectedGameObjectElementDiseaseCount = (state: AppState) => {\r\n  const behavior = getSelectedGameObjectElementBehavior(state);\r\n  if (!behavior) {\r\n    return null;\r\n  }\r\n  return behavior.templateData.diseaseCount;\r\n};\r\n","import { createSelector, Selector } from \"reselect\";\r\n\r\nimport { memoize } from \"lodash-es\";\r\n\r\nimport { MinionModifiersBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorSelector } from \"@/selectors/behaviors/utils\";\r\n\r\nexport const getSelectedGameObjectModifiersBehavior = getCurrentGameObjectBehaviorSelector(\r\n  MinionModifiersBehavior\r\n);\r\n\r\nfunction createSelectedGameObjectModifierValueSelector(\r\n  amountId: string\r\n): Selector<AppState, number | null> {\r\n  return createSelector(getSelectedGameObjectModifiersBehavior, behavior => {\r\n    if (!behavior) {\r\n      return null;\r\n    }\r\n\r\n    const extraData = behavior.extraData;\r\n    if (!extraData) {\r\n      return null;\r\n    }\r\n\r\n    const amount = extraData.amounts.find(x => x.name === amountId);\r\n    if (!amount) {\r\n      return null;\r\n    }\r\n    return amount.value.value;\r\n  });\r\n}\r\n\r\nexport const getSelectedGameObjectModifierValueSelector = memoize(\r\n  createSelectedGameObjectModifierValueSelector\r\n);\r\n","import { setHealthStatus } from \"@/actions/behaviors/set-health-state\";\r\nimport { setModifierValue } from \"@/actions/behaviors/set-modifier-amount\";\r\nimport { setPrimaryElementDisease } from \"@/actions/behaviors/set-element-disease\";\r\n\r\nconst mapDispatchToProps = {\r\n  onHealthStatusChanged: setHealthStatus,\r\n  onHitpointsChanged(hitpoints: number) {\r\n    return setModifierValue(\"HitPoints\", hitpoints);\r\n  },\r\n  onStaminaChanged(stamina: number) {\r\n    return setModifierValue(\"Stamina\", stamina);\r\n  },\r\n  onCaloriesChanged(calories: number) {\r\n    return setModifierValue(\"Calories\", calories);\r\n  },\r\n  onImmuneLevelChanged(level: number) {\r\n    return setModifierValue(\"ImmuneLevel\", level);\r\n  },\r\n  onBreathChanged(level: number) {\r\n    return setModifierValue(\"Breath\", level);\r\n  },\r\n  onStressChanged(level: number) {\r\n    return setModifierValue(\"Stress\", level);\r\n  },\r\n  onBladderChanged(level: number) {\r\n    return setModifierValue(\"Bladder\", level);\r\n  },\r\n  onFoodPoisoningChanged(level: number) {\r\n    return setModifierValue(\"FoodPoisoning\", level);\r\n  },\r\n  onColdBrainChanged(level: number) {\r\n    return setModifierValue(\"ColdBrain\", level);\r\n  },\r\n  onHeatRashChanged(level: number) {\r\n    return setModifierValue(\"HeatRash\", level);\r\n  },\r\n  onSlimeLungChanged(level: number) {\r\n    return setModifierValue(\"SlimeLung\", level);\r\n  },\r\n  onSunburnChanged(level: number) {\r\n    return setModifierValue(\"Sunburn\", level);\r\n  },\r\n  onSporesChanged(level: number) {\r\n    return setModifierValue(\"Spores\", level);\r\n  },\r\n\r\n  onSurfaceDiseaseChanged: setPrimaryElementDisease\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionJobsTab from \"./MinionJobsTab\";\r\nexport default MinionJobsTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport DataTable, {\r\n  DataTableColumn,\r\n  DataTableRow\r\n} from \"@/components/DataTable\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\nimport CheckInput from \"@/components/CheckInput\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionJobsTab extends React.Component<Props> {\r\n  render() {\r\n    const { jobs, setExperience, setMastery } = this.props;\r\n\r\n    if (!jobs || jobs.length === 0) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No jobs could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        Header: \"Job\",\r\n        sortable: true,\r\n        filterable: true,\r\n        accessor: \"id\"\r\n      },\r\n      {\r\n        Header: \"Experience\",\r\n        sortable: true,\r\n        filterable: false,\r\n        id: \"experience\",\r\n        accessor: x => x,\r\n        Cell: (row: DataTableRow<typeof jobs[0]>) => (\r\n          <NumericInput\r\n            precision=\"single\"\r\n            minValue={0}\r\n            value={row.value.experience}\r\n            onCommit={setExperience.bind(null, row.value.experienceIndex)}\r\n          />\r\n        )\r\n      },\r\n      {\r\n        Header: \"Mastery\",\r\n        sortable: true,\r\n        filterable: false,\r\n        id: \"mastery\",\r\n        accessor: x => x,\r\n        Cell: (row: DataTableRow<typeof jobs[0]>) => (\r\n          <CheckInput\r\n            value={row.value.mastery}\r\n            onCommit={setMastery.bind(null, row.value.masteryIndex)}\r\n          />\r\n        )\r\n      }\r\n    ];\r\n\r\n    return (\r\n      <DataTable\r\n        height=\"100%\"\r\n        columns={columns}\r\n        showPagination={false}\r\n        data={jobs}\r\n      />\r\n    );\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionJobsTab);\r\n","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { MinionResumeBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorPropertySelector } from \"@/selectors/behaviors/utils\";\r\n\r\nconst masteriesSelector = getCurrentGameObjectBehaviorPropertySelector<\r\n  MinionResumeBehavior,\r\n  MinionResumeBehavior[\"templateData\"][\"MasteryByRoleID\"]\r\n>(MinionResumeBehavior, [\"templateData\", \"MasteryByRoleID\"]);\r\n\r\nconst experienceSelector = getCurrentGameObjectBehaviorPropertySelector<\r\n  MinionResumeBehavior,\r\n  MinionResumeBehavior[\"templateData\"][\"ExperienceByRoleID\"]\r\n>(MinionResumeBehavior, [\"templateData\", \"ExperienceByRoleID\"]);\r\n\r\nexport interface Job {\r\n  id: string;\r\n  mastery: boolean;\r\n  masteryIndex: number;\r\n  experience: number;\r\n  experienceIndex: number;\r\n}\r\nexport type Jobs = Job[];\r\nconst jobsSelector = createSelector(\r\n  masteriesSelector,\r\n  experienceSelector,\r\n  (masteries, experience) => {\r\n    if (!masteries || !experience) {\r\n      return null;\r\n    }\r\n\r\n    const jobs: Record<string, Job> = {};\r\n\r\n    masteries.forEach((x, i) => {\r\n      const [key, value] = x;\r\n      if (key === \"NoRole\") {\r\n        return;\r\n      }\r\n      jobs[key] = {\r\n        id: key,\r\n        mastery: value,\r\n        masteryIndex: i,\r\n        experience: 0,\r\n        experienceIndex: -1\r\n      };\r\n    });\r\n\r\n    experience.forEach((x, i) => {\r\n      const [key, value] = x;\r\n      if (key === \"NoRole\") {\r\n        return;\r\n      }\r\n      jobs[key].experience = value;\r\n      jobs[key].experienceIndex = i;\r\n    });\r\n\r\n    return Object.keys(jobs).map(x => jobs[x]);\r\n  }\r\n);\r\n\r\nconst structuredSelector = {\r\n  jobs: jobsSelector\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { MinionResumeBehavior } from \"oni-save-parser\";\r\n\r\nimport { setCurrentObjectBehaviorValue } from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nconst mapDispatchToProps = {\r\n  setExperience(index: number, experience: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      MinionResumeBehavior,\r\n      [\"templateData\", \"ExperienceByRoleID\", `${index}`, \"1\"],\r\n      experience\r\n    );\r\n  },\r\n\r\n  setMastery(index: number, mastery: boolean) {\r\n    return setCurrentObjectBehaviorValue(\r\n      MinionResumeBehavior,\r\n      [\"templateData\", \"MasteryByRoleID\", `${index}`, \"1\"],\r\n      mastery\r\n    );\r\n  }\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionSkillsTab from \"./MinionSkillsTab\";\r\nexport default MinionSkillsTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { compare } from \"@/math\";\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport DataTable, {\r\n  DataTableColumn,\r\n  DataTableRow\r\n} from \"@/components/DataTable\";\r\nimport NumericInput from \"@/components/NumericInput\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionSkillsTab extends React.Component<Props> {\r\n  render() {\r\n    const { skills, setSkillLevel, setSkillExperience } = this.props;\r\n\r\n    if (!skills || skills.length === 0) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No skills could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const data = skills.map((x, i) => ({\r\n      ...x,\r\n      index: i\r\n    }));\r\n\r\n    const columns: DataTableColumn[] = [\r\n      {\r\n        Header: \"Skill\",\r\n        sortable: true,\r\n        filterable: true,\r\n        accessor: \"attributeId\"\r\n      },\r\n      {\r\n        Header: \"Level\",\r\n        id: \"level\",\r\n        accessor: x => x,\r\n        Cell: (row: DataTableRow<typeof data[0]>) => (\r\n          <NumericInput\r\n            precision=\"int32\"\r\n            minValue={0}\r\n            value={row.value.level}\r\n            onCommit={setSkillLevel.bind(null, row.value.index)}\r\n          />\r\n        ),\r\n        sortable: true,\r\n        sortMethod: (a: typeof data[0], b: typeof data[0]) =>\r\n          compare(a.level, b.level)\r\n      },\r\n      {\r\n        Header: \"Experience\",\r\n        id: \"experience\",\r\n        accessor: x => x,\r\n        Cell: (row: DataTableRow<typeof data[0]>) => (\r\n          <NumericInput\r\n            precision=\"single\"\r\n            value={row.value.experience}\r\n            onCommit={setSkillExperience.bind(null, row.value.index)}\r\n          />\r\n        ),\r\n        sortable: true,\r\n        sortMethod: (a: typeof data[0], b: typeof data[0]) =>\r\n          compare(a.experience, b.experience)\r\n      }\r\n    ];\r\n\r\n    return <DataTable height=\"100%\" columns={columns} data={data} />;\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionSkillsTab);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AIAttributeLevelsBehavior } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getCurrentGameObjectBehaviorPropertySelector } from \"@/selectors/behaviors/utils\";\r\n\r\nconst structuredSelector = {\r\n  skills: getCurrentGameObjectBehaviorPropertySelector<\r\n    AIAttributeLevelsBehavior,\r\n    AIAttributeLevelsBehavior[\"templateData\"][\"saveLoadLevels\"]\r\n  >(AIAttributeLevelsBehavior, [\"templateData\", \"saveLoadLevels\"])\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { AIAttributeLevelsBehavior } from \"oni-save-parser\";\r\n\r\nimport { setCurrentObjectBehaviorValue } from \"@/actions/behaviors/set-currentobject-behavior-value\";\r\n\r\nconst mapDispatchToProps = {\r\n  setSkillLevel(index: number, level: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      AIAttributeLevelsBehavior,\r\n      [\"templateData\", \"saveLoadLevels\", `${index}`, \"level\"],\r\n      level\r\n    );\r\n  },\r\n  setSkillExperience(index: number, experience: number) {\r\n    return setCurrentObjectBehaviorValue(\r\n      AIAttributeLevelsBehavior,\r\n      [\"templateData\", \"saveLoadLevels\", `${index}`, \"experience\"],\r\n      experience\r\n    );\r\n  }\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import MinionTraitsTab from \"./MinionTraitsTab\";\r\nexport default MinionTraitsTab;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { AI_TRAIT_IDS } from \"oni-save-parser\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport Table from \"@/components/Table\";\r\nimport NonIdealState from \"@/components/NonIdealState\";\r\nimport DataTable, {\r\n  DataTableColumn,\r\n  DataTableRow\r\n} from \"@/components/DataTable\";\r\nimport CheckInput from \"@/components/CheckInput\";\r\nimport Text from \"@/components/Text\";\r\nimport Flex from \"@/components/Flex\";\r\n\r\ntype Props = StateProps & DispatchProps;\r\nclass MinionTraitsTab extends React.Component<Props> {\r\n  render() {\r\n    const { traits, onSetTrait } = this.props;\r\n\r\n    if (traits == null || traits.length === 0) {\r\n      return (\r\n        <NonIdealState intent={Intent.Dangerous} header=\"No Data\">\r\n          No traits could be found on this duplicant.\r\n        </NonIdealState>\r\n      );\r\n    }\r\n\r\n    const rows = AI_TRAIT_IDS.filter(x => x !== \"None\").map(trait => (\r\n      <Table.TR key={trait}>\r\n        <Table.TD>\r\n          <CheckInput\r\n            value={traits.some(x => x === trait)}\r\n            onCommit={onSetTrait.bind(null, trait)}\r\n          />\r\n        </Table.TD>\r\n        <Table.TD>{trait}</Table.TD>\r\n      </Table.TR>\r\n    ));\r\n\r\n    return (\r\n      <Table>\r\n        <Table.THead>\r\n          <Table.TR>\r\n            <Table.TH />\r\n            <Table.TH>Trait</Table.TH>\r\n          </Table.TR>\r\n        </Table.THead>\r\n        <Table.TBody>{rows}</Table.TBody>\r\n      </Table>\r\n    );\r\n\r\n    // const data = AI_TRAIT_IDS.map(trait => ({\r\n    //   trait: trait,\r\n    //   selected: traits.some(x => x === trait)\r\n    // }));\r\n\r\n    // const columns: DataTableColumn[] = [\r\n    //   {\r\n    //     Header: \"Has Trait\",\r\n    //     id: \"selected\",\r\n    //     Cell: (row: DataTableRow<typeof data[0]>) => (\r\n    //       <Flex\r\n    //         direction=\"row\"\r\n    //         width=\"100%\"\r\n    //         height=\"100%\"\r\n    //         justifyContent=\"center\"\r\n    //       >\r\n    //         <CheckInput\r\n    //           value={row.value.selected}\r\n    //           onCommit={onSetTrait.bind(null, row.value.trait)}\r\n    //         />\r\n    //       </Flex>\r\n    //     ),\r\n    //     accessor: x => x,\r\n    //     resizable: false,\r\n    //     width: 70,\r\n    //     sortable: true,\r\n    //     sortMethod: (a: typeof data[0], b: typeof data[0]) =>\r\n    //       a.selected != b.selected ? (a.selected ? -1 : 1) : 0\r\n    //   },\r\n    //   {\r\n    //     Header: \"Trait\",\r\n    //     id: \"trait_name\",\r\n    //     Cell: (row: DataTableRow) => <Text>{row.value}</Text>,\r\n    //     accessor: \"trait\",\r\n    //     filterable: true,\r\n    //     sortable: true\r\n    //   }\r\n    // ];\r\n\r\n    // return (\r\n    //   <DataTable\r\n    //     height=\"100%\"\r\n    //     data={data}\r\n    //     columns={columns}\r\n    //     showFilters\r\n    //     showPagination={false}\r\n    //   />\r\n    // );\r\n  }\r\n}\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(MinionTraitsTab);\r\n","import { createStructuredSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { getSelectedGameObjectTraits } from \"@/selectors/behaviors/ai-traits\";\r\n\r\nconst structuredSelector = {\r\n  traits: getSelectedGameObjectTraits\r\n};\r\nexport type StateProps = StructuredStateProps<typeof structuredSelector>;\r\nconst mapStateToProps = createStructuredSelector<AppState, StateProps>(\r\n  structuredSelector\r\n);\r\nexport default mapStateToProps;\r\n","import { AITraitsBehavior } from \"oni-save-parser\";\r\n\r\nimport { getCurrentGameObjectBehaviorSelector } from \"@/selectors/behaviors/utils\";\r\nimport { createSelector } from \"reselect\";\r\n\r\nexport const getSelectedGameObjectIdentityBehavior = getCurrentGameObjectBehaviorSelector(\r\n  AITraitsBehavior\r\n);\r\n\r\nexport const getSelectedGameObjectTraits = createSelector(\r\n  getSelectedGameObjectIdentityBehavior,\r\n  behavior => {\r\n    if (behavior == null) {\r\n      return null;\r\n    }\r\n\r\n    return behavior.templateData.TraitIds;\r\n  }\r\n);\r\n","import { setTrait } from \"@/actions/behaviors/set-traits-trait\";\r\n\r\nconst mapDispatchToProps = {\r\n  onSetTrait: setTrait\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import Table from \"./Table\";\r\nexport default Table;\r\n","import styled, {\r\n  intent,\r\n  text,\r\n  Intent,\r\n  Border,\r\n  getThemeColor,\r\n  Color,\r\n  getThemeBorder,\r\n  intentColor\r\n} from \"@/style\";\r\n\r\nimport { attachProps } from \"@/utils\";\r\n\r\nconst Table = styled.table`\r\n  border: none;\r\n  border-spacing: 0;\r\n  border-collapse: collapse;\r\n`;\r\n\r\nexport default attachProps(Table, {\r\n  THead: styled.thead`\r\n    background-color: ${getThemeColor(Color.PanelBackground)};\r\n  `,\r\n  TH: styled.th`\r\n    ${intent.of(Intent.Secondary)};\r\n  `,\r\n  TBody: styled.tbody``,\r\n  TR: styled.tr`\r\n    ${text};\r\n  `,\r\n  TD: styled.td`\r\n    ${text};\r\n\r\n    padding: 2px;\r\n\r\n    position: relative;\r\n\r\n    tr:not(:first-child):not(:last-child) > & {\r\n      :before {\r\n        position: absolute;\r\n        content: \"\";\r\n        top: 0;\r\n        left: 0;\r\n        width: 4px;\r\n        height: 3px;\r\n        border-top: ${getThemeBorder(Border.Normal)};\r\n        border-color: ${getThemeColor(Color.fromIntent(Intent.Secondary))};\r\n      }\r\n\r\n      :first-child:before {\r\n        width: 7px;\r\n      }\r\n\r\n      :after {\r\n        position: absolute;\r\n        content: \"\";\r\n        top: 0;\r\n        right: 0;\r\n        width: 4px;\r\n        height: 3px;\r\n        border-top: ${getThemeBorder(Border.Normal)};\r\n        border-color: ${getThemeColor(Color.fromIntent(Intent.Secondary))};\r\n      }\r\n\r\n      :last-child:after {\r\n        width: 7px;\r\n      }\r\n    }\r\n  `\r\n});\r\n","import * as React from \"react\";\r\n\r\nimport FormGroup from \"@/components/FormGroup\";\r\nimport NumericField from \"@/pages/SaveEditor/components/fields/NumericField\";\r\nimport EditModeCondition from \"@/components/EditModeCondition\";\r\n\r\nexport interface PositionTabContentProps {\r\n  gameObjectPath: string[];\r\n}\r\nconst MinionPositionTab: React.SFC<PositionTabContentProps> = ({\r\n  gameObjectPath\r\n}) => (\r\n  <React.Fragment>\r\n    <FormGroup label=\"X\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        path={[...gameObjectPath, \"position\", \"x\"]}\r\n      />\r\n    </FormGroup>\r\n    <FormGroup label=\"Y\">\r\n      <NumericField\r\n        precision=\"single\"\r\n        path={[...gameObjectPath, \"position\", \"y\"]}\r\n      />\r\n    </FormGroup>\r\n    <EditModeCondition editMode=\"advanced\">\r\n      <FormGroup label=\"Z\">\r\n        <NumericField\r\n          precision=\"single\"\r\n          path={[...gameObjectPath, \"position\", \"z\"]}\r\n        />\r\n      </FormGroup>\r\n    </EditModeCondition>\r\n  </React.Fragment>\r\n);\r\nMinionPositionTab.displayName = \"MinionPositionTab\";\r\nexport default MinionPositionTab;\r\n","import styled from \"@/style\";\r\n\r\nconst SaveEditorContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n`;\r\nexport default SaveEditorContainer;\r\n","import styled, { Space } from \"@/style\";\r\n\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst ContentContainer = styled.div`\r\n  box-sizing: border-box;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: auto;\r\n  flex: 1 1 auto;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nexport default ContentContainer;\r\n","import styled from \"@/style\";\r\n\r\nconst EditorContainer = styled.div`\r\n  flex: 1 1 auto;\r\n  height: 100%;\r\n  width: 100%;\r\n  overflow: auto;\r\n`;\r\nEditorContainer.displayName = \"EditorContainer\";\r\nexport default EditorContainer;\r\n","import Sidebar from \"./Sidebar\";\r\nexport default Sidebar;\r\n","import * as React from \"react\";\r\n\r\nimport Flex from \"@/components/Flex\";\r\n\r\nimport SidebarContainer from \"./components/SidebarContainer\";\r\n\r\nimport EditorModeSelector from \"./components/EditorModeSelector\";\r\nimport SaveStructureTree from \"./components/SaveStructureTree\";\r\n\r\nconst Sidebar: React.SFC = () => (\r\n  <SidebarContainer>\r\n    <Flex direction=\"column\" height=\"100%\">\r\n      <EditorModeSelector />\r\n      <Flex.Item fillParent constrain=\"column\">\r\n        <SaveStructureTree />\r\n      </Flex.Item>\r\n    </Flex>\r\n  </SidebarContainer>\r\n);\r\nSidebar.displayName = \"Sidebar\";\r\nexport default Sidebar;\r\n","import Panel from \"@/components/Panel\";\r\n\r\nconst SidebarContainer = Panel.extend`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n`;\r\nSidebarContainer.displayName = \"SidebarContainer\";\r\nexport default SidebarContainer;\r\n","import styled from \"@/style\";\r\nimport { WidthProps, HeightProps, width, height } from \"styled-system\";\r\nimport { getTheme } from \"@/style\";\r\n\r\nexport type BoxProps = WidthProps & HeightProps;\r\n\r\nconst Panel = styled<BoxProps, \"div\">(\"div\")`\r\n  ${width};\r\n  ${height};\r\n  background-color: ${props => getTheme(props).colors.bg.panel};\r\n`;\r\nPanel.displayName = \"Panel\";\r\nexport default Panel;\r\n","import EditorModeSelector from \"./EditorModeSelector\";\r\nexport default EditorModeSelector;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport Text from \"@/components/Text\";\r\nimport Input from \"@/components/Input\";\r\n\r\ntype Props = DispatchProps;\r\nclass EditorModeSelector extends React.Component<Props> {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Text.Label htmlFor=\"advanced_mode\" intent={Intent.Secondary}>\r\n          Advanced Mode\r\n        </Text.Label>\r\n        <Input\r\n          id=\"advanced_mode\"\r\n          type=\"checkbox\"\r\n          onChange={this._onAdvancedModeChange}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onAdvancedModeChange(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const { setEditMode } = this.props;\r\n    setEditMode(e.target.checked ? \"advanced\" : \"normal\");\r\n  }\r\n}\r\nexport default connect(\r\n  undefined,\r\n  mapDispatchToProps\r\n)(EditorModeSelector);\r\n","import { setEditMode } from \"@/actions/set-editmode\";\r\n\r\nconst mapDispatchToProps = {\r\n  setEditMode\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import SaveStructureTree from \"./SaveStructureTree\";\r\nexport default SaveStructureTree;\r\n","import * as React from \"react\";\r\n\r\nimport SaveStructureTreeContainer from \"./components/SaveStructureTreeContainer\";\r\nimport SaveStructureItem from \"./components/SaveStructureItem\";\r\n\r\ntype Props = {};\r\nexport default class SaveStructureTree extends React.Component<Props> {\r\n  private _containerRef = React.createRef<HTMLElement>();\r\n\r\n  render() {\r\n    return (\r\n      <SaveStructureTreeContainer innerRef={this._containerRef}>\r\n        <SaveStructureItem\r\n          saveItemPath={[]}\r\n          scrollContainer={this._containerRef}\r\n        />\r\n      </SaveStructureTreeContainer>\r\n    );\r\n  }\r\n}\r\n","import styled from \"@/style\";\r\n\r\nconst SaveStructureTreeContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: auto;\r\n`;\r\nexport default SaveStructureTreeContainer;\r\n","import SaveStructureItem from \"./SaveStructureItem\";\r\nexport default SaveStructureItem;\r\nexport * from \"./props\";\r\n","import * as React from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport scrollIntoView from \"dom-scroll-into-view\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport { SaveStructureItemProps } from \"./props\";\r\nimport mapStateToProps, { StateProps } from \"./derived-state\";\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport SaveStructureItemContainer from \"./components/SaveStructureItemContainer\";\r\nimport SaveStructureItemHeader from \"./components/SaveStructureItemHeader\";\r\nimport SaveStructureItemContent from \"./components/SaveStructureItemContent\";\r\n\r\ninterface State {\r\n  isExpanded: boolean;\r\n}\r\n\r\ntype Props = SaveStructureItemProps & StateProps & DispatchProps;\r\nclass SaveStructureItemComponent extends React.Component<Props, State> {\r\n  private _ref: React.RefObject<HTMLDivElement>;\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n\r\n    this._ref = React.createRef();\r\n\r\n    this.state = {\r\n      isExpanded: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.selectionStatus === \"selected\") {\r\n      this._scrollIntoView();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(oldProps: Props) {\r\n    if (\r\n      oldProps.selectionStatus !== \"selected\" &&\r\n      this.props.selectionStatus === \"selected\"\r\n    ) {\r\n      this._scrollIntoView();\r\n    }\r\n  }\r\n\r\n  render(): JSX.Element {\r\n    const { title, selectionStatus, childPaths, scrollContainer } = this.props;\r\n    let { isExpanded } = this.state;\r\n\r\n    const isExpandable = childPaths.length > 0;\r\n\r\n    let titleIntent: Intent;\r\n    switch (selectionStatus) {\r\n      default:\r\n        titleIntent = Intent.Default;\r\n        break;\r\n      case \"in-path\":\r\n        titleIntent = Intent.Secondary;\r\n        isExpanded = isExpandable;\r\n        break;\r\n      case \"selected\":\r\n        titleIntent = Intent.Primary;\r\n        break;\r\n    }\r\n\r\n    let valueElement: React.ReactNode | null = null;\r\n    if (isExpandable && isExpanded) {\r\n      valueElement = childPaths.map(childPath => {\r\n        const key = childPath[childPath.length - 1];\r\n        return (\r\n          <SaveStructureItem\r\n            key={key}\r\n            saveItemPath={childPath}\r\n            scrollContainer={scrollContainer}\r\n          />\r\n        );\r\n      });\r\n    }\r\n\r\n    return (\r\n      <SaveStructureItemContainer>\r\n        <SaveStructureItemHeader\r\n          innerRef={this._ref}\r\n          expandable={isExpandable}\r\n          expanded={isExpanded}\r\n          header={title}\r\n          intent={titleIntent}\r\n          onClick={this._onClick}\r\n          onExpandToggle={this._onExpandToggle}\r\n        />\r\n        <SaveStructureItemContent>{valueElement}</SaveStructureItemContent>\r\n      </SaveStructureItemContainer>\r\n    );\r\n  }\r\n\r\n  private _scrollIntoView() {\r\n    const htmlElement = this._ref.current;\r\n    const { childPaths, scrollContainer } = this.props;\r\n\r\n    if (childPaths.length > 0) {\r\n      this.setState({\r\n        isExpanded: true\r\n      });\r\n    }\r\n\r\n    if (htmlElement && scrollContainer.current) {\r\n      scrollIntoView(htmlElement, scrollContainer.current, {\r\n        allowHorizontalScroll: true,\r\n        onlyScrollIfNeeded: true,\r\n        offsetBottom: 125,\r\n        offsetTop: 125\r\n      });\r\n    }\r\n  }\r\n\r\n  @autobind()\r\n  private _onClick() {\r\n    const { saveItemPath, onClick } = this.props;\r\n    this.setState({\r\n      isExpanded: true\r\n    });\r\n    onClick(saveItemPath);\r\n  }\r\n\r\n  @autobind()\r\n  private _onExpandToggle() {\r\n    this.setState({\r\n      isExpanded: !this.state.isExpanded\r\n    });\r\n  }\r\n}\r\nconst SaveStructureItem = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SaveStructureItemComponent);\r\nexport default SaveStructureItem;\r\n","import { SaveGame } from \"oni-save-parser\";\r\nimport createCachedSelector from \"re-reselect\";\r\n\r\nimport naturalCompare from \"string-natural-compare\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport {\r\n  EditMode,\r\n  getSaveItemTitle,\r\n  getSaveItemChildPaths\r\n} from \"@/services/save-structure\";\r\n\r\nimport oniSaveSelector from \"@/selectors/oni-save\";\r\nimport selectedPathSelector from \"@/selectors/selected-path\";\r\nimport editModeSelector from \"@/selectors/edit-mode\";\r\n\r\nimport { SaveStructureItemProps } from \"./props\";\r\n\r\nconst cacheKeyGenerator = (_: AppState, props: SaveStructureItemProps) =>\r\n  props.saveItemPath.join(\".\");\r\n\r\nconst itemPathSelector = (_: AppState, props: SaveStructureItemProps) =>\r\n  props.saveItemPath;\r\n\r\nconst title = createCachedSelector<\r\n  AppState,\r\n  SaveStructureItemProps,\r\n  string[],\r\n  SaveGame | null,\r\n  string\r\n>(\r\n  itemPathSelector,\r\n  oniSaveSelector,\r\n  (path, saveGame) =>\r\n    saveGame ? getSaveItemTitle(path, saveGame) : \"[undefined]\"\r\n)(cacheKeyGenerator);\r\n\r\nconst selectionStatus = createCachedSelector<\r\n  AppState,\r\n  SaveStructureItemProps,\r\n  string[],\r\n  string[],\r\n  \"unselected\" | \"in-path\" | \"selected\"\r\n>(itemPathSelector, selectedPathSelector, (itemPath, selectedPath) => {\r\n  const isSelected = itemPath.every((x, i) => selectedPath[i] == x);\r\n  if (!isSelected) {\r\n    return \"unselected\";\r\n  }\r\n\r\n  if (itemPath.length === selectedPath.length) {\r\n    return \"selected\";\r\n  }\r\n\r\n  return \"in-path\";\r\n})(cacheKeyGenerator);\r\n\r\nconst childPaths = createCachedSelector<\r\n  AppState,\r\n  SaveStructureItemProps,\r\n  string[],\r\n  SaveGame | null,\r\n  EditMode,\r\n  string[][]\r\n>(\r\n  itemPathSelector,\r\n  oniSaveSelector,\r\n  editModeSelector,\r\n  (path, saveGame, editMode) => {\r\n    if (saveGame == null) {\r\n      return [];\r\n    }\r\n\r\n    // Note: This is a pretty heavy operation.  We recurse the save\r\n    //  to find the child items, then scan every path for both\r\n    //  items during sort.\r\n    const childItems = getSaveItemChildPaths(path, saveGame, editMode);\r\n    return childItems.sort((a, b) => {\r\n      const aTitle = getSaveItemTitle(a, saveGame);\r\n      const bTitle = getSaveItemTitle(b, saveGame);\r\n      return naturalCompare(aTitle, bTitle);\r\n    });\r\n  }\r\n)(cacheKeyGenerator);\r\n\r\nconst mapStateToProps = function(\r\n  state: AppState,\r\n  props: SaveStructureItemProps\r\n) {\r\n  // Do not use createStructuredSelector here, as that itself\r\n  //  creates a selector that will go nuts over our multi instance props.\r\n  const stateProps = {\r\n    title: title(state, props),\r\n    selectionStatus: selectionStatus(state, props),\r\n    childPaths: childPaths(state, props)\r\n  };\r\n\r\n  return stateProps;\r\n};\r\nexport type StateProps = ReturnType<typeof mapStateToProps>;\r\nexport default mapStateToProps;\r\n","import { selectPath } from \"@/actions/select-path\";\r\n\r\nconst mapDispatchToProps = {\r\n  onClick: selectPath\r\n};\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\nexport default mapDispatchToProps;\r\n","import styled from \"@/style\";\r\n\r\nconst SaveStructureItemContainer = styled.div``;\r\nSaveStructureItemContainer.displayName = \"SaveStructureItemContainer\";\r\nexport default SaveStructureItemContainer;\r\n","import SaveStructureItemHeader from \"./SaveStructureItemHeader\";\r\nexport default SaveStructureItemHeader;\r\n","import * as React from \"react\";\r\n\r\nimport styled from \"@/style\";\r\n\r\nimport Expander from \"./components/Expander\";\r\nimport ItemText from \"./components/ItemText\";\r\nimport { Intent } from \"@/style\";\r\n\r\nexport interface SaveStructureItemHeaderProps {\r\n  expandable: boolean;\r\n  expanded: boolean;\r\n  header: string;\r\n  intent: Intent;\r\n  innerRef?: React.RefObject<HTMLDivElement>;\r\n  onClick(): void;\r\n  onExpandToggle(): void;\r\n}\r\n\r\nconst SaveStructureItemHeaderContainer = styled.span`\r\n  white-space: nowrap;\r\n  cursor: pointer;\r\n`;\r\nSaveStructureItemHeaderContainer.displayName = \"SaveStructureItemContainer\";\r\n\r\nconst SaveStructureItemHeader: React.SFC<\r\n  SaveStructureItemHeaderProps & { className?: string }\r\n> = ({\r\n  className,\r\n  expandable,\r\n  expanded,\r\n  header,\r\n  intent,\r\n  onClick,\r\n  onExpandToggle,\r\n  innerRef\r\n}) => (\r\n  <SaveStructureItemHeaderContainer innerRef={innerRef} className={className}>\r\n    {expandable && (\r\n      <Expander\r\n        expanded={expanded}\r\n        onClick={expandable ? onExpandToggle : undefined}\r\n      />\r\n    )}\r\n    <ItemText intent={intent} onClick={onClick}>\r\n      {header}\r\n    </ItemText>\r\n  </SaveStructureItemHeaderContainer>\r\n);\r\nSaveStructureItemHeader.displayName = \"SaveStructureItemHeader\";\r\nexport default SaveStructureItemHeader;\r\n","import * as React from \"react\";\r\n\r\nconst ICON_SIZE = 10;\r\nconst ICON_EXPANDED = \"M 0 .25 L .5 .75 L 1 .25 z\";\r\nconst ICON_COLLAPSED = \"M .5 0 L 1 .5 L .5 1 z\";\r\n\r\nexport interface ExpanderProps {\r\n  expanded: boolean;\r\n  onClick?(): void;\r\n}\r\nconst Expander: React.SFC<ExpanderProps & { className?: string }> = ({\r\n  className,\r\n  expanded,\r\n  onClick\r\n}) => (\r\n  <svg\r\n    className={className}\r\n    width={ICON_SIZE}\r\n    height={ICON_SIZE}\r\n    viewBox={`0 0 1 1`}\r\n    onClick={onClick}\r\n  >\r\n    <path d={expanded ? ICON_EXPANDED : ICON_COLLAPSED} fill=\"black\" />\r\n  </svg>\r\n);\r\nexport default Expander;\r\n","import { getTheme, Space } from \"@/style\";\r\n\r\nimport Text from \"@/components/Text\";\r\n\r\nconst ItemText = Text.extend`\r\n  margin-left: ${props => getTheme(props).space[Space.Small]}px;\r\n`;\r\nexport default ItemText;\r\n","import styled from \"@/style\";\r\n\r\nconst SaveStructureItemContent = styled.div`\r\n  padding-left: 15px;\r\n`;\r\nexport default SaveStructureItemContent;\r\n","import styled from \"@/style\";\r\n\r\nimport { WidthProps, SpaceProps, width, space } from \"styled-system\";\r\n\r\nimport { Color, getThemeColor } from \"@/style\";\r\n\r\nexport interface SeparatorProps extends WidthProps, SpaceProps {\r\n  color?: Color;\r\n}\r\nconst Separator = styled<SeparatorProps, \"div\">(\"div\")`\r\n  border-bottom: 2px solid;\r\n  border-color: ${props =>\r\n    getThemeColor(props.color || Color.DefaultSeparator)(props)};\r\n  ${width};\r\n  ${space};\r\n  height: 2px;\r\n`;\r\nSeparator.displayName = \"Separator\";\r\nexport default Separator;\r\n","import styled from \"@/style\";\r\n\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst AppContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n  background-color: ${props => getTheme(props).colors.bg.default};\r\n`;\r\nAppContainer.displayName = \"AppContainer\";\r\nexport default AppContainer;\r\n","import styled from \"@/style\";\r\n\r\nconst AppContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  flex: 1 1 auto;\r\n  overflow: auto;\r\n`;\r\nAppContainer.displayName = \"AppContainer\";\r\nexport default AppContainer;\r\n","import NavBarContainer from \"./NavBar\";\r\nexport default NavBarContainer;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { Intent } from \"@/style\";\r\n\r\nimport Button from \"@/components/Button\";\r\n\r\nimport mapDispatchToProps, { DispatchProps } from \"./events\";\r\n\r\nimport NavBarContainer from \"./components/NavBarContainer\";\r\n\r\nimport NavBarGroup from \"./components/NavBarGroup\";\r\nimport NavBarTitleText from \"./components/NavBarTitleText\";\r\n\r\ntype Props = DispatchProps;\r\nclass NavBar extends React.Component<Props> {\r\n  private _input: HTMLElement | null = null;\r\n\r\n  render() {\r\n    const { onLoadTestData } = this.props;\r\n    return (\r\n      <NavBarContainer>\r\n        <NavBarTitleText>Duplicity</NavBarTitleText>\r\n        <NavBarGroup>\r\n          <input\r\n            ref={el => (this._input = el)}\r\n            style={{ display: \"none\" }}\r\n            type=\"file\"\r\n            accept=\".sav\"\r\n            onChange={this._onLoadFileInput}\r\n          />\r\n          <Button onClick={this._onLoadFileClick}>Load</Button>\r\n          <Button onClick={onLoadTestData}>Test</Button>\r\n          <Button intent={Intent.Primary} onClick={this._onSaveFileClick}>\r\n            Save\r\n          </Button>\r\n        </NavBarGroup>\r\n      </NavBarContainer>\r\n    );\r\n  }\r\n\r\n  @autobind()\r\n  private _onLoadFileClick() {\r\n    if (!this._input) {\r\n      return;\r\n    }\r\n    this._input.click();\r\n  }\r\n\r\n  @autobind()\r\n  private _onLoadFileInput(e: React.ChangeEvent<HTMLInputElement>) {\r\n    const files = e.target.files;\r\n    if (!files || files.length === 0) {\r\n      return;\r\n    }\r\n    const file = files[0];\r\n\r\n    const { onLoad } = this.props;\r\n    onLoad(file);\r\n  }\r\n\r\n  @autobind()\r\n  private _onSaveFileClick() {\r\n    const { onSave } = this.props;\r\n    const fileName = withExtension(\"my-file\", \".sav\");\r\n    onSave(fileName);\r\n  }\r\n}\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(NavBar);\r\n\r\nfunction withExtension(name: string, ext: string): string {\r\n  if (name.endsWith(ext)) return name;\r\n  return name + ext;\r\n}\r\n","import testData from \"@/__mocks__/save-game.json\";\r\n\r\nimport { loadOniSave } from \"@/actions/load-onisave\";\r\nimport { saveOniSave } from \"@/actions/save-onisave\";\r\n\r\nimport { receiveOniSaveSuccess } from \"@/actions/receive-onisave\";\r\n\r\nconst mapDispatchToProps = {\r\n  onLoad: loadOniSave,\r\n  onLoadTestData: () => receiveOniSaveSuccess(testData as any),\r\n  onSave: saveOniSave\r\n};\r\nexport default mapDispatchToProps;\r\nexport type DispatchProps = typeof mapDispatchToProps;\r\n","import styled from \"@/style\";\r\n\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst NavBarContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: \"row\";\r\n  width: 100%;\r\n  padding-top: 5px;\r\n  padding-bottom: 5px;\r\n  box-sizing: border-box;\r\n  background-color: ${props => getTheme(props).colors.bg.navbar};\r\n`;\r\nNavBarContainer.displayName = \"NavBarContainer\";\r\nexport default NavBarContainer;\r\n","import styled from \"@/style\";\r\n\r\nconst NavBarGroup = styled.div`\r\n  margin-left: auto;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  align-self: center;\r\n`;\r\nNavBarGroup.displayName = \"NavBarGroup\";\r\nexport default NavBarGroup;\r\n","import styled from \"@/style\";\r\nimport { getTheme } from \"@/style\";\r\n\r\nconst NavBarTitleText = styled.span`\r\n  font-size: 2em;\r\n  margin-left: 5px;\r\n  color: ${props => getTheme(props).colors.intent.primary};\r\n`;\r\nNavBarTitleText.displayName = \"NavBarTitleText\";\r\nexport default NavBarTitleText;\r\n"],"sourceRoot":""}