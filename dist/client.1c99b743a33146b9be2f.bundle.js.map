{"version":3,"sources":["webpack:///./src/services/save-editor/save-editor.ts","webpack:///./src/services/save-editor/store.ts","webpack:///./src/store.ts","webpack:///./src/pages/Changelog/style.scss","webpack:///./src/pages/Changelog/style.scss?b0de","webpack:///./CHANGELOG.md","webpack:///./src/pages/Changelog/component.tsx","webpack:///./src/pages/Changelog/index.ts","webpack:///./src/pages/404/style.scss","webpack:///./src/pages/404/style.scss?de76","webpack:///./src/pages/404/component.tsx","webpack:///./src/pages/Error/component.tsx","webpack:///./src/pages/Error/index.ts","webpack:///./src/pages/SaveEditor/pages/Geysers/style.scss","webpack:///./src/pages/SaveEditor/pages/Geysers/style.scss?64aa","webpack:///./src/pages/SaveEditor/pages/Geysers/components/GeyserEditor/style.scss","webpack:///./src/pages/SaveEditor/pages/Geysers/components/GeyserEditor/style.scss?b9fe","webpack:///./src/pages/SaveEditor/pages/Geysers/components/GeyserEditor/component.tsx","webpack:///./src/pages/SaveEditor/pages/Geysers/components/GeyserEditor/index.ts","webpack:///./src/pages/SaveEditor/components/GameObjectGrid/component.tsx","webpack:///./src/pages/SaveEditor/components/GameObjectGrid/index.ts","webpack:///./src/pages/SaveEditor/pages/Geysers/component.tsx","webpack:///./src/pages/SaveEditor/pages/Geysers/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Effects/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Effects/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Jobs/pages/Roles/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Jobs/pages/Roles/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Jobs/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Jobs/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Traits/traits.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Traits/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Traits/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Skills/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Skills/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Appearance/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/Appearance/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/General/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/pages/General/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantEditor/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantsList/style.scss","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantsList/style.scss?6de7","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantPortrait/style.scss","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantPortrait/style.scss?8cac","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantPortrait/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantPortrait/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantsList/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/components/DuplicantsList/index.ts","webpack:///./src/pages/SaveEditor/pages/Duplicants/component.tsx","webpack:///./src/pages/SaveEditor/pages/Duplicants/index.ts","webpack:///./src/pages/SaveEditor/pages/General/style.scss","webpack:///./src/pages/SaveEditor/pages/General/style.scss?e5a9","webpack:///./src/pages/SaveEditor/pages/General/component.tsx","webpack:///./src/pages/SaveEditor/pages/General/index.ts","webpack:///./src/pages/SaveEditor/components/LoadingSaveFile/component.tsx","webpack:///./src/pages/SaveEditor/components/LoadingSaveFile/index.ts","webpack:///./src/pages/SaveEditor/components/NoSaveLoaded/component.tsx","webpack:///./src/pages/SaveEditor/components/NoSaveLoaded/index.ts","webpack:///./src/pages/SaveEditor/component.tsx","webpack:///./src/pages/SaveEditor/index.ts","webpack:///./src/components/SavingDialog/component.tsx","webpack:///./src/components/SavingDialog/index.ts","webpack:///./src/components/AppNavMenu/style.scss","webpack:///./src/components/AppNavMenu/style.scss?3c5e","webpack:///./src/components/ActiveAwareLink/component.tsx","webpack:///./src/components/ActiveAwareLink/index.ts","webpack:///./src/components/AppNavMenu/component.tsx","webpack:///./src/components/AppNavMenu/index.ts","webpack:///./src/components/AppNavBar/style.scss","webpack:///./src/components/AppNavBar/style.scss?a2b2","webpack:///./src/components/AppNavBar/component.tsx","webpack:///./src/components/AppNavBar/index.ts","webpack:///./src/services/save-editor/save-loader.worker.ts","webpack:///./src/services/save-editor/game-object-behavior.ts","webpack:///./src/services/save-editor/index.tsx","webpack:///./src/services/save-editor/game-object.ts","webpack:///./src/utils.ts","webpack:///./src/components/App/component.tsx","webpack:///./src/components/App/index.ts","webpack:///./src/app.tsx","webpack:///./src/css/root.scss","webpack:///./src/css/root.scss?3097","webpack:///./src/css/index.ts","webpack:///./src/index.tsx","webpack:///./src/logging/index.ts","webpack:///./src/pages/404/index.ts"],"names":["mobx_1","__webpack_require__","file_saver_1","utils_1","logging_1","game_object_1","save_loader_worker_1","__importDefault","worker","default","SaveEditorImpl","[object Object]","this","saveName","isSaveLoading","isSaveLoaded","isSaveSaving","loadError","_saveGame","_gameObjects","Map","load","flow","file","clear","console","log","name","saveGame","parseSave","readFile","type","typedKeys","body","gameObjects","models","map","x","GameObjectModelImpl","set","e","error","message","save","_","value","forEach","syncChanges","data","writeSave","blob","Blob","saveAs","withExtension","objectModelArrays","Array","from","values","concat","get","reader","FileReader","Promise","accept","reject","onload","result","onerror","readAsArrayBuffer","buffer","onmessage","cmd","command","postMessage","ext","endsWith","__decorate","observable","prototype","action","exports","save_editor_1","createStore","mobx","__importStar","configure","enforceActions","store_1","createStores","saveEditor","module","push","i","content","options","hmr","transform","insertInto","undefined","locals","React","react_markdown_1","changelog","ChangelogPage","Component","createElement","className","source","component_1","core_1","icons_1","DuplicantsPage","NonIdealState","visual","IconNames","ERROR","ErrorPage","props","Error","stack","description","Text","mobx_react_1","oni_save_parser_1","select_1","StringSelect","Select","ofType","GeyserEditor","gameObject","behavior","getBehavior","GeyserBehavior","config","templateData","configuration","materialType","getGeyserTypeName","typeId","hash","items","GEYSER_TYPE_NAMES","itemRenderer","_renderGeyserTypeItem","itemPredicate","_filterItem","onItemSelect","_onGeyserTypeSelect","filterable","popoverProps","minimal","Button","rightIcon","text","Slider","rateRoll","min","max","stepSize","labelRenderer","_percentageRenderer","onChange","_setRateRoll","iterationLengthRoll","_setIterationLengthRoll","iterationPercentRoll","_setIterationPercentRoll","yearLengthRoll","_setYearLengthRoll","yearPercentRoll","_setYearPercentRoll","query","indexOf","typeName","getGeyserTypeHash","itemProps","modifiers","handleClick","matchesPredicate","MenuItem","active","key","onClick","toFixed","bound","observer","core_decorators_1","GameObjectGrid","renderItem","elements","GameObjectGridElement","kPrefabID","_onItemClick","autobind","bind","GameObjectGrid_1","GeyserEditor_1","GeysersPage","super","state","selectedGeyser","geysers","filter","isGeyser","length","SEARCH_AROUND","_renderGeyserGridItem","_onGeyserSelected","geyserBehavior","position","y","Observer","Card","interactive","setState","s","Object","assign","startsWith","withSaveEditor","DuplicantEffects","duplicant","effectsBehavior","AIEffectsBehavior","rows","saveLoadEffects","DuplicantEffectRow","id","timeRemaining","onChangeTime","_onEffectChangeTime","onRemove","_onEffectRemoved","AI_EFFECT_IDS","_renderItem","_onEffectSelected","resetOnClose","resetOnSelect","item","toLowerCase","effect","effectID","effects","findIndex","find","index","splice","NumericInput","clampValueOnBlur","onValueChange","_onTimeRemainingChange","icon","SMALL_CROSS","_onRemove","isNaN","DuplicantJobsPage","resumeBehavior","MinionResumeBehavior","currentRole","targetRole","ExperienceByRoleID","MasteryByRoleID","knownRoles","keys","experience","mastery","JobRow","jobID","setMastery","_setMastery","setExperience","_setExperience","_onCurrentRoleSelected","_onTargetRoleSelected","roleID","checked","_onSetMastery","_onSetExperience","change","target","Roles_1","DuplicantRolesPage","Tabs","vertical","renderActiveTabPanelOnly","Tab","title","panel","disabled","TRAITS","TraitMultiSelect","MultiSelect","traits_1","DuplicantTraits","traitsBehavior","AITraitsBehavior","traits","TraitIds","selectedItems","_onTagSelected","tagRenderer","tag","tagInputProps","_onTagRemoved","noResults","trait","isSelected","TICK","BLANK","shouldDismissPopover","DuplicantSkills","skillsBehavior","AIAttributeLevelsBehavior","saveLoadLevels","DuplicantSkillRow","attributeId","level","onChangeLevel","_onChangeLevel","onChangeExperience","_onChangeExperience","skill","_onLevelChange","_onExperienceChange","Math","round","oni_save_parser_2","DuplicantAccessoryPage","accessorizer","AccessorizerBehavior","accessories","eyesAccessory","getAccessoryOfType","headAccessory","hairAccessory","mouthAccessory","bodyAccessory","eyes","guid","Guid","head","hair","mouth","AppearanceGroup","ACCESSORIZER_EYE_GUIDS","onSet","_setEyes","ACCESSORIZER_HEAD_GUIDS","_setHead","ACCESSORIZER_HAIR_GUIDS","_setHair","ACCESSORIZER_MOUTH_GUIDS","_setMouth","ACCESSORIZER_BODY_GUIDS","_setBody","getIndexOfAccessoryType","_onSet","accessoryID","GenderSelect","NumberSelect","MIN_SCALE","Number","EPSILON","DuplicantGeneralPage","scaleX","scale","scaleY","healthBehavior","HealthBehavior","healthState","State","identityBehavior","MinionIdentityBehavior","gender","voiceIdx","healthStateStr","HEALTH_STATE_NAMES","MINION_IDENTITY_GENDERS","_onGenderSelected","_onVoiceSelected","_onScaleX","_onScaleY","_onHealthStateSelected","stateIndex","genderStringKey","General_1","Appearance_1","Skills_1","Traits_1","Jobs_1","Effects_1","DuplicantEditor","rename","FAILURE_TYPE","MISSING_BEHAVIOR","EditableText","_onNameChange","onConfirm","_onRename","str","DuplicantPortrait","identity","resume","role","outerClassName","_onClick","DuplicantPortrait_1","DuplicantsList","duplicants","selectedDuplicant","_onDuplicantClick","onDuplicantClick","DuplicantsList_1","DuplicantEditor_1","getGameObjects","MUGSHOT","_onDuplicantSelected","GeneralPage","clockBehavior","_getClockBehavior","cycle","immigrationBehavior","_getImmigrationBehavior","timeBeforeSpawn","bImmigrantAvailable","_onCycleChange","_nextSpawnChange","_spawnReadyChange","time","LoadingSaveFilePageComponent","Spinner","large","saveDescription","savePath","NoSaveLoadedPageComponent","_input","FLOPPY_DISK","intent","Intent","PRIMARY","_onLoadClick","ref","el","style","display","_onLoadFile","click","files","react_router_1","NoSaveLoaded_1","LoadingSaveFile_1","Duplicants_1","Geysers_1","Error_1","_404_1","SaveEditorPageComponent","Switch","Redirect","exact","to","Route","path","component","withRouter","SavingDialog","react_router_dom_1","ActiveAwareLink","_a","location","children","staticContext","other","__rest","pathName","pathname","match","matchPartialPath","toString","Link","event","preventDefault","ActiveAwareLink_1","AppNavMenu","entries","links","_renderEntries","String","fragments","previousWasGroup","entry","rendered","_renderEntry","MenuDivider","isArray","unshift","subEntries","collapse","primaryLink","throwUnknownMenuEntry","AppNavBar","Navbar","NavbarGroup","NavbarHeading","placeholder","Icon","EDIT","iconSize","align","Alignment","RIGHT","UPLOAD","_onSaveClick","renameSave","Worker","p","GameObjectBehaviorModelImpl","_behavior","parsedData","toJS","exportMapsAsObjects","deep","WrappedComponent","WithSaveEditor","inject","game_object_behavior_1","_behaviors","_gameObject","behaviors","array","idBehavior","KPrefabIDBehavior","InstanceID","NaN","behaviorName","z","obj","mobx_react_devtools_1","AppNavBar_1","AppNavMenu_1","SavingDialog_1","SaveEditor_1","Changelog_1","AppComponent","Dialog","isOpen","SAVED","isCloseButtonShown","react_hot_loader_1","App_1","hot","ReactDOM","app_1","rootEl","document","getElementById","render","Provider","HashRouter","failureType","ACTION_INVALID","SAVEFILE_CORRUPT","STATE_CORRUPT","warning","warn","freeze","seal"],"mappings":"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","file":"client.1c99b743a33146b9be2f.bundle.js","sourcesContent":["\r\nimport { observable, action, flow, computed, toJS } from \"mobx\";\r\nimport { saveAs } from \"file-saver\";\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { typedKeys } from \"@/utils\";\r\nimport { error } from \"@/logging\";\r\n\r\nimport { SaveEditor, GameObjectModel } from \"./interfaces\";\r\nimport { GameObjectModelImpl } from \"./game-object\";\r\n\r\nimport SaveLoadWorker from \"worker-loader!./save-loader.worker\";\r\nimport { LoadCommandData, SaveCommandData } from \"./save-loader.worker\";\r\nconst worker = new SaveLoadWorker();\r\n\r\n\r\nexport class SaveEditorImpl implements SaveEditor {\r\n    @observable\r\n    saveName: string | null = null;\r\n\r\n    @observable\r\n    isSaveLoading: boolean = false;\r\n\r\n    @observable\r\n    isSaveLoaded: boolean = false;\r\n\r\n    @observable\r\n    isSaveSaving: boolean = false;\r\n\r\n    @observable\r\n    loadError: Error | null = null;\r\n\r\n    private _saveGame: SaveGame | null = null;\r\n\r\n    /**\r\n     * Map of game object types to GameObjectModels in index order.\r\n     */\r\n    private _gameObjects = new Map<string, GameObjectModelImpl[]>();\r\n\r\n    get gameObjects(): GameObjectModel[] {\r\n        const objectModelArrays = Array.from(this._gameObjects.values());\r\n        return ([] as GameObjectModel[]).concat(...objectModelArrays);\r\n    }\r\n\r\n    load: SaveEditor[\"load\"] = flow(function* (this: SaveEditorImpl, file: File) {\r\n        this.isSaveLoaded = false;\r\n        this.isSaveLoading = true;\r\n        this._gameObjects.clear();\r\n        console.log(\"Setting name to\", file.name);\r\n        this.saveName = file.name;\r\n        console.log(\"Name set to\", this.saveName)\r\n        try {\r\n            const data = yield readFile(file);\r\n            const saveGame: SaveGame = yield parseSave(data);\r\n            this._saveGame = saveGame;\r\n            for (let type of typedKeys(this._saveGame.body.gameObjects)) {\r\n                const models = this._saveGame.body.gameObjects[type].map(x => new GameObjectModelImpl(type, x));\r\n                this._gameObjects.set(type, models);\r\n            }\r\n            this.isSaveLoaded = true;\r\n        }\r\n        catch (e) {\r\n            error(\"Failed to load file: \" + e.message);\r\n            this.loadError = e;\r\n        }\r\n        finally {\r\n            console.log(\"Load done.  Still\", this.saveName)\r\n            this.isSaveLoading = false;\r\n        }\r\n    });\r\n\r\n    @action\r\n    renameSave(name: string) {\r\n        if (!this.isSaveLoaded) return;\r\n        if (name == null || name === \"\") return;\r\n        console.log(\"Setting save name to\", name);\r\n        this.saveName = name;\r\n    }\r\n\r\n    save: SaveEditor[\"save\"] = flow(function*(this: SaveEditorImpl) {\r\n        if (!this._saveGame) return;\r\n        this.isSaveSaving = true;\r\n        try {\r\n            for (let [_, value] of this._gameObjects) {\r\n                value.forEach(x => x.syncChanges());\r\n            }\r\n            const data = yield writeSave(this._saveGame)\r\n            const blob = new Blob([data]);\r\n\r\n            saveAs(blob, withExtension(this.saveName || \"my-file\", \".sav\"));\r\n        }\r\n        catch (e) {\r\n            error(\"Failed to save file: \" + e.message);\r\n            this.loadError = e;\r\n        }\r\n        finally {\r\n            this.isSaveSaving = false;\r\n        }\r\n    });\r\n\r\n    // TODO: Look at why this is generating new objects every time.  Might be because the source object isnt observable?\r\n    // getGameObjects: SaveEditor[\"getGameObjects\"] = createTransformer((type: string) => ((this._saveGame && this._saveGame.body.gameObjects[type]) || []).map(x => new GameObjectModelImpl(type, x)));\r\n    getGameObjects(type: string): GameObjectModel[] {\r\n        return this._gameObjects.get(type) || [];\r\n    }\r\n}\r\n\r\n\r\nfunction readFile(file: File): Promise<ArrayBuffer> {\r\n    const reader = new FileReader();\r\n    return new Promise<ArrayBuffer>((accept, reject) => {\r\n        reader.onload = () => {\r\n            accept(reader.result);\r\n        };\r\n        reader.onerror = () => {\r\n            reject(reader.error);\r\n        };\r\n        reader.readAsArrayBuffer(file);\r\n    });\r\n}\r\n\r\nfunction parseSave(buffer: ArrayBuffer): Promise<SaveGame> {\r\n    return new Promise<SaveGame>((accept, reject) => {\r\n        worker.onerror = (e: ErrorEvent) => { reject(e.error) };\r\n        worker.onmessage = (e: MessageEvent) => {\r\n            const {\r\n                saveGame,\r\n                error\r\n            } = e.data;\r\n            if (error) reject(error);\r\n            else accept(saveGame);\r\n        };\r\n\r\n        const cmd: LoadCommandData = {\r\n            command: \"load\",\r\n            buffer: buffer\r\n        };\r\n        worker.postMessage(cmd);\r\n    });\r\n}\r\n\r\nfunction writeSave(saveGame: SaveGame): Promise<ArrayBuffer> {\r\n    return new Promise<ArrayBuffer>((accept, reject) => {\r\n        worker.onerror = (e: ErrorEvent) => { reject(e.error) };\r\n        worker.onmessage = (e: MessageEvent) => {\r\n            const {\r\n                buffer,\r\n                error\r\n            } = e.data;\r\n            if (error) reject(error);\r\n            else accept(buffer);\r\n        };\r\n\r\n        const cmd: SaveCommandData = {\r\n            command: \"save\",\r\n            save: saveGame\r\n        };\r\n        worker.postMessage(cmd);\r\n    });\r\n}\r\n\r\nfunction withExtension(name: string, ext: string): string {\r\n    if (name.endsWith(ext)) return name;\r\n    return name + ext;\r\n}","\r\nimport { SaveEditor } from \"./interfaces\";\r\nimport { SaveEditorImpl } from \"./save-editor\";\r\n\r\nexport function createStore(): SaveEditor {\r\n    return new SaveEditorImpl();\r\n}","\r\nimport * as mobx from \"mobx\";\r\nmobx.configure({\r\n    enforceActions: true\r\n});\r\n\r\nimport { createStore as createSaveEditorStore } from \"./services/save-editor/store\";\r\n\r\nexport function createStores() {\r\n    return {\r\n        saveEditor: createSaveEditorStore()\r\n    };\r\n}\r\n","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".ui-page-changelog {\\n  padding: 15px; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","module.exports = \"\\r\\n### v1.4.0\\r\\n- Edit geysers\\r\\n    - Type\\r\\n    - Cycle time factor\\r\\n    - Active time factor\\r\\n    - Dormant time factor\\r\\n\\r\\n### v1.3.0\\r\\n- Edit current cycle.\\r\\n- Edit duplicant printer\\r\\n    - Next duplicant ready\\r\\n    - Time to next duplicant\\r\\n\\r\\n### v1.2.1\\r\\n- Fix save corruption when text with multi-byte accents are encountered.\\r\\n- Refactor URL layout to make way for future utilities.\\r\\n\\r\\n### v1.2.0\\r\\n\\r\\n- Edit Duplicants\\r\\n    - Current Job\\r\\n    - Target Job\\r\\n    - Job Experience\\r\\n    - Job Mastery\\r\\n\\r\\n### v1.1.0\\r\\n\\r\\n- Edit Duplicants\\r\\n    - Gender (data only; no visual effect)\\r\\n    - Voice\\r\\n    - Appearance\\r\\n- Dedicated load button (no more refreshes to edit new saves)\\r\\n\\r\\n### v1.0.0\\r\\n\\r\\nGround-up rewrite.\\r\\n\\r\\n- Edit Duplicants\\r\\n    - Name\\r\\n    - Size (width and height)\\r\\n    - Health Status (healthy, critical, incapacitated, invulnurable, ...)\\r\\n    - Skills (level and experience)\\r\\n    - Traits\\r\\n    - Status Effects\\r\\n- New Theme\\r\\n- Non-blocking file loading and saving.  Prevents browsers from killing the process when working with large saves.\\r\\n- Internal cleanup for mantainability going forward.\"","\r\nimport * as React from \"react\";\r\nimport Markdown from \"react-markdown\";\r\n\r\nconst changelog = require(\"@/../CHANGELOG.md\");\r\n\r\nimport \"./style.scss\";\r\n\r\nexport default class ChangelogPage extends React.Component {\r\n    render() {\r\n        return <Markdown className=\"ui-page ui-page-changelog fill-parent\" source={changelog}/>\r\n    }\r\n}","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".ui-page-404 .ui-title {\\n  font-size: 20pt; }\\n\\n.ui-page-404 .ui-title-secondary {\\n  font-size: 12pt; }\\n\\n.ui-page-404 .ui-body {\\n  margin-top: 8px; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\r\nimport * as React from \"react\";\r\n\r\nimport {\r\n    NonIdealState,\r\n    Text\r\n} from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\nimport \"./style.scss\";\r\n\r\nclass DuplicantsPage extends React.Component {\r\n    render() {\r\n        return (\r\n            <NonIdealState className=\"ui-page ui-page-404\" visual={IconNames.ERROR}>\r\n                <div>\r\n                    <div className=\"ui-title\">I don't know how you got here...</div>\r\n                    <div className=\"ui-title-secondary\">But weasels were probably involved.</div>\r\n                </div>\r\n                <div className=\"ui-body\">\r\n                    <div>No idea what this page is supposed to be, sorry.</div>\r\n                    <div>Try choosing something else to edit.</div>\r\n                </div>\r\n            </NonIdealState>\r\n        )\r\n    }\r\n}\r\n\r\nexport default DuplicantsPage","\r\nimport * as React from \"react\";\r\n\r\nimport {\r\n    NonIdealState,\r\n    Text\r\n} from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\n\r\nexport interface ErrorPageProps {\r\n    error: Error;\r\n}\r\ntype Props = ErrorPageProps;\r\nclass ErrorPage extends React.Component<Props> {\r\n    render() {\r\n        let {\r\n            error\r\n        } = this.props;\r\n\r\n        if (!error) {\r\n            error = new Error(\"Well, this is weird... The Error page loaded, but there is no error.\");\r\n            error.stack = \"I really don't know what to do about this...\"\r\n        }\r\n\r\n        return (\r\n            <NonIdealState visual={IconNames.ERROR} description=\"An Error Occurred\">\r\n                <Text>{error.message}</Text>\r\n                <div>\r\n                    <code>{error.stack}</code>\r\n                </div>\r\n            </NonIdealState>\r\n        );\r\n    }\r\n}\r\nexport default ErrorPage;","\r\nimport Component from \"./component\";\r\nexport default Component;","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\\n */\\n.ui-geyser-list {\\n  background-color: #bfccd6;\\n  height: 340px; }\\n  .ui-geyser-list .ui-geyser-portrait {\\n    width: 150px;\\n    height: 150px;\\n    margin: 10px;\\n    cursor: pointer; }\\n    .ui-geyser-list .ui-geyser-portrait .ui-geyser-type {\\n      text-align: center; }\\n    .ui-geyser-list .ui-geyser-portrait .ui-geyser-position {\\n      text-align: center; }\\n  .ui-geyser-list .ui-geyser-portrait.pt-active {\\n    background-color: #f29d49; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".ui-page-geyser-editor {\\n  padding: 15px; }\\n  .ui-page-geyser-editor .ui-geyser-factor-explain {\\n    padding-top: 5px;\\n    padding-bottom: 10px; }\\n  .ui-page-geyser-editor .ui-slider-inset {\\n    box-sizing: border-box;\\n    padding: 0px 10px; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\r\nimport * as React from \"react\";\r\nimport { action } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { GeyserBehavior, GEYSER_TYPE_NAMES, getGeyserTypeName, getGeyserTypeHash } from \"oni-save-parser\";\r\nimport { Button, MenuItem, NumericInput, Slider } from \"@blueprintjs/core\";\r\nimport { Select, IItemRendererProps } from \"@blueprintjs/select\";\r\nconst StringSelect = Select.ofType<string>();\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\nimport { typedKeys } from \"@/utils\";\r\n\r\nimport \"./style.scss\";\r\n\r\nexport interface GeyserEditorProps {\r\n    className?: string;\r\n    gameObject: GameObjectModel;\r\n}\r\n@observer\r\nexport default class GeyserEditor extends React.Component<GeyserEditorProps> {\r\n    render() {\r\n        const {\r\n            className,\r\n            gameObject\r\n        } = this.props;\r\n\r\n        const behavior = gameObject.getBehavior(GeyserBehavior);\r\n        const config = behavior && behavior.templateData.configuration;\r\n        if (!config) {\r\n            return (\r\n                <div>\r\n                    This geyser has not been initialized, and cannot be edited.  Probably because it has not yet been discovered in-game.\r\n                </div>\r\n            );\r\n        }\r\n\r\n        const materialType = getGeyserTypeName(config.typeId.hash) || \"[Unknown]\";\r\n        return (\r\n            <div className={`layout-vertical ui-page-geyser-editor container-scroll ${className || \"\"}`}>\r\n                <div className=\"pt-form-group pt-inline\">\r\n                    <label className=\"pt-label\">\r\n                        Type\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <div className=\"pt-input-group\">\r\n                            <StringSelect\r\n                                items={GEYSER_TYPE_NAMES}\r\n                                itemRenderer={this._renderGeyserTypeItem}\r\n                                itemPredicate={this._filterItem}\r\n                                onItemSelect={this._onGeyserTypeSelect}\r\n                                filterable={true}\r\n                                popoverProps={{ minimal: true }}\r\n                            >\r\n                                <Button rightIcon=\"caret-down\" text={materialType} />\r\n                            </StringSelect>\r\n                            <div className=\"pt-form-helper-text\">\r\n                                Geyser types are predefined in the game assembly, and determine the emitted element\r\n                                and range of possible emit / idle / dormant times.\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group\">\r\n                    <div className=\"pt-form-helper-text ui-geyser-factor-explain\">\r\n                        The following factor values are percentages of the min/max value defined\r\n                        by the geyser type.  Factors above 100% do not have an effect.\r\n                    </div>\r\n                    <label className=\"pt-label\">Emit Rate Factor</label>\r\n                    <div className=\"pt-form-content ui-slider-inset\">\r\n                        <Slider\r\n                            value={config.rateRoll}\r\n                            min={0}\r\n                            max={1}\r\n                            stepSize={0.001}\r\n                            labelRenderer={this._percentageRenderer}\r\n                            onChange={this._setRateRoll}\r\n                        />\r\n                        <div className=\"pt-form-helper-text\">Mass per cycle</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group\">\r\n                    <label className=\"pt-label\">Active Cycle Length Factor</label>\r\n                    <div className=\"pt-form-content ui-slider-inset\">\r\n                        <Slider\r\n                            value={config.iterationLengthRoll}\r\n                            min={0}\r\n                            max={1}\r\n                            stepSize={0.001}\r\n                            labelRenderer={this._percentageRenderer}\r\n                            onChange={this._setIterationLengthRoll}\r\n                        />\r\n                        <div className=\"pt-form-helper-text\">The total length of the active (emit and idle) stage.</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group\">\r\n                    <label className=\"pt-label\">Active Emitting Percentage Factor</label>\r\n                    <div className=\"pt-form-content ui-slider-inset\">\r\n                        <Slider\r\n                            value={config.iterationPercentRoll}\r\n                            min={0}\r\n                            max={1}\r\n                            stepSize={0.001}\r\n                            labelRenderer={this._percentageRenderer}\r\n                            onChange={this._setIterationPercentRoll}\r\n                        />\r\n                        <div className=\"pt-form-helper-text\">The percentage of the active stage that is spent emitting material.</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group\">\r\n                    <label className=\"pt-label\">Lifecycle Length Factor</label>\r\n                    <div className=\"pt-form-content ui-slider-inset\">\r\n                        <Slider\r\n                            value={config.yearLengthRoll}\r\n                            min={0}\r\n                            max={1}\r\n                            stepSize={0.001}\r\n                            labelRenderer={this._percentageRenderer}\r\n                            onChange={this._setYearLengthRoll}\r\n                        />\r\n                        <div className=\"pt-form-helper-text\">The total length of its active/dormant cycle.</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group\">\r\n                    <label className=\"pt-label\">Lifecycle Active Percentage Factor</label>\r\n                    <div className=\"pt-form-content ui-slider-inset\">\r\n                        <Slider\r\n                            value={config.yearPercentRoll}\r\n                            min={0}\r\n                            max={1}\r\n                            stepSize={0.001}\r\n                            labelRenderer={this._percentageRenderer}\r\n                            onChange={this._setYearPercentRoll}\r\n                        />\r\n                        <div className=\"pt-form-helper-text\">The percentage of its lifecycle that is spent in an active (not dormant) state.</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private _filterItem(query: string, value: string) {\r\n        return value.indexOf(query) !== -1;\r\n    }\r\n\r\n    @action.bound\r\n    private _onGeyserTypeSelect(typeName: string) {\r\n        const { gameObject } = this.props;\r\n        const behavior = gameObject.getBehavior(GeyserBehavior);\r\n        const config = behavior && behavior.templateData.configuration;\r\n        if (!config) return;\r\n        const hash = getGeyserTypeHash(typeName);\r\n        if (hash != null) config.typeId.hash = hash;\r\n    }\r\n\r\n    private _renderGeyserTypeItem(value: string, itemProps: IItemRendererProps) {\r\n        const {\r\n            modifiers,\r\n            handleClick\r\n        } = itemProps;\r\n\r\n        if (!modifiers.matchesPredicate) {\r\n            return null;\r\n        }\r\n        return (\r\n            <MenuItem\r\n                active={modifiers.active}\r\n                key={value}\r\n                onClick={handleClick}\r\n                text={value}\r\n            />\r\n        );\r\n    }\r\n\r\n    private _percentageRenderer(value: number): string {\r\n        return `${(value * 100).toFixed(1)}%`;\r\n    }\r\n\r\n    @action.bound\r\n    private _setRateRoll(value: number) {\r\n        const { gameObject } = this.props;\r\n        const behavior = gameObject.getBehavior(GeyserBehavior);\r\n        const config = behavior && behavior.templateData.configuration;\r\n        if (!config) return;\r\n        config.rateRoll = value;\r\n    }\r\n\r\n    @action.bound\r\n    private _setIterationLengthRoll(value: number) {\r\n        const { gameObject } = this.props;\r\n        const behavior = gameObject.getBehavior(GeyserBehavior);\r\n        const config = behavior && behavior.templateData.configuration;\r\n        if (!config) return;\r\n        config.iterationLengthRoll = value;\r\n    }\r\n\r\n    @action.bound\r\n    private _setIterationPercentRoll(value: number) {\r\n        const { gameObject } = this.props;\r\n        const behavior = gameObject.getBehavior(GeyserBehavior);\r\n        const config = behavior && behavior.templateData.configuration;\r\n        if (!config) return;\r\n        config.iterationPercentRoll = value;\r\n    }\r\n\r\n    @action.bound\r\n    private _setYearLengthRoll(value: number) {\r\n        const { gameObject } = this.props;\r\n        const behavior = gameObject.getBehavior(GeyserBehavior);\r\n        const config = behavior && behavior.templateData.configuration;\r\n        if (!config) return;\r\n        config.yearLengthRoll = value;\r\n    }\r\n\r\n    @action.bound\r\n    private _setYearPercentRoll(value: number) {\r\n        const { gameObject } = this.props;\r\n        const behavior = gameObject.getBehavior(GeyserBehavior);\r\n        const config = behavior && behavior.templateData.configuration;\r\n        if (!config) return;\r\n        config.yearPercentRoll = value;\r\n    }\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { autobind } from \"core-decorators\";\r\nimport { observer } from \"mobx-react\";\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\n\r\nexport interface GameObjectGridProps {\r\n    className?: string;\r\n    gameObjects: GameObjectModel[];\r\n    onClick?(gameObject: GameObjectModel): void;\r\n    renderItem: (gameObject: GameObjectModel) => React.ReactChild;\r\n}\r\n\r\n@observer\r\nexport default class GameObjectGrid extends React.Component<GameObjectGridProps> {\r\n    render() {\r\n        const {\r\n            className,\r\n            gameObjects,\r\n            renderItem\r\n        } = this.props;\r\n\r\n        const elements = gameObjects.map(x => <GameObjectGridElement key={x.kPrefabID} gameObject={x} onClick={this._onItemClick} renderItem={renderItem}/>);\r\n        return (\r\n            <div className={`${className || ''} ui-gameobject-grid`}>\r\n                <div className={`fill-parent layout-horizontal layout-wrap container-scroll`}>\r\n                    {elements}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onItemClick(gameObject: GameObjectModel) {\r\n        const { onClick } = this.props;\r\n        if (onClick) onClick(gameObject);\r\n    }\r\n}\r\n\r\ninterface GameObjectGridElementProps {\r\n    gameObject: GameObjectModel;\r\n    renderItem(gameObject: GameObjectModel): React.ReactChild;\r\n    onClick(gameObject: GameObjectModel): void;\r\n}\r\nclass GameObjectGridElement extends React.Component<GameObjectGridElementProps> {\r\n    render() {\r\n        const {gameObject, renderItem, onClick} = this.props;\r\n        return <div onClick={onClick.bind(null, gameObject)}>{renderItem(gameObject)}</div>;\r\n    }\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { autobind } from \"core-decorators\";\r\nimport { observer, Observer } from \"mobx-react\";\r\nimport { GeyserBehavior, getGeyserTypeName } from \"oni-save-parser\";\r\n\r\nimport { NonIdealState, Card, ICardProps } from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\nimport { SaveEditorProps, withSaveEditor, GameObjectModel } from \"@/services/save-editor\";\r\n\r\nimport GameObjectGrid from \"../../components/GameObjectGrid\";\r\nimport GeyserEditor from \"./components/GeyserEditor\";\r\n\r\nimport \"./style.scss\";\r\n\r\ntype Props = SaveEditorProps;\r\ninterface State {\r\n    selectedGeyser: GameObjectModel | null;\r\n}\r\nclass GeysersPage extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            selectedGeyser: null\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            selectedGeyser\r\n        } = this.state;\r\n        const {\r\n            saveEditor\r\n        } = this.props;\r\n\r\n        const geysers = saveEditor.gameObjects.filter(isGeyser);\r\n\r\n        if (geysers.length === 0) {\r\n            return (\r\n                <NonIdealState visual={IconNames.SEARCH_AROUND}>\r\n                    <div>No geysers found.</div>\r\n                    <div>Geysers are not spawned into the game until they are discovered.</div>\r\n                </NonIdealState>\r\n            );\r\n        }\r\n\r\n        let content: React.ReactFragment;\r\n        if (selectedGeyser != null) {\r\n            content = <GeyserEditor className=\"fill-parent\" gameObject={selectedGeyser} />\r\n        }\r\n        else {\r\n            content = (\r\n                <NonIdealState visual={IconNames.SEARCH_AROUND}>\r\n                    Select a geyser to edit\r\n                </NonIdealState>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className=\"ui-page ui-page-geysers fill-parent layout-vertical\">\r\n                <GameObjectGrid\r\n                    className=\"layout-item ui-geyser-list\"\r\n                    gameObjects={geysers}\r\n                    renderItem={this._renderGeyserGridItem}\r\n                    onClick={this._onGeyserSelected}\r\n                />\r\n                <div className=\"layout-item-fill\">\r\n                    {content}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _renderGeyserGridItem(gameObject: GameObjectModel): React.ReactChild {\r\n        const geyserBehavior = gameObject.getBehavior(GeyserBehavior);\r\n        const config = geyserBehavior && geyserBehavior.templateData.configuration;\r\n        if (!config) {\r\n            return <div className=\"ui-geyser-portrait\">Undiscovered</div>;\r\n        }\r\n\r\n        const x = gameObject.position.x.toFixed();\r\n        const y = gameObject.position.y.toFixed();\r\n\r\n        return (\r\n            <Observer>\r\n                {() =>\r\n                    <Card className=\"ui-geyser-portrait\" interactive={true}>\r\n                        <h5 className=\"ui-geyser-type\">{getGeyserTypeName(config.typeId.hash)}</h5>\r\n                        <div className=\"ui-geyser-position\">({x}, {y})</div>\r\n                    </Card>\r\n                }\r\n            </Observer>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onGeyserSelected(selectedGeyser: GameObjectModel) {\r\n        this.setState(s => ({\r\n            ...s,\r\n            selectedGeyser\r\n        }));\r\n    }\r\n}\r\n\r\nexport default withSaveEditor(GeysersPage);\r\n\r\nfunction isGeyser(gameObject: GameObjectModel) {\r\n    if (gameObject.type.startsWith(\"GeyserGeneric_\")) return true;\r\n    // TODO: ONI code also contains MethaneGeyser and ChlorineGeyser.\r\n    //  I think these are left-over from the prototype geysers, but\r\n    //  need to confirm this.\r\n    return false;\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { action } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\nimport { AI_EFFECT_IDS, AIEffectsBehavior } from \"oni-save-parser\";\r\n\r\nimport { NumericInput, MenuItem, Button } from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\nimport { Select, IItemRendererProps } from \"@blueprintjs/select\";\r\nconst StringSelect = Select.ofType<string>();\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\n\r\n\r\nexport interface DuplicantEffectsProps {\r\n    duplicant: GameObjectModel\r\n};\r\n\r\n\r\ntype Props = DuplicantEffectsProps;\r\n@observer\r\nclass DuplicantEffects extends React.Component<Props> {\r\n    render() {\r\n        const { duplicant } = this.props;\r\n\r\n        const effectsBehavior = duplicant.getBehavior(AIEffectsBehavior);\r\n        if (!effectsBehavior) return <div>Error: No AIEffectsBehavior found.</div>;\r\n        const effects = effectsBehavior.templateData.saveLoadEffects;\r\n\r\n        const rows = effects.map(x =>\r\n            <DuplicantEffectRow\r\n                key={x.id}\r\n                id={x.id}\r\n                timeRemaining={x.timeRemaining}\r\n                onChangeTime={this._onEffectChangeTime}\r\n                onRemove={this._onEffectRemoved}\r\n            />\r\n        );\r\n\r\n        return (\r\n            <div className={`ui-duplicant-effects fill-parent layout-vertical`}>\r\n                <div className=\"container-scroll layout-item-fill\">\r\n                    <table className=\"pt-html-table pt-html-table-striped fill-parent-width\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Effect</th>\r\n                                <th>Time Remaining (ms)</th>\r\n                                <th></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {rows}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div>\r\n                    <StringSelect\r\n                        items={AI_EFFECT_IDS}\r\n                        itemPredicate={this._filterItem}\r\n                        itemRenderer={this._renderItem}\r\n                        onItemSelect={this._onEffectSelected}\r\n                        filterable={true}\r\n                        resetOnClose={true}\r\n                        resetOnSelect={true}\r\n                        popoverProps={{ minimal: true }}\r\n                    >\r\n                        <Button rightIcon=\"caret-down\" text=\"Add a new Effect\" />\r\n                    </StringSelect>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    private _filterItem(query: string, item: string) {\r\n        return item.toLowerCase().indexOf(query.toLowerCase()) !== -1;\r\n    }\r\n\r\n    @autobind()\r\n    private _renderItem(effect: string, itemProps: IItemRendererProps) {\r\n        const {\r\n            modifiers,\r\n            handleClick\r\n        } = itemProps;\r\n\r\n        if (!modifiers.matchesPredicate) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <MenuItem\r\n                active={modifiers.active}\r\n                key={effect}\r\n                onClick={handleClick}\r\n                text={effect}\r\n            />\r\n        );\r\n    };\r\n\r\n    @action.bound\r\n    private _onEffectSelected(effectID: string) {\r\n        const { duplicant } = this.props;\r\n        const effectsBehavior = duplicant.getBehavior(AIEffectsBehavior);\r\n        if (!effectsBehavior) return;\r\n        const effects = effectsBehavior.templateData.saveLoadEffects;\r\n\r\n        if (effects.findIndex(x => x.id === effectID) !== -1) return;\r\n\r\n        effects.push({\r\n            id: effectID,\r\n            timeRemaining: 5000\r\n        });\r\n    }\r\n\r\n    @action.bound\r\n    private _onEffectChangeTime(effectID: string, timeRemaining: number) {\r\n        const { duplicant } = this.props;\r\n        const effectsBehavior = duplicant.getBehavior(AIEffectsBehavior);\r\n        if (!effectsBehavior) return;\r\n        const effects = effectsBehavior.templateData.saveLoadEffects;\r\n\r\n        const effect = effects.find(x => x.id === effectID);\r\n        if (!effect) return;\r\n\r\n        effect.timeRemaining = timeRemaining;\r\n    }\r\n\r\n    @action.bound\r\n    private _onEffectRemoved(effectID: string) {\r\n        const { duplicant } = this.props;\r\n        const effectsBehavior = duplicant.getBehavior(AIEffectsBehavior);\r\n        if (!effectsBehavior) return;\r\n        const effects = effectsBehavior.templateData.saveLoadEffects;\r\n\r\n        const index = effects.findIndex(x => x.id === effectID);\r\n        if (index === -1) return;\r\n        effects.splice(index, 1);\r\n    }\r\n}\r\nexport default DuplicantEffects;\r\n\r\n\r\ninterface DuplicantEffectRowProps {\r\n    id: string;\r\n    timeRemaining: number;\r\n    onChangeTime(id: string, timeRemaining: number): void;\r\n    onRemove(id: string): void;\r\n}\r\n\r\nclass DuplicantEffectRow extends React.Component<DuplicantEffectRowProps> {\r\n    constructor(props: DuplicantEffectRowProps) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            id,\r\n            timeRemaining\r\n        } = this.props;\r\n\r\n        return (\r\n            <tr>\r\n                <td>{id}</td>\r\n                <td>\r\n                    <NumericInput\r\n                        value={timeRemaining}\r\n                        clampValueOnBlur={true}\r\n                        min={0}\r\n                        onValueChange={this._onTimeRemainingChange}\r\n                    />\r\n                </td>\r\n                <td>\r\n                    <Button icon={IconNames.SMALL_CROSS} onClick={this._onRemove} />\r\n                </td>\r\n            </tr>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onTimeRemainingChange(value: number) {\r\n        const {\r\n            id,\r\n            onChangeTime\r\n        } = this.props;\r\n\r\n        if (value < 0 || isNaN(value)) {\r\n            value = 0;\r\n        }\r\n\r\n        onChangeTime(id, value);\r\n    }\r\n\r\n    @autobind()\r\n    private _onRemove() {\r\n        const {\r\n            id,\r\n            onRemove\r\n        } = this.props;\r\n        onRemove(id);\r\n    }\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { action } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { NumericInput, Button, MenuItem } from \"@blueprintjs/core\";\r\nimport { Select, IItemRendererProps } from \"@blueprintjs/select\";\r\nconst StringSelect = Select.ofType<string>();\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\nimport { MinionResumeBehavior } from \"oni-save-parser\";\r\n\r\n\r\nexport interface DuplicantJobsPageProps {\r\n    duplicant: GameObjectModel;\r\n}\r\n\r\ntype Props = DuplicantJobsPageProps;\r\n@observer\r\nclass DuplicantJobsPage extends React.Component<Props> {\r\n    render() {\r\n        const { duplicant } = this.props;\r\n\r\n        const resumeBehavior = duplicant.getBehavior(MinionResumeBehavior);\r\n        if (!resumeBehavior) return <div>Error: GameObject lacks a MinionResumeBehavior.</div>;\r\n\r\n        const {\r\n            currentRole,\r\n            targetRole,\r\n            ExperienceByRoleID,\r\n            MasteryByRoleID\r\n        } = resumeBehavior.templateData;\r\n\r\n        if (!ExperienceByRoleID || !MasteryByRoleID || !currentRole) {\r\n            return <div>Error: Empty MinionResume behavior data.</div>;\r\n        }\r\n\r\n        // Might want to make a constant for this, but this is better for future compatibility.\r\n        const knownRoles = Array.from(ExperienceByRoleID.keys());\r\n\r\n        const rows = knownRoles.map(x => {\r\n            const experience = ExperienceByRoleID.get(x) || 0;\r\n            const mastery = MasteryByRoleID.get(x) || false;\r\n            return <JobRow key={x} jobID={x} mastery={mastery} experience={experience} setMastery={this._setMastery} setExperience={this._setExperience} />\r\n        });\r\n\r\n        return (\r\n            <div className={`ui-duplicant-jobs fill-parent container-scroll`}>\r\n                <div className=\"layout-vertical\">\r\n                    <div className=\"layout-horizontal\">\r\n                        <div className=\"ui-current-role pt-form-group pt-inline\">\r\n                            <label className=\"pt-label\">\r\n                                Current Role\r\n                            </label>\r\n                            <div className=\"pt-form-content\">\r\n                                <StringSelect\r\n                                    items={knownRoles}\r\n                                    itemPredicate={this._filterItem}\r\n                                    itemRenderer={this._renderItem}\r\n                                    onItemSelect={this._onCurrentRoleSelected}\r\n                                    filterable={true}\r\n                                    resetOnClose={true}\r\n                                    resetOnSelect={true}\r\n                                    popoverProps={{ minimal: true }}\r\n                                >\r\n                                    <Button rightIcon=\"caret-down\" text={currentRole || \"[Unknown]\"} />\r\n                                </StringSelect>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"ui-target-role pt-form-group pt-inline\">\r\n                            <label className=\"pt-label\">\r\n                                Target Role\r\n                            </label>\r\n                            <div className=\"pt-form-content\">\r\n                                <StringSelect\r\n                                    items={knownRoles}\r\n                                    itemPredicate={this._filterItem}\r\n                                    itemRenderer={this._renderItem}\r\n                                    onItemSelect={this._onTargetRoleSelected}\r\n                                    filterable={true}\r\n                                    resetOnClose={true}\r\n                                    resetOnSelect={true}\r\n                                    popoverProps={{ minimal: true }}\r\n                                >\r\n                                    <Button rightIcon=\"caret-down\" text={targetRole || \"[Unknown]\"} />\r\n                                </StringSelect>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <table className=\"pt-html-table pt-html-table-striped fill-parent-width layout-item\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Job Name</th>\r\n                                <th>Mastery</th>\r\n                                <th>Experience</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {rows}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private _filterItem(query: string, item: string) {\r\n        return item.toLowerCase().indexOf(query.toLowerCase()) !== -1;\r\n    }\r\n\r\n    @autobind()\r\n    private _renderItem(effect: string, itemProps: IItemRendererProps) {\r\n        const {\r\n            modifiers,\r\n            handleClick\r\n        } = itemProps;\r\n\r\n        if (!modifiers.matchesPredicate) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <MenuItem\r\n                active={modifiers.active}\r\n                key={effect}\r\n                onClick={handleClick}\r\n                text={effect}\r\n            />\r\n        );\r\n    };\r\n\r\n    @action.bound\r\n    private _onCurrentRoleSelected(roleID: string) {\r\n        const { duplicant } = this.props;\r\n        const resumeBehavior = duplicant.getBehavior(MinionResumeBehavior);\r\n        if (!resumeBehavior) return;\r\n        resumeBehavior.templateData.currentRole = roleID;\r\n    }\r\n\r\n    @action.bound\r\n    private _onTargetRoleSelected(roleID: string) {\r\n        const { duplicant } = this.props;\r\n        const resumeBehavior = duplicant.getBehavior(MinionResumeBehavior);\r\n        if (!resumeBehavior) return;\r\n        resumeBehavior.templateData.targetRole = roleID;\r\n    }\r\n\r\n    @action.bound\r\n    private _setMastery(roleID: string, mastery: boolean) {\r\n        const { duplicant } = this.props;\r\n        const resumeBehavior = duplicant.getBehavior(MinionResumeBehavior);\r\n        if (!resumeBehavior) return;\r\n        resumeBehavior.templateData.MasteryByRoleID!.set(roleID, mastery);\r\n    }\r\n\r\n    @action.bound\r\n    private _setExperience(roleID: string, experience: number) {\r\n        const { duplicant } = this.props;\r\n        const resumeBehavior = duplicant.getBehavior(MinionResumeBehavior);\r\n        if (!resumeBehavior) return;\r\n        resumeBehavior.templateData.ExperienceByRoleID!.set(roleID, experience);\r\n    }\r\n}\r\nexport default DuplicantJobsPage;\r\n\r\n\r\ninterface JobRowProps {\r\n    jobID: string;\r\n    mastery: boolean;\r\n    experience: number;\r\n    setMastery(jobID: string, mastery: boolean): void;\r\n    setExperience(jobID: string, experience: number): void;\r\n}\r\nclass JobRow extends React.Component<JobRowProps> {\r\n    render() {\r\n        const {\r\n            jobID,\r\n            mastery,\r\n            experience\r\n        } = this.props;\r\n\r\n        return (\r\n            <tr>\r\n                <td>{jobID}</td>\r\n                <td>\r\n                    <label className=\"pt-control pt-checkbox\">\r\n                        <input type=\"checkbox\" checked={mastery} onChange={this._onSetMastery} />\r\n                        <span className=\"pt-control-indicator\"></span>\r\n                    </label>\r\n                </td>\r\n                <td>\r\n                    <NumericInput\r\n                        value={experience}\r\n                        clampValueOnBlur={true}\r\n                        min={0}\r\n                        onValueChange={this._onSetExperience}\r\n                    />\r\n                </td>\r\n            </tr>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    _onSetMastery(change: React.ChangeEvent<HTMLInputElement>) {\r\n        const checked = change.target.checked;\r\n        const {\r\n            jobID,\r\n            setMastery\r\n        } = this.props;\r\n        setMastery(jobID, checked);\r\n    }\r\n\r\n    @autobind()\r\n    private _onSetExperience(value: number) {\r\n        if (value < 0) {\r\n            value = 0;\r\n        }\r\n\r\n        const {\r\n            jobID,\r\n            setExperience\r\n        } = this.props;\r\n        setExperience(jobID, value);\r\n    }\r\n}","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\n\r\nimport {\r\n    Tabs,\r\n    Tab\r\n} from \"@blueprintjs/core\";\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\n\r\nimport RolesPage from \"./pages/Roles\";\r\n\r\nexport interface DuplicantRolesPageProps {\r\n    duplicant: GameObjectModel;\r\n}\r\n\r\ntype Props = DuplicantRolesPageProps;\r\nclass DuplicantRolesPage extends React.Component<Props> {\r\n    render() {\r\n        const { duplicant } = this.props;\r\n        return (\r\n            <div className=\"ui-duplicant-roles fill-parent\">\r\n                <Tabs className=\"fill-parent layout-horizontal\" vertical={true} renderActiveTabPanelOnly={true} id=\"DuplicantRolePages\">\r\n                    <Tab className=\"layout-item-fill\" id=\"roles\" title=\"Roles\" panel={<RolesPage duplicant={duplicant} />} />\r\n                    <Tab id=\"aptitudes\" title=\"Aptitudes\" disabled/>\r\n                </Tabs>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default DuplicantRolesPage;","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\n// TODO: move to oni-save-parser\r\nconst TRAITS: string[] = [\r\n    \"None\",\r\n    \"Stinky\",\r\n    \"Ellie\",\r\n    \"Joshua\",\r\n    \"Liam\",\r\n    \"CantResearch\",\r\n    \"CantBuild\",\r\n    \"CantCook\",\r\n    \"CantDig\",\r\n    \"Hemophobia\",\r\n    \"MedicalAid\",\r\n    \"ScaredyCat\",\r\n    \"MouthBreather\",\r\n    \"CalorieBurner\",\r\n    \"SmallBladder\",\r\n    \"Anemic\",\r\n    \"SlowLearner\",\r\n    \"NoodleArms\",\r\n    \"InteriorDecorator\",\r\n    \"Regeneration\",\r\n    \"DeeperDiversLungs\",\r\n    \"SunnyDisposition\",\r\n    \"RockCrusher\",\r\n    \"Uncultured\",\r\n    \"WeakImmuneSystem\",\r\n    \"IrritableBowel\",\r\n    \"Flatulence\",\r\n    \"Snorer\",\r\n    \"Narcolepsy\",\r\n    \"Twinkletoes\",\r\n    \"Greasemonkey\",\r\n    \"MoleHands\",\r\n    \"FastLearner\",\r\n    \"DiversLung\",\r\n    \"StrongArm\",\r\n    \"IronGut\",\r\n    \"StrongImmuneSystem\",\r\n    \"BedsideManner\",\r\n    \"Caring\",\r\n    \"Aggressive\",\r\n    \"UglyCrier\",\r\n    \"BingeEater\",\r\n    \"StressVomiter\",\r\n    \"EarlyBird\",\r\n    \"NightOwl\",\r\n    \"Claustrophobic\",\r\n    \"PrefersWarmer\",\r\n    \"PrefersColder\",\r\n    \"SensitiveFeet\",\r\n    \"Fashionable\",\r\n    \"Climacophobic\",\r\n    \"SolitarySleeper\",\r\n    \"Workaholic\"\r\n];\r\nexport default TRAITS;","\r\nimport * as React from \"react\";\r\nimport { action } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { MenuItem, Intent } from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\nimport { MultiSelect, ItemRenderer, IItemRendererProps } from \"@blueprintjs/select\";\r\nconst TraitMultiSelect = MultiSelect.ofType<string>();\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\n\r\nimport TRAITS from \"./traits\";\r\nimport { AITraitsBehavior } from \"oni-save-parser\";\r\n\r\nexport interface DuplicantTraitsProps {\r\n    duplicant: GameObjectModel;\r\n};\r\n\r\n\r\ntype Props = DuplicantTraitsProps;\r\n@observer\r\nclass DuplicantTraits extends React.Component<Props> {\r\n    render() {\r\n        const { duplicant } = this.props;\r\n\r\n        const traitsBehavior = duplicant.getBehavior(AITraitsBehavior);\r\n        if (!traitsBehavior) return <div>Error: Game object lacks a AITraitsBehavior.</div>;\r\n        const traits = traitsBehavior.templateData.TraitIds;\r\n\r\n        return (\r\n            <div className={`fill-parent ui-duplicant-traits`}>\r\n                <TraitMultiSelect\r\n                    className=\"fill-parent-width\"\r\n                    items={TRAITS}\r\n                    selectedItems={traits}\r\n                    onItemSelect={this._onTagSelected}\r\n                    itemPredicate={this._filterItem}\r\n                    itemRenderer={this._renderItem}\r\n                    tagRenderer={tag => tag}\r\n                    tagInputProps={{ onRemove: this._onTagRemoved }}\r\n                    noResults={<MenuItem disabled={true} text=\"No results.\" />}\r\n                    popoverProps={{ minimal: true }}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    @action.bound\r\n    private _onTagSelected(tag: string) {\r\n        const { duplicant } = this.props;\r\n        const traitsBehavior = duplicant.getBehavior(AITraitsBehavior);\r\n        if (!traitsBehavior) return;\r\n        const traits = traitsBehavior.templateData.TraitIds;\r\n\r\n        if (traits.indexOf(tag) !== -1) {\r\n            return;\r\n        }\r\n\r\n        traits.push(tag);\r\n    }\r\n\r\n    @autobind()\r\n    private _onTagRemoved(tag: string) {\r\n        const { duplicant } = this.props;\r\n        const traitsBehavior = duplicant.getBehavior(AITraitsBehavior);\r\n        if (!traitsBehavior) return;\r\n        const traits = traitsBehavior.templateData.TraitIds;\r\n\r\n        const index = traits.indexOf(tag);\r\n        if (index === -1) return;\r\n\r\n        traits.splice(index, 1);\r\n    }\r\n\r\n    private _filterItem(query: string, trait: string) {\r\n        return trait.toLowerCase().indexOf(query.toLowerCase()) !== -1;\r\n    }\r\n\r\n    @autobind()\r\n    private _renderItem(trait: string, itemProps: IItemRendererProps) {\r\n        const {\r\n            modifiers,\r\n            handleClick\r\n        } = itemProps;\r\n\r\n        if (!modifiers.matchesPredicate) {\r\n            return null;\r\n        }\r\n\r\n        let isSelected = false;\r\n        \r\n        // TODO: Ensure that mobx is caching this stuff, as this is called for every item.\r\n        const traitsBehavior = this.props.duplicant.getBehavior(AITraitsBehavior);\r\n        if (traitsBehavior) {\r\n            const traits = traitsBehavior.templateData.TraitIds;\r\n            isSelected = traits.indexOf(trait) !== -1;\r\n        }\r\n\r\n        return (\r\n            <MenuItem\r\n                active={modifiers.active}\r\n                icon={isSelected ? IconNames.TICK : IconNames.BLANK}\r\n                key={trait}\r\n                onClick={handleClick}\r\n                text={trait}\r\n                shouldDismissPopover={false}\r\n            />\r\n        );\r\n    };\r\n\r\n}\r\nexport default DuplicantTraits;\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { action } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { NumericInput } from \"@blueprintjs/core\";\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\nimport { AIAttributeLevelsBehavior } from \"oni-save-parser\";\r\n\r\nexport interface DuplicantSkillsProps {\r\n    duplicant: GameObjectModel;\r\n};\r\n\r\n\r\ntype Props = DuplicantSkillsProps;\r\n@observer\r\nclass DuplicantSkills extends React.Component<Props> {\r\n    render() {\r\n        const { duplicant } = this.props;\r\n\r\n        const skillsBehavior = duplicant.getBehavior(AIAttributeLevelsBehavior);\r\n        if (!skillsBehavior) return <div>Error: Game object lacks a AIAttributeLevelsBehavior behavior.</div>;\r\n        const skills = skillsBehavior.templateData.saveLoadLevels;\r\n\r\n        const rows = skills.map(x => \r\n            <DuplicantSkillRow\r\n                key={x.attributeId}\r\n                id={x.attributeId}\r\n                level={x.level}\r\n                experience={x.experience}\r\n                onChangeLevel={this._onChangeLevel}\r\n                onChangeExperience={this._onChangeExperience}\r\n        />);\r\n\r\n        return (\r\n            <div className={`ui-duplicant-skills fill-parent container-scroll`}>\r\n                <table className=\"pt-html-table pt-html-table-striped\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Skill</th>\r\n                            <th>Level</th>\r\n                            <th>Experience</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {rows}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    @action.bound\r\n    private _onChangeLevel(id: string, level: number) {\r\n        const { duplicant } = this.props;\r\n        const skillsBehavior = duplicant.getBehavior(AIAttributeLevelsBehavior);\r\n        if (!skillsBehavior) return;\r\n        const skills = skillsBehavior.templateData.saveLoadLevels;\r\n        const skill = skills.find(x => x.attributeId === id);\r\n        if (!skill) return;\r\n        skill.level = level;\r\n    }\r\n\r\n    @action.bound\r\n    private _onChangeExperience(id: string, experience: number) {\r\n        const { duplicant } = this.props;\r\n        const skillsBehavior = duplicant.getBehavior(AIAttributeLevelsBehavior);\r\n        if (!skillsBehavior) return;\r\n        const skills = skillsBehavior.templateData.saveLoadLevels;\r\n        const skill = skills.find(x => x.attributeId === id);\r\n        if (!skill) return;\r\n        skill.experience = experience;\r\n    }\r\n}\r\nexport default DuplicantSkills;\r\n\r\n\r\ninterface DuplicantSkillRowProps {\r\n    id: string;\r\n    level: number;\r\n    experience: number;\r\n    onChangeLevel(id: string, level: number): void;\r\n    onChangeExperience(id: string, level: number): void;\r\n}\r\n\r\nclass DuplicantSkillRow extends React.Component<DuplicantSkillRowProps> {\r\n    render() {\r\n        const {\r\n            id,\r\n            level,\r\n            experience\r\n        } = this.props;\r\n\r\n        return (\r\n            <tr>\r\n                <td>{id}</td>\r\n                <td><NumericInput\r\n                    value={level}\r\n                    clampValueOnBlur={true}\r\n                    min={0}\r\n                    onValueChange={this._onLevelChange}\r\n                /></td>\r\n                <td><NumericInput\r\n                    value={experience}\r\n                    clampValueOnBlur={true}\r\n                    min={0}\r\n                    onValueChange={this._onExperienceChange}\r\n                /></td>\r\n            </tr>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onLevelChange(value: number) {\r\n        const {\r\n            id,\r\n            onChangeLevel\r\n        } = this.props;\r\n\r\n        value = Math.round(value);\r\n        if (value < 0 || isNaN(value)) {\r\n            value = 0;\r\n        }\r\n        \r\n        onChangeLevel(id, value);\r\n    }\r\n\r\n    @autobind()\r\n    private _onExperienceChange(value: number) {\r\n        const {\r\n            id,\r\n            onChangeExperience\r\n        } = this.props;\r\n\r\n        if (value < 0 || isNaN(value)) {\r\n            value = 0;\r\n        }\r\n\r\n        onChangeExperience(id, value);\r\n    }\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { getAccessoryOfType, getIndexOfAccessoryType } from \"oni-save-parser\";\r\n\r\nimport { Button, MenuItem } from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\nimport { Select, IItemRendererProps } from \"@blueprintjs/select\";\r\nconst StringSelect = Select.ofType<string>();\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\n\r\n\r\nimport { \r\n    ACCESSORIZER_EYE_GUIDS,\r\n    ACCESSORIZER_HAIR_GUIDS,\r\n    ACCESSORIZER_HEAD_GUIDS,\r\n    ACCESSORIZER_MOUTH_GUIDS,\r\n    ACCESSORIZER_BODY_GUIDS,\r\n    AccessorizerBehavior\r\n} from \"oni-save-parser\";\r\nimport { action } from \"mobx\";\r\n\r\n\r\nexport interface DuplicantAccessoryPageProps {\r\n    duplicant: GameObjectModel;\r\n};\r\n\r\ntype Props = DuplicantAccessoryPageProps;\r\n@observer\r\nclass DuplicantAccessoryPage extends React.Component<Props> {\r\n    render() {\r\n        const { duplicant } = this.props;\r\n        const accessorizer = duplicant.getBehavior(AccessorizerBehavior);\r\n        if (!accessorizer) return <div>Error: No AccessorizerBehavior found</div>;\r\n        const accessories = accessorizer.templateData.accessories;\r\n\r\n        const eyesAccessory = getAccessoryOfType(accessories, \"eyes\");\r\n        const headAccessory = getAccessoryOfType(accessories, \"headshape\");\r\n        const hairAccessory = getAccessoryOfType(accessories, \"hair\");\r\n        const mouthAccessory = getAccessoryOfType(accessories, \"mouth\");\r\n        const bodyAccessory = getAccessoryOfType(accessories, \"body\");\r\n\r\n        const eyes = eyesAccessory ? eyesAccessory.guid.Guid : \"[Error: Accessory Not Found]\";\r\n        const head = headAccessory ? headAccessory.guid.Guid : \"[Error: Accessory Not Found]\";\r\n        const hair = hairAccessory ? hairAccessory.guid.Guid : \"[Error: Accessory Not Found]\";\r\n        const mouth = mouthAccessory ? mouthAccessory.guid.Guid : \"[Error: Accessory Not Found]\";\r\n        const body = bodyAccessory ? bodyAccessory.guid.Guid : \"[Error: Accessory Not Found]\";\r\n\r\n        return (\r\n            <div className={`ui-duplicant-accessories fill-parent layout-vertical container-scroll`}>\r\n                <AppearanceGroup name=\"Eyes\" value={eyes} accessories={ACCESSORIZER_EYE_GUIDS} onSet={this._setEyes}/>\r\n                <AppearanceGroup name=\"Head\" value={head} accessories={ACCESSORIZER_HEAD_GUIDS} onSet={this._setHead}/>\r\n                <AppearanceGroup name=\"Hair\" value={hair} accessories={ACCESSORIZER_HAIR_GUIDS} onSet={this._setHair}/>\r\n                <AppearanceGroup name=\"Mouth\" value={mouth} accessories={ACCESSORIZER_MOUTH_GUIDS} onSet={this._setMouth}/>\r\n                <AppearanceGroup name=\"Body\" value={body} accessories={ACCESSORIZER_BODY_GUIDS} onSet={this._setBody}/>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @action.bound\r\n    private _setEyes(value: string) {\r\n        const { duplicant } = this.props;\r\n        const accessorizer = duplicant.getBehavior(AccessorizerBehavior);\r\n        if (!accessorizer) return;\r\n        const accessories = accessorizer.templateData.accessories;\r\n        const index = getIndexOfAccessoryType(accessories, \"eyes\");\r\n        if (index == -1) return;\r\n        accessories[index].guid.Guid = value;\r\n    }\r\n\r\n    @action.bound\r\n    private _setHead(value: string) {\r\n        const { duplicant } = this.props;\r\n        const accessorizer = duplicant.getBehavior(AccessorizerBehavior);\r\n        if (!accessorizer) return;\r\n        const accessories = accessorizer.templateData.accessories;\r\n        const index = getIndexOfAccessoryType(accessories, \"headshape\");\r\n        if (index == -1) return;\r\n        accessories[index].guid.Guid = value;\r\n    }\r\n\r\n    @action.bound\r\n    private _setHair(value: string) {\r\n        const { duplicant } = this.props;\r\n        const accessorizer = duplicant.getBehavior(AccessorizerBehavior);\r\n        if (!accessorizer) return;\r\n        const accessories = accessorizer.templateData.accessories;\r\n        const index = getIndexOfAccessoryType(accessories, \"hair\");\r\n        if (index == -1) return;\r\n        accessories[index].guid.Guid = value;\r\n    }\r\n\r\n    @action.bound\r\n    private _setMouth(value: string) {\r\n        const { duplicant } = this.props;\r\n        const accessorizer = duplicant.getBehavior(AccessorizerBehavior);\r\n        if (!accessorizer) return;\r\n        const accessories = accessorizer.templateData.accessories;\r\n        const index = getIndexOfAccessoryType(accessories, \"mouth\");\r\n        if (index == -1) return;\r\n        accessories[index].guid.Guid = value;\r\n    }\r\n\r\n    @action.bound\r\n    private _setBody(value: string) {\r\n        const { duplicant } = this.props;\r\n        const accessorizer = duplicant.getBehavior(AccessorizerBehavior);\r\n        if (!accessorizer) return;\r\n        const accessories = accessorizer.templateData.accessories;\r\n        const index = getIndexOfAccessoryType(accessories, \"body\");\r\n        if (index == -1) return;\r\n        accessories[index].guid.Guid = value;\r\n    }\r\n}\r\nexport default DuplicantAccessoryPage;\r\n\r\n\r\ninterface AppearanceGroupProps {\r\n    name: string;\r\n    accessories: string[];\r\n    value: string | null;\r\n    onSet(accessoryID: string): void\r\n}\r\nclass AppearanceGroup extends React.Component<AppearanceGroupProps> {\r\n    render() {\r\n        const {\r\n            name,\r\n            accessories,\r\n            value\r\n        } = this.props;\r\n        return (\r\n            <div className=\"pt-form-group pt-inline\">\r\n            <label className=\"pt-label\">\r\n                {name}\r\n            </label>\r\n            <div className=\"pt-form-content\">\r\n                <StringSelect\r\n                    items={accessories}\r\n                    itemRenderer={this._renderItem}\r\n                    onItemSelect={this._onSet}\r\n                    filterable={false}\r\n                    resetOnClose={true}\r\n                    resetOnSelect={true}\r\n                    popoverProps={{ minimal: true }}\r\n                >\r\n                    <Button rightIcon=\"caret-down\" text={value || \"[Accessory not Found]\"} />\r\n                </StringSelect>\r\n            </div>\r\n        </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _renderItem(accessoryID: string, itemProps: IItemRendererProps) {\r\n        const {\r\n            modifiers,\r\n            handleClick\r\n        } = itemProps;\r\n\r\n        if (!modifiers.matchesPredicate) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <MenuItem\r\n                active={modifiers.active}\r\n                key={accessoryID}\r\n                onClick={handleClick}\r\n                text={accessoryID}\r\n            />\r\n        );\r\n    };\r\n\r\n    @autobind()\r\n    private _onSet(accessoryID: string) {\r\n        const { onSet } = this.props;\r\n        onSet(accessoryID);\r\n    }\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport * as React from \"react\";\r\nimport { action } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\nimport { HEALTH_STATE_NAMES, MINION_IDENTITY_GENDERS, MinionGender, HealthBehavior, MinionIdentityBehavior } from \"oni-save-parser\";\r\n\r\nimport { Button, MenuItem, NumericInput } from \"@blueprintjs/core\";\r\nimport { Select, IItemRendererProps } from \"@blueprintjs/select\";\r\n\r\nconst GenderSelect = Select.ofType<MinionGender>();\r\nconst StringSelect = Select.ofType<string>();\r\nconst NumberSelect = Select.ofType<number>();\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\n\r\n\r\nexport interface DuplicantGeneralProps {\r\n    duplicant: GameObjectModel;\r\n};\r\n\r\n\r\n// We only care about > 0\r\nconst MIN_SCALE = Number.EPSILON;\r\n\r\ntype Props = DuplicantGeneralProps;\r\n@observer\r\nclass DuplicantGeneralPage extends React.Component<Props> {\r\n    render() {\r\n        const { duplicant } = this.props;\r\n\r\n        const scaleX = duplicant.scale.x;\r\n        const scaleY = duplicant.scale.y;\r\n\r\n        const healthBehavior = duplicant.getBehavior(HealthBehavior);\r\n        if (!healthBehavior) return <div>Error: HealthBehavior not found</div>;\r\n        const healthState = healthBehavior.templateData.State;\r\n\r\n        const identityBehavior = duplicant.getBehavior(MinionIdentityBehavior);\r\n        if (!identityBehavior) return <div>Error: MinionIdentityBehavior not found</div>;\r\n        const {\r\n            gender,\r\n            voiceIdx\r\n        } = identityBehavior.templateData;\r\n\r\n        let healthStateStr: string;\r\n        if (healthState != null && healthState >= 0 && healthState < HEALTH_STATE_NAMES.length) {\r\n            healthStateStr = HEALTH_STATE_NAMES[healthState];\r\n        }\r\n        else {\r\n            healthStateStr = `<Unknown Health State ${healthState}>`;\r\n        }\r\n\r\n        return (\r\n            <div className=\"fill-parent\">\r\n                <div className=\"pt-form-group pt-inline\">\r\n                    <label className=\"pt-label\">\r\n                        Gender\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <GenderSelect\r\n                            // TODO: Export from oni-save-parser\r\n                            items={MINION_IDENTITY_GENDERS}\r\n                            itemRenderer={this._renderItem}\r\n                            onItemSelect={this._onGenderSelected}\r\n                            filterable={false}\r\n                            resetOnClose={true}\r\n                            resetOnSelect={true}\r\n                            popoverProps={{ minimal: true }}\r\n                        >\r\n                            <Button rightIcon=\"caret-down\" text={gender || \"MALE\"} />\r\n                        </GenderSelect>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group pt-inline\">\r\n                    <label className=\"pt-label\">\r\n                        Voice\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <NumberSelect\r\n                            // TODO: get from oni-save-parser\r\n                            items={[0, 1, 2, 3, 4]}\r\n                            itemRenderer={this._renderItem}\r\n                            onItemSelect={this._onVoiceSelected}\r\n                            filterable={false}\r\n                            resetOnClose={true}\r\n                            resetOnSelect={true}\r\n                            popoverProps={{ minimal: true }}\r\n                        >\r\n                            <Button rightIcon=\"caret-down\" text={`Voice ${voiceIdx || 0}`} />\r\n                        </NumberSelect>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group pt-inline\">\r\n                    <label className=\"pt-label\">\r\n                        Scale\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <div className=\"pt-input-group\">\r\n                            <span>Horizontal</span>\r\n                            <NumericInput min={MIN_SCALE} clampValueOnBlur={true} value={scaleX} onValueChange={this._onScaleX} />\r\n                        </div>\r\n                        <div className=\"pt-input-group\">\r\n                            <span>Vertical</span>\r\n                            <NumericInput min={MIN_SCALE} clampValueOnBlur={true} value={scaleY} onValueChange={this._onScaleY} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group pt-inline\">\r\n                    <label className=\"pt-label\">\r\n                        Health State\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <StringSelect\r\n                            items={HEALTH_STATE_NAMES}\r\n                            itemRenderer={this._renderItem}\r\n                            onItemSelect={this._onHealthStateSelected}\r\n                            filterable={false}\r\n                            resetOnClose={true}\r\n                            resetOnSelect={true}\r\n                            popoverProps={{ minimal: true }}\r\n                        >\r\n                            <Button rightIcon=\"caret-down\" text={healthStateStr} />\r\n                        </StringSelect>\r\n                        <div className=\"pt-form-helper-text\">The duplicant's current overall health condition.</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _renderItem(effect: string | number, itemProps: IItemRendererProps) {\r\n        const {\r\n            modifiers,\r\n            handleClick\r\n        } = itemProps;\r\n\r\n        if (!modifiers.matchesPredicate) {\r\n            return null;\r\n        }\r\n\r\n        return (\r\n            <MenuItem\r\n                active={modifiers.active}\r\n                key={effect}\r\n                onClick={handleClick}\r\n                text={effect}\r\n            />\r\n        );\r\n    };\r\n\r\n    @action.bound\r\n    private _onHealthStateSelected(healthState: string) {\r\n        const { duplicant } = this.props;\r\n\r\n        const healthBehavior = duplicant.getBehavior(HealthBehavior);\r\n        if (!healthBehavior) return;\r\n\r\n        // Need to get the enum value of the display text.\r\n        const stateIndex = HEALTH_STATE_NAMES.indexOf(healthState);\r\n        if (stateIndex === -1) {\r\n            return;\r\n        }\r\n\r\n        healthBehavior.templateData.State = stateIndex;\r\n    }\r\n\r\n    @action.bound\r\n    private _onGenderSelected(gender: MinionGender) {\r\n        const { duplicant } = this.props;\r\n        const identityBehavior = duplicant.getBehavior(MinionIdentityBehavior);\r\n        if (!identityBehavior) return;\r\n        identityBehavior.templateData.gender = gender;\r\n        identityBehavior.templateData.genderStringKey = gender;\r\n    }\r\n\r\n    @action.bound\r\n    private _onVoiceSelected(voiceIdx: number) {\r\n        const { duplicant } = this.props;\r\n        const identityBehavior = duplicant.getBehavior(MinionIdentityBehavior);\r\n        if (!identityBehavior) return;\r\n        identityBehavior.templateData.voiceIdx = voiceIdx;\r\n    }\r\n\r\n    @action.bound\r\n    private _onScaleX(value: number) {\r\n        const { duplicant } = this.props;\r\n\r\n        // Negative numbers dont render; probably because sprite normal faces\r\n        //  away from game camera.\r\n        if (value === 0 || isNaN(value)) {\r\n            value = 1;\r\n        }\r\n\r\n        duplicant.scale.x = value;\r\n    }\r\n\r\n    @action.bound\r\n    private _onScaleY(value: number) {\r\n        const { duplicant } = this.props;\r\n\r\n        // Negative numbers dont render; probably because sprite normal faces\r\n        //  away from game camera.\r\n        if (value === 0 || isNaN(value)) {\r\n            value = 1;\r\n        }\r\n\r\n        duplicant.scale.y = value;\r\n    }\r\n}\r\nexport default DuplicantGeneralPage;\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { action } from \"mobx\";\r\nimport { autobind } from \"core-decorators\";\r\nimport { MinionIdentityBehavior } from \"oni-save-parser\";\r\n\r\nimport {\r\n    EditableText,\r\n    Tabs,\r\n    Tab,\r\n    NonIdealState\r\n} from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\nimport { error, FAILURE_TYPE } from \"@/logging\";\r\n\r\n\r\nexport interface DuplicantEditorProps {\r\n    className?: string;\r\n    duplicant: GameObjectModel;\r\n};\r\n\r\n\r\nimport GeneralPage from \"../../pages/General\";\r\nimport AppearancePage from \"../../pages/Appearance\";\r\nimport SkillsPage from \"../../pages/Skills\";\r\nimport TraitsPage from \"../../pages/Traits\";\r\nimport JobsPage from \"../../pages/Jobs\";\r\nimport EffectsPage from \"../../pages/Effects\";\r\n\r\n\r\ntype Props = DuplicantEditorProps;\r\ninterface State {\r\n    rename: string | null;\r\n}\r\nclass DuplicantEditor extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            rename: null\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            className,\r\n            duplicant,\r\n        } = this.props;\r\n\r\n        const {\r\n            rename\r\n        } = this.state;\r\n\r\n        const identityBehavior = duplicant.getBehavior(MinionIdentityBehavior);\r\n\r\n        if (!identityBehavior) {\r\n            error(\"Duplicant identity behavior missing\", FAILURE_TYPE.MISSING_BEHAVIOR);\r\n            return (\r\n                <NonIdealState visual={IconNames.ERROR}>\r\n                    Duplicant has no identity behavior.\r\n                </NonIdealState>\r\n            )\r\n        }\r\n        \r\n        const name = rename || identityBehavior.templateData.name;\r\n        \r\n        return (\r\n            <div className={`ui-duplicant-editor layout-vertical ${className}`}>\r\n                <div className=\"layout-item\">\r\n                    <h1 className=\"ui-title\">\r\n                        <EditableText\r\n                            value={name}\r\n                            onChange={this._onNameChange}\r\n                            onConfirm={this._onRename}\r\n                        />\r\n                    </h1> <span className=\"pt-text-muted\">(click to edit name)</span>\r\n                </div>\r\n                <div className=\"layout-item-fill\">\r\n                    <Tabs id=\"DuplicantEditCategories\" className=\"ui-category-tabs fill-parent layout-vertical\" renderActiveTabPanelOnly={true}>\r\n                        <Tab className=\"layout-item-fill\" id=\"general\" title=\"General\" panel={<GeneralPage duplicant={duplicant} />} />\r\n                        <Tab className=\"layout-item-fill\" id=\"appearance\" title=\"Appearance\" panel={<AppearancePage duplicant={duplicant} />} />\r\n                        <Tab className=\"layout-item-fill\" id=\"skills\" title=\"Skills\" panel={<SkillsPage duplicant={duplicant}/>} />\r\n                        <Tab className=\"layout-item-fill\" id=\"traits\" title=\"Traits\" panel={<TraitsPage duplicant={duplicant}/>} />\r\n                        <Tab className=\"layout-item-fill\" id=\"jobs\" title=\"Jobs\" panel={<JobsPage duplicant={duplicant}/>} />\r\n                        <Tab className=\"layout-item-fill\" id=\"effects\" title=\"Effects\" panel={<EffectsPage duplicant={duplicant}/>} />\r\n                    </Tabs>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onNameChange(str: string) {\r\n        this.setState(s => ({\r\n            ...s,\r\n            rename: str\r\n        }));\r\n    }\r\n\r\n    @action.bound\r\n    private _onRename() {\r\n        const { duplicant } = this.props;\r\n        const name = this.state.rename;\r\n        if (!name || name === \"\") return;\r\n        const identityBehavior = duplicant.getBehavior(MinionIdentityBehavior);\r\n        if (!identityBehavior) return;\r\n\r\n        identityBehavior.templateData.name = name;\r\n        this.setState(s => ({\r\n            ...s,\r\n            rename: null\r\n        }));\r\n    }\r\n}\r\nexport default DuplicantEditor;\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\\n */\\n.ui-duplicant-list {\\n  background-color: #bfccd6;\\n  height: 340px; }\\n  .ui-duplicant-list .ui-duplicant-portrait {\\n    margin: 10px;\\n    cursor: pointer; }\\n  .ui-duplicant-list .ui-duplicant-portrait.pt-active {\\n    background-color: #f29d49; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".ui-duplicant-portrait {\\n  width: 150px;\\n  height: 150px; }\\n  .ui-duplicant-portrait .ui-duplicant-name {\\n    text-align: center; }\\n  .ui-duplicant-portrait .ui-duplicant-role {\\n    text-align: center; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/index.js!../../../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\r\nimport * as React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\n\r\nimport { Card } from \"@blueprintjs/core\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { error, FAILURE_TYPE } from \"@/logging\";\r\nimport { MinionIdentityBehavior, MinionResumeBehavior } from \"oni-save-parser\";\r\n\r\nimport \"./style.scss\";\r\n\r\n\r\nexport interface DuplicantPortraitProps {\r\n    className?: string;\r\n    duplicant: GameObjectModel;\r\n    onClick?(duplicant: GameObjectModel): void;\r\n}\r\n\r\n\r\ntype Props = DuplicantPortraitProps;\r\n@observer\r\nclass DuplicantPortrait extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            className,\r\n            duplicant\r\n        } = this.props;\r\n\r\n        const identity = duplicant.getBehavior(MinionIdentityBehavior);\r\n        const resume = duplicant.getBehavior(MinionResumeBehavior);\r\n\r\n        let outerClassName = `ui-duplicant-portrait ${className}`;\r\n\r\n        let name: string;\r\n        let role: string;\r\n\r\n        if (identity) {\r\n            name = identity.templateData.name;\r\n        }\r\n        else {\r\n            error(\"Duplicant not found or identity behavior missing.\", FAILURE_TYPE.MISSING_BEHAVIOR);\r\n            name = \"[IDENTITY MISSING]\";\r\n        }\r\n\r\n        if (resume && resume.templateData.currentRole) {\r\n            role = resume.templateData.currentRole;\r\n        }\r\n        else {\r\n            error(\"resume behavior missing.\", FAILURE_TYPE.MISSING_BEHAVIOR);\r\n            role = \"[RESUME MISSING]\";\r\n        }\r\n\r\n        return (\r\n            <Card className={outerClassName} interactive={true} onClick={this._onClick}>\r\n                <h5 className=\"ui-duplicant-name\">{name}</h5>\r\n                {/* TODO render a picture.  Plenty of data in identity to do so.  Also see Accessorizer */}\r\n                <div className=\"ui-duplicant-role\">{role}</div>\r\n            </Card>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onClick() {\r\n        const {\r\n            duplicant,\r\n            onClick\r\n        } = this.props;\r\n        if (onClick) onClick(duplicant);\r\n    }\r\n}\r\nexport default DuplicantPortrait;\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { GameObjectModel } from \"@/services/save-editor\";\r\n\r\nimport DuplicantPortrait from \"../DuplicantPortrait\";\r\n\r\nimport \"./style.scss\";\r\n\r\nexport interface DuplicantsListProps {\r\n    className?: string;\r\n    duplicants: GameObjectModel[];\r\n    selectedDuplicant?: number | GameObjectModel | null;\r\n    onDuplicantClick?(duplicant: GameObjectModel): void;\r\n}\r\n\r\ntype Props = DuplicantsListProps;\r\n@observer\r\nclass DuplicantsList extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            className,\r\n            duplicants\r\n        } = this.props;\r\n\r\n        let selectedDuplicant = this.props.selectedDuplicant;\r\n        if (typeof selectedDuplicant === \"number\") {\r\n            selectedDuplicant = duplicants.find(x => x.kPrefabID === selectedDuplicant);\r\n        }\r\n\r\n        const elements = duplicants.map(x => <DuplicantPortrait key={x.kPrefabID} className={x === selectedDuplicant ? \"pt-active\" : \"\"} duplicant={x} onClick={this._onDuplicantClick} />);\r\n\r\n        return (\r\n            <div className={`${className || ''} ui-duplicant-list`}>\r\n                <div className={`fill-parent layout-horizontal layout-wrap container-scroll`}>\r\n                    {elements}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onDuplicantClick(duplicant: GameObjectModel) {\r\n        const {\r\n            onDuplicantClick\r\n        } = this.props;\r\n\r\n        if (onDuplicantClick) {\r\n            onDuplicantClick(duplicant);\r\n        }\r\n    }\r\n}\r\nexport default DuplicantsList;\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport { NonIdealState } from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\nimport { SaveEditorProps, withSaveEditor, GameObjectModel } from \"@/services/save-editor\";\r\n\r\n\r\nimport DuplicantsList from \"./components/DuplicantsList\";\r\nimport DuplicantEditor from \"./components/DuplicantEditor\";\r\n\r\n\r\ntype Props = SaveEditorProps;\r\ninterface State {\r\n    selectedDuplicant: GameObjectModel | null;\r\n}\r\nclass DuplicantsPage extends React.Component<Props, State> {\r\n    constructor(props: Props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            selectedDuplicant: null\r\n        };\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            selectedDuplicant\r\n        } = this.state;\r\n        const {\r\n            saveEditor\r\n        } = this.props;\r\n\r\n        const duplicants = saveEditor.getGameObjects(\"Minion\");\r\n\r\n        let content: React.ReactFragment;\r\n        if (selectedDuplicant != null) {\r\n            content = <DuplicantEditor className=\"fill-parent\" duplicant={selectedDuplicant}/>\r\n        }\r\n        else {\r\n            content = (\r\n                <NonIdealState visual={IconNames.MUGSHOT}>\r\n                    Select a duplicant to edit\r\n                </NonIdealState>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className=\"ui-page ui-page-duplicants fill-parent layout-vertical\">\r\n                <DuplicantsList className=\"layout-item\" duplicants={duplicants} selectedDuplicant={selectedDuplicant} onDuplicantClick={this._onDuplicantSelected} />\r\n                <div className=\"layout-item-fill\">\r\n                    {content}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onDuplicantSelected(duplicant: GameObjectModel) {\r\n        this.setState(s => ({\r\n            ...s,\r\n            selectedDuplicant: duplicant\r\n        }));\r\n    }\r\n}\r\n\r\nexport default withSaveEditor(DuplicantsPage);\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".ui-page-general {\\n  padding: 15px; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\r\nimport * as React from \"react\";\r\nimport { action } from \"mobx\";\r\nimport { observer } from \"mobx-react\";\r\nimport { NumericInput } from \"@blueprintjs/core\";\r\nimport { GameObjectBehavior } from \"oni-save-parser\";\r\n\r\nimport { SaveEditorProps, withSaveEditor, GameObjectBehaviorModel } from \"@/services/save-editor\";\r\n\r\nimport \"./style.scss\";\r\n\r\ntype Props = SaveEditorProps;\r\nclass GeneralPage extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            saveEditor\r\n        } = this.props;\r\n\r\n        const clockBehavior = this._getClockBehavior();\r\n        if (!clockBehavior) return <div>Error: No GameClock behavior present in SaveGame object.</div>;\r\n        const cycle = clockBehavior.templateData.cycle;\r\n\r\n        const immigrationBehavior = this._getImmigrationBehavior();\r\n        if (!immigrationBehavior) return <div>Error: No Immigration behavior present in SaveGame object.</div>;\r\n        const {\r\n            timeBeforeSpawn,\r\n            bImmigrantAvailable\r\n        } = immigrationBehavior.templateData;\r\n\r\n        return (\r\n            <div className=\"ui-page ui-page-general fill-parent layout-vertical\">\r\n                <div className=\"pt-form-group\">\r\n                    <label className=\"pt-label\">\r\n                        <h5>World Time</h5>\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <div className=\"pt-input-group\">\r\n                            <span>Cycles</span>\r\n                            <NumericInput min={0} value={cycle} onValueChange={this._onCycleChange} clampValueOnBlur={true} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"pt-form-group\">\r\n                    <label className=\"pt-label\">\r\n                        <h5>Duplicant Spawner</h5>\r\n                    </label>\r\n                    <div className=\"pt-form-content\">\r\n                        <div className=\"pt-input-group\">\r\n                            <span>Next Spawn</span>\r\n                            <NumericInput min={0} clampValueOnBlur={true} value={timeBeforeSpawn} onValueChange={this._nextSpawnChange} />\r\n                        </div>\r\n                        <div className=\"pt-input-group\">\r\n                            <label className=\"pt-control pt-checkbox\">\r\n                                <input type=\"checkbox\" checked={bImmigrantAvailable} onChange={this._spawnReadyChange} />\r\n                                <span className=\"pt-control-indicator\"></span>\r\n                                Spawn Ready\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    @action.bound\r\n    private _onCycleChange(cycle: number) {\r\n        const behavior = this._getClockBehavior();\r\n        if (!behavior) return;\r\n        behavior.templateData.cycle = cycle;\r\n    }\r\n\r\n    @action.bound\r\n    private _nextSpawnChange(time: number) {\r\n        const behavior = this._getImmigrationBehavior();\r\n        if (!behavior) return;\r\n        behavior.templateData.timeBeforeSpawn = time;\r\n    }\r\n\r\n    @action.bound\r\n    private _spawnReadyChange(change: React.ChangeEvent<HTMLInputElement>) {\r\n        const behavior = this._getImmigrationBehavior();\r\n        if (!behavior) return;\r\n        behavior.templateData.bImmigrantAvailable = change.target.checked;\r\n    }\r\n\r\n    private _getClockBehavior(): GameObjectBehaviorModel<GameClockBehavior> | undefined {\r\n        const { saveEditor } = this.props;\r\n        const saveGame = saveEditor.getGameObjects(\"SaveGame\")[0];\r\n        if (!saveGame) return undefined;\r\n\r\n        return saveGame.getBehavior(\"GameClock\");\r\n    }\r\n\r\n    private _getImmigrationBehavior(): GameObjectBehaviorModel<ImmigrationBehavior> | undefined {\r\n        const { saveEditor } = this.props;\r\n        const saveGame = saveEditor.getGameObjects(\"SaveGame\")[0];\r\n        if (!saveGame) return undefined;\r\n\r\n        return saveGame.getBehavior(\"Immigration\");\r\n    }\r\n}\r\n\r\nexport default withSaveEditor(GeneralPage);\r\n\r\n// TODO: move to oni-save-parser\r\ninterface GameClockBehavior extends GameObjectBehavior {\r\n    name: \"GameClock\";\r\n    parsedData: {\r\n        cycle: number;\r\n    }\r\n}\r\ninterface ImmigrationBehavior extends GameObjectBehavior {\r\n    name: \"Immigration\";\r\n    parsedData: {\r\n        timeBeforeSpawn: number;\r\n        bImmigrantAvailable: boolean;\r\n    }\r\n}","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\n\r\nimport {\r\n    NonIdealState,\r\n    Spinner,\r\n    Text\r\n} from \"@blueprintjs/core\";\r\n\r\nexport default class LoadingSaveFilePageComponent extends React.Component {\r\n    render() {\r\n        return (\r\n            <NonIdealState>\r\n                <Text>Loading File</Text>\r\n                <div>\r\n                    <Spinner large={true}/>\r\n                </div>\r\n                <Text>TODO progress here</Text>\r\n            </NonIdealState>\r\n        );\r\n    }\r\n}","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport * as React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport {\r\n    NonIdealState,\r\n    Button,\r\n    Intent\r\n} from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\n\r\nimport { SaveEditorProps, withSaveEditor } from \"@/services/save-editor\";\r\n\r\n\r\nconst saveDescription = \"Oxygen Not Included saves can be found in your documents folder under\";\r\n// TODO: Show correct path based on user's OS.\r\nconst savePath = \"Klei/OxygenNotIncluded/save_files\";\r\n\r\ntype Props = SaveEditorProps;\r\n@observer\r\nclass NoSaveLoadedPageComponent extends React.Component<Props> {\r\n    private _input: HTMLInputElement | null = null;\r\n    \r\n    render() {\r\n        return (\r\n            <NonIdealState\r\n                visual={IconNames.FLOPPY_DISK}\r\n                action={\r\n                    <Button intent={Intent.PRIMARY} onClick={this._onLoadClick}>Load a .sav file</Button>\r\n                }\r\n                description=\"No save has been loaded.\"\r\n            >\r\n                <div>{saveDescription} <code>{savePath}</code></div>\r\n                <input\r\n                    ref={el => this._input = el}\r\n                    style={{display: \"none\"}}\r\n                    className=\"pt-button pt-intent-primary\"\r\n                    type=\"file\"\r\n                    accept=\".sav\"\r\n                    onChange={this._onLoadFile}\r\n                />\r\n            </NonIdealState>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onLoadClick() {\r\n        if (!this._input) return;\r\n        this._input.click();\r\n    }\r\n\r\n    @autobind()\r\n    private _onLoadFile(change: React.ChangeEvent<HTMLInputElement>) {\r\n        const files = change.target.files;\r\n        if (!files || files.length === 0) return;\r\n        this.props.saveEditor.load(files[0]);\r\n    }\r\n}\r\nexport default withSaveEditor(NoSaveLoadedPageComponent);\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport * as React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { Switch, Route, Redirect, RouteComponentProps, withRouter } from \"react-router\";\r\n\r\nimport {\r\n    Card,\r\n    Elevation,\r\n    Menu,\r\n    MenuDivider\r\n} from \"@blueprintjs/core\";\r\n\r\nimport { withSaveEditor, SaveEditorProps } from \"@/services/save-editor\";\r\n\r\nimport NoSaveLoadedPage from \"./components/NoSaveLoaded\";\r\nimport LoadingSaveFilePage from \"./components/LoadingSaveFile\";\r\n\r\nimport GeneralPage from \"./pages/General\";\r\nimport DuplicantsPage from \"./pages/Duplicants\";\r\nimport GeysersPage from \"./pages/Geysers\";\r\n\r\nimport ErrorPage from \"../Error\";\r\nimport Error404Page from \"../404\";\r\n\r\ntype Props = SaveEditorProps & RouteComponentProps<any>;\r\n@observer\r\nclass SaveEditorPageComponent extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            saveEditor: {\r\n                loadError,\r\n                isSaveLoading,\r\n                isSaveLoaded\r\n            }\r\n        } = this.props;\r\n\r\n        let rootComponent: React.ReactChild;\r\n\r\n        if (loadError) {\r\n            // Show error screen\r\n            return <ErrorPage error={loadError} />;\r\n        }\r\n        else if (isSaveLoading) {\r\n            return <LoadingSaveFilePage />;\r\n        }\r\n        else if (!isSaveLoaded) {\r\n            return <NoSaveLoadedPage />\r\n        }\r\n\r\n        return (\r\n            <div className=\"ui-page ui-page-saveeditor fill-parent\">\r\n                <Switch>\r\n                    <Redirect exact from=\"/editor\" to=\"/editor/duplicants\" />\r\n                    <Route exact path=\"/editor/general\" component={GeneralPage} />\r\n                    <Route exact path=\"/editor/duplicants\" component={DuplicantsPage} />\r\n                    <Route exact path=\"/editor/geysers\" component={GeysersPage} />\r\n                    <Route component={Error404Page} />\r\n                </Switch>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(withSaveEditor(SaveEditorPageComponent));","\r\nimport Component from \"./component\";\r\nexport default Component;","\r\nimport * as React from \"react\";\r\nimport { NonIdealState, Spinner } from \"@blueprintjs/core\";\r\n\r\nimport { SaveEditorProps, withSaveEditor } from \"@/services/save-editor\";\r\n\r\ntype Props = SaveEditorProps;\r\nclass SavingDialog extends React.Component<Props> {\r\n    render() {\r\n        const { saveEditor } = this.props;\r\n\r\n        return (\r\n            <NonIdealState>\r\n                <div>\r\n                    <Spinner large={true} />\r\n                </div>\r\n                <div>\r\n                    Saving <code>{saveEditor.saveName}</code>\r\n                </div>\r\n            </NonIdealState>\r\n        );\r\n    }\r\n}\r\nexport default withSaveEditor(SavingDialog);","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\\n */\\n.ui-nav-menu {\\n  padding: 15px;\\n  background-color: #394b59; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\r\nimport * as React from \"react\";\r\nimport { RouteComponentProps, withRouter } from \"react-router\";\r\nimport { Link, LinkProps } from \"react-router-dom\"\r\nimport { autobind } from \"core-decorators\";\r\n\r\nexport interface ActiveAwareLinkProps extends LinkProps {\r\n    exact?: boolean;\r\n}\r\ntype Props = ActiveAwareLinkProps & RouteComponentProps<{}>;\r\nclass ActiveAwareLink extends React.Component<Props> {\r\n    render() {\r\n        const {\r\n            to,\r\n            location,\r\n            children,\r\n            onClick,\r\n            className,\r\n            exact,\r\n\r\n            // Need to strip this out of passed props\r\n            staticContext,\r\n            ...other\r\n        } = this.props\r\n        const pathName = location.pathname;\r\n        let match: boolean;\r\n        \r\n        if (exact) match = to === pathName;\r\n        else match = matchPartialPath(pathName, to.toString());\r\n\r\n        if (match) {\r\n            return <span className={`pt-active pt-intent-primary ${className || \"\"}`}>{children}</span>;\r\n        }\r\n\r\n        return <Link to={to} className={className || \"\"} {...other} onClick={this._onClick}>{children}</Link>;\r\n    }\r\n\r\n    @autobind()\r\n    private _onClick(event: React.MouseEvent<HTMLAnchorElement>) {\r\n        const {\r\n            exact,\r\n            location,\r\n            to,\r\n            onClick\r\n        } = this.props;\r\n        const pathName = location.pathname;\r\n\r\n        let match: boolean;\r\n        if (exact) match = to === pathName;\r\n        else match = matchPartialPath(pathName, to.toString());\r\n\r\n        if (match) {\r\n            event.preventDefault();\r\n            return;\r\n        }\r\n\r\n        if (onClick) {\r\n            onClick(event);\r\n        }\r\n    }\r\n}\r\nexport default withRouter(ActiveAwareLink);\r\n\r\nfunction matchPartialPath(pathName: string, to: string): boolean {\r\n    if (pathName === to) return true;\r\n\r\n    if (!pathName.startsWith(to)) return false;\r\n\r\n    // Need to make sure we matched up to a path seperator.\r\n    if (pathName[to.length] !== '/') return false;\r\n    return true;\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\nimport { autobind } from \"core-decorators\";\r\nimport { RouteComponentProps, withRouter } from \"react-router\";\r\n\r\nimport {\r\n    MenuDivider\r\n} from \"@blueprintjs/core\";\r\n\r\nimport ActiveAwareLink from \"../ActiveAwareLink\";\r\n\r\nimport { AppNavMenuProps } from \"./props\";\r\nimport { NavMenuEntry } from \"./interfaces\";\r\n\r\nimport \"./style.scss\";\r\n\r\n\r\nclass AppNavMenu extends React.Component<AppNavMenuProps & RouteComponentProps<any>> {\r\n    render() {\r\n        const {\r\n            className,\r\n            entries\r\n        } = this.props;\r\n\r\n        const links = this._renderEntries(entries);\r\n        return (\r\n            <div className={`ui-nav-menu ${className || \"\"}`}>\r\n                {links}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    private _renderEntries(entries: NavMenuEntry[], key?: any): React.ReactChild[] {\r\n        key = key ? String(key) + \"-\" : \"\";\r\n\r\n        const fragments: React.ReactChild[] = [];\r\n        let previousWasGroup = false;\r\n\r\n        entries.forEach((entry, i) => {\r\n            const rendered = this._renderEntry(entry, key + i);\r\n            if (!rendered) return;\r\n            \r\n            if (previousWasGroup) {\r\n                fragments.push(<MenuDivider key={key + (i - 1) + \"-divider\"}/>)\r\n            }\r\n\r\n            if (Array.isArray(rendered)) {\r\n                fragments.push(...rendered);\r\n                previousWasGroup = rendered.length > 0;\r\n            }\r\n            else {\r\n                fragments.push(rendered);\r\n            }\r\n        });\r\n\r\n        return fragments;\r\n    }\r\n\r\n    private _renderEntry(entry: NavMenuEntry, key: any): React.ReactChild | React.ReactChild[] {\r\n        switch(entry.type) {\r\n            case \"group\": {\r\n                const rendered = this._renderEntries(entry.entries, key);\r\n                if (entry.name) {\r\n                    rendered.unshift(\r\n                        <div key={`${key}-header`} className=\"pt-menu-header\"><h6>{entry.name}</h6></div>\r\n                    );\r\n                }\r\n                return rendered;\r\n            }\r\n            case \"link\": {\r\n                const pathName = this.props.location.pathname;\r\n                const {\r\n                    name,\r\n                    path,\r\n                    subEntries,\r\n                    collapse\r\n                } = entry;\r\n                const primaryLink = <ActiveAwareLink key={key} exact={subEntries != null} className=\"pt-menu-item\" to={path}>{name}</ActiveAwareLink>;\r\n                if (!subEntries || (collapse && !matchPartialPath(pathName, path))) {\r\n                    return primaryLink;\r\n                }\r\n                else {\r\n                    return [\r\n                        primaryLink,\r\n                        <ul key={`${key}-list`}>\r\n                            {this._renderEntries(subEntries).map((x, i) => <li key={`${key}-${i}`}>{x}</li>)}\r\n                        </ul>\r\n                    ];\r\n                }\r\n            }\r\n            default: \r\n                return throwUnknownMenuEntry(entry);\r\n        }\r\n    }\r\n}\r\nexport default withRouter(AppNavMenu);\r\n\r\nfunction throwUnknownMenuEntry(entry: never): never {\r\n    throw new Error(`Unknown entry type \"${(entry as NavMenuEntry).type}\".`);\r\n}\r\n\r\n\r\nfunction matchPartialPath(pathName: string, to: string): boolean {\r\n    if (pathName === to) return true;\r\n\r\n    if (!pathName.startsWith(to)) return false;\r\n\r\n    // Need to make sure we matched up to a path seperator.\r\n    if (pathName[to.length] !== '/') return false;\r\n    return true;\r\n}\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/*\\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\\n */\\n.pt-navbar.ui-app-navbar {\\n  background-color: #2965cc; }\\n  .pt-navbar.ui-app-navbar .pt-navbar-group .pt-button {\\n    margin: 0 4px; }\\n\\n.ui-savename-editbadge {\\n  padding-left: 5px; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/sass-loader/lib/loader.js!./style.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\r\nimport * as React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { autobind } from \"core-decorators\";\r\n\r\nimport {\r\n    Navbar,\r\n    NavbarGroup,\r\n    NavbarHeading,\r\n    EditableText,\r\n    Button,\r\n    Alignment,\r\n    Icon\r\n} from \"@blueprintjs/core\";\r\n\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\nimport { SaveEditorProps, withSaveEditor } from \"@/services/save-editor\";\r\n\r\nimport \"./style.scss\";\r\n\r\nimport { AppNavBarProps } from \"./props\";\r\n\r\ntype Props = AppNavBarProps & SaveEditorProps;\r\n@observer\r\nclass AppNavBar extends React.Component<Props> {\r\n    private _input: HTMLElement | null = null;\r\n\r\n    render() {\r\n        const {\r\n            className,\r\n            saveEditor: {\r\n                saveName,\r\n                isSaveLoaded\r\n            }\r\n        } = this.props;\r\n\r\n        return (\r\n            <Navbar className={`ui-app-navbar ${className || \"\"}`}>\r\n                <NavbarGroup>\r\n                    <NavbarHeading>ONI Save Editor</NavbarHeading>\r\n                        <EditableText\r\n                            onConfirm={this._onRename}\r\n                            disabled={!isSaveLoaded}\r\n                            placeholder={!isSaveLoaded ? \"No save loaded\" : \"Click to edit save name\"}\r\n                            value={saveName || \"\"}\r\n                        />\r\n                        {\r\n                            isSaveLoaded ?\r\n                                <span className=\"ui-savename-editbadge\">\r\n                                    <Icon\r\n                                        icon={IconNames.EDIT}\r\n                                        iconSize={10}\r\n                                        title=\"Click on the save name to edit\"\r\n                                    />\r\n                                </span>\r\n                            : undefined\r\n                        }\r\n                </NavbarGroup>\r\n                <NavbarGroup align={Alignment.RIGHT}>\r\n                    <Button icon={IconNames.UPLOAD} onClick={this._onLoadClick}>Load</Button>\r\n                    <Button icon={IconNames.FLOPPY_DISK} disabled={!isSaveLoaded} onClick={this._onSaveClick}>Save</Button>\r\n                    <input\r\n                        ref={el => this._input = el}\r\n                        style={{ display: \"none\" }}\r\n                        className=\"pt-button pt-intent-primary\"\r\n                        type=\"file\"\r\n                        accept=\".sav\"\r\n                        onChange={this._onLoadFile}\r\n                    />\r\n                </NavbarGroup>\r\n            </Navbar>\r\n        );\r\n    }\r\n\r\n    @autobind()\r\n    private _onSaveClick() {\r\n        this.props.saveEditor.save();\r\n    }\r\n\r\n    @autobind()\r\n    private _onLoadClick() {\r\n        if (!this._input) return;\r\n        this._input.click();\r\n    }\r\n\r\n    @autobind()\r\n    private _onLoadFile(change: React.ChangeEvent<HTMLInputElement>) {\r\n        const files = change.target.files;\r\n        if (!files || files.length === 0) return;\r\n        this.props.saveEditor.load(files[0]);\r\n    }\r\n\r\n    @autobind()\r\n    private _onRename(name: string) {\r\n        const { saveEditor } = this.props;\r\n        saveEditor.renameSave(name);\r\n    }\r\n}\r\nexport default withSaveEditor(AppNavBar);\r\n","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"25456369782003e7b428.worker.js\");\n};","\r\nimport { GameObjectBehaviorModel } from \"./interfaces\";\r\nimport { GameObjectBehavior } from \"oni-save-parser\";\r\nimport { typedKeys } from \"utils\";\r\nimport { observable, toJS } from \"mobx\";\r\n\r\nexport class GameObjectBehaviorModelImpl implements GameObjectBehaviorModel {\r\n    get name(): string {\r\n        return this._behavior.name;\r\n    }\r\n\r\n    @observable.deep\r\n    templateData: any | null;\r\n\r\n    constructor(private _behavior: GameObjectBehavior) {\r\n        this.templateData = _behavior.parsedData || null;\r\n    }\r\n\r\n    syncChanges() {\r\n        this._behavior.parsedData = toJS(this.templateData, {\r\n            exportMapsAsObjects: false\r\n        });\r\n    }\r\n}","\r\nimport * as React from \"react\";\r\nimport { observer, inject } from \"mobx-react\";\r\nimport { SaveEditor } from \"./interfaces\";\r\n\r\nexport * from \"./interfaces\";\r\n\r\nexport { SaveEditorImpl } from \"./save-editor\";\r\n\r\nexport interface SaveEditorProps {\r\n    saveEditor: SaveEditor;\r\n}\r\n\r\ntype Omit<T, K extends keyof T> = T extends any ? Pick<T, Exclude<keyof T, K>> : never;\r\nexport function withSaveEditor<TProps extends SaveEditorProps>(WrappedComponent: React.ComponentClass<TProps>): React.ComponentClass<Omit<TProps, \"saveEditor\">> {\r\n    @inject(\"saveEditor\")\r\n    class WithSaveEditor extends React.Component<Omit<TProps, \"saveEditor\">> {\r\n        render() {\r\n            return (\r\n                <WrappedComponent {...this.props as any} />\r\n            );\r\n        }\r\n\r\n        private _setObserver() {\r\n\r\n        }\r\n    };\r\n    return WithSaveEditor;\r\n}\r\n","\r\nimport { observable, toJS } from \"mobx\";\r\nimport { createTransformer } from \"mobx-utils\";\r\n\r\nimport {\r\n    GameObject,\r\n    Vector3,\r\n    KPrefabIDBehavior,\r\n    BehaviorName,\r\n    GameObjectBehavior\r\n} from \"oni-save-parser\";\r\n\r\nimport { GameObjectModel, GameObjectBehaviorModel } from \"./interfaces\";\r\n\r\nimport { GameObjectBehaviorModelImpl } from \"./game-object-behavior\";\r\n\r\nexport class GameObjectModelImpl implements GameObjectModel {\r\n    readonly type: string;\r\n\r\n    readonly kPrefabID: number;\r\n\r\n    @observable.deep\r\n    position: Vector3;\r\n\r\n    @observable.deep\r\n    scale: Vector3;\r\n\r\n    private _gameObject: GameObject;\r\n\r\n    private _behaviors = new Map<string, GameObjectBehaviorModelImpl[]>();\r\n\r\n    constructor(type: string, gameObject: GameObject) {\r\n        this.type = type;\r\n        this._gameObject = gameObject;\r\n\r\n        this.position = gameObject.position;\r\n        this.scale = gameObject.scale;\r\n\r\n        for (let behavior of gameObject.behaviors) {\r\n            let array = this._behaviors.get(behavior.name);\r\n            if (!array) {\r\n                array = [];\r\n                this._behaviors.set(behavior.name, array);\r\n            }\r\n            array.push(new GameObjectBehaviorModelImpl(behavior));\r\n        }\r\n\r\n        const idBehavior = this.getBehavior(KPrefabIDBehavior);\r\n        if (idBehavior) {\r\n            this.kPrefabID = idBehavior.templateData.InstanceID;\r\n        }\r\n        else {\r\n            this.kPrefabID = NaN;\r\n        }\r\n    }\r\n\r\n    // TODO: Look at why this is generating new objects every time.  Might be because the source object isnt observable?\r\n    /*\r\n    getBehavior: GameObjectModel[\"getBehavior\"] = createTransformer((behaviorName: string) => {\r\n        const behavior = this._gameObject.behaviors.find(x => x.name === behaviorName);\r\n        if (!behavior) return undefined;\r\n        return new GameObjectBehaviorModelImpl(behavior);\r\n    });\r\n    */\r\n    getBehavior<TBehavior extends GameObjectBehavior>(behaviorName: BehaviorName<TBehavior>): GameObjectBehaviorModel<TBehavior> | undefined {\r\n        const entries = this._behaviors.get(behaviorName);\r\n        if (entries) return entries[0] as any;\r\n        return undefined;\r\n    }\r\n\r\n    /*\r\n    getAllBehaviors: GameObjectModel[\"getAllBehaviors\"] = createTransformer((behaviorName: string) => {\r\n        return this._gameObject.behaviors.filter(x => x.name === behaviorName).map(x => new GameObjectBehaviorModelImpl(x));\r\n    });\r\n    */\r\n\r\n    getAllBehaviors<TBehavior extends GameObjectBehavior>(behaviorName: BehaviorName<TBehavior>): GameObjectBehaviorModel<TBehavior>[] {\r\n        return this._behaviors.get(behaviorName) || [] as any;\r\n    }\r\n\r\n    syncChanges() {\r\n        // Sigh...\r\n        this._gameObject.position.x = this.position.x;\r\n        this._gameObject.position.y = this.position.y;\r\n        this._gameObject.position.z = this.position.z;\r\n\r\n        this._gameObject.scale.x = this.scale.x;\r\n        this._gameObject.scale.y = this.scale.y;\r\n        this._gameObject.scale.z = this.scale.z;\r\n\r\n        for (let [_, values] of this._behaviors) {\r\n            values.forEach(x => x.syncChanges());\r\n        }\r\n    }\r\n}\r\n","\r\nexport function typedKeys<T>(obj: T): (keyof T)[] {\r\n    return Object.keys(obj) as any;\r\n}","\r\nimport * as React from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { Route, Redirect, Switch, RouteComponentProps, withRouter } from \"react-router\";\r\n\r\nimport {\r\n    Dialog,\r\n    Spinner,\r\n    NonIdealState\r\n} from \"@blueprintjs/core\";\r\nimport { IconNames } from \"@blueprintjs/icons\";\r\n\r\nimport DevTools from \"mobx-react-devtools\";\r\n\r\n\r\nimport { SaveEditorProps, withSaveEditor } from \"@/services/save-editor\";\r\n\r\nimport AppNavBar from \"../AppNavBar\";\r\nimport AppNavMenu from \"../AppNavMenu\";\r\nimport SavingDialog from \"../SavingDialog\";\r\n\r\nimport SaveEditorPage from \"../../pages/SaveEditor\";\r\nimport ChangelogPage from \"../../pages/Changelog\";\r\nimport Error404Page from \"../../pages/404\";\r\nimport { NavMenuEntry } from \"../AppNavMenu/interfaces\";\r\n\r\ntype Props = SaveEditorProps & RouteComponentProps<any>;\r\n@observer\r\nclass AppComponent extends React.Component<Props> {\r\n    private _input: HTMLInputElement | null = null;\r\n\r\n    render() {\r\n        const {\r\n            saveEditor: {\r\n                isSaveSaving,\r\n                saveName\r\n            }\r\n        } = this.props;\r\n\r\n        // TODO: This should be defined elsewhere, probably alongside static route configuration.\r\n        const navMenuEntries: NavMenuEntry[] = [\r\n            {\r\n                // Save Editor\r\n                type: \"link\",\r\n                path: \"/editor\",\r\n                name: \"Save Editor\",\r\n                subEntries: [\r\n                    {\r\n                        type: \"link\",\r\n                        path: \"/editor/general\",\r\n                        name: \"General\"\r\n                    },\r\n                    {\r\n                        type: \"link\",\r\n                        path: \"/editor/duplicants\",\r\n                        name: \"Duplicants\"\r\n                    },\r\n                    {\r\n                        type: \"link\",\r\n                        path: \"/editor/geysers\",\r\n                        name: \"Geysers\"\r\n                    }\r\n                ]\r\n            },\r\n            {\r\n                // Utility items\r\n                type: \"group\",\r\n                entries: [\r\n\r\n                ]\r\n            },\r\n            {\r\n                type: \"link\",\r\n                path: \"/changelog\",\r\n                name: \"Duplicity Changelog\"\r\n            }\r\n        ];\r\n\r\n        return (\r\n            <div className=\"ui-app-root pt-app pt-dark fill-parent layout-vertical\">\r\n                <AppNavBar className=\"layout-item\" />\r\n                <div className=\"layout-item-fill layout-horizontal\">\r\n                    <AppNavMenu className=\"layout-item\" entries={navMenuEntries} />\r\n                    <div className=\"layout-item-fill\">\r\n                        <Switch>\r\n                            <Route path=\"/editor\" component={SaveEditorPage} />\r\n                            <Route exact path=\"/404\" component={Error404Page} />\r\n                            <Route exact path=\"/changelog\" component={ChangelogPage} />\r\n                            <Redirect exact from=\"/\" to=\"/editor\" />\r\n                            <Route component={Error404Page} />\r\n                        </Switch>\r\n                    </div>\r\n                    {process.env.NODE_ENV === \"development\" ? <DevTools /> : undefined}\r\n                </div>\r\n                <Dialog isOpen={isSaveSaving} title=\"Saving File\" icon={IconNames.SAVED} isCloseButtonShown={false}>\r\n                    <SavingDialog />\r\n                </Dialog>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n// Need withRouter to force update.  Yes, we need one on either side of ../App.tsx\r\nexport default withRouter(withSaveEditor(AppComponent));","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n","\r\nimport * as React from \"react\";\r\n\r\nimport { hot } from \"react-hot-loader\";\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport App from \"./components/App\";\r\n\r\n// react-router wants to wrap every element we have in a new element.  Because composability!\r\n//  without wrapping this in a <Route/> from the outside, the PureComponent hot will not see\r\n//  any changes, and the broken context system is ignored.\r\n//  Every other library out their uses an external context store similar to the new react context\r\n//  pattern, but router just blames everyone else for honoring shouldComponentUpdate and says wontfix.\r\n// Might be better off removing route altogether and staying a SPA.\r\nexport default withRouter(hot(module)(App) as any);\r\n","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"html, body, #root {\\n  height: 100%;\\n  width: 100%; }\\n\\nbody {\\n  margin: 0;\\n  padding: 0; }\\n\\n.fill-parent, .fill-parent-width, .fill-parent-height {\\n  /* Fill parent to our outsides.*/\\n  box-sizing: border-box; }\\n\\n.fill-parent, .fill-parent-width {\\n  width: 100%; }\\n\\n.fill-parent, .fill-parent-height {\\n  height: 100%; }\\n\\n.layout-wrap {\\n  flex-wrap: wrap; }\\n\\n/*\\r\\n============================================================================\\r\\nHorizontal and Vertical Layouts\\r\\n============================================================================\\r\\n*/\\n/* Container for items that can fill up the available space, and optionally be constrained by it. */\\n.layout-vertical {\\n  display: flex;\\n  flex-direction: column; }\\n\\n.layout-horizontal {\\n  display: flex;\\n  flex-direction: row; }\\n\\n.layout-item, .layout-item-fill {\\n  box-sizing: border-box; }\\n\\n.layout-vertical > div, .layout-horizontal > div, .layout-vertical > .layout-item, .layout-horizontal > .layout-item {\\n  flex: none; }\\n\\n.layout-vertical > .layout-item-fill, .layout-horizontal > .layout-item-fill {\\n  flex: 1 1 auto; }\\n\\n.layout-vertical > .layout-item-constrain, .layout-horizontal > .layout-item-constrain {\\n  flex: 0 1 auto; }\\n\\n.layout-vertical > .layout-item-fill, .layout-vertical > .layout-item-constrain {\\n  /* Flex sets min-height to auto, we need to allow it to shrink down */\\n  min-height: 0;\\n  /*\\r\\n    Maintain some sort of inner css specified (vs actual?) value for height, so that \\r\\n    child elements can use height percentages and fill their parent (us)\\r\\n    */\\n  height: 100%; }\\n\\n.layout-horizontal > .layout-item-fill, .layout-horizontal > .layout-item-constrain {\\n  min-width: 0;\\n  width: 100%; }\\n\\n/*\\r\\n============================================================================\\r\\nContent Containers\\r\\n============================================================================\\r\\n*/\\n.container-scroll {\\n  overflow: auto; }\\n\\n/*\\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\\n */\\n.ui-app-root {\\n  background-color: #182026; }\\n\\n.ui-page-duplicants .ui-duplicant-editor {\\n  box-sizing: border-box;\\n  padding: 5px; }\\n  .ui-page-duplicants .ui-duplicant-editor .ui-title {\\n    display: inline-block;\\n    width: auto; }\\n\\n.ui-page-duplicants .ui-duplicant-skills .pt-html-table {\\n  width: 100%;\\n  max-height: 100%; }\\n\\n.ui-page-duplicants .ui-duplicant-effects .pt-html-table {\\n  width: 100%;\\n  max-height: 100%; }\\n\\n.ui-page-duplicants .ui-duplicant-jobs .ui-current-role, .ui-page-duplicants .ui-duplicant-jobs .ui-target-role {\\n  padding: 5px; }\\n\\n.pt-multi-select-popover .pt-menu, .pt-select-popover .pt-menu {\\n  max-width: 400px;\\n  max-height: 300px;\\n  overflow: auto; }\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./root.scss\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./root.scss\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/index.js!../../node_modules/sass-loader/lib/loader.js!./root.scss\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","\r\n import \"@blueprintjs/core/lib/css/blueprint.css\";\r\n import \"@blueprintjs/icons/lib/css/blueprint-icons.css\";\r\n\r\nimport \"./root.scss\";\r\n","\r\nimport * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport { Provider } from \"mobx-react\";\r\n\r\nimport { HashRouter } from \"react-router-dom\";\r\n\r\nimport \"./css\";\r\nimport App from \"./app\";\r\nimport { createStores } from \"./store\";\r\n\r\nconst rootEl = document.getElementById(\"root\");\r\n\r\nReactDOM.render(\r\n    <Provider {...createStores()}>\r\n        <HashRouter>\r\n            <App />\r\n        </HashRouter>\r\n    </Provider>,\r\n    rootEl\r\n);\r\n","\r\nconst failureType = {\r\n    ACTION_INVALID: \"action-invalid\" as \"action-invalid\",\r\n    SAVEFILE_CORRUPT: \"savefile-corrupt\" as \"savefile-corrupt\",\r\n    STATE_CORRUPT: \"state-corrupt\" as \"state-corrupt\",\r\n    MISSING_BEHAVIOR: \"missing-behavior\" as \"missing-behavior\"\r\n};\r\nObject.freeze(failureType);\r\nObject.seal(failureType);\r\n\r\nexport type FailureType = (typeof failureType)[keyof typeof failureType];\r\nexport const FAILURE_TYPE: Readonly<typeof failureType> = failureType;\r\n\r\n\r\nexport function warning(message: string, failureType?: FailureType) {\r\n    // TODO: Log to user console.\r\n    console.warn(`(${failureType}):`, message);\r\n}\r\n\r\nexport function error(message: string, failureType?: FailureType) {\r\n    // TODO: Log to user console.\r\n    console.error(`(${failureType}):`, message);\r\n}","\r\nimport Component from \"./component\";\r\nexport default Component;\r\n"],"sourceRoot":""}